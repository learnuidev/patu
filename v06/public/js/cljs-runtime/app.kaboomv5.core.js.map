{"version":3,"sources":["app/kaboomv5/core.cljs"],"mappings":";;;;;;;;AASA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA,AAAgB,AAAA,AAAiBC,AAGZ,AAACC,AAAAA,AAAAA;AAE3B,AAAA,AAAMC,AAAOC;AAAb,AACE,AAACC,AAAUD;;AACX,AAACE;;AACD,AAACC;;AAEH,AAAA,AAAA,AAAAC,AAAME;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAMD,AACFE;AADJ,AACQ,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAAKD;;;AADd,AAAA,AAAA,AAAMF,AAMFE,AAAGR;AANP,AAOG,AAAAU,AAAe,AAAA,AAAAE,AAAA,AAAA,AAACC,AAAQC,AAAuBN;AAA/C,AAAA,AAAAE;AAAA,AAAAA,AAASC;AAAT,AACE,AAACI,AAAWJ,AAAMX;;AADpB;;;;AAPH,AAAA,AAAA,AAAMM;;AAAN,AASA,AAOA,AAAA,AAAMU,AAAOC;AAAb,AACE,AAACC,AAAI;AAAA,AACE,AAAA,AAAAC,AAAQ,AAAA,AAAA,AAAAP,AAAMQ;AACZ,AAAA,AAACC;;AACD,AACE,AAAMb,AAAI,AAAA,AAAA,AAAAI,AAAcQ;AAAxB,AACE,AAACE,AAAgB,AAAA,AAAA,AAAAV,AAAMQ;;AACvB,AAACH,AAAAA,AAAAA;;AACD,AAACM,AAAc,AAAA,AAAA,AAAAX,AAAMQ,AAAWZ;;;;AAG/C,AAACT,AAAMH;AAEP,AAAA,AAAC4B;AACD,AAAA,AAAA,AAACC;AACD,AAAA,AAAA,AAACC;AAED,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC,AAUI,AAAQ9B;AAEjB,AAAA,AAAM+B;AAAN,AACE,AAACZ,AAAM;AAAA,AAEE,AAAM,AAAA,AAACa;AAAP,AACE,AAAA,AAACC;;AADH;;AAEA,AAAM,AAAA,AAACD;AAAP,AACE,AAAA,AAACC;;AADH;;AAEA,AAAM,AAAA,AAACD;AAAP,AACE,AAAA,AAACC;;AADH;;AAEA,AAAM,AAAA,AAACD;AAAP,AACE,AAAA,AAACC;;AADH;;AAEA,AAAM,AAACC;AAAP,AACE,AAAA,AAACD;;AADH;;AAEA,AAAM,AAACE;AAAP,AACE,AAAA,AAACF;;AADH;;;;AAMX,AAAA,AAAMG;AAAN,AACE,AAACL;;AAGH","names":["app.kaboomv5.core/config","js/document","app.kaboomv5.math.core/color","app.kaboomv5.core/init!","config","app.kaboomv5.app.core/init!","app.kaboomv5.gfx/init!","app.kaboomv5.audio/init!","var_args","G__26711","app.kaboomv5.core/play","js/Error","id","app.kaboomv5.core.play","temp__5733__auto__","sound","cljs.core/deref","cljs.core.get_in","app.kaboomv5.assets/assets","app.kaboomv5.audio.play","app.kaboomv5.core/start","f","app.kaboomv5.app.core/run","cljs.core/not","app.kaboomv5.app.state/app-state","js/console.warn","app.kaboomv5.gfx/frame-start","app.kaboomv5.gfx/frame-end","app.kaboomv5.assets.load_root","app.kaboomv5.assets.load_sprite","app.kaboomv5.assets/load-sound","app.kaboomv5.core/def-config","app.kaboomv5.core/patu","app.kaboomv5.app.core/key-pressed?","js/console.log","app.kaboomv5.app.core/mouse-down?","app.kaboomv5.app.core/mouse-clicked?","app.kaboomv5.core/app"],"sourcesContent":["(ns app.kaboomv5.core\n  (:require [app.kaboomv5.app.core :as app :refer [gl run key-pressed?]]\n            [app.kaboomv5.app.state :refer [app-state]]\n            [app.kaboomv5.assets :as assets]\n            [app.kaboomv5.math.core :as math]\n            [app.kaboomv5.audio :as audio]\n            [app.kaboomv5.gfx :as gfx]))\n\n;; 0 init\n(def config {:canvas (.getElementById js/document \"app\")\n             :full-screen? false\n             :scale 1\n             :clear-color (math/color)})\n\n(defn init! [config]\n  (app/init! config)\n  (gfx/init!)\n  (audio/init!))\n\n(defn play\n  ([id] (play id {:loop? false\n                  :volume 1\n                  :speed 1\n                  :detune 0\n                  :seek 0}))\n  ([id config]\n   (if-let [sound (get-in @assets/assets [:sounds id])]\n     (audio/play sound config))))\n(comment)\n\n;;\n#_(defn run! [f])\n    ;; Debugging Purpose\n\n\n(defn start [f]\n  (run (fn []\n         (if-not (:gl @app-state)\n           (js/console.warn \"Please run the kaboom/init! function first. You need to create a new webgl context first\")\n           (do\n             (let [id  (:program/id @app-state)]\n               (gfx/frame-start (:gl @app-state))\n               (f)\n               (gfx/frame-end (:gl @app-state) id)))))))\n\n;; === testing\n(init! config)\n;; 1 load assets\n(assets/load-root \"https://kaboomjs.com/pub/examples/\")\n(assets/load-sprite :sprite/bg, \"img/bg.png\");\n(assets/load-sound :sound/score \"sounds/score.mp3\")\n\n(def def-config\n  {:width 640\n   :height 480\n   :scale 1\n   :fullscreen? false\n   :debug? false\n   :crisp? false\n   :canvas nil\n   :connect nil\n   :logMax 8\n   :root (.-body js/document)})\n\n(defn patu []\n  (start (fn []\n           ; (js/console.log \"Hello Kaboom CLJS\")\n           (when (app/key-pressed? :left)\n             (js/console.log \"LEFT PRESSED\"))\n           (when (app/key-pressed? :right)\n             (js/console.log \"Right PRESSED\"))\n           (when (app/key-pressed? :up)\n             (js/console.log \"Up PRESSED\"))\n           (when (app/key-pressed? :down)\n             (js/console.log \"Down PRESSED\"))\n           (when (app/mouse-down?)\n             (js/console.log \"Mouse down\"))\n           (when (app/mouse-clicked?)\n             (js/console.log \"Mouse clicked\"))\n           #_(when (app/mouse-released?)\n               (js/console.log \"Mouse released\" (app/mouse-pos))))))\n          ; (gfx/sprite)))))\n\n(defn app []\n  (patu))\n\n;;\n(comment\n  (def aud (play :sound/score {:loop? true}))\n  (.detune aud 300)\n  (.pause aud)\n  (.paused aud)\n  (.speed aud 0))\n; ((:pause aud))\n"]}