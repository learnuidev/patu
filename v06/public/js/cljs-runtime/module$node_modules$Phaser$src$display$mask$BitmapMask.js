shadow$provide.module$node_modules$Phaser$src$display$mask$BitmapMask=function(global,require,module,exports){global=new (require("module$node_modules$Phaser$src$utils$Class"))({initialize:function(scene,renderable){this.renderer=scene=scene.sys.game.renderer;this.bitmapMask=renderable;this.mainTexture=this.maskTexture=null;this.dirty=!0;this.maskFramebuffer=this.mainFramebuffer=null;this.invertAlpha=!1;if(scene&&scene.gl){renderable=scene.width;var height$jscomp$0=scene.height,gl=scene.gl,wrap=0===
(renderable&renderable-1)&&0===(height$jscomp$0&height$jscomp$0-1)?gl.REPEAT:gl.CLAMP_TO_EDGE,filter$jscomp$0=gl.LINEAR;this.mainTexture=scene.createTexture2D(0,filter$jscomp$0,filter$jscomp$0,wrap,wrap,gl.RGBA,null,renderable,height$jscomp$0);this.maskTexture=scene.createTexture2D(0,filter$jscomp$0,filter$jscomp$0,wrap,wrap,gl.RGBA,null,renderable,height$jscomp$0);this.mainFramebuffer=scene.createFramebuffer(renderable,height$jscomp$0,this.mainTexture,!1);this.maskFramebuffer=scene.createFramebuffer(renderable,
height$jscomp$0,this.maskTexture,!1);scene.onContextRestored(function(renderer){var width=renderer.width,height=renderer.height,gl=renderer.gl,wrap=0===(width&width-1)&&0===(height&height-1)?gl.REPEAT:gl.CLAMP_TO_EDGE,filter=gl.LINEAR;this.mainTexture=renderer.createTexture2D(0,filter,filter,wrap,wrap,gl.RGBA,null,width,height);this.maskTexture=renderer.createTexture2D(0,filter,filter,wrap,wrap,gl.RGBA,null,width,height);this.mainFramebuffer=renderer.createFramebuffer(width,height,this.mainTexture,
!1);this.maskFramebuffer=renderer.createFramebuffer(width,height,this.maskTexture,!1)},this)}},setBitmap:function(renderable){this.bitmapMask=renderable},preRenderWebGL:function(renderer,maskedObject,camera){renderer.pipelines.BitmapMaskPipeline.beginMask(this,maskedObject,camera)},postRenderWebGL:function(renderer){renderer.pipelines.BitmapMaskPipeline.endMask(this)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var renderer=this.renderer;renderer&&
renderer.gl&&(renderer.deleteTexture(this.mainTexture),renderer.deleteTexture(this.maskTexture),renderer.deleteFramebuffer(this.mainFramebuffer),renderer.deleteFramebuffer(this.maskFramebuffer));this.renderer=this.maskFramebuffer=this.mainFramebuffer=this.maskTexture=this.mainTexture=null}});module.exports=global}
//# sourceMappingURL=module$node_modules$Phaser$src$display$mask$BitmapMask.js.map
