shadow$provide.module$node_modules$Phaser$src$gameobjects$group$Group=function(global,require,module,exports){var Actions=require("module$node_modules$Phaser$src$actions$index");global=require("module$node_modules$Phaser$src$utils$Class");var GetFastValue=require("module$node_modules$Phaser$src$utils$object$GetFastValue"),GetValue=require("module$node_modules$Phaser$src$utils$object$GetValue"),IsPlainObject=require("module$node_modules$Phaser$src$utils$object$IsPlainObject"),Range=require("module$node_modules$Phaser$src$utils$array$Range"),
Set=require("module$node_modules$Phaser$src$structs$Set"),Sprite=require("module$node_modules$Phaser$src$gameobjects$sprite$Sprite");require=new global({initialize:function(scene,children,config){config?children&&!Array.isArray(children)&&(children=[children]):Array.isArray(children)?IsPlainObject(children[0])&&(config=children,children=null):IsPlainObject(children)&&(config=children,children=null);this.scene=scene;this.children=new Set(children);this.isParent=!0;this.classType=GetFastValue(config,
"classType",Sprite);this.active=GetFastValue(config,"active",!0);this.maxSize=GetFastValue(config,"maxSize",-1);this.defaultKey=GetFastValue(config,"defaultKey",null);this.defaultFrame=GetFastValue(config,"defaultFrame",null);this.runChildUpdate=GetFastValue(config,"runChildUpdate",!1);this.createCallback=GetFastValue(config,"createCallback",null);this.removeCallback=GetFastValue(config,"removeCallback",null);this.createMultipleCallback=GetFastValue(config,"createMultipleCallback",null);config&&this.createMultiple(config)},
create:function(x,y,key,frame,visible,active){void 0===x&&(x=0);void 0===y&&(y=0);void 0===key&&(key=this.defaultKey);void 0===frame&&(frame=this.defaultFrame);void 0===visible&&(visible=!0);void 0===active&&(active=!0);if(this.isFull())return null;x=new this.classType(this.scene,x,y,key,frame);this.scene.sys.displayList.add(x);x.preUpdate&&this.scene.sys.updateList.add(x);x.visible=visible;x.setActive(active);this.add(x);return x},createMultiple:function(config){if(this.isFull())return[];Array.isArray(config)||
(config=[config]);var output=[];if(config[0].key)for(var i=0;i<config.length;i++){var entries=this.createFromConfig(config[i]);output=output.concat(entries)}return output},createFromConfig:function(options){if(this.isFull())return[];this.classType=GetFastValue(options,"classType",this.classType);var key=GetFastValue(options,"key",void 0),frame=GetFastValue(options,"frame",null),visible=GetFastValue(options,"visible",!0),active=GetFastValue(options,"active",!0),entries=[];if(void 0===key)return entries;
Array.isArray(key)||(key=[key]);Array.isArray(frame)||(frame=[frame]);var repeat=GetFastValue(options,"repeat",0),randomKey=GetFastValue(options,"randomKey",!1),randomFrame=GetFastValue(options,"randomFrame",!1),yoyo=GetFastValue(options,"yoyo",!1),quantity=GetFastValue(options,"frameQuantity",1),max=GetFastValue(options,"max",0);key=Range(key,frame,{max:max,qty:quantity,random:randomKey,randomB:randomFrame,repeat:repeat,yoyo:yoyo});for(frame=0;frame<key.length;frame++){repeat=this.create(0,0,key[frame].a,
key[frame].b,visible,active);if(!repeat)break;entries.push(repeat)}visible=GetValue(options,"setXY.x",0);active=GetValue(options,"setXY.y",0);key=GetValue(options,"setXY.stepX",0);frame=GetValue(options,"setXY.stepY",0);Actions.SetXY(entries,visible,active,key,frame);visible=GetValue(options,"setRotation.value",0);active=GetValue(options,"setRotation.step",0);Actions.SetRotation(entries,visible,active);visible=GetValue(options,"setScale.x",1);active=GetValue(options,"setScale.y",visible);key=GetValue(options,
"setScale.stepX",0);frame=GetValue(options,"setScale.stepY",0);Actions.SetScale(entries,visible,active,key,frame);visible=GetValue(options,"setAlpha.value",1);active=GetValue(options,"setAlpha.step",0);Actions.SetAlpha(entries,visible,active);visible=GetFastValue(options,"hitArea",null);active=GetFastValue(options,"hitAreaCallback",null);visible&&Actions.SetHitArea(entries,visible,active);(options=GetFastValue(options,"gridAlign",!1))&&Actions.GridAlign(entries,options);this.createMultipleCallback&&
this.createMultipleCallback.call(this,entries);return entries},preUpdate:function(time,delta){if(this.runChildUpdate&&0!==this.children.size)for(var temp=this.children.entries.slice(),i=0;i<temp.length;i++){var item=temp[i];item.active&&item.update(time,delta)}},add:function(child,addToScene){void 0===addToScene&&(addToScene=!1);if(this.isFull())return this;this.children.set(child);this.createCallback&&this.createCallback.call(this,child);addToScene&&(this.scene.sys.displayList.add(child),child.preUpdate&&
this.scene.sys.updateList.add(child));child.on("destroy",this.remove,this);return this},addMultiple:function(children,addToScene){void 0===addToScene&&(addToScene=!1);if(Array.isArray(children))for(var i=0;i<children.length;i++)this.add(children[i],addToScene);return this},remove:function(child,removeFromScene,destroyChild){void 0===removeFromScene&&(removeFromScene=!1);void 0===destroyChild&&(destroyChild=!1);if(!this.children.contains(child))return this;this.children.delete(child);this.removeCallback&&
this.removeCallback.call(this,child);child.off("destroy",this.remove,this);destroyChild?child.destroy():removeFromScene&&(child.scene.sys.displayList.remove(child),child.preUpdate&&child.scene.sys.updateList.remove(child));return this},clear:function(removeFromScene,destroyChild){void 0===removeFromScene&&(removeFromScene=!1);void 0===destroyChild&&(destroyChild=!1);for(var children=this.children,i=0;i<children.size;i++){var gameObject=children.entries[i];gameObject.off("destroy",this.remove,this);
destroyChild?gameObject.destroy():removeFromScene&&(gameObject.scene.sys.displayList.remove(gameObject),gameObject.preUpdate&&gameObject.scene.sys.updateList.remove(gameObject))}this.children.clear();return this},contains:function(child){return this.children.contains(child)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(state,createIfNull,x,y,key,frame,visible){return this.getHandler(!0,1,state,createIfNull,x,y,key,frame,visible)},
getFirstNth:function(nth,state,createIfNull,x,y,key,frame,visible){return this.getHandler(!0,nth,state,createIfNull,x,y,key,frame,visible)},getLast:function(state,createIfNull,x,y,key,frame,visible){return this.getHandler(!1,1,state,createIfNull,x,y,key,frame,visible)},getLastNth:function(nth,state,createIfNull,x,y,key,frame,visible){return this.getHandler(!1,nth,state,createIfNull,x,y,key,frame,visible)},getHandler:function(forwards,nth,state,createIfNull,x,y,key,frame,visible){void 0===state&&(state=
!1);void 0===createIfNull&&(createIfNull=!1);var total=0,children=this.children.entries;if(forwards)for(forwards=0;forwards<children.length;forwards++){var gameObject=children[forwards];if(gameObject.active===state){if(total++,total===nth)break}else gameObject=null}else for(forwards=children.length-1;0<=forwards;forwards--)if(gameObject=children[forwards],gameObject.active===state){if(total++,total===nth)break}else gameObject=null;return gameObject?("number"===typeof x&&(gameObject.x=x),"number"===
typeof y&&(gameObject.y=y),gameObject):createIfNull?this.create(x,y,key,frame,visible):null},get:function(x,y,key,frame,visible){return this.getFirst(!1,!0,x,y,key,frame,visible)},getFirstAlive:function(createIfNull,x,y,key,frame,visible){return this.getFirst(!0,createIfNull,x,y,key,frame,visible)},getFirstDead:function(createIfNull,x,y,key,frame,visible){return this.getFirst(!1,createIfNull,x,y,key,frame,visible)},playAnimation:function(key,startFrame){Actions.PlayAnimation(this.children.entries,
key,startFrame);return this},isFull:function(){return-1===this.maxSize?!1:this.children.size>=this.maxSize},countActive:function(value){void 0===value&&(value=!0);for(var total=0,i=0;i<this.children.size;i++)this.children.entries[i].active===value&&total++;return total},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var used=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-used},setDepth:function(value,step){Actions.SetDepth(this.children.entries,
value,step);return this},kill:function(gameObject){this.children.contains(gameObject)&&gameObject.setActive(!1)},killAndHide:function(gameObject){this.children.contains(gameObject)&&(gameObject.setActive(!1),gameObject.setVisible(!1))},toggleVisible:function(){Actions.ToggleVisible(this.children.entries);return this},destroy:function(destroyChildren){void 0===destroyChildren&&(destroyChildren=!1);if(this.scene&&!this.ignoreDestroy){if(destroyChildren){destroyChildren=this.children;for(var i=0;i<destroyChildren.size;i++){var gameObject=
destroyChildren.entries[i];gameObject.off("destroy",this.remove,this);gameObject.destroy()}}this.children.clear();this.children=this.scene=void 0}}});module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$gameobjects$group$Group.js.map
