shadow$provide.module$node_modules$intl_messageformat$src$formatters=function(global,require,module,exports){function mergeLiteral(parts){return 2>parts.length?parts:parts.reduce(function(all,part){var lastPart=all[all.length-1];lastPart&&0===lastPart.type&&0===part.type?lastPart.value+=part.value:all.push(part);return all},[])}function isFormatXMLElementFn(el){return"function"===typeof el}function formatToParts(els,locales,formatters,formats,values,currentPluralValue,originalMessage){if(1===els.length&&
intl_messageformat_parser_1.isLiteralElement(els[0]))return[{type:0,value:els[0].value}];for(var result=[],_i=0;_i<els.length;_i++){var el=els[_i];if(intl_messageformat_parser_1.isLiteralElement(el))result.push({type:0,value:el.value});else if(intl_messageformat_parser_1.isPoundElement(el))"number"===typeof currentPluralValue&&result.push({type:0,value:formatters.getNumberFormat(locales).format(currentPluralValue)});else{var varName=el.value;if(!(values&&varName in values))throw new error_1.MissingValueError(varName,
originalMessage);varName=values[varName];if(intl_messageformat_parser_1.isArgumentElement(el))varName&&"string"!==typeof varName&&"number"!==typeof varName||(varName="string"===typeof varName||"number"===typeof varName?String(varName):""),result.push({type:"string"===typeof varName?0:1,value:varName});else if(intl_messageformat_parser_1.isDateElement(el))el="string"===typeof el.style?formats.date[el.style]:intl_messageformat_parser_1.isDateTimeSkeleton(el.style)?el.style.parsedOptions:void 0,result.push({type:0,
value:formatters.getDateTimeFormat(locales,el).format(varName)});else if(intl_messageformat_parser_1.isTimeElement(el))el="string"===typeof el.style?formats.time[el.style]:intl_messageformat_parser_1.isDateTimeSkeleton(el.style)?el.style.parsedOptions:void 0,result.push({type:0,value:formatters.getDateTimeFormat(locales,el).format(varName)});else if(intl_messageformat_parser_1.isNumberElement(el))(el="string"===typeof el.style?formats.number[el.style]:intl_messageformat_parser_1.isNumberSkeleton(el.style)?
el.style.parsedOptions:void 0)&&el.scale&&(varName*=el.scale||1),result.push({type:0,value:formatters.getNumberFormat(locales,el).format(varName)});else{if(intl_messageformat_parser_1.isTagElement(el)){var children=el.children,value_1=el.value,formatFn=values[value_1];if(!isFormatXMLElementFn(formatFn))throw new error_1.InvalidValueTypeError(value_1,"function",originalMessage);children=formatToParts(children,locales,formatters,formats,values,currentPluralValue);formatFn=formatFn(children.map(function(p){return p.value}));
Array.isArray(formatFn)||(formatFn=[formatFn]);result.push.apply(result,formatFn.map(function(c){return{type:"string"===typeof c?0:1,value:c}}))}if(intl_messageformat_parser_1.isSelectElement(el)){formatFn=el.options[varName]||el.options.other;if(!formatFn)throw new error_1.InvalidValueError(el.value,varName,Object.keys(el.options),originalMessage);result.push.apply(result,formatToParts(formatFn.value,locales,formatters,formats,values))}else if(intl_messageformat_parser_1.isPluralElement(el)){formatFn=
el.options["\x3d"+varName];if(!formatFn){if(!Intl.PluralRules)throw new error_1.FormatError('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',"MISSING_INTL_API",originalMessage);formatFn=formatters.getPluralRules(locales,{type:el.pluralType}).select(varName-(el.offset||0));formatFn=el.options[formatFn]||el.options.other}if(!formatFn)throw new error_1.InvalidValueError(el.value,varName,Object.keys(el.options),originalMessage);result.push.apply(result,
formatToParts(formatFn.value,locales,formatters,formats,values,varName-(el.offset||0)))}}}}return mergeLiteral(result)}Object.defineProperty(exports,"__esModule",{value:!0});exports.formatToParts=exports.isFormatXMLElementFn=exports.PART_TYPE=void 0;var intl_messageformat_parser_1=require("module$node_modules$intl_messageformat_parser$index"),error_1=require("module$node_modules$intl_messageformat$src$error");(function(PART_TYPE){PART_TYPE[PART_TYPE.literal=0]="literal";PART_TYPE[PART_TYPE.object=
1]="object"})(exports.PART_TYPE||(exports.PART_TYPE={}));exports.isFormatXMLElementFn=isFormatXMLElementFn;exports.formatToParts=formatToParts}
//# sourceMappingURL=module$node_modules$intl_messageformat$src$formatters.js.map
