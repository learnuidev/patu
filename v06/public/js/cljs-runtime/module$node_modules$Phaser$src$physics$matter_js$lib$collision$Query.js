shadow$provide.module$node_modules$Phaser$src$physics$matter_js$lib$collision$Query=function(global,require,module,exports){var Query={};module.exports=Query;var Vector=require("module$node_modules$Phaser$src$physics$matter_js$lib$geometry$Vector"),SAT=require("module$node_modules$Phaser$src$physics$matter_js$lib$collision$SAT"),Bounds=require("module$node_modules$Phaser$src$physics$matter_js$lib$geometry$Bounds"),Bodies=require("module$node_modules$Phaser$src$physics$matter_js$lib$factory$Bodies"),
Vertices=require("module$node_modules$Phaser$src$physics$matter_js$lib$geometry$Vertices");(function(){Query.collides=function(body,bodies){for(var collisions=[],i=0;i<bodies.length;i++){var bodyA=bodies[i];if(Bounds.overlaps(bodyA.bounds,body.bounds))for(var j=1===bodyA.parts.length?0:1;j<bodyA.parts.length;j++){var part=bodyA.parts[j];if(Bounds.overlaps(part.bounds,body.bounds)&&(part=SAT.collides(part,body),part.collided)){collisions.push(part);break}}}return collisions};Query.ray=function(bodies,
startPoint,endPoint,rayWidth){rayWidth=rayWidth||1E-100;var rayAngle=Vector.angle(startPoint,endPoint),rayLength=Vector.magnitude(Vector.sub(startPoint,endPoint));startPoint=Bodies.rectangle(.5*(endPoint.x+startPoint.x),.5*(endPoint.y+startPoint.y),rayLength,rayWidth,{angle:rayAngle});bodies=Query.collides(startPoint,bodies);for(startPoint=0;startPoint<bodies.length;startPoint+=1)endPoint=bodies[startPoint],endPoint.body=endPoint.bodyB=endPoint.bodyA;return bodies};Query.region=function(bodies,bounds,
outside){for(var result=[],i=0;i<bodies.length;i++){var body=bodies[i],overlaps=Bounds.overlaps(body.bounds,bounds);(overlaps&&!outside||!overlaps&&outside)&&result.push(body)}return result};Query.point=function(bodies,point){for(var result=[],i=0;i<bodies.length;i++){var body=bodies[i];if(Bounds.contains(body.bounds,point))for(var j=1===body.parts.length?0:1;j<body.parts.length;j++){var part=body.parts[j];if(Bounds.contains(part.bounds,point)&&Vertices.contains(part.vertices,point)){result.push(body);
break}}}return result}})()}
//# sourceMappingURL=module$node_modules$Phaser$src$physics$matter_js$lib$collision$Query.js.map
