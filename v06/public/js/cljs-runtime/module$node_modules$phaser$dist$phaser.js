shadow$provide.module$node_modules$Phaser$dist$phaser=function(global$jscomp$0,require,module,exports){(function(root,factory){"object"===typeof exports&&"object"===typeof module?module.exports=factory():"function"===typeof define&&define.amd?define("Phaser",[],factory):"object"===typeof exports?exports.Phaser=factory():root.Phaser=factory()})(window,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=
installedModules[moduleId]={i:moduleId,l:!1,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=!0;return module.exports}var installedModules={};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})};__webpack_require__.r=function(exports){"undefined"!==typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});Object.defineProperty(exports,"__esModule",{value:!0})};__webpack_require__.t=function(value,mode){mode&1&&(value=__webpack_require__(value));if(mode&8||mode&4&&"object"===typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:!0,value:value});if(mode&2&&"string"!=typeof value)for(var key$jscomp$0 in value)__webpack_require__.d(ns,key$jscomp$0,
function(key){return value[key]}.bind(null,key$jscomp$0));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=1497)}([function(module,exports){function extend(ctor,
definition,isClassDescriptor,extend){for(var k in definition)if(definition.hasOwnProperty(k)){var def;var def$jscomp$0=(def=isClassDescriptor)?definition[k]:Object.getOwnPropertyDescriptor(definition,k);!def&&def$jscomp$0.value&&"object"===typeof def$jscomp$0.value&&(def$jscomp$0=def$jscomp$0.value);def$jscomp$0&&(def$jscomp$0.get&&"function"===typeof def$jscomp$0.get||def$jscomp$0.set&&"function"===typeof def$jscomp$0.set)?("undefined"===typeof def$jscomp$0.enumerable&&(def$jscomp$0.enumerable=!0),
"undefined"===typeof def$jscomp$0.configurable&&(def$jscomp$0.configurable=!0),def=def$jscomp$0):def=!1;if(!1!==def){(def$jscomp$0=Object.getOwnPropertyDescriptor((extend||ctor).prototype,k))?(def$jscomp$0.value&&"object"===typeof def$jscomp$0.value&&(def$jscomp$0=def$jscomp$0.value),def$jscomp$0=!1===def$jscomp$0.configurable?!0:!1):def$jscomp$0=!1;if(def$jscomp$0){if(Class.ignoreFinals)continue;throw Error("cannot override final property '"+k+"', set Class.ignoreFinals \x3d true to skip");}Object.defineProperty(ctor.prototype,
k,def)}else ctor.prototype[k]=definition[k]}}function mixin(myClass,mixins){if(mixins){Array.isArray(mixins)||(mixins=[mixins]);for(var i=0;i<mixins.length;i++)extend(myClass,mixins[i].prototype||mixins[i])}}function Class(definition){definition||(definition={});if(definition.initialize){if("function"!==typeof definition.initialize)throw Error("initialize must be a function");var initialize=definition.initialize;delete definition.initialize}else if(definition.Extends){var base=definition.Extends;
initialize=function(){base.apply(this,arguments)}}else initialize=function(){};if(definition.Extends){initialize.prototype=Object.create(definition.Extends.prototype);initialize.prototype.constructor=initialize;var Extends=definition.Extends;delete definition.Extends}else initialize.prototype.constructor=initialize;var mixins=null;definition.Mixins&&(mixins=definition.Mixins,delete definition.Mixins);mixin(initialize,mixins);extend(initialize,definition,!0,Extends);return initialize}Class.extend=
extend;Class.mixin=mixin;Class.ignoreFinals=!1;module.exports=Class},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(source,key,defaultValue){var t=typeof source;return source&&"number"!==t&&"string"!==t?source.hasOwnProperty(key)&&void 0!==source[key]?source[key]:defaultValue:defaultValue}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FuzzyEqual=__webpack_require__(123),Vector2=new exports({initialize:function(x,
y){this.y=this.x=0;"object"===typeof x?(this.x=x.x||0,this.y=x.y||0):(void 0===y&&(y=x),this.x=x||0,this.y=y||0)},clone:function(){return new Vector2(this.x,this.y)},copy:function(src){this.x=src.x||0;this.y=src.y||0;return this},setFromObject:function(obj){this.x=obj.x||0;this.y=obj.y||0;return this},set:function(x,y){void 0===y&&(y=x);this.x=x;this.y=y;return this},setTo:function(x,y){return this.set(x,y)},setToPolar:function(azimuth,radius){null==radius&&(radius=1);this.x=Math.cos(azimuth)*radius;
this.y=Math.sin(azimuth)*radius;return this},equals:function(v){return this.x===v.x&&this.y===v.y},fuzzyEquals:function(v,epsilon){return FuzzyEqual(this.x,v.x,epsilon)&&FuzzyEqual(this.y,v.y,epsilon)},angle:function(){var angle=Math.atan2(this.y,this.x);0>angle&&(angle+=2*Math.PI);return angle},setAngle:function(angle){return this.setToPolar(angle,this.length())},add:function(src){this.x+=src.x;this.y+=src.y;return this},subtract:function(src){this.x-=src.x;this.y-=src.y;return this},multiply:function(src){this.x*=
src.x;this.y*=src.y;return this},scale:function(value){isFinite(value)?(this.x*=value,this.y*=value):this.y=this.x=0;return this},divide:function(src){this.x/=src.x;this.y/=src.y;return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},distance:function(src){var dx=src.x-this.x;src=src.y-this.y;return Math.sqrt(dx*dx+src*src)},distanceSq:function(src){var dx=src.x-this.x;src=src.y-this.y;return dx*dx+src*src},length:function(){var x=this.x,y=this.y;return Math.sqrt(x*x+y*y)},setLength:function(length){return this.normalize().scale(length)},
lengthSq:function(){var x=this.x,y=this.y;return x*x+y*y},normalize:function(){var x=this.x,y=this.y,len=x*x+y*y;0<len&&(len=1/Math.sqrt(len),this.x=x*len,this.y=y*len);return this},normalizeRightHand:function(){var x=this.x;this.x=-1*this.y;this.y=x;return this},normalizeLeftHand:function(){var x=this.x;this.x=this.y;this.y=-1*x;return this},dot:function(src){return this.x*src.x+this.y*src.y},cross:function(src){return this.x*src.y-this.y*src.x},lerp:function(src,t){void 0===t&&(t=0);var ax=this.x,
ay=this.y;this.x=ax+t*(src.x-ax);this.y=ay+t*(src.y-ay);return this},transformMat3:function(mat){var x=this.x,y=this.y;mat=mat.val;this.x=mat[0]*x+mat[3]*y+mat[6];this.y=mat[1]*x+mat[4]*y+mat[7];return this},transformMat4:function(mat){var x=this.x,y=this.y;mat=mat.val;this.x=mat[0]*x+mat[4]*y+mat[12];this.y=mat[1]*x+mat[5]*y+mat[13];return this},reset:function(){this.y=this.x=0;return this},limit:function(max){var len=this.length();len&&len>max&&this.scale(max/len);return this},reflect:function(normal){normal=
normal.clone().normalize();return this.subtract(normal.scale(2*this.dot(normal)))},mirror:function(axis){return this.reflect(axis).negate()},rotate:function(delta){var cos=Math.cos(delta);delta=Math.sin(delta);return this.set(cos*this.x-delta*this.y,delta*this.x+cos*this.y)}});Vector2.ZERO=new Vector2;Vector2.RIGHT=new Vector2(1,0);Vector2.LEFT=new Vector2(-1,0);Vector2.UP=new Vector2(0,-1);Vector2.DOWN=new Vector2(0,1);Vector2.ONE=new Vector2(1,1);module.exports=Vector2},function(module,exports,
__webpack_require__){exports=__webpack_require__(0);var GEOM_CONST=__webpack_require__(55);__webpack_require__=new exports({initialize:function(x,y){void 0===x&&(x=0);void 0===y&&(y=x);this.type=GEOM_CONST.POINT;this.x=x;this.y=y},setTo:function(x,y){void 0===x&&(x=0);void 0===y&&(y=x);this.x=x;this.y=y;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var PluginCache=__webpack_require__(24),SceneEvents=__webpack_require__(21),
GameObjectFactory=new exports({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.events=scene.sys.events;this.events.once(SceneEvents.BOOT,this.boot,this);this.events.on(SceneEvents.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList;this.updateList=this.systems.updateList;this.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},existing:function(child){(child.renderCanvas||
child.renderWebGL)&&this.displayList.add(child);child.preUpdate&&this.updateList.add(child);return child},shutdown:function(){this.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(SceneEvents.START,this.start,this);this.updateList=this.displayList=this.events=this.systems=this.scene=null}});GameObjectFactory.register=function(factoryType,factoryFunction){GameObjectFactory.prototype.hasOwnProperty(factoryType)||(GameObjectFactory.prototype[factoryType]=
factoryFunction)};GameObjectFactory.remove=function(factoryType){GameObjectFactory.prototype.hasOwnProperty(factoryType)&&delete GameObjectFactory.prototype[factoryType]};PluginCache.register("GameObjectFactory",GameObjectFactory,"add");module.exports=GameObjectFactory},function(module,exports){module.exports=function(source,key,defaultValue){if(source&&"number"!==typeof source){if(source.hasOwnProperty(key))return source[key];if(-1!==key.indexOf(".")){key=key.split(".");for(var value=defaultValue,
i=0;i<key.length;i++)if(source.hasOwnProperty(key[i]))value=source[key[i]],source=source[key[i]];else{value=defaultValue;break}return value}}return defaultValue}},function(module,exports){module.exports=function(obj){if("object"!==typeof obj||obj.nodeType||obj===obj.window)return!1;try{if(obj.constructor&&!{}.hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}},function(module,exports){var types={};module.exports={install:function(loader){for(var key in types)loader[key]=
types[key]},register:function(key,factoryFunction){types[key]=factoryFunction},destroy:function(){types={}}}},function(module,exports,__webpack_require__){function Events(){}function EE(fn,context,once){this.fn=fn;this.context=context;this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!==typeof fn)throw new TypeError("The listener must be a function");fn=new EE(fn,context||emitter,once);event=prefix?prefix+event:event;emitter._events[event]?emitter._events[event].fn?
emitter._events[event]=[emitter._events[event],fn]:emitter._events[event].push(fn):(emitter._events[event]=fn,emitter._eventsCount++);return emitter}function clearEvent(emitter,evt){0===--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events;this._eventsCount=0}var has=Object.prototype.hasOwnProperty,prefix="~";Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1));EventEmitter.prototype.eventNames=
function(){var names=[],events,name;if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names};EventEmitter.prototype.listeners=function(event){event=this._events[prefix?prefix+event:event];if(!event)return[];if(event.fn)return[event.fn];for(var i=0,l=event.length,ee=Array(l);i<l;i++)ee[i]=event[i].fn;return ee};EventEmitter.prototype.listenerCount=
function(event){return(event=this._events[prefix?prefix+event:event])?event.fn?1:event.length:0};EventEmitter.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;evt=this._events[evt];var len=arguments.length,args;if(evt.fn){evt.once&&this.removeListener(event,evt.fn,void 0,!0);switch(len){case 1:return evt.fn.call(evt.context),!0;case 2:return evt.fn.call(evt.context,a1),!0;case 3:return evt.fn.call(evt.context,a1,a2),!0;case 4:return evt.fn.call(evt.context,
a1,a2,a3),!0;case 5:return evt.fn.call(evt.context,a1,a2,a3,a4),!0;case 6:return evt.fn.call(evt.context,a1,a2,a3,a4,a5),!0}var i=1;for(args=Array(len-1);i<len;i++)args[i-1]=arguments[i];evt.fn.apply(evt.context,args)}else{var length=evt.length;for(i=0;i<length;i++)switch(evt[i].once&&this.removeListener(event,evt[i].fn,void 0,!0),len){case 1:evt[i].fn.call(evt[i].context);break;case 2:evt[i].fn.call(evt[i].context,a1);break;case 3:evt[i].fn.call(evt[i].context,a1,a2);break;case 4:evt[i].fn.call(evt[i].context,
a1,a2,a3);break;default:if(!args){var j=1;for(args=Array(len-1);j<len;j++)args[j-1]=arguments[j]}evt[i].fn.apply(evt[i].context,args)}}return!0};EventEmitter.prototype.on=function(event,fn,context){return addListener(this,event,fn,context,!1)};EventEmitter.prototype.once=function(event,fn,context){return addListener(this,event,fn,context,!0)};EventEmitter.prototype.removeListener=function(event,fn,context,once){event=prefix?prefix+event:event;if(!this._events[event])return this;if(!fn)return clearEvent(this,
event),this;var listeners=this._events[event];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,event);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[event]=1===events.length?events[0]:events:clearEvent(this,event)}return this};EventEmitter.prototype.removeAllListeners=function(event){event?
(event=prefix?prefix+event:event,this._events[event]&&clearEvent(this,event)):(this._events=new Events,this._eventsCount=0);return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.addListener=EventEmitter.prototype.on;EventEmitter.prefixed=prefix;EventEmitter.EventEmitter=EventEmitter;module.exports=EventEmitter},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Contains=__webpack_require__(56),GetPoint=__webpack_require__(167),
GetPoints=__webpack_require__(300),GEOM_CONST=__webpack_require__(55),Line=__webpack_require__(45),Random=__webpack_require__(170);__webpack_require__=new exports({initialize:function(x,y,width,height){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=0);void 0===height&&(height=0);this.type=GEOM_CONST.RECTANGLE;this.x=x;this.y=y;this.width=width;this.height=height},contains:function(x,y){return Contains(this,x,y)},getPoint:function(position,output){return GetPoint(this,position,output)},
getPoints:function(quantity,stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;return this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(x,y){void 0===y&&(y=x);this.x=x;this.y=y;return this},setSize:function(width,height){void 0===height&&(height=width);this.width=width;this.height=height;return this},isEmpty:function(){return 0>=
this.width||0>=this.height},getLineA:function(line){void 0===line&&(line=new Line);line.setTo(this.x,this.y,this.right,this.y);return line},getLineB:function(line){void 0===line&&(line=new Line);line.setTo(this.right,this.y,this.right,this.bottom);return line},getLineC:function(line){void 0===line&&(line=new Line);line.setTo(this.right,this.bottom,this.x,this.bottom);return line},getLineD:function(line){void 0===line&&(line=new Line);line.setTo(this.x,this.bottom,this.x,this.y);return line},left:{get:function(){return this.x},
set:function(value){this.width=value>=this.right?0:this.right-value;this.x=value}},right:{get:function(){return this.x+this.width},set:function(value){this.width=value<=this.x?0:value-this.x}},top:{get:function(){return this.y},set:function(value){this.height=value>=this.bottom?0:this.bottom-value;this.y=value}},bottom:{get:function(){return this.y+this.height},set:function(value){this.height=value<=this.y?0:value-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(value){this.x=
value-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(value){this.y=value-this.height/2}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={Alpha:__webpack_require__(605),AlphaSingle:__webpack_require__(297),BlendMode:__webpack_require__(298),ComputedSize:__webpack_require__(606),Crop:__webpack_require__(607),Depth:__webpack_require__(299),Flip:__webpack_require__(608),GetBounds:__webpack_require__(609),Mask:__webpack_require__(303),
Origin:__webpack_require__(630),PathFollower:__webpack_require__(631),Pipeline:__webpack_require__(171),ScrollFactor:__webpack_require__(306),Size:__webpack_require__(632),Texture:__webpack_require__(633),TextureCrop:__webpack_require__(634),Tint:__webpack_require__(635),ToJSON:__webpack_require__(173),Transform:__webpack_require__(307),TransformMatrix:__webpack_require__(25),Visible:__webpack_require__(308)}},function(module,exports){function GenerateSrc(maxIfs){for(var src="",i=0;i<maxIfs;++i)0<
i&&(src+="\nelse "),i<maxIfs-1&&(src+="if(test \x3d\x3d "+i+".0){}");return src}module.exports={getTintFromFloats:function(r,g,b,a){return(((255*a|0)&255)<<24|((255*r|0)&255)<<16|((255*g|0)&255)<<8|(255*b|0)&255)>>>0},getTintAppendFloatAlpha:function(rgb,a){return(((255*a|0)&255)<<24|rgb)>>>0},getTintAppendFloatAlphaAndSwap:function(rgb,a){return(((255*a|0)&255)<<24|((rgb|0)&255)<<16|((rgb>>8|0)&255)<<8|(rgb>>16|0)&255)>>>0},getFloatsFromUintRGB:function(rgb){return[((rgb>>16|0)&255)/255,((rgb>>8|
0)&255)/255,((rgb|0)&255)/255]},checkShaderMax:function(gl,maxTextures){maxTextures&&-1!==maxTextures||(maxTextures=gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));for(var shader=gl.createShader(gl.FRAGMENT_SHADER);;){var fragmentSrc="precision mediump float;\nvoid main(void){\nfloat test \x3d 0.1;\n%forloop%\ngl_FragColor \x3d vec4(0.0);\n}".replace(/%forloop%/gi,GenerateSrc(maxTextures));gl.shaderSource(shader,fragmentSrc);gl.compileShader(shader);if(gl.getShaderParameter(shader,gl.COMPILE_STATUS))break;
else maxTextures=maxTextures/2|0}return maxTextures},parseFragmentShaderMaxTextures:function(fragmentShaderSource,maxTextures){if(!fragmentShaderSource)return"";for(var src="",i=0;i<maxTextures;i++)0<i&&(src+="\n\telse "),i<maxTextures-1&&(src+="if (outTexId \x3c "+i+".5)"),src+="\n\t{",src+="\n\t\ttexture \x3d texture2D(uMainSampler["+i+"], outTexCoord);",src+="\n\t}";fragmentShaderSource=fragmentShaderSource.replace(/%count%/gi,maxTextures.toString());return fragmentShaderSource.replace(/%forloop%/gi,
src)}}},function(module,exports,__webpack_require__){var MATH=__webpack_require__(190),GetValue=__webpack_require__(6);module.exports=function(source,key,defaultValue){source=GetValue(source,key,null);if(null===source)return defaultValue;if(Array.isArray(source))return MATH.RND.pick(source);if("object"===typeof source){if(source.hasOwnProperty("randInt"))return MATH.RND.integerInRange(source.randInt[0],source.randInt[1]);if(source.hasOwnProperty("randFloat"))return MATH.RND.realInRange(source.randFloat[0],
source.randFloat[1])}else if("function"===typeof source)return source(key);return source}},function(module,exports){module.exports={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1E-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var ComponentsToJSON=__webpack_require__(173),DataManager=__webpack_require__(98),
EventEmitter=__webpack_require__(9),Events=__webpack_require__(75),GameObject=new exports({Extends:EventEmitter,initialize:function(scene,type){EventEmitter.call(this);this.scene=scene;this.displayList=null;this.type=type;this.state=0;this.parentContainer=null;this.name="";this.active=!0;this.tabIndex=-1;this.data=null;this.renderFlags=15;this.cameraFilter=0;this.body=this.input=null;this.ignoreDestroy=!1;this.on(Events.ADDED_TO_SCENE,this.addedToScene,this);this.on(Events.REMOVED_FROM_SCENE,this.removedFromScene,
this);scene.sys.queueDepthSort()},setActive:function(value){this.active=value;return this},setName:function(value){this.name=value;return this},setState:function(value){this.state=value;return this},setDataEnabled:function(){this.data||(this.data=new DataManager(this));return this},setData:function(key,value){this.data||(this.data=new DataManager(this));this.data.set(key,value);return this},incData:function(key,value){this.data||(this.data=new DataManager(this));this.data.inc(key,value);return this},
toggleData:function(key){this.data||(this.data=new DataManager(this));this.data.toggle(key);return this},getData:function(key){this.data||(this.data=new DataManager(this));return this.data.get(key)},setInteractive:function(hitArea,hitAreaCallback,dropZone){this.scene.sys.input.enable(this,hitArea,hitAreaCallback,dropZone);return this},disableInteractive:function(){this.input&&(this.input.enabled=!1);return this},removeInteractive:function(){this.scene.sys.input.clear(this);this.input=void 0;return this},
addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return ComponentsToJSON(this)},willRender:function(camera){return!(GameObject.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&camera.id)},getIndexList:function(){for(var child=this,parent=this.parentContainer,indexes=[];parent;)if(indexes.unshift(parent.getIndex(child)),child=parent,parent.parentContainer)parent=parent.parentContainer;else break;this.displayList?indexes.unshift(this.displayList.getIndex(child)):
indexes.unshift(this.scene.sys.displayList.getIndex(child));return indexes},destroy:function(){this.scene&&!this.ignoreDestroy&&(this.preDestroy&&this.preDestroy.call(this),this.emit(Events.DESTROY,this),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.displayList&&(this.displayList.queueDepthSort(),this.displayList.remove(this)),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),
this.body=void 0),this.visible=this.active=!1,this.parentContainer=this.displayList=this.scene=void 0)}});GameObject.RENDER_MASK=15;module.exports=GameObject},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var PluginCache=__webpack_require__(24),SceneEvents=__webpack_require__(21),GameObjectCreator=new exports({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.events=scene.sys.events;this.events.once(SceneEvents.BOOT,this.boot,this);this.events.on(SceneEvents.START,
this.start,this)},boot:function(){this.displayList=this.systems.displayList;this.updateList=this.systems.updateList;this.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(SceneEvents.START,this.start,this);this.updateList=this.displayList=this.events=this.systems=this.scene=null}});GameObjectCreator.register=
function(factoryType,factoryFunction){GameObjectCreator.prototype.hasOwnProperty(factoryType)||(GameObjectCreator.prototype[factoryType]=factoryFunction)};GameObjectCreator.remove=function(factoryType){GameObjectCreator.prototype.hasOwnProperty(factoryType)&&delete GameObjectCreator.prototype[factoryType]};PluginCache.register("GameObjectCreator",GameObjectCreator,"make");module.exports=GameObjectCreator},function(module,exports,__webpack_require__){var IsPlainObject=__webpack_require__(7),Extend=
function(){var options,name,copyIsArray,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;"boolean"===typeof target&&(deep=target,target=arguments[1]||{},i=2);length===i&&(target=this,--i);for(;i<length;i++)if(null!=(options=arguments[i]))for(name in options){var src=target[name];var copy=options[name];target!==copy&&(deep&&copy&&(IsPlainObject(copy)||(copyIsArray=Array.isArray(copy)))?(copyIsArray?(copyIsArray=!1,src=src&&Array.isArray(src)?src:[]):src=src&&IsPlainObject(src)?src:{},target[name]=
Extend(deep,src,copy)):void 0!==copy&&(target[name]=copy))}return target};module.exports=Extend},function(module,exports){module.exports=function(value,min,max){return Math.max(min,Math.min(max,value))}},function(module,exports,__webpack_require__){exports=__webpack_require__(25);var tempMatrix1=new exports,tempMatrix2=new exports,tempMatrix3=new exports,result={camera:tempMatrix1,sprite:tempMatrix2,calc:tempMatrix3};module.exports=function(src,camera,parentMatrix){tempMatrix2.applyITRS(src.x,src.y,
src.rotation,src.scaleX,src.scaleY);tempMatrix1.copyFrom(camera.matrix);parentMatrix?(tempMatrix1.multiplyWithOffset(parentMatrix,-camera.scrollX*src.scrollFactorX,-camera.scrollY*src.scrollFactorY),tempMatrix2.e=src.x,tempMatrix2.f=src.y):(tempMatrix2.e-=camera.scrollX*src.scrollFactorX,tempMatrix2.f-=camera.scrollY*src.scrollFactorY);tempMatrix1.multiply(tempMatrix2,tempMatrix3);return result}},function(module,exports){module.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,
LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(module,exports,__webpack_require__){module.exports={ADDED_TO_SCENE:__webpack_require__(782),BOOT:__webpack_require__(783),CREATE:__webpack_require__(784),DESTROY:__webpack_require__(785),PAUSE:__webpack_require__(786),POST_UPDATE:__webpack_require__(787),PRE_UPDATE:__webpack_require__(788),READY:__webpack_require__(789),
REMOVED_FROM_SCENE:__webpack_require__(790),RENDER:__webpack_require__(791),RESUME:__webpack_require__(792),SHUTDOWN:__webpack_require__(793),SLEEP:__webpack_require__(794),START:__webpack_require__(795),TRANSITION_COMPLETE:__webpack_require__(796),TRANSITION_INIT:__webpack_require__(797),TRANSITION_OUT:__webpack_require__(798),TRANSITION_START:__webpack_require__(799),TRANSITION_WAKE:__webpack_require__(800),UPDATE:__webpack_require__(801),WAKE:__webpack_require__(802)}},function(module,exports,
__webpack_require__){module.exports={BLUR:__webpack_require__(610),BOOT:__webpack_require__(611),CONTEXT_LOST:__webpack_require__(612),CONTEXT_RESTORED:__webpack_require__(613),DESTROY:__webpack_require__(614),FOCUS:__webpack_require__(615),HIDDEN:__webpack_require__(616),PAUSE:__webpack_require__(617),POST_RENDER:__webpack_require__(618),POST_STEP:__webpack_require__(619),PRE_RENDER:__webpack_require__(620),PRE_STEP:__webpack_require__(621),READY:__webpack_require__(622),RESUME:__webpack_require__(623),
STEP:__webpack_require__(624),VISIBLE:__webpack_require__(625)}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),Events=__webpack_require__(91),GetFastValue=__webpack_require__(2),GetURL=__webpack_require__(153),MergeXHRSettings=__webpack_require__(237),XHRLoader=__webpack_require__(511),XHRSettings=__webpack_require__(154);__webpack_require__=new exports({initialize:function(loader,fileConfig){this.loader=loader;this.cache=GetFastValue(fileConfig,
"cache",!1);this.type=GetFastValue(fileConfig,"type",!1);var loadKey=this.key=GetFastValue(fileConfig,"key",!1);loader.prefix&&""!==loader.prefix&&(this.key=loader.prefix+loadKey);if(!this.type||!this.key)throw Error("Invalid Loader."+this.type+" key");var url=GetFastValue(fileConfig,"url");void 0===url?url=loader.path+loadKey+"."+GetFastValue(fileConfig,"extension",""):"string"!==typeof url||url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)||(url=loader.path+url);this.url=url;this.src="";this.xhrSettings=
XHRSettings(GetFastValue(fileConfig,"responseType",void 0));GetFastValue(fileConfig,"xhrSettings",!1)&&(this.xhrSettings=MergeXHRSettings(this.xhrSettings,GetFastValue(fileConfig,"xhrSettings",{})));this.xhrLoader=null;this.state="function"===typeof this.url?CONST.FILE_POPULATED:CONST.FILE_PENDING;this.bytesTotal=0;this.percentComplete=this.bytesLoaded=-1;this.data=this.crossOrigin=void 0;this.config=GetFastValue(fileConfig,"config",{})},setLink:function(fileB){this.linkFile=fileB;fileB.linkFile=
this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===CONST.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=CONST.FILE_LOADING,this.src=GetURL(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=XHRLoader(this,this.loader.xhr))},onLoad:function(xhr,event){var localFileOk=xhr.responseURL&&0===xhr.responseURL.indexOf("file://")&&
0===event.target.status;event=!(event.target&&200!==event.target.status)||localFileOk;4===xhr.readyState&&400<=xhr.status&&599>=xhr.status&&(event=!1);this.state=CONST.FILE_LOADED;this.resetXHR();this.loader.nextFile(this,event)},onError:function(){this.resetXHR();this.loader.nextFile(this,!1)},onProgress:function(event){event.lengthComputable&&(this.bytesLoaded=event.loaded,this.bytesTotal=event.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(Events.FILE_PROGRESS,
this,this.percentComplete))},onProcess:function(){this.state=CONST.FILE_PROCESSING;this.onProcessComplete()},onProcessComplete:function(){this.state=CONST.FILE_COMPLETE;if(this.multiFile)this.multiFile.onFileComplete(this);this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=CONST.FILE_ERRORED;if(this.multiFile)this.multiFile.onFileFailed(this);this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&
this.cache.add(this.key,this.data);this.pendingDestroy()},pendingDestroy:function(data){void 0===data&&(data=this.data);var key=this.key,type=this.type;this.loader.emit(Events.FILE_COMPLETE,key,type,data);this.loader.emit(Events.FILE_KEY_COMPLETE+type+"-"+key,key,type,data);this.loader.flagForRemoval(this)},destroy:function(){this.data=this.linkFile=this.multiFile=this.xhrSettings=this.cache=this.loader=null}});__webpack_require__.createObjectURL=function(image,blob,defaultType){if("function"===typeof URL)image.src=
URL.createObjectURL(blob);else{var reader=new FileReader;reader.onload=function(){image.removeAttribute("crossOrigin");image.src="data:"+(blob.type||defaultType)+";base64,"+reader.result.split(",")[1]};reader.onerror=image.onerror;reader.readAsDataURL(blob)}};__webpack_require__.revokeObjectURL=function(image){"function"===typeof URL&&URL.revokeObjectURL(image.src)};module.exports=__webpack_require__},function(module,exports){var corePlugins={},customPlugins={};module.exports={register:function(key,
plugin,mapping,custom){void 0===custom&&(custom=!1);corePlugins[key]={plugin:plugin,mapping:mapping,custom:custom}},registerCustom:function(key,plugin,mapping,data){customPlugins[key]={plugin:plugin,mapping:mapping,data:data}},hasCore:function(key){return corePlugins.hasOwnProperty(key)},hasCustom:function(key){return customPlugins.hasOwnProperty(key)},getCore:function(key){return corePlugins[key]},getCustom:function(key){return customPlugins[key]},getCustomClass:function(key){return customPlugins.hasOwnProperty(key)?
customPlugins[key].plugin:null},remove:function(key){corePlugins.hasOwnProperty(key)&&delete corePlugins[key]},removeCustom:function(key){customPlugins.hasOwnProperty(key)&&delete customPlugins[key]},destroyCorePlugins:function(){for(var key in corePlugins)corePlugins.hasOwnProperty(key)&&delete corePlugins[key]},destroyCustomPlugins:function(){for(var key in customPlugins)customPlugins.hasOwnProperty(key)&&delete customPlugins[key]}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var MATH_CONST=__webpack_require__(14),Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(a,b,c,d,tx,ty){void 0===a&&(a=1);void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=1);void 0===tx&&(tx=0);void 0===ty&&(ty=0);this.matrix=new Float32Array([a,b,c,d,tx,ty,0,0,1]);this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(value){this.matrix[0]=value}},b:{get:function(){return this.matrix[1]},
set:function(value){this.matrix[1]=value}},c:{get:function(){return this.matrix[2]},set:function(value){this.matrix[2]=value}},d:{get:function(){return this.matrix[3]},set:function(value){this.matrix[3]=value}},e:{get:function(){return this.matrix[4]},set:function(value){this.matrix[4]=value}},f:{get:function(){return this.matrix[5]},set:function(value){this.matrix[5]=value}},tx:{get:function(){return this.matrix[4]},set:function(value){this.matrix[4]=value}},ty:{get:function(){return this.matrix[5]},
set:function(value){this.matrix[5]=value}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(0>Math.atan(-this.c/this.a)?-1:1)}},rotationNormalized:{get:function(){var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2];matrix=matrix[3];return a||b?0<b?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):c||matrix?MATH_CONST.TAU-(0<matrix?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*
this.c+this.d*this.d)}},loadIdentity:function(){var matrix=this.matrix;matrix[0]=1;matrix[1]=0;matrix[2]=0;matrix[3]=1;matrix[4]=0;matrix[5]=0;return this},translate:function(x,y){var matrix=this.matrix;matrix[4]=matrix[0]*x+matrix[2]*y+matrix[4];matrix[5]=matrix[1]*x+matrix[3]*y+matrix[5];return this},scale:function(x,y){var matrix=this.matrix;matrix[0]*=x;matrix[1]*=x;matrix[2]*=y;matrix[3]*=y;return this},rotate:function(angle){var sin=Math.sin(angle);angle=Math.cos(angle);var matrix=this.matrix,
a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3];matrix[0]=a*angle+c*sin;matrix[1]=b*angle+d*sin;matrix[2]=a*-sin+c*angle;matrix[3]=b*-sin+d*angle;return this},multiply:function(rhs,out){var matrix=this.matrix,source=rhs.matrix;rhs=matrix[0];var localB=matrix[1],localC=matrix[2],localD=matrix[3],localE=matrix[4];matrix=matrix[5];var sourceA=source[0],sourceB=source[1],sourceC=source[2],sourceD=source[3],sourceE=source[4];source=source[5];out=void 0===out?this:out;out.a=sourceA*rhs+sourceB*localC;out.b=
sourceA*localB+sourceB*localD;out.c=sourceC*rhs+sourceD*localC;out.d=sourceC*localB+sourceD*localD;out.e=sourceE*rhs+source*localC+localE;out.f=sourceE*localB+source*localD+matrix;return out},multiplyWithOffset:function(src,offsetX,offsetY){var matrix=this.matrix,otherMatrix=src.matrix;src=matrix[0];var b0=matrix[1],c0=matrix[2],d0=matrix[3],tx0=matrix[4],ty0=matrix[5],a1=otherMatrix[0],b1=otherMatrix[1],c1=otherMatrix[2],d1=otherMatrix[3],tx1=otherMatrix[4];otherMatrix=otherMatrix[5];matrix[0]=a1*
src+b1*c0;matrix[1]=a1*b0+b1*d0;matrix[2]=c1*src+d1*c0;matrix[3]=c1*b0+d1*d0;matrix[4]=tx1*src+otherMatrix*c0+(offsetX*src+offsetY*c0+tx0);matrix[5]=tx1*b0+otherMatrix*d0+(offsetX*b0+offsetY*d0+ty0);return this},transform:function(a,b,c,d,tx,ty){var matrix=this.matrix,a0=matrix[0],b0=matrix[1],c0=matrix[2],d0=matrix[3],tx0=matrix[4],ty0=matrix[5];matrix[0]=a*a0+b*c0;matrix[1]=a*b0+b*d0;matrix[2]=c*a0+d*c0;matrix[3]=c*b0+d*d0;matrix[4]=tx*a0+ty*c0+tx0;matrix[5]=tx*b0+ty*d0+ty0;return this},transformPoint:function(x,
y,point){void 0===point&&(point={x:0,y:0});var matrix=this.matrix,b=matrix[1],d=matrix[3],ty=matrix[5];point.x=x*matrix[0]+y*matrix[2]+matrix[4];point.y=x*b+y*d+ty;return point},invert:function(){var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4],ty=matrix[5],n=a*d-b*c;matrix[0]=d/n;matrix[1]=-b/n;matrix[2]=-c/n;matrix[3]=a/n;matrix[4]=(c*ty-d*tx)/n;matrix[5]=-(a*ty-b*tx)/n;return this},copyFrom:function(src){var matrix=this.matrix;matrix[0]=src.a;matrix[1]=src.b;
matrix[2]=src.c;matrix[3]=src.d;matrix[4]=src.e;matrix[5]=src.f;return this},copyFromArray:function(src){var matrix=this.matrix;matrix[0]=src[0];matrix[1]=src[1];matrix[2]=src[2];matrix[3]=src[3];matrix[4]=src[4];matrix[5]=src[5];return this},copyToContext:function(ctx){var matrix=this.matrix;ctx.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]);return ctx},setToContext:function(ctx){var matrix=this.matrix;ctx.setTransform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]);
return ctx},copyToArray:function(out){var matrix=this.matrix;void 0===out?out=[matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]]:(out[0]=matrix[0],out[1]=matrix[1],out[2]=matrix[2],out[3]=matrix[3],out[4]=matrix[4],out[5]=matrix[5]);return out},setTransform:function(a,b,c,d,tx,ty){var matrix=this.matrix;matrix[0]=a;matrix[1]=b;matrix[2]=c;matrix[3]=d;matrix[4]=tx;matrix[5]=ty;return this},decomposeMatrix:function(){var decomposedMatrix=this.decomposedMatrix,matrix=this.matrix,a=matrix[0],
b=matrix[1],c=matrix[2],d=matrix[3],determ=a*d-b*c;decomposedMatrix.translateX=matrix[4];decomposedMatrix.translateY=matrix[5];a||b?(c=Math.sqrt(a*a+b*b),decomposedMatrix.rotation=0<b?Math.acos(a/c):-Math.acos(a/c),decomposedMatrix.scaleX=c,decomposedMatrix.scaleY=determ/c):c||d?(a=Math.sqrt(c*c+d*d),decomposedMatrix.rotation=.5*Math.PI-(0<d?Math.acos(-c/a):-Math.acos(c/a)),decomposedMatrix.scaleX=determ/a,decomposedMatrix.scaleY=a):(decomposedMatrix.rotation=0,decomposedMatrix.scaleX=0,decomposedMatrix.scaleY=
0);return decomposedMatrix},applyITRS:function(x,y,rotation,scaleX,scaleY){var matrix=this.matrix,radianSin=Math.sin(rotation);rotation=Math.cos(rotation);matrix[4]=x;matrix[5]=y;matrix[0]=rotation*scaleX;matrix[1]=radianSin*scaleX;matrix[2]=-radianSin*scaleY;matrix[3]=rotation*scaleY;return this},applyInverse:function(x,y,output){void 0===output&&(output=new Vector2);var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4];matrix=matrix[5];var id=1/(a*d+c*-b);output.x=
d*id*x+-c*id*y+(matrix*c-tx*d)*id;output.y=a*id*y+-b*id*x+(-matrix*a+tx*b)*id;return output},getX:function(x,y){return x*this.a+y*this.c+this.e},getY:function(x,y){return x*this.b+y*this.d+this.f},getXRound:function(x,y,round){x=this.getX(x,y);round&&(x=Math.round(x));return x},getYRound:function(x,y,round){x=this.getY(x,y);round&&(x=Math.round(x));return x},getCSSMatrix:function(){var m=this.matrix;return"matrix("+m[0]+","+m[1]+","+m[2]+","+m[3]+","+m[4]+","+m[5]+")"},destroy:function(){this.decomposedMatrix=
this.matrix=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var GetFastValue=__webpack_require__(2);module.exports=function(tileX,tileY,width,height,filteringOptions,layer){void 0===tileX&&(tileX=0);void 0===tileY&&(tileY=0);void 0===width&&(width=layer.width);void 0===height&&(height=layer.height);filteringOptions||(filteringOptions={});var isNotEmpty=GetFastValue(filteringOptions,"isNotEmpty",!1),isColliding=GetFastValue(filteringOptions,"isColliding",!1);
filteringOptions=GetFastValue(filteringOptions,"hasInterestingFace",!1);0>tileX&&(width+=tileX,tileX=0);0>tileY&&(height+=tileY,tileY=0);tileX+width>layer.width&&(width=Math.max(layer.width-tileX,0));tileY+height>layer.height&&(height=Math.max(layer.height-tileY,0));for(var results=[],ty=tileY;ty<tileY+height;ty++)for(var tx=tileX;tx<tileX+width;tx++){var tile=layer.data[ty][tx];null===tile||isNotEmpty&&-1===tile.index||!(isColliding&&!tile.collides||filteringOptions&&!tile.hasInterestingFace)&&results.push(tile)}return results}},
function(module,exports){module.exports=function(items,key,value,step,index,direction){void 0===step&&(step=0);void 0===index&&(index=0);void 0===direction&&(direction=1);var t=0,end=items.length;if(1===direction)for(;index<end;index++)items[index][key]=value+t*step,t++;else for(;0<=index;index--)items[index][key]=value+t*step,t++;return items}},function(module,exports,__webpack_require__){var BlendModes=__webpack_require__(34),GetAdvancedValue=__webpack_require__(13);module.exports=function(scene,
gameObject,config){gameObject.x=GetAdvancedValue(config,"x",0);gameObject.y=GetAdvancedValue(config,"y",0);gameObject.depth=GetAdvancedValue(config,"depth",0);gameObject.flipX=GetAdvancedValue(config,"flipX",!1);gameObject.flipY=GetAdvancedValue(config,"flipY",!1);var scale=GetAdvancedValue(config,"scale",null);"number"===typeof scale?gameObject.setScale(scale):null!==scale&&(gameObject.scaleX=GetAdvancedValue(scale,"x",1),gameObject.scaleY=GetAdvancedValue(scale,"y",1));scale=GetAdvancedValue(config,
"scrollFactor",null);"number"===typeof scale?gameObject.setScrollFactor(scale):null!==scale&&(gameObject.scrollFactorX=GetAdvancedValue(scale,"x",1),gameObject.scrollFactorY=GetAdvancedValue(scale,"y",1));gameObject.rotation=GetAdvancedValue(config,"rotation",0);scale=GetAdvancedValue(config,"angle",null);null!==scale&&(gameObject.angle=scale);gameObject.alpha=GetAdvancedValue(config,"alpha",1);var origin=GetAdvancedValue(config,"origin",null);"number"===typeof origin?gameObject.setOrigin(origin):
null!==origin&&(scale=GetAdvancedValue(origin,"x",.5),origin=GetAdvancedValue(origin,"y",.5),gameObject.setOrigin(scale,origin));gameObject.blendMode=GetAdvancedValue(config,"blendMode",BlendModes.NORMAL);gameObject.visible=GetAdvancedValue(config,"visible",!0);GetAdvancedValue(config,"add",!0)&&scene.sys.displayList.add(gameObject);gameObject.preUpdate&&scene.sys.updateList.add(gameObject);return gameObject}},function(module,exports){module.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},
function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19);module.exports=function(renderer,ctx,src,camera,parentMatrix){var alpha=camera.alpha*src.alpha;if(0>=alpha)return!1;camera=GetCalcMatrix(src,camera,parentMatrix).calc;ctx.globalCompositeOperation=renderer.blendModes[src.blendMode];ctx.globalAlpha=alpha;ctx.save();camera.setToContext(ctx);ctx.imageSmoothingEnabled=!(!renderer.antialias||src.frame&&src.frame.source.scaleMode);return!0}},function(module,exports,__webpack_require__){var CONST=
__webpack_require__(32),Smoothing=__webpack_require__(189),pool=[],_disableContextSmoothing=!1;module.exports=function(){var create=function(parent,width,height,canvasType,selfParent){void 0===width&&(width=1);void 0===height&&(height=1);void 0===canvasType&&(canvasType=CONST.CANVAS);void 0===selfParent&&(selfParent=!1);var container=first(canvasType);null===container?(container={parent:parent,canvas:document.createElement("canvas"),type:canvasType},canvasType===CONST.CANVAS&&pool.push(container)):
container.parent=parent;parent=container.canvas;selfParent&&(container.parent=parent);parent.width=width;parent.height=height;_disableContextSmoothing&&canvasType===CONST.CANVAS&&Smoothing.disable(parent.getContext("2d"));return parent},first=function(canvasType){void 0===canvasType&&(canvasType=CONST.CANVAS);if(canvasType===CONST.WEBGL)return null;for(var i=0;i<pool.length;i++){var container=pool[i];if(!container.parent&&container.type===canvasType)return container}return null},total=function(){var c=
0;pool.forEach(function(container){container.parent&&c++});return c};return{create2D:function(parent,width,height){return create(parent,width,height,CONST.CANVAS)},create:create,createWebGL:function(parent,width,height){return create(parent,width,height,CONST.WEBGL)},disableSmoothing:function(){_disableContextSmoothing=!0},enableSmoothing:function(){_disableContextSmoothing=!1},first:first,free:function(){return pool.length-total()},pool:pool,remove:function(parent){var isCanvas=parent instanceof
HTMLCanvasElement;pool.forEach(function(container){if(isCanvas&&container.canvas===parent||!isCanvas&&container.parent===parent)container.parent=null,container.canvas.width=1,container.canvas.height=1})},total:total}}()},function(module,exports,__webpack_require__){exports={VERSION:"3.52.0",BlendModes:__webpack_require__(34),ScaleModes:__webpack_require__(164),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};module.exports=exports},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15),Line=__webpack_require__(45),PIPELINES_CONST=__webpack_require__(65);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.ScrollFactor,Components.Transform,Components.Visible],initialize:function(scene,type,data){void 0===type&&(type="Shape");GameObject.call(this,
scene,type);this.geom=data;this.pathData=[];this.pathIndexes=[];this.fillColor=16777215;this.fillAlpha=1;this.strokeColor=16777215;this.lineWidth=this.strokeAlpha=1;this.isStroked=this.isFilled=!1;this.closePath=!0;this._tempLine=new Line;this.height=this.width=0;this.initPipeline(PIPELINES_CONST.GRAPHICS_PIPELINE)},setFillStyle:function(color,alpha){void 0===alpha&&(alpha=1);void 0===color?this.isFilled=!1:(this.fillColor=color,this.fillAlpha=alpha,this.isFilled=!0);return this},setStrokeStyle:function(lineWidth,
color,alpha){void 0===alpha&&(alpha=1);void 0===lineWidth?this.isStroked=!1:(this.lineWidth=lineWidth,this.strokeColor=color,this.strokeAlpha=alpha,this.isStroked=!0);return this},setClosePath:function(value){this.closePath=value;return this},setSize:function(width,height){this.width=width;this.height=height;return this},preDestroy:function(){this._tempLine=this.geom=null;this.pathData=[];this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(value){this.scaleX=
value/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(value){this.scaleY=value/this.height}}});module.exports=__webpack_require__},function(module,exports){module.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,
DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(14);module.exports=function(degrees){return degrees*CONST.DEG_TO_RAD}},function(module,exports,__webpack_require__){module.exports={DESTROY:__webpack_require__(719),FADE_IN_COMPLETE:__webpack_require__(720),FADE_IN_START:__webpack_require__(721),FADE_OUT_COMPLETE:__webpack_require__(722),FADE_OUT_START:__webpack_require__(723),FLASH_COMPLETE:__webpack_require__(724),
FLASH_START:__webpack_require__(725),FOLLOW_UPDATE:__webpack_require__(726),PAN_COMPLETE:__webpack_require__(727),PAN_START:__webpack_require__(728),POST_RENDER:__webpack_require__(729),PRE_RENDER:__webpack_require__(730),ROTATE_COMPLETE:__webpack_require__(731),ROTATE_START:__webpack_require__(732),SHAKE_COMPLETE:__webpack_require__(733),SHAKE_START:__webpack_require__(734),ZOOM_COMPLETE:__webpack_require__(735),ZOOM_START:__webpack_require__(736)}},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var GetColor=__webpack_require__(100),GetColor32=__webpack_require__(322),HSVToRGB=__webpack_require__(185),RGBToHSV=__webpack_require__(323),Color=new exports({initialize:function(red,green,blue,alpha){void 0===red&&(red=0);void 0===green&&(green=0);void 0===blue&&(blue=0);void 0===alpha&&(alpha=255);this.b=this.g=this.r=0;this.a=255;this._v=this._s=this._h=0;this._locked=!1;this.gl=[0,0,0,1];this._color32=this._color=0;this._rgba="";this.setTo(red,green,blue,alpha)},transparent:function(){this._locked=
!0;this.alpha=this.blue=this.green=this.red=0;this._locked=!1;return this.update(!0)},setTo:function(red,green,blue,alpha,updateHSV){void 0===alpha&&(alpha=255);void 0===updateHSV&&(updateHSV=!0);this._locked=!0;this.red=red;this.green=green;this.blue=blue;this.alpha=alpha;this._locked=!1;return this.update(updateHSV)},setGLTo:function(red,green,blue,alpha){void 0===alpha&&(alpha=1);this.redGL=red;this.greenGL=green;this.blueGL=blue;this.alphaGL=alpha;this._locked=!1;return this.update(!0)},setFromRGB:function(color){this._locked=
!0;this.red=color.r;this.green=color.g;this.blue=color.b;color.hasOwnProperty("a")&&(this.alpha=color.a);this._locked=!1;return this.update(!0)},setFromHSV:function(h,s,v){return HSVToRGB(h,s,v,this)},update:function(updateHSV){void 0===updateHSV&&(updateHSV=!1);if(this._locked)return this;var r=this.r,g=this.g,b=this.b,a=this.a;this._color=GetColor(r,g,b);this._color32=GetColor32(r,g,b,a);this._rgba="rgba("+r+","+g+","+b+","+a/255+")";updateHSV&&RGBToHSV(r,g,b,this);return this},updateHSV:function(){RGBToHSV(this.r,
this.g,this.b,this);return this},clone:function(){return new Color(this.r,this.g,this.b,this.a)},gray:function(shade){return this.setTo(shade,shade,shade)},random:function(min,max){void 0===min&&(min=0);void 0===max&&(max=255);return this.setTo(Math.floor(min+Math.random()*(max-min)),Math.floor(min+Math.random()*(max-min)),Math.floor(min+Math.random()*(max-min)))},randomGray:function(min,max){void 0===min&&(min=0);void 0===max&&(max=255);min=Math.floor(min+Math.random()*(max-min));return this.setTo(min,
min,min)},saturate:function(amount){this.s+=amount/100;return this},desaturate:function(amount){this.s-=amount/100;return this},lighten:function(amount){this.v+=amount/100;return this},darken:function(amount){this.v-=amount/100;return this},brighten:function(amount){var r=this.r,g=this.g,b=this.b;r=Math.max(0,Math.min(255,r-Math.round(255*-(amount/100))));g=Math.max(0,Math.min(255,g-Math.round(255*-(amount/100))));b=Math.max(0,Math.min(255,b-Math.round(255*-(amount/100))));return this.setTo(r,g,b)},
color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(value){this.gl[0]=Math.min(Math.abs(value),1);this.r=Math.floor(255*this.gl[0]);this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(value){this.gl[1]=Math.min(Math.abs(value),1);this.g=Math.floor(255*this.gl[1]);this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(value){this.gl[2]=
Math.min(Math.abs(value),1);this.b=Math.floor(255*this.gl[2]);this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(value){this.gl[3]=Math.min(Math.abs(value),1);this.a=Math.floor(255*this.gl[3]);this.update()}},red:{get:function(){return this.r},set:function(value){value=Math.floor(Math.abs(value));this.r=Math.min(value,255);this.gl[0]=value/255;this.update(!0)}},green:{get:function(){return this.g},set:function(value){value=Math.floor(Math.abs(value));this.g=Math.min(value,255);
this.gl[1]=value/255;this.update(!0)}},blue:{get:function(){return this.b},set:function(value){value=Math.floor(Math.abs(value));this.b=Math.min(value,255);this.gl[2]=value/255;this.update(!0)}},alpha:{get:function(){return this.a},set:function(value){value=Math.floor(Math.abs(value));this.a=Math.min(value,255);this.gl[3]=value/255;this.update()}},h:{get:function(){return this._h},set:function(value){this._h=value;HSVToRGB(value,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(value){this._s=
value;HSVToRGB(this._h,value,this._v,this)}},v:{get:function(){return this._v},set:function(value){this._v=value;HSVToRGB(this._h,this._s,value,this)}}});module.exports=Color},function(module,exports,__webpack_require__){var Vector3=new (__webpack_require__(0))({initialize:function(x,y,z){this.z=this.y=this.x=0;"object"===typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0):(this.x=x||0,this.y=y||0,this.z=z||0)},up:function(){this.x=0;this.y=1;this.z=0;return this},min:function(v){this.x=Math.min(this.x,
v.x);this.y=Math.min(this.y,v.y);this.z=Math.min(this.z,v.z);return this},max:function(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);this.z=Math.max(this.z,v.z);return this},clone:function(){return new Vector3(this.x,this.y,this.z)},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},crossVectors:function(a,b){var ax=a.x,ay=a.y;a=a.z;var bx=b.x,by=b.y;b=b.z;this.x=ay*b-a*by;this.y=a*bx-ax*b;this.z=ax*by-ay*bx;return this},equals:function(v){return this.x===
v.x&&this.y===v.y&&this.z===v.z},copy:function(src){this.x=src.x;this.y=src.y;this.z=src.z||0;return this},set:function(x,y,z){"object"===typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0):(this.x=x||0,this.y=y||0,this.z=z||0);return this},setFromMatrixPosition:function(m){return this.fromArray(m.val,12)},setFromMatrixColumn:function(mat4,index){return this.fromArray(mat4.val,4*index)},fromArray:function(array,offset){void 0===offset&&(offset=0);this.x=array[offset];this.y=array[offset+1];this.z=
array[offset+2];return this},add:function(v){this.x+=v.x;this.y+=v.y;this.z+=v.z||0;return this},addScalar:function(s){this.x+=s;this.y+=s;this.z+=s;return this},addScale:function(v,scale){this.x+=v.x*scale;this.y+=v.y*scale;this.z+=v.z*scale||0;return this},subtract:function(v){this.x-=v.x;this.y-=v.y;this.z-=v.z||0;return this},multiply:function(v){this.x*=v.x;this.y*=v.y;this.z*=v.z||1;return this},scale:function(scale){isFinite(scale)?(this.x*=scale,this.y*=scale,this.z*=scale):this.z=this.y=
this.x=0;return this},divide:function(v){this.x/=v.x;this.y/=v.y;this.z/=v.z||1;return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},distance:function(v){var dx=v.x-this.x,dy=v.y-this.y;v=v.z-this.z||0;return Math.sqrt(dx*dx+dy*dy+v*v)},distanceSq:function(v){var dx=v.x-this.x,dy=v.y-this.y;v=v.z-this.z||0;return dx*dx+dy*dy+v*v},length:function(){var x=this.x,y=this.y,z=this.z;return Math.sqrt(x*x+y*y+z*z)},lengthSq:function(){var x=this.x,y=this.y,z=this.z;return x*
x+y*y+z*z},normalize:function(){var x=this.x,y=this.y,z=this.z,len=x*x+y*y+z*z;0<len&&(len=1/Math.sqrt(len),this.x=x*len,this.y=y*len,this.z=z*len);return this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z},cross:function(v){var ax=this.x,ay=this.y,az=this.z,bx=v.x,by=v.y;v=v.z;this.x=ay*v-az*by;this.y=az*bx-ax*v;this.z=ax*by-ay*bx;return this},lerp:function(v,t){void 0===t&&(t=0);var ax=this.x,ay=this.y,az=this.z;this.x=ax+t*(v.x-ax);this.y=ay+t*(v.y-ay);this.z=az+t*(v.z-az);return this},
applyMatrix3:function(mat3){var x=this.x,y=this.y,z=this.z;mat3=mat3.val;this.x=mat3[0]*x+mat3[3]*y+mat3[6]*z;this.y=mat3[1]*x+mat3[4]*y+mat3[7]*z;this.z=mat3[2]*x+mat3[5]*y+mat3[8]*z;return this},applyMatrix4:function(mat4){var x=this.x,y=this.y,z=this.z;mat4=mat4.val;var w=1/(mat4[3]*x+mat4[7]*y+mat4[11]*z+mat4[15]);this.x=(mat4[0]*x+mat4[4]*y+mat4[8]*z+mat4[12])*w;this.y=(mat4[1]*x+mat4[5]*y+mat4[9]*z+mat4[13])*w;this.z=(mat4[2]*x+mat4[6]*y+mat4[10]*z+mat4[14])*w;return this},transformMat3:function(mat){var x=
this.x,y=this.y,z=this.z;mat=mat.val;this.x=x*mat[0]+y*mat[3]+z*mat[6];this.y=x*mat[1]+y*mat[4]+z*mat[7];this.z=x*mat[2]+y*mat[5]+z*mat[8];return this},transformMat4:function(mat){var x=this.x,y=this.y,z=this.z;mat=mat.val;this.x=mat[0]*x+mat[4]*y+mat[8]*z+mat[12];this.y=mat[1]*x+mat[5]*y+mat[9]*z+mat[13];this.z=mat[2]*x+mat[6]*y+mat[10]*z+mat[14];return this},transformCoordinates:function(mat){var x=this.x,y=this.y,z=this.z;mat=mat.val;var ty=x*mat[1]+y*mat[5]+z*mat[9]+mat[13],tz=x*mat[2]+y*mat[6]+
z*mat[10]+mat[14],tw=x*mat[3]+y*mat[7]+z*mat[11]+mat[15];this.x=(x*mat[0]+y*mat[4]+z*mat[8]+mat[12])/tw;this.y=ty/tw;this.z=tz/tw;return this},transformQuat:function(q){var x=this.x,y=this.y,z=this.z,qx=q.x,qy=q.y,qz=q.z;q=q.w;var ix=q*x+qy*z-qz*y,iy=q*y+qz*x-qx*z,iz=q*z+qx*y-qy*x;x=-qx*x-qy*y-qz*z;this.x=ix*q+x*-qx+iy*-qz-iz*-qy;this.y=iy*q+x*-qy+iz*-qx-ix*-qz;this.z=iz*q+x*-qz+ix*-qy-iy*-qx;return this},project:function(mat){var x=this.x,y=this.y,z=this.z;mat=mat.val;var a01=mat[1],a02=mat[2],a11=
mat[5],a12=mat[6],a21=mat[9],a22=mat[10],a31=mat[13],a32=mat[14],lw=1/(x*mat[3]+y*mat[7]+z*mat[11]+mat[15]);this.x=(x*mat[0]+y*mat[4]+z*mat[8]+mat[12])*lw;this.y=(x*a01+y*a11+z*a21+a31)*lw;this.z=(x*a02+y*a12+z*a22+a32)*lw;return this},projectViewMatrix:function(viewMatrix,projectionMatrix){return this.applyMatrix4(viewMatrix).applyMatrix4(projectionMatrix)},unprojectViewMatrix:function(projectionMatrix,worldMatrix){return this.applyMatrix4(projectionMatrix).applyMatrix4(worldMatrix)},unproject:function(viewport,
invProjectionView){var viewHeight=viewport.w,y=viewHeight-this.y-1-viewport.y,z=this.z;this.x=2*(this.x-viewport.x)/viewport.z-1;this.y=2*y/viewHeight-1;this.z=2*z-1;return this.project(invProjectionView)},reset:function(){this.z=this.y=this.x=0;return this}});Vector3.ZERO=new Vector3;Vector3.RIGHT=new Vector3(1,0,0);Vector3.LEFT=new Vector3(-1,0,0);Vector3.UP=new Vector3(0,-1,0);Vector3.DOWN=new Vector3(0,1,0);Vector3.FORWARD=new Vector3(0,0,1);Vector3.BACK=new Vector3(0,0,-1);Vector3.ONE=new Vector3(1,
1,1);module.exports=Vector3},function(module,exports){module.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(module,exports){module.exports=function(gameObject){return gameObject.y+gameObject.height-gameObject.height*gameObject.originY}},function(module,exports){module.exports=function(gameObject){return gameObject.x-gameObject.width*gameObject.originX}},function(module,exports){module.exports=function(gameObject){return gameObject.x+gameObject.width-gameObject.width*gameObject.originX}},
function(module,exports){module.exports=function(gameObject){return gameObject.y-gameObject.height*gameObject.originY}},function(module,exports){module.exports=function(items,key,value,step,index,direction){void 0===step&&(step=0);void 0===index&&(index=0);void 0===direction&&(direction=1);var t=0,end=items.length;if(1===direction)for(;index<end;index++)items[index][key]+=value+t*step,t++;else for(;0<=index;index--)items[index][key]+=value+t*step,t++;return items}},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var GetPoint=__webpack_require__(301),GetPoints=__webpack_require__(168),GEOM_CONST=__webpack_require__(55),Random=__webpack_require__(169),Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(x1,y1,x2,y2){void 0===x1&&(x1=0);void 0===y1&&(y1=0);void 0===x2&&(x2=0);void 0===y2&&(y2=0);this.type=GEOM_CONST.LINE;this.x1=x1;this.y1=y1;this.x2=x2;this.y2=y2},getPoint:function(position,output){return GetPoint(this,position,output)},getPoints:function(quantity,
stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x1,y1,x2,y2){void 0===x1&&(x1=0);void 0===y1&&(y1=0);void 0===x2&&(x2=0);void 0===y2&&(y2=0);this.x1=x1;this.y1=y1;this.x2=x2;this.y2=y2;return this},getPointA:function(vec2){void 0===vec2&&(vec2=new Vector2);vec2.set(this.x1,this.y1);return vec2},getPointB:function(vec2){void 0===vec2&&(vec2=new Vector2);vec2.set(this.x2,this.y2);return vec2},left:{get:function(){return Math.min(this.x1,
this.x2)},set:function(value){this.x1<=this.x2?this.x1=value:this.x2=value}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(value){this.x1>this.x2?this.x1=value:this.x2=value}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(value){this.y1<=this.y2?this.y1=value:this.y2=value}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(value){this.y1>this.y2?this.y1=value:this.y2=value}}});module.exports=__webpack_require__},function(module,exports){module.exports=
function(ctx,src,altColor,altAlpha){altColor=altColor?altColor:src.fillColor;ctx.fillStyle="rgba("+((altColor&16711680)>>>16)+","+((altColor&65280)>>>8)+","+(altColor&255)+","+(altAlpha?altAlpha:src.fillAlpha)+")"}},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(loader,type,key,files){var finalFiles=[];files.forEach(function(file){file&&finalFiles.push(file)});this.loader=loader;this.type=type;this.key=key;this.multiKeyIndex=loader.multiKeyIndex++;
this.files=finalFiles;this.complete=!1;this.pending=finalFiles.length;this.failed=0;this.config={};this.baseURL=loader.baseURL;this.path=loader.path;this.prefix=loader.prefix;for(loader=0;loader<finalFiles.length;loader++)finalFiles[loader].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(file){this.files.push(file);file.multiFile=this;this.pending++;this.complete=!1;return this},onFileComplete:function(file){-1!==this.files.indexOf(file)&&
this.pending--},onFileFailed:function(file){-1!==this.files.indexOf(file)&&this.failed++}});module.exports=exports},function(module,exports){module.exports=function(x1,y1,x2,y2){x1-=x2;y1-=y2;return Math.sqrt(x1*x1+y1*y1)}},function(module,exports,__webpack_require__){module.exports={BOOT:__webpack_require__(918),DESTROY:__webpack_require__(919),DRAG_END:__webpack_require__(920),DRAG_ENTER:__webpack_require__(921),DRAG:__webpack_require__(922),DRAG_LEAVE:__webpack_require__(923),DRAG_OVER:__webpack_require__(924),
DRAG_START:__webpack_require__(925),DROP:__webpack_require__(926),GAME_OUT:__webpack_require__(927),GAME_OVER:__webpack_require__(928),GAMEOBJECT_DOWN:__webpack_require__(929),GAMEOBJECT_DRAG_END:__webpack_require__(930),GAMEOBJECT_DRAG_ENTER:__webpack_require__(931),GAMEOBJECT_DRAG:__webpack_require__(932),GAMEOBJECT_DRAG_LEAVE:__webpack_require__(933),GAMEOBJECT_DRAG_OVER:__webpack_require__(934),GAMEOBJECT_DRAG_START:__webpack_require__(935),GAMEOBJECT_DROP:__webpack_require__(936),GAMEOBJECT_MOVE:__webpack_require__(937),
GAMEOBJECT_OUT:__webpack_require__(938),GAMEOBJECT_OVER:__webpack_require__(939),GAMEOBJECT_POINTER_DOWN:__webpack_require__(940),GAMEOBJECT_POINTER_MOVE:__webpack_require__(941),GAMEOBJECT_POINTER_OUT:__webpack_require__(942),GAMEOBJECT_POINTER_OVER:__webpack_require__(943),GAMEOBJECT_POINTER_UP:__webpack_require__(944),GAMEOBJECT_POINTER_WHEEL:__webpack_require__(945),GAMEOBJECT_UP:__webpack_require__(946),GAMEOBJECT_WHEEL:__webpack_require__(947),MANAGER_BOOT:__webpack_require__(948),MANAGER_PROCESS:__webpack_require__(949),
MANAGER_UPDATE:__webpack_require__(950),POINTER_DOWN:__webpack_require__(951),POINTER_DOWN_OUTSIDE:__webpack_require__(952),POINTER_MOVE:__webpack_require__(953),POINTER_OUT:__webpack_require__(954),POINTER_OVER:__webpack_require__(955),POINTER_UP:__webpack_require__(956),POINTER_UP_OUTSIDE:__webpack_require__(957),POINTER_WHEEL:__webpack_require__(958),POINTERLOCK_CHANGE:__webpack_require__(959),PRE_UPDATE:__webpack_require__(960),SHUTDOWN:__webpack_require__(961),START:__webpack_require__(962),
UPDATE:__webpack_require__(963)}},function(module,exports){var Common={};module.exports=Common;(function(){Common._nextId=0;Common._seed=0;Common._nowStartTime=+new Date;Common.extend=function(obj,deep){if("boolean"===typeof deep){var argsStart=2;var deepClone=deep}else argsStart=1,deepClone=!0;for(;argsStart<arguments.length;argsStart++){var source=arguments[argsStart];if(source)for(var prop in source)deepClone&&source[prop]&&source[prop].constructor===Object?obj[prop]&&obj[prop].constructor!==Object?
obj[prop]=source[prop]:(obj[prop]=obj[prop]||{},Common.extend(obj[prop],deepClone,source[prop])):obj[prop]=source[prop]}return obj};Common.clone=function(obj,deep){return Common.extend({},deep,obj)};Common.keys=function(obj){if(Object.keys)return Object.keys(obj);var keys=[],key;for(key in obj)keys.push(key);return keys};Common.values=function(obj){var values=[];if(Object.keys){for(var keys=Object.keys(obj),i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values}for(keys in obj)values.push(obj[keys]);
return values};Common.get=function(obj,path,begin,end){path=path.split(".").slice(begin,end);for(begin=0;begin<path.length;begin+=1)obj=obj[path[begin]];return obj};Common.set=function(obj,path,val,begin,end){begin=path.split(".").slice(begin,end);return Common.get(obj,path,0,-1)[begin[begin.length-1]]=val};Common.shuffle=function(array){for(var i=array.length-1;0<i;i--){var j=Math.floor(Common.random()*(i+1)),temp=array[i];array[i]=array[j];array[j]=temp}return array};Common.choose=function(choices){return choices[Math.floor(Common.random()*
choices.length)]};Common.isElement=function(obj){return"undefined"!==typeof HTMLElement?obj instanceof HTMLElement:!!(obj&&obj.nodeType&&obj.nodeName)};Common.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)};Common.isFunction=function(obj){return"function"===typeof obj};Common.isPlainObject=function(obj){return"object"===typeof obj&&obj.constructor===Object};Common.isString=function(obj){return"[object String]"===Object.prototype.toString.call(obj)};Common.clamp=
function(value,min,max){return value<min?min:value>max?max:value};Common.sign=function(value){return 0>value?-1:1};Common.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-Common._nowStartTime};Common.random=function(min,max){min="undefined"!==typeof min?min:0;Common._seed=(9301*Common._seed+49297)%233280;return min+Common._seed/233280*(("undefined"!==
typeof max?max:1)-min)};Common.colorToNumber=function(colorString){colorString=colorString.replace("#","");3==colorString.length&&(colorString=colorString.charAt(0)+colorString.charAt(0)+colorString.charAt(1)+colorString.charAt(1)+colorString.charAt(2)+colorString.charAt(2));return parseInt(colorString,16)};Common.logLevel=1;Common.log=function(){console&&0<Common.logLevel&&3>=Common.logLevel&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};Common.info=function(){console&&
0<Common.logLevel&&2>=Common.logLevel&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};Common.warn=function(){console&&0<Common.logLevel&&3>=Common.logLevel&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};Common.nextId=function(){return Common._nextId++};Common.indexOf=function(haystack,needle){if(haystack.indexOf)return haystack.indexOf(needle);for(var i=0;i<haystack.length;i++)if(haystack[i]===needle)return i;return-1};
Common.map=function(list,func){if(list.map)return list.map(func);for(var mapped=[],i=0;i<list.length;i+=1)mapped.push(func(list[i]));return mapped};Common.topologicalSort=function(graph){var result=[],visited=[],temp=[],node;for(node in graph)visited[node]||temp[node]||Common._topologicalSort(node,visited,temp,graph,result);return result};Common._topologicalSort=function(node,visited,temp,graph,result){var neighbors=graph[node]||[];temp[node]=!0;for(var i=0;i<neighbors.length;i+=1){var neighbor=neighbors[i];
temp[neighbor]||visited[neighbor]||Common._topologicalSort(neighbor,visited,temp,graph,result)}temp[node]=!1;visited[node]=!0;result.push(node)};Common.chain=function(){for(var funcs=[],i$jscomp$0=0;i$jscomp$0<arguments.length;i$jscomp$0+=1){var func=arguments[i$jscomp$0];func._chained?funcs.push.apply(funcs,func._chained):funcs.push(func)}i$jscomp$0=function(){for(var lastResult,args=Array(arguments.length),i=0,l=arguments.length;i<l;i++)args[i]=arguments[i];for(i=0;i<funcs.length;i+=1)l=funcs[i].apply(lastResult,
args),"undefined"!==typeof l&&(lastResult=l);return lastResult};i$jscomp$0._chained=funcs;return i$jscomp$0};Common.chainPathBefore=function(base,path,func){return Common.set(base,path,Common.chain(func,Common.get(base,path)))};Common.chainPathAfter=function(base,path,func){return Common.set(base,path,Common.chain(Common.get(base,path),func))}})()},function(module,exports){module.exports=function(gameObject,value){gameObject.y=value+gameObject.height*gameObject.originY;return gameObject}},function(module,
exports){module.exports=function(gameObject,value){gameObject.x=value+gameObject.width*gameObject.originX;return gameObject}},function(module,exports){module.exports=function(gameObject,value){gameObject.x=value-gameObject.width+gameObject.width*gameObject.originX;return gameObject}},function(module,exports){module.exports=function(gameObject,value){gameObject.y=value-gameObject.height+gameObject.height*gameObject.originY;return gameObject}},function(module,exports){module.exports={CIRCLE:0,ELLIPSE:1,
LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(module,exports){module.exports=function(rect,x,y){return 0>=rect.width||0>=rect.height?!1:rect.x<=x&&rect.x+rect.width>=x&&rect.y<=y&&rect.y+rect.height>=y}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var DeepCopy=__webpack_require__(172),EventEmitter=__webpack_require__(9),Events=__webpack_require__(368),GetFastValue=__webpack_require__(2),Matrix4=__webpack_require__(67),RendererEvents=__webpack_require__(88),
RenderTarget=__webpack_require__(139),Utils=__webpack_require__(12),WebGLShader=__webpack_require__(369);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(config){EventEmitter.call(this);var game=config.game,renderer=game.renderer,gl=renderer.gl;this.name=GetFastValue(config,"name","WebGLPipeline");this.game=game;this.renderer=renderer;this.gl=gl;this.view=game.canvas;this.vertexCapacity=this.vertexCount=this.height=this.width=0;this.topology=GetFastValue(config,"topology",
gl.TRIANGLES);this.active=!0;this.currentUnit=0;this.forceZero=GetFastValue(config,"forceZero",!1);this.isPostFX=this.hasBooted=!1;this.renderTargets=[];this.shaders=[];this.projectionHeight=this.projectionWidth=0;this.config=config},boot:function(){var i,gl=this.gl,config=this.config,renderer=this.renderer;this.isPostFX||(this.projectionMatrix=(new Matrix4).identity());var renderTargets=this.renderTargets,targets=GetFastValue(config,"renderTarget",!1);"boolean"===typeof targets&&targets&&(targets=
1);var width=renderer.width,height=renderer.height;if("number"===typeof targets)for(i=0;i<targets;i++)renderTargets.push(new RenderTarget(renderer,width,height,1,0,!0));else if(Array.isArray(targets))for(i=0;i<targets.length;i++){var scale=GetFastValue(targets[i],"scale",1),minFilter=GetFastValue(targets[i],"minFilter",0),autoClear=GetFastValue(targets[i],"autoClear",1);renderTargets.push(new RenderTarget(renderer,width,height,scale,minFilter,autoClear))}renderTargets.length&&(this.currentRenderTarget=
renderTargets[0]);this.setShadersFromConfig(config);renderTargets=this.shaders;for(i=targets=0;i<renderTargets.length;i++)renderTargets[i].vertexSize>targets&&(targets=renderTargets[i].vertexSize);this.vertexCapacity=6*GetFastValue(config,"batchSize",renderer.config.batchSize);this.vertexData=i=new ArrayBuffer(this.vertexCapacity*targets);this.bytes=new Uint8Array(i);this.vertexViewF32=new Float32Array(i);this.vertexViewU32=new Uint32Array(i);(config=GetFastValue(config,"vertices",null))?(this.vertexViewF32.set(config),
this.vertexBuffer=renderer.createVertexBuffer(i,gl.STATIC_DRAW)):this.vertexBuffer=renderer.createVertexBuffer(i.byteLength,gl.DYNAMIC_DRAW);this.setVertexBuffer();for(i=renderTargets.length-1;0<=i;i--)renderTargets[i].rebind();this.hasBooted=!0;renderer.on(RendererEvents.RESIZE,this.resize,this);renderer.on(RendererEvents.PRE_RENDER,this.onPreRender,this);renderer.on(RendererEvents.RENDER,this.onRender,this);renderer.on(RendererEvents.POST_RENDER,this.onPostRender,this);this.emit(Events.BOOT,this);
this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(shader,setAttributes){var renderer=this.renderer;if(shader!==this.currentShader||renderer.currentProgram!==this.currentShader.program)this.flush(),renderer.resetTextures(),this.setVertexBuffer()&&!setAttributes&&(setAttributes=!0),shader.bind(setAttributes,!1),this.currentShader=shader;return this},getShaderByName:function(name){for(var shaders=this.shaders,i=0;i<shaders.length;i++)if(shaders[i].name===name)return shaders[i]},
setShadersFromConfig:function(config){var i,shaders=this.shaders,renderer=this.renderer;for(i=0;i<shaders.length;i++)shaders[i].destroy();shaders=GetFastValue(config,"vertShader",null);var defaultFragShader=Utils.parseFragmentShaderMaxTextures(GetFastValue(config,"fragShader",null),renderer.maxTextures),defaultAttribs=GetFastValue(config,"attributes",null);config=GetFastValue(config,"shaders",[]);var len=config.length;if(0===len)shaders&&defaultFragShader&&(this.shaders=[new WebGLShader(this,"default",
shaders,defaultFragShader,DeepCopy(defaultAttribs))]);else{var newShaders=[];for(i=0;i<len;i++){var shaderEntry=config[i],name=GetFastValue(shaderEntry,"name","default"),vertShader=GetFastValue(shaderEntry,"vertShader",shaders),fragShader=Utils.parseFragmentShaderMaxTextures(GetFastValue(shaderEntry,"fragShader",defaultFragShader),renderer.maxTextures);shaderEntry=GetFastValue(shaderEntry,"attributes",defaultAttribs);vertShader&&fragShader&&newShaders.push(new WebGLShader(this,name,vertShader,fragShader,
DeepCopy(shaderEntry)))}this.shaders=newShaders}0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0];return this},setGameObject:function(gameObject,frame){void 0===frame&&(frame=gameObject.frame);return this.currentUnit=this.renderer.setTextureSource(frame.source)},shouldFlush:function(amount){void 0===amount&&(amount=0);return this.vertexCount+amount>this.vertexCapacity},resize:function(width,height){width===this.width&&height===
this.height||this.flush();this.width=width;this.height=height;for(var targets=this.renderTargets,i=0;i<targets.length;i++)targets[i].resize(width,height);this.setProjectionMatrix(width,height);this.emit(Events.RESIZE,width,height,this);this.onResize(width,height);return this},setProjectionMatrix:function(width,height){var projectionMatrix=this.projectionMatrix;if(!projectionMatrix)return this;this.projectionWidth=width;this.projectionHeight=height;projectionMatrix.ortho(0,width,height,0,-1E3,1E3);
width=this.shaders;for(height=0;height<width.length;height++){var shader=width[height];shader.hasUniform("uProjectionMatrix")&&(shader.resetUniform("uProjectionMatrix"),shader.setMatrix4fv("uProjectionMatrix",!1,projectionMatrix.val,shader))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var globalWidth=this.renderer.projectionWidth,globalHeight=this.renderer.projectionHeight;this.projectionWidth===globalWidth&&this.projectionHeight===globalHeight||this.setProjectionMatrix(globalWidth,
globalHeight)}},bind:function(currentShader){void 0===currentShader&&(currentShader=this.currentShader);var wasBound=this.setVertexBuffer();currentShader.bind(wasBound);this.currentShader=currentShader;this.emit(Events.BIND,this,currentShader);this.onActive(currentShader);return this},rebind:function(){this.setVertexBuffer();for(var shaders=this.shaders,i=shaders.length-1;0<=i;i--)this.currentShader=shaders[i].rebind();this.emit(Events.REBIND,this.currentShader);this.onActive(this.currentShader);
this.onRebind();return this},setVertexBuffer:function(){var gl=this.gl,buffer=this.vertexBuffer;return gl.getParameter(gl.ARRAY_BUFFER_BINDING)!==buffer?(gl.bindBuffer(gl.ARRAY_BUFFER,buffer),!0):!1},preBatch:function(gameObject){this.currentRenderTarget&&this.currentRenderTarget.bind();this.onPreBatch(gameObject);return this},postBatch:function(gameObject){this.onDraw(this.currentRenderTarget);this.onPostBatch(gameObject);return this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&
this.currentRenderTarget.unbind()},flush:function(isPostFlush){void 0===isPostFlush&&(isPostFlush=!1);if(0<this.vertexCount){this.emit(Events.BEFORE_FLUSH,this,isPostFlush);this.onBeforeFlush(isPostFlush);var gl=this.gl,vertexCount=this.vertexCount,vertexSize=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),vertexCount===this.vertexCapacity?gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.DYNAMIC_DRAW):gl.bufferSubData(gl.ARRAY_BUFFER,0,this.bytes.subarray(0,vertexCount*vertexSize)),
gl.drawArrays(this.topology,0,vertexCount));this.vertexCount=0;this.emit(Events.AFTER_FLUSH,this,isPostFlush);this.onAfterFlush(isPostFlush)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,y,u,v,unit,tintEffect,tint){var vertexViewF32=this.vertexViewF32,vertexViewU32=
this.vertexViewU32,vertexOffset=this.vertexCount*this.currentShader.vertexComponentCount-1;vertexViewF32[++vertexOffset]=x;vertexViewF32[++vertexOffset]=y;vertexViewF32[++vertexOffset]=u;vertexViewF32[++vertexOffset]=v;vertexViewF32[++vertexOffset]=unit;vertexViewF32[++vertexOffset]=tintEffect;vertexViewU32[++vertexOffset]=tint;this.vertexCount++},batchQuad:function(gameObject,x0,y0,x1,y1,x2,y2,x3,y3,u0,v0,u1,v1,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,unit){void 0===unit&&(unit=this.currentUnit);
var hasFlushed=!1;this.shouldFlush(6)&&(this.flush(),hasFlushed=!0,unit=this.setTexture2D(texture));this.batchVert(x0,y0,u0,v0,unit,tintEffect,tintTL);this.batchVert(x1,y1,u0,v1,unit,tintEffect,tintBL);this.batchVert(x2,y2,u1,v1,unit,tintEffect,tintBR);this.batchVert(x0,y0,u0,v0,unit,tintEffect,tintTL);this.batchVert(x2,y2,u1,v1,unit,tintEffect,tintBR);this.batchVert(x3,y3,u1,v0,unit,tintEffect,tintTR);this.onBatch(gameObject);return hasFlushed},batchTri:function(gameObject,x0,y0,x1,y1,x2,y2,u0,v0,
u1,v1,tintTL,tintTR,tintBL,tintEffect,texture,unit){void 0===unit&&(unit=this.currentUnit);var hasFlushed=!1;this.shouldFlush(3)&&(this.flush(),hasFlushed=!0,unit=this.setTexture2D(texture));this.batchVert(x0,y0,u0,v0,unit,tintEffect,tintTL);this.batchVert(x1,y1,u0,v1,unit,tintEffect,tintTR);this.batchVert(x2,y2,u1,v1,unit,tintEffect,tintBL);this.onBatch(gameObject);return hasFlushed},drawFillRect:function(x,y,width,height,color,alpha,texture,flipUV){void 0===texture&&(texture=this.renderer.whiteTexture.glTexture);
void 0===flipUV&&(flipUV=!0);x=Math.floor(x);y=Math.floor(y);width=Math.floor(x+width);height=Math.floor(y+height);var unit=this.setTexture2D(texture);color=Utils.getTintAppendFloatAlphaAndSwap(color,alpha);alpha=0;var v1=1;flipUV&&(alpha=1,v1=0);this.batchQuad(null,x,y,x,height,width,height,width,y,0,alpha,1,v1,color,color,color,color,0,texture,unit)},setTexture2D:function(texture){void 0===texture&&(texture=this.renderer.whiteTexture.glTexture);return this.currentUnit=this.renderer.setTexture2D(texture)},
bindTexture:function(texture,unit){void 0===unit&&(unit=0);var gl=this.gl;gl.activeTexture(gl.TEXTURE0+unit);gl.bindTexture(gl.TEXTURE_2D,texture);return this},bindRenderTarget:function(target,unit){return this.bindTexture(target.texture,unit)},setTime:function(uniform){this.set1f(uniform,this.game.loop.getDuration());return this},set1f:function(name,x,shader){void 0===shader&&(shader=this.currentShader);shader.set1f(name,x);return this},set2f:function(name,x,y,shader){void 0===shader&&(shader=this.currentShader);
shader.set2f(name,x,y);return this},set3f:function(name,x,y,z,shader){void 0===shader&&(shader=this.currentShader);shader.set3f(name,x,y,z);return this},set4f:function(name,x,y,z,w,shader){void 0===shader&&(shader=this.currentShader);shader.set4f(name,x,y,z,w);return this},set1fv:function(name,arr,shader){void 0===shader&&(shader=this.currentShader);shader.set1fv(name,arr);return this},set2fv:function(name,arr,shader){void 0===shader&&(shader=this.currentShader);shader.set2fv(name,arr);return this},
set3fv:function(name,arr,shader){void 0===shader&&(shader=this.currentShader);shader.set3fv(name,arr);return this},set4fv:function(name,arr,shader){void 0===shader&&(shader=this.currentShader);shader.set4fv(name,arr);return this},set1iv:function(name,arr,shader){void 0===shader&&(shader=this.currentShader);shader.set1iv(name,arr);return this},set2iv:function(name,arr,shader){void 0===shader&&(shader=this.currentShader);shader.set2iv(name,arr);return this},set3iv:function(name,arr,shader){void 0===
shader&&(shader=this.currentShader);shader.set3iv(name,arr);return this},set4iv:function(name,arr,shader){void 0===shader&&(shader=this.currentShader);shader.set4iv(name,arr);return this},set1i:function(name,x,shader){void 0===shader&&(shader=this.currentShader);shader.set1i(name,x);return this},set2i:function(name,x,y,shader){void 0===shader&&(shader=this.currentShader);shader.set2i(name,x,y);return this},set3i:function(name,x,y,z,shader){void 0===shader&&(shader=this.currentShader);shader.set3i(name,
x,y,z);return this},set4i:function(name,x,y,z,w,shader){void 0===shader&&(shader=this.currentShader);shader.set4i(name,x,y,z,w);return this},setMatrix2fv:function(name,transpose,matrix,shader){void 0===shader&&(shader=this.currentShader);shader.setMatrix2fv(name,transpose,matrix);return this},setMatrix3fv:function(name,transpose,matrix,shader){void 0===shader&&(shader=this.currentShader);shader.setMatrix3fv(name,transpose,matrix);return this},setMatrix4fv:function(name,transpose,matrix,shader){void 0===
shader&&(shader=this.currentShader);shader.setMatrix4fv(name,transpose,matrix);return this},destroy:function(){this.emit(Events.DESTROY,this);var i,shaders=this.shaders;for(i=0;i<shaders.length;i++)shaders[i].destroy();shaders=this.renderTargets;for(i=0;i<shaders.length;i++)shaders[i].destroy();this.gl.deleteBuffer(this.vertexBuffer);i=this.renderer;i.off(RendererEvents.RESIZE,this.resize,this);i.off(RendererEvents.PRE_RENDER,this.onPreRender,this);i.off(RendererEvents.RENDER,this.onRender,this);
i.off(RendererEvents.POST_RENDER,this.onPostRender,this);this.removeAllListeners();this.currentRenderTarget=this.currentShader=this.vertexBuffer=this.vertexData=this.vertexViewU32=this.vertexViewF32=this.bytes=this.renderTargets=this.shaders=this.view=this.gl=this.manager=this.renderer=this.game=null;return this}});module.exports=__webpack_require__},function(module,exports){module.exports=function(ctx,src,altColor,altAlpha){altColor=altColor?altColor:src.strokeColor;ctx.strokeStyle="rgba("+((altColor&
16711680)>>>16)+","+((altColor&65280)>>>8)+","+(altColor&255)+","+(altAlpha?altAlpha:src.strokeAlpha)+")";ctx.lineWidth=src.lineWidth}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),GetValue=__webpack_require__(6),IsPlainObject=__webpack_require__(7),JSONFile=new exports({Extends:File,initialize:function(loader,key,url,xhrSettings,
dataKey){var extension="json";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension);dataKey=GetFastValue(config,"dataKey",dataKey)}File.call(this,loader,{type:"json",cache:loader.cacheManager.json,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:dataKey});IsPlainObject(url)&&(this.data=dataKey?GetValue(url,dataKey):
url,this.state=CONST.FILE_POPULATED)},onProcess:function(){if(this.state!==CONST.FILE_POPULATED){this.state=CONST.FILE_PROCESSING;var json=JSON.parse(this.xhrLoader.responseText),key=this.config;this.data="string"===typeof key?GetValue(json,key,json):json}this.onProcessComplete()}});FileTypesManager.register("json",function(key,url,dataKey,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new JSONFile(this,key[url]));else this.addFile(new JSONFile(this,key,url,xhrSettings,
dataKey));return this});module.exports=JSONFile},function(module,exports){module.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(module,exports,__webpack_require__){var GetTileAt=__webpack_require__(156),GetTilesWithin=__webpack_require__(26);module.exports=function(tileX,tileY,width,height,layer){for(var tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),i=0;i<tiles.length;i++){var tile=tiles[i];
tile&&(tile.collides?(tileX=GetTileAt(tile.x,tile.y-1,!0,layer),tileY=GetTileAt(tile.x,tile.y+1,!0,layer),width=GetTileAt(tile.x-1,tile.y,!0,layer),height=GetTileAt(tile.x+1,tile.y,!0,layer),tile.faceTop=tileX&&tileX.collides?!1:!0,tile.faceBottom=tileY&&tileY.collides?!1:!0,tile.faceLeft=width&&width.collides?!1:!0,tile.faceRight=height&&height.collides?!1:!0):tile.resetFaces())}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Contains=__webpack_require__(63),GetPoint=
__webpack_require__(294),GetPoints=__webpack_require__(295),GEOM_CONST=__webpack_require__(55),Random=__webpack_require__(166);__webpack_require__=new exports({initialize:function(x,y,radius){void 0===x&&(x=0);void 0===y&&(y=0);void 0===radius&&(radius=0);this.type=GEOM_CONST.CIRCLE;this.x=x;this.y=y;this._radius=radius;this._diameter=2*radius},contains:function(x,y){return Contains(this,x,y)},getPoint:function(position,point){return GetPoint(this,position,point)},getPoints:function(quantity,stepRate,
output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x,y,radius){this.x=x;this.y=y;this._radius=radius;this._diameter=2*radius;return this},setEmpty:function(){this._diameter=this._radius=0;return this},setPosition:function(x,y){void 0===y&&(y=x);this.x=x;this.y=y;return this},isEmpty:function(){return 0>=this._radius},radius:{get:function(){return this._radius},set:function(value){this._radius=value;this._diameter=2*value}},
diameter:{get:function(){return this._diameter},set:function(value){this._diameter=value;this._radius=.5*value}},left:{get:function(){return this.x-this._radius},set:function(value){this.x=value+this._radius}},right:{get:function(){return this.x+this._radius},set:function(value){this.x=value-this._radius}},top:{get:function(){return this.y-this._radius},set:function(value){this.y=value+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(value){this.y=value-this._radius}}});
module.exports=__webpack_require__},function(module,exports){module.exports=function(circle,x,y){return 0<circle.radius&&x>=circle.left&&x<=circle.right&&y>=circle.top&&y<=circle.bottom?(circle.x-x)*(circle.x-x)+(circle.y-y)*(circle.y-y)<=circle.radius*circle.radius:!1}},function(module,exports){module.exports=function(line){return Math.sqrt((line.x2-line.x1)*(line.x2-line.x1)+(line.y2-line.y1)*(line.y2-line.y1))}},function(module,exports){module.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",
LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"}},function(module,exports){module.exports=function(value,min,max){max-=min;return min+((value-min)%max+max)%max}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);__webpack_require__=__webpack_require__(38);var Matrix4=
new exports({initialize:function(m){this.val=new Float32Array(16);m?this.copy(m):this.identity()},clone:function(){return new Matrix4(this)},set:function(src){return this.copy(src)},setValues:function(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=this.val;out[0]=m00;out[1]=m01;out[2]=m02;out[3]=m03;out[4]=m10;out[5]=m11;out[6]=m12;out[7]=m13;out[8]=m20;out[9]=m21;out[10]=m22;out[11]=m23;out[12]=m30;out[13]=m31;out[14]=m32;out[15]=m33;return this},copy:function(src){src=
src.val;return this.setValues(src[0],src[1],src[2],src[3],src[4],src[5],src[6],src[7],src[8],src[9],src[10],src[11],src[12],src[13],src[14],src[15])},fromArray:function(a){return this.setValues(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(position,scale,rotation){rotation=_tempMat1.fromQuat(rotation).val;var sx=scale.x,sy=scale.y;scale=scale.z;return this.setValues(rotation[0]*
sx,rotation[1]*sx,rotation[2]*sx,0,rotation[4]*sy,rotation[5]*sy,rotation[6]*sy,0,rotation[8]*scale,rotation[9]*scale,rotation[10]*scale,0,position.x,position.y,position.z,1)},xyz:function(x,y,z){this.identity();var out=this.val;out[12]=x;out[13]=y;out[14]=z;return this},scaling:function(x,y,z){this.zero();var out=this.val;out[0]=x;out[5]=y;out[10]=z;out[15]=1;return this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var a=this.val,a01=a[1],a02=
a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=a01;a[6]=a[9];a[7]=a[13];a[8]=a02;a[9]=a12;a[11]=a[14];a[12]=a03;a[13]=a13;a[14]=a23;return this},getInverse:function(m){this.copy(m);return this.invert()},invert:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14];a=a[15];var b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=
a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a-a23*a30,b09=a21*a32-a22*a31,b10=a21*a-a23*a31,b11=a22*a-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;if(!det)return this;det=1/det;return this.setValues((a11*b11-a12*b10+a13*b09)*det,(a02*b10-a01*b11-a03*b09)*det,(a31*b05-a32*b04+a*b03)*det,(a22*b04-a21*b05-a23*b03)*det,(a12*b08-a10*b11-a13*b07)*det,(a00*b11-a02*b08+a03*b07)*det,(a32*b02-a30*b05-a*b01)*det,(a20*b05-a22*b02+a23*b01)*det,(a10*b10-a11*
b08+a13*b06)*det,(a01*b08-a00*b10-a03*b06)*det,(a30*b04-a31*b02+a*b00)*det,(a21*b02-a20*b04-a23*b00)*det,(a11*b07-a10*b09-a12*b06)*det,(a00*b09-a01*b07+a02*b06)*det,(a31*b01-a30*b03-a32*b00)*det,(a20*b03-a21*b01+a22*b00)*det)},adjoint:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14];a=a[15];return this.setValues(a11*(a22*a-a23*a32)-a21*(a12*a-a13*a32)+a31*(a12*a23-a13*a22),-(a01*(a22*
a-a23*a32)-a21*(a02*a-a03*a32)+a31*(a02*a23-a03*a22)),a01*(a12*a-a13*a32)-a11*(a02*a-a03*a32)+a31*(a02*a13-a03*a12),-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),-(a10*(a22*a-a23*a32)-a20*(a12*a-a13*a32)+a30*(a12*a23-a13*a22)),a00*(a22*a-a23*a32)-a20*(a02*a-a03*a32)+a30*(a02*a23-a03*a22),-(a00*(a12*a-a13*a32)-a10*(a02*a-a03*a32)+a30*(a02*a13-a03*a12)),a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),a10*(a21*a-a23*a31)-a20*(a11*a-a13*a31)+a30*(a11*a23-a13*a21),
-(a00*(a21*a-a23*a31)-a20*(a01*a-a03*a31)+a30*(a01*a23-a03*a21)),a00*(a11*a-a13*a31)-a10*(a01*a-a03*a31)+a30*(a01*a13-a03*a11),-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11))},determinant:function(){var a=this.val,
a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14];a=a[15];return(a00*a11-a01*a10)*(a22*a-a23*a32)-(a00*a12-a02*a10)*(a21*a-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)},multiply:function(src){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],
a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];src=src.val;var b0=src[0],b1=src[1],b2=src[2],b3=src[3];a[0]=b0*a00+b1*a10+b2*a20+b3*a30;a[1]=b0*a01+b1*a11+b2*a21+b3*a31;a[2]=b0*a02+b1*a12+b2*a22+b3*a32;a[3]=b0*a03+b1*a13+b2*a23+b3*a33;b0=src[4];b1=src[5];b2=src[6];b3=src[7];a[4]=b0*a00+b1*a10+b2*a20+b3*a30;a[5]=b0*a01+b1*a11+b2*a21+b3*a31;a[6]=b0*a02+b1*a12+b2*a22+b3*a32;a[7]=b0*a03+b1*a13+b2*a23+b3*a33;b0=src[8];b1=src[9];b2=src[10];b3=src[11];a[8]=b0*a00+b1*a10+b2*a20+b3*a30;a[9]=b0*a01+b1*a11+
b2*a21+b3*a31;a[10]=b0*a02+b1*a12+b2*a22+b3*a32;a[11]=b0*a03+b1*a13+b2*a23+b3*a33;b0=src[12];b1=src[13];b2=src[14];b3=src[15];a[12]=b0*a00+b1*a10+b2*a20+b3*a30;a[13]=b0*a01+b1*a11+b2*a21+b3*a31;a[14]=b0*a02+b1*a12+b2*a22+b3*a32;a[15]=b0*a03+b1*a13+b2*a23+b3*a33;return this},multiplyLocal:function(src){var a=this.val;src=src.val;return this.setValues(a[0]*src[0]+a[1]*src[4]+a[2]*src[8]+a[3]*src[12],a[0]*src[1]+a[1]*src[5]+a[2]*src[9]+a[3]*src[13],a[0]*src[2]+a[1]*src[6]+a[2]*src[10]+a[3]*src[14],a[0]*
src[3]+a[1]*src[7]+a[2]*src[11]+a[3]*src[15],a[4]*src[0]+a[5]*src[4]+a[6]*src[8]+a[7]*src[12],a[4]*src[1]+a[5]*src[5]+a[6]*src[9]+a[7]*src[13],a[4]*src[2]+a[5]*src[6]+a[6]*src[10]+a[7]*src[14],a[4]*src[3]+a[5]*src[7]+a[6]*src[11]+a[7]*src[15],a[8]*src[0]+a[9]*src[4]+a[10]*src[8]+a[11]*src[12],a[8]*src[1]+a[9]*src[5]+a[10]*src[9]+a[11]*src[13],a[8]*src[2]+a[9]*src[6]+a[10]*src[10]+a[11]*src[14],a[8]*src[3]+a[9]*src[7]+a[10]*src[11]+a[11]*src[15],a[12]*src[0]+a[13]*src[4]+a[14]*src[8]+a[15]*src[12],
a[12]*src[1]+a[13]*src[5]+a[14]*src[9]+a[15]*src[13],a[12]*src[2]+a[13]*src[6]+a[14]*src[10]+a[15]*src[14],a[12]*src[3]+a[13]*src[7]+a[14]*src[11]+a[15]*src[15])},premultiply:function(m){return this.multiplyMatrices(m,this)},multiplyMatrices:function(a,b){var am=a.val,bm=b.val;b=am[0];a=am[4];var a13=am[8],a14=am[12],a21=am[1],a22=am[5],a23=am[9],a24=am[13],a31=am[2],a32=am[6],a33=am[10],a34=am[14],a41=am[3],a42=am[7],a43=am[11];am=am[15];var b11=bm[0],b12=bm[4],b13=bm[8],b14=bm[12],b21=bm[1],b22=
bm[5],b23=bm[9],b24=bm[13],b31=bm[2],b32=bm[6],b33=bm[10],b34=bm[14],b41=bm[3],b42=bm[7],b43=bm[11];bm=bm[15];return this.setValues(b*b11+a*b21+a13*b31+a14*b41,a21*b11+a22*b21+a23*b31+a24*b41,a31*b11+a32*b21+a33*b31+a34*b41,a41*b11+a42*b21+a43*b31+am*b41,b*b12+a*b22+a13*b32+a14*b42,a21*b12+a22*b22+a23*b32+a24*b42,a31*b12+a32*b22+a33*b32+a34*b42,a41*b12+a42*b22+a43*b32+am*b42,b*b13+a*b23+a13*b33+a14*b43,a21*b13+a22*b23+a23*b33+a24*b43,a31*b13+a32*b23+a33*b33+a34*b43,a41*b13+a42*b23+a43*b33+am*b43,
b*b14+a*b24+a13*b34+a14*bm,a21*b14+a22*b24+a23*b34+a24*bm,a31*b14+a32*b24+a33*b34+a34*bm,a41*b14+a42*b24+a43*b34+am*bm)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(x,y,z){var a=this.val;a[12]=a[0]*x+a[4]*y+a[8]*z+a[12];a[13]=a[1]*x+a[5]*y+a[9]*z+a[13];a[14]=a[2]*x+a[6]*y+a[10]*z+a[14];a[15]=a[3]*x+a[7]*y+a[11]*z+a[15];return this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(x,y,z){var a=this.val;a[0]*=x;a[1]*=x;a[2]*=x;a[3]*=x;a[4]*=
y;a[5]*=y;a[6]*=y;a[7]*=y;a[8]*=z;a[9]*=z;a[10]*=z;a[11]*=z;return this},makeRotationAxis:function(axis,angle){var c=Math.cos(angle);angle=Math.sin(angle);var t=1-c,x=axis.x,y=axis.y;axis=axis.z;var tx=t*x,ty=t*y;return this.setValues(tx*x+c,tx*y-angle*axis,tx*axis+angle*y,0,tx*y+angle*axis,ty*y+c,ty*axis-angle*x,0,tx*axis-angle*y,ty*axis+angle*x,t*axis*axis+c,0,0,0,0,1)},rotate:function(rad,axis){var a=this.val,x=axis.x,y=axis.y;axis=axis.z;var len=Math.sqrt(x*x+y*y+axis*axis);if(1E-6>Math.abs(len))return this;
len=1/len;x*=len;y*=len;axis*=len;var s=Math.sin(rad),c=Math.cos(rad),t=1-c;rad=a[0];len=a[1];var a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+axis*s,b02=axis*x*t-y*s,b10=x*y*t-axis*s,b11=y*y*t+c,b12=axis*y*t+x*s,b20=x*axis*t+y*s;x=y*axis*t-x*s;y=axis*axis*t+c;return this.setValues(rad*b00+a10*b01+a20*b02,len*b00+a11*b01+a21*b02,a02*b00+a12*b01+a22*b02,a03*b00+a13*b01+a23*b02,rad*b10+a10*b11+a20*b12,len*b10+a11*b11+a21*b12,a02*b10+
a12*b11+a22*b12,a03*b10+a13*b11+a23*b12,rad*b20+a10*x+a20*y,len*b20+a11*x+a21*y,a02*b20+a12*x+a22*y,a03*b20+a13*x+a23*y,a[12],a[13],a[14],a[15])},rotateX:function(rad){var a=this.val,s=Math.sin(rad);rad=Math.cos(rad);var a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];a[4]=a10*rad+a20*s;a[5]=a11*rad+a21*s;a[6]=a12*rad+a22*s;a[7]=a13*rad+a23*s;a[8]=a20*rad-a10*s;a[9]=a21*rad-a11*s;a[10]=a22*rad-a12*s;a[11]=a23*rad-a13*s;return this},rotateY:function(rad){var a=this.val,s=
Math.sin(rad);rad=Math.cos(rad);var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];a[0]=a00*rad-a20*s;a[1]=a01*rad-a21*s;a[2]=a02*rad-a22*s;a[3]=a03*rad-a23*s;a[8]=a00*s+a20*rad;a[9]=a01*s+a21*rad;a[10]=a02*s+a22*rad;a[11]=a03*s+a23*rad;return this},rotateZ:function(rad){var a=this.val,s=Math.sin(rad);rad=Math.cos(rad);var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];a[0]=a00*rad+a10*s;a[1]=a01*rad+a11*s;a[2]=a02*rad+a12*s;a[3]=a03*rad+a13*s;a[4]=
a10*rad-a00*s;a[5]=a11*rad-a01*s;a[6]=a12*rad-a02*s;a[7]=a13*rad-a03*s;return this},fromRotationTranslation:function(q,v){var x=q.x,y=q.y,z=q.z,w=q.w,x2=x+x,y2=y+y,z2=z+z;q=x*x2;var xy=x*y2;x*=z2;var yy=y*y2;y*=z2;z*=z2;x2*=w;y2*=w;w*=z2;return this.setValues(1-(yy+z),xy+w,x-y2,0,xy-w,1-(q+z),y+x2,0,x+y2,y-x2,1-(q+yy),0,v.x,v.y,v.z,1)},fromQuat:function(q){var x=q.x,y=q.y,z=q.z,w=q.w,x2=x+x,y2=y+y,z2=z+z;q=x*x2;var xy=x*y2;x*=z2;var yy=y*y2;y*=z2;z*=z2;x2*=w;y2*=w;w*=z2;return this.setValues(1-(yy+
z),xy+w,x-y2,0,xy-w,1-(q+z),y+x2,0,x+y2,y-x2,1-(q+yy),0,0,0,0,1)},frustum:function(left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return this.setValues(2*near*rl,0,0,0,0,2*near*tb,0,0,(right+left)*rl,(top+bottom)*tb,(far+near)*nf,-1,0,0,far*near*2*nf,0)},perspective:function(fovy,aspect,near,far){fovy=1/Math.tan(fovy/2);var nf=1/(near-far);return this.setValues(fovy/aspect,0,0,0,0,fovy,0,0,0,0,(far+near)*nf,-1,0,0,2*far*near*nf,0)},perspectiveLH:function(width,
height,near,far){return this.setValues(2*near/width,0,0,0,0,2*near/height,0,0,0,0,-far/(near-far),1,0,0,near*far/(near-far),0)},ortho:function(left,right,bottom,top,near,far){var lr=left-right,bt=bottom-top,nf=near-far;lr=0===lr?lr:1/lr;bt=0===bt?bt:1/bt;nf=0===nf?nf:1/nf;return this.setValues(-2*lr,0,0,0,0,-2*bt,0,0,0,0,2*nf,0,(left+right)*lr,(top+bottom)*bt,(far+near)*nf,1)},lookAtRH:function(eye,target,up){var m=this.val;_z.subVectors(eye,target);0===_z.getLengthSquared()&&(_z.z=1);_z.normalize();
_x.crossVectors(up,_z);0===_x.getLengthSquared()&&(1===Math.abs(up.z)?_z.x+=1E-4:_z.z+=1E-4,_z.normalize(),_x.crossVectors(up,_z));_x.normalize();_y.crossVectors(_z,_x);m[0]=_x.x;m[1]=_x.y;m[2]=_x.z;m[4]=_y.x;m[5]=_y.y;m[6]=_y.z;m[8]=_z.x;m[9]=_z.y;m[10]=_z.z;return this},lookAt:function(eye,center,up){var eyex=eye.x,eyey=eye.y;eye=eye.z;var upx=up.x,upy=up.y,upz=up.z,centerx=center.x;up=center.y;var centerz=center.z;if(1E-6>Math.abs(eyex-centerx)&&1E-6>Math.abs(eyey-up)&&1E-6>Math.abs(eye-centerz))return this.identity();
center=eyex-centerx;up=eyey-up;centerz=eye-centerz;centerx=1/Math.sqrt(center*center+up*up+centerz*centerz);center*=centerx;up*=centerx;centerz*=centerx;var x0=upy*centerz-upz*up;upz=upz*center-upx*centerz;upx=upx*up-upy*center;(centerx=Math.sqrt(x0*x0+upz*upz+upx*upx))?(centerx=1/centerx,x0*=centerx,upz*=centerx,upx*=centerx):upx=upz=x0=0;upy=up*upx-centerz*upz;var y1=centerz*x0-center*upx,y2=center*upz-up*x0;(centerx=Math.sqrt(upy*upy+y1*y1+y2*y2))?(centerx=1/centerx,upy*=centerx,y1*=centerx,y2*=
centerx):y2=y1=upy=0;return this.setValues(x0,upy,center,0,upz,y1,up,0,upx,y2,centerz,0,-(x0*eyex+upz*eyey+upx*eye),-(upy*eyex+y1*eyey+y2*eye),-(center*eyex+up*eyey+centerz*eye),1)},yawPitchRoll:function(yaw,pitch,roll){this.zero();_tempMat1.zero();_tempMat2.zero();var m0=this.val,m1=_tempMat1.val,m2=_tempMat2.val,s=Math.sin(roll);roll=Math.cos(roll);m0[10]=1;m0[15]=1;m0[0]=roll;m0[1]=s;m0[4]=-s;m0[5]=roll;s=Math.sin(pitch);roll=Math.cos(pitch);m1[0]=1;m1[15]=1;m1[5]=roll;m1[10]=roll;m1[9]=-s;m1[6]=
s;s=Math.sin(yaw);roll=Math.cos(yaw);m2[5]=1;m2[15]=1;m2[0]=roll;m2[2]=-s;m2[8]=s;m2[10]=roll;this.multiplyLocal(_tempMat1);this.multiplyLocal(_tempMat2);return this},setWorldMatrix:function(rotation,position,scale,viewMatrix,projectionMatrix){this.yawPitchRoll(rotation.y,rotation.x,rotation.z);_tempMat1.scaling(scale.x,scale.y,scale.z);_tempMat2.xyz(position.x,position.y,position.z);this.multiplyLocal(_tempMat1);this.multiplyLocal(_tempMat2);viewMatrix&&this.multiplyLocal(viewMatrix);projectionMatrix&&
this.multiplyLocal(projectionMatrix);return this},multiplyToMat4:function(src,out){var a=this.val;src=src.val;var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14];a=a[15];var b01=src[1],b02=src[2],b03=src[3],b10=src[4],b11=src[5],b12=src[6],b13=src[7],b20=src[8],b21=src[9],b22=src[10],b23=src[11],b30=src[12],b31=src[13],b32=src[14],b33=src[15];return out.setValues(src[0]*a00+b01*a10+b02*a20+b03*a30,b01*a01+
b01*a11+b02*a21+b03*a31,b02*a02+b01*a12+b02*a22+b03*a32,b03*a03+b01*a13+b02*a23+b03*a,b10*a00+b11*a10+b12*a20+b13*a30,b10*a01+b11*a11+b12*a21+b13*a31,b10*a02+b11*a12+b12*a22+b13*a32,b10*a03+b11*a13+b12*a23+b13*a,b20*a00+b21*a10+b22*a20+b23*a30,b20*a01+b21*a11+b22*a21+b23*a31,b20*a02+b21*a12+b22*a22+b23*a32,b20*a03+b21*a13+b22*a23+b23*a,b30*a00+b31*a10+b32*a20+b33*a30,b30*a01+b31*a11+b32*a21+b33*a31,b30*a02+b31*a12+b32*a22+b33*a32,b30*a03+b31*a13+b32*a23+b33*a)},fromRotationXYTranslation:function(rotation,
position,translateFirst){var x=position.x,y=position.y;position=position.z;var sx=Math.sin(rotation.x),cx=Math.cos(rotation.x),sy=Math.sin(rotation.y);rotation=Math.cos(rotation.y);var a30=x,a31=y,a32=position,b21=-sx,c01=-(b21*sy),c02=-(cx*sy);b21*=rotation;var c22=cx*rotation;translateFirst||(a30=rotation*x+sy*position,a31=c01*x+cx*y+b21*position,a32=c02*x+sx*y+c22*position);return this.setValues(rotation,c01,c02,0,0,cx,sx,0,sy,b21,c22,0,a30,a31,a32,1)},getMaxScaleOnAxis:function(){var m=this.val;
return Math.sqrt(Math.max(m[0]*m[0]+m[1]*m[1]+m[2]*m[2],m[4]*m[4]+m[5]*m[5]+m[6]*m[6],m[8]*m[8]+m[9]*m[9]+m[10]*m[10]))}}),_tempMat1=new Matrix4,_tempMat2=new Matrix4,_x=new __webpack_require__,_y=new __webpack_require__,_z=new __webpack_require__;module.exports=Matrix4},function(module,exports,__webpack_require__){function earcut(data,holeIndices,dim){dim=dim||2;var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,
!0),triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;var maxX;if(hasHoles){var dim$jscomp$0=dim;hasHoles=[];var len;var x=0;for(len=holeIndices.length;x<len;x++){var start=holeIndices[x]*dim$jscomp$0;var end=x<len-1?holeIndices[x+1]*dim$jscomp$0:data.length;start=linkedList(data,start,end,dim$jscomp$0,!1);start===start.next&&(start.steiner=!0);hasHoles.push(getLeftmost(start))}hasHoles.sort(compareX);for(x=0;x<hasHoles.length;x++){dim$jscomp$0=hasHoles[x];holeIndices=outerNode;
if(holeIndices=findHoleBridge(dim$jscomp$0,holeIndices))dim$jscomp$0=splitPolygon(holeIndices,dim$jscomp$0),filterPoints(holeIndices,holeIndices.next),filterPoints(dim$jscomp$0,dim$jscomp$0.next);outerNode=filterPoints(outerNode,outerNode.next)}}if(data.length>80*dim){var minX=maxX=data[0];var minY=hasHoles=data[1];for(dim$jscomp$0=dim;dim$jscomp$0<outerLen;dim$jscomp$0+=dim)x=data[dim$jscomp$0],holeIndices=data[dim$jscomp$0+1],x<minX&&(minX=x),holeIndices<minY&&(minY=holeIndices),x>maxX&&(maxX=x),
holeIndices>hasHoles&&(hasHoles=holeIndices);maxX=Math.max(maxX-minX,hasHoles-minY);maxX=0!==maxX?1/maxX:0}earcutLinked(outerNode,triangles,dim,minX,minY,maxX);return triangles}function linkedList(data,start,end,dim,clockwise){if(clockwise===0<signedArea(data,start,end,dim))for(clockwise=start;clockwise<end;clockwise+=dim)var last=insertNode(clockwise,data[clockwise],data[clockwise+1],last);else for(clockwise=end-dim;clockwise>=start;clockwise-=dim)last=insertNode(clockwise,data[clockwise],data[clockwise+
1],last);last&&equals(last,last.next)&&(removeNode(last),last=last.next);return last}function filterPoints(start,end){if(!start)return start;end||(end=start);do{var again=!1;if(start.steiner||!equals(start,start.next)&&0!==area(start.prev,start,start.next))start=start.next;else{removeNode(start);start=end=start.prev;if(start===start.next)break;again=!0}}while(again||start!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(ear){if(!pass&&invSize){var start=ear,p=start;
do null===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,invSize)),p.prevZ=p.prev,p=p.nextZ=p.next;while(p!==start);p.prevZ.nextZ=null;p.prevZ=null;start=p;var i,numMerges,pSize,qSize,inSize=1;do{p=start;var tail=start=null;for(numMerges=0;p;){numMerges++;var q=p;for(i=pSize=0;i<inSize&&(pSize++,q=q.nextZ,q);i++);for(qSize=inSize;0<pSize||0<qSize&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(i=p,p=p.nextZ,pSize--):(i=q,q=q.nextZ,qSize--),tail?tail.nextZ=i:start=i,i.prevZ=tail,tail=i;p=q}tail.nextZ=null;inSize*=2}while(1<
numMerges)}for(start=ear;ear.prev!==ear.next;){p=ear.prev;q=ear.next;if(invSize)tail=isEarHashed(ear,minX,minY,invSize);else a:if(tail=ear,numMerges=tail.prev,pSize=tail,inSize=tail.next,0<=area(numMerges,pSize,inSize))tail=!1;else{for(i=tail.next.next;i!==tail.prev;){if(pointInTriangle(numMerges.x,numMerges.y,pSize.x,pSize.y,inSize.x,inSize.y,i.x,i.y)&&0<=area(i.prev,i,i.next)){tail=!1;break a}i=i.next}tail=!0}if(tail)triangles.push(p.i/dim),triangles.push(ear.i/dim),triangles.push(q.i/dim),removeNode(ear),
start=ear=q.next;else if(ear=q,ear===start){if(!pass)earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);else if(1===pass){ear=filterPoints(ear);pass=triangles;start=dim;p=ear;do q=p.prev,tail=p.next.next,!equals(q,tail)&&intersects(q,p,p.next,tail)&&locallyInside(q,tail)&&locallyInside(tail,q)&&(pass.push(q.i/start),pass.push(p.i/start),pass.push(tail.i/start),removeNode(p),removeNode(p.next),p=ear=tail),p=p.next;while(p!==ear);ear=filterPoints(p);earcutLinked(ear,triangles,dim,minX,
minY,invSize,2)}else if(2===pass)a:{pass=ear;do{for(start=pass.next.next;start!==pass.prev;){if(p=pass.i!==start.i){p=pass;q=start;if(tail=p.next.i!==q.i&&p.prev.i!==q.i){b:{tail=p;do{if(tail.i!==p.i&&tail.next.i!==p.i&&tail.i!==q.i&&tail.next.i!==q.i&&intersects(tail,tail.next,p,q)){tail=!0;break b}tail=tail.next}while(tail!==p);tail=!1}tail=!tail}if(tail){if(tail=locallyInside(p,q)&&locallyInside(q,p)){tail=p;numMerges=!1;pSize=(p.x+q.x)/2;inSize=(p.y+q.y)/2;do tail.y>inSize!==tail.next.y>inSize&&
tail.next.y!==tail.y&&pSize<(tail.next.x-tail.x)*(inSize-tail.y)/(tail.next.y-tail.y)+tail.x&&(numMerges=!numMerges),tail=tail.next;while(tail!==p);tail=numMerges}tail=tail&&(area(p.prev,p,q.prev)||area(p,q.prev,q))||equals(p,q)&&0<area(p.prev,p,p.next)&&0<area(q.prev,q,q.next)}p=tail}if(p){ear=splitPolygon(pass,start);pass=filterPoints(pass,pass.next);ear=filterPoints(ear,ear.next);earcutLinked(pass,triangles,dim,minX,minY,invSize);earcutLinked(ear,triangles,dim,minX,minY,invSize);break a}start=
start.next}pass=pass.next}while(pass!==ear)}break}}}}function isEarHashed(ear,minX,minY,invSize){var a=ear.prev,c=ear.next;if(0<=area(a,ear,c))return!1;var maxTX=a.x>ear.x?a.x>c.x?a.x:c.x:ear.x>c.x?ear.x:c.x,maxTY=a.y>ear.y?a.y>c.y?a.y:c.y:ear.y>c.y?ear.y:c.y,minZ=zOrder(a.x<ear.x?a.x<c.x?a.x:c.x:ear.x<c.x?ear.x:c.x,a.y<ear.y?a.y<c.y?a.y:c.y:ear.y<c.y?ear.y:c.y,minX,minY,invSize);minX=zOrder(maxTX,maxTY,minX,minY,invSize);minY=ear.prevZ;for(invSize=ear.nextZ;minY&&minY.z>=minZ&&invSize&&invSize.z<=
minX;){if(minY!==ear.prev&&minY!==ear.next&&pointInTriangle(a.x,a.y,ear.x,ear.y,c.x,c.y,minY.x,minY.y)&&0<=area(minY.prev,minY,minY.next))return!1;minY=minY.prevZ;if(invSize!==ear.prev&&invSize!==ear.next&&pointInTriangle(a.x,a.y,ear.x,ear.y,c.x,c.y,invSize.x,invSize.y)&&0<=area(invSize.prev,invSize,invSize.next))return!1;invSize=invSize.nextZ}for(;minY&&minY.z>=minZ;){if(minY!==ear.prev&&minY!==ear.next&&pointInTriangle(a.x,a.y,ear.x,ear.y,c.x,c.y,minY.x,minY.y)&&0<=area(minY.prev,minY,minY.next))return!1;
minY=minY.prevZ}for(;invSize&&invSize.z<=minX;){if(invSize!==ear.prev&&invSize!==ear.next&&pointInTriangle(a.x,a.y,ear.x,ear.y,c.x,c.y,invSize.x,invSize.y)&&0<=area(invSize.prev,invSize,invSize.next))return!1;invSize=invSize.nextZ}return!0}function compareX(a,b){return a.x-b.x}function findHoleBridge(hole,outerNode){var p=outerNode,hx=hole.x,hy=hole.y,qx=-Infinity;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx){qx=x;if(x===hx){if(hy===
p.y)return p;if(hy===p.next.y)return p.next}var m=p.x<p.next.x?p:p.next}}p=p.next}while(p!==outerNode);if(!m)return null;if(hx===qx)return m;outerNode=m;x=m.x;var my=m.y,tanMin=Infinity;p=m;do{if(hx>=p.x&&p.x>=x&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,x,my,hy<my?qx:hx,hy,p.x,p.y)){var tan=Math.abs(hy-p.y)/(hx-p.x);var JSCompiler_temp;if((JSCompiler_temp=locallyInside(p,hole))&&!(JSCompiler_temp=tan<tanMin)&&(JSCompiler_temp=tan===tanMin)&&!(JSCompiler_temp=p.x>m.x)&&(JSCompiler_temp=p.x===m.x)){JSCompiler_temp=
m;var p$jscomp$0=p;JSCompiler_temp=0>area(JSCompiler_temp.prev,JSCompiler_temp,p$jscomp$0.prev)&&0>area(p$jscomp$0.next,JSCompiler_temp,JSCompiler_temp.next)}JSCompiler_temp&&(m=p,tanMin=tan)}p=p.next}while(p!==outerNode);return m}function zOrder(x,y,minX,minY,invSize){x=32767*(x-minX)*invSize;y=32767*(y-minY)*invSize;x=(x|x<<8)&16711935;x=(x|x<<4)&252645135;x=(x|x<<2)&858993459;y=(y|y<<8)&16711935;y=(y|y<<4)&252645135;y=(y|y<<2)&858993459;return(x|x<<1)&1431655765|((y|y<<1)&1431655765)<<1}function getLeftmost(start){var p=
start,leftmost=start;do{if(p.x<leftmost.x||p.x===leftmost.x&&p.y<leftmost.y)leftmost=p;p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return 0<=(cx-px)*(ay-py)-(ax-px)*(cy-py)&&0<=(ax-px)*(by-py)-(bx-px)*(ay-py)&&0<=(bx-px)*(cy-py)-(cx-px)*(by-py)}function area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){var o1=sign(area(p1,q1,p2)),o2=sign(area(p1,q1,q2)),o3=
sign(area(p2,q2,p1)),o4=sign(area(p2,q2,q1));return o1!==o2&&o3!==o4||0===o1&&onSegment(p1,p2,q1)||0===o2&&onSegment(p1,q2,q1)||0===o3&&onSegment(p2,p1,q2)||0===o4&&onSegment(p2,q1,q2)?!0:!1}function onSegment(p,q,r){return q.x<=Math.max(p.x,r.x)&&q.x>=Math.min(p.x,r.x)&&q.y<=Math.max(p.y,r.y)&&q.y>=Math.min(p.y,r.y)}function sign(num){return 0<num?1:0>num?-1:0}function locallyInside(a,b){return 0>area(a.prev,a,a.next)?0<=area(a,b,a.next)&&0<=area(a,a.prev,b):0>area(a,b,a.prev)||0>area(a,a.next,b)}
function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;a.next=b;b.prev=a;a2.next=an;an.prev=a2;b2.next=a2;a2.prev=b2;bp.next=b2;b2.prev=bp;return b2}function insertNode(i,x,y,last){i=new Node(i,x,y);last?(i.next=last.next,i.prev=last,last.next.prev=i,last.next=i):(i.prev=i,i.next=i);return i}function removeNode(p){p.next.prev=p.prev;p.prev.next=p.next;p.prevZ&&(p.prevZ.nextZ=p.nextZ);p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Node(i,x,y){this.i=i;this.x=
x;this.y=y;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function signedArea(data,start,end,dim){for(var sum=0,j=end-dim;start<end;start+=dim)sum+=(data[j]-data[start])*(data[start+1]+data[j+1]),j=start;return sum}earcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length,polygonArea=Math.abs(signedArea(data,0,hasHoles?holeIndices[0]*dim:data.length,dim));if(hasHoles){hasHoles=0;for(var len=holeIndices.length;hasHoles<len;hasHoles++)polygonArea-=
Math.abs(signedArea(data,holeIndices[hasHoles]*dim,hasHoles<len-1?holeIndices[hasHoles+1]*dim:data.length,dim))}for(hasHoles=holeIndices=0;hasHoles<triangles.length;hasHoles+=3){len=triangles[hasHoles]*dim;var b=triangles[hasHoles+1]*dim,c=triangles[hasHoles+2]*dim;holeIndices+=Math.abs((data[len]-data[c])*(data[b+1]-data[len+1])-(data[len]-data[b])*(data[c+1]-data[len+1]))}return 0===polygonArea&&0===holeIndices?0:Math.abs((holeIndices-polygonArea)/polygonArea)};earcut.flatten=function(data){for(var dim=
data[0][0].length,result={vertices:[],holes:[],dimensions:dim},holeIndex=0,i=0;i<data.length;i++){for(var j=0;j<data[i].length;j++)for(var d=0;d<dim;d++)result.vertices.push(data[i][j][d]);0<i&&(holeIndex+=data[i-1].length,result.holes.push(holeIndex))}return result};module.exports=earcut},function(module,exports,__webpack_require__){module.exports={COMPLETE:__webpack_require__(983),DECODED:__webpack_require__(984),DECODED_ALL:__webpack_require__(985),DESTROY:__webpack_require__(986),DETUNE:__webpack_require__(987),
GLOBAL_DETUNE:__webpack_require__(988),GLOBAL_MUTE:__webpack_require__(989),GLOBAL_RATE:__webpack_require__(990),GLOBAL_VOLUME:__webpack_require__(991),LOOP:__webpack_require__(992),LOOPED:__webpack_require__(993),MUTE:__webpack_require__(994),PAN:__webpack_require__(995),PAUSE_ALL:__webpack_require__(996),PAUSE:__webpack_require__(997),PLAY:__webpack_require__(998),RATE:__webpack_require__(999),RESUME_ALL:__webpack_require__(1E3),RESUME:__webpack_require__(1001),SEEK:__webpack_require__(1002),STOP_ALL:__webpack_require__(1003),
STOP:__webpack_require__(1004),UNLOCKED:__webpack_require__(1005),VOLUME:__webpack_require__(1006)}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),ImageFile=new exports({Extends:File,initialize:function ImageFile(loader,key,url,xhrSettings,frameConfig){var extension="png";if(IsPlainObject(key)){frameConfig=
key;key=GetFastValue(frameConfig,"key");url=GetFastValue(frameConfig,"url");var normalMapURL=GetFastValue(frameConfig,"normalMap");xhrSettings=GetFastValue(frameConfig,"xhrSettings");extension=GetFastValue(frameConfig,"extension",extension);frameConfig=GetFastValue(frameConfig,"frameConfig")}Array.isArray(url)&&(normalMapURL=url[1],url=url[0]);File.call(this,loader,{type:"image",cache:loader.textureManager,extension:extension,responseType:"blob",key:key,url:url,xhrSettings:xhrSettings,config:frameConfig});
normalMapURL&&(key=new ImageFile(loader,this.key,normalMapURL,xhrSettings,frameConfig),key.type="normalMap",this.setLink(key),loader.addFile(key))},onProcess:function(){this.state=CONST.FILE_PROCESSING;this.data=new Image;this.data.crossOrigin=this.crossOrigin;var _this=this;this.data.onload=function(){File.revokeObjectURL(_this.data);_this.onProcessComplete()};this.data.onerror=function(){File.revokeObjectURL(_this.data);_this.onProcessError()};File.createObjectURL(this.data,this.xhrLoader.response,
"image/png")},addToCache:function(){var linkFile=this.linkFile;if(linkFile&&linkFile.state===CONST.FILE_COMPLETE){var texture="image"===this.type?this.cache.addImage(this.key,this.data,linkFile.data):this.cache.addImage(linkFile.key,linkFile.data,this.data);this.pendingDestroy(texture);linkFile.pendingDestroy(texture)}else linkFile||(texture=this.cache.addImage(this.key,this.data),this.pendingDestroy(texture))}});FileTypesManager.register("image",function(key,url,xhrSettings){if(Array.isArray(key))for(url=
0;url<key.length;url++)this.addFile(new ImageFile(this,key[url]));else this.addFile(new ImageFile(this,key,url,xhrSettings));return this});module.exports=ImageFile},function(module,exports,__webpack_require__){var Body={};module.exports=Body;var Vertices=__webpack_require__(94),Vector=__webpack_require__(116),Sleeping=__webpack_require__(267),Common=__webpack_require__(50),Bounds=__webpack_require__(117),Axes=__webpack_require__(585);(function(){Body._inertiaScale=4;Body._nextCollidingGroupId=1;Body._nextNonCollidingGroupId=
-1;Body._nextCategory=1;Body.create=function(options){var defaults={id:Common.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,
collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,
ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!options.hasOwnProperty("position")&&options.hasOwnProperty("vertices")?options.position=Vertices.centre(options.vertices):options.hasOwnProperty("vertices")||(defaults.vertices=Vertices.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));defaults=Common.extend(defaults,options);_initProperties(defaults,options);defaults.setOnCollideWith=function(body,callback){callback?this.onCollideWith[body.id]=
callback:delete this.onCollideWith[body.id];return this};return defaults};Body.nextGroup=function(isNonColliding){return isNonColliding?Body._nextNonCollidingGroupId--:Body._nextCollidingGroupId++};Body.nextCategory=function(){Body._nextCategory<<=1;return Body._nextCategory};var _initProperties=function(body,options){options=options||{};Body.set(body,{bounds:body.bounds||Bounds.create(body.vertices),positionPrev:body.positionPrev||Vector.clone(body.position),anglePrev:body.anglePrev||body.angle,
vertices:body.vertices,parts:body.parts||[body],isStatic:body.isStatic,isSleeping:body.isSleeping,parent:body.parent||body});var bounds=body.bounds;Vertices.rotate(body.vertices,body.angle,body.position);Axes.rotate(body.axes,body.angle);Bounds.update(bounds,body.vertices,body.velocity);Body.set(body,{axes:options.axes||body.axes,area:options.area||body.area,mass:options.mass||body.mass,inertia:options.inertia||body.inertia});if(1===body.parts.length){options=body.centerOfMass;var centerOffset=body.centerOffset,
bodyWidth=bounds.max.x-bounds.min.x,bodyHeight=bounds.max.y-bounds.min.y;options.x=-(bounds.min.x-body.position.x)/bodyWidth;options.y=-(bounds.min.y-body.position.y)/bodyHeight;centerOffset.x=bodyWidth*options.x;centerOffset.y=bodyHeight*options.y}};Body.set=function(body,settings,value){if("string"===typeof settings){var property=settings;settings={};settings[property]=value}for(property in settings)if(Object.prototype.hasOwnProperty.call(settings,property))switch(value=settings[property],property){case "isStatic":Body.setStatic(body,
value);break;case "isSleeping":Sleeping.set(body,value);break;case "mass":Body.setMass(body,value);break;case "density":Body.setDensity(body,value);break;case "inertia":Body.setInertia(body,value);break;case "vertices":Body.setVertices(body,value);break;case "position":Body.setPosition(body,value);break;case "angle":Body.setAngle(body,value);break;case "velocity":Body.setVelocity(body,value);break;case "angularVelocity":Body.setAngularVelocity(body,value);break;case "parts":Body.setParts(body,value);
break;case "centre":Body.setCentre(body,value);break;default:body[property]=value}};Body.setStatic=function(body,isStatic){for(var i=0;i<body.parts.length;i++){var part=body.parts[i];(part.isStatic=isStatic)?(part._original={restitution:part.restitution,friction:part.friction,mass:part.mass,inertia:part.inertia,density:part.density,inverseMass:part.inverseMass,inverseInertia:part.inverseInertia},part.restitution=0,part.friction=1,part.mass=part.inertia=part.density=Infinity,part.inverseMass=part.inverseInertia=
0,part.positionPrev.x=part.position.x,part.positionPrev.y=part.position.y,part.anglePrev=part.angle,part.angularVelocity=0,part.speed=0,part.angularSpeed=0,part.motion=0):part._original&&(part.restitution=part._original.restitution,part.friction=part._original.friction,part.mass=part._original.mass,part.inertia=part._original.inertia,part.density=part._original.density,part.inverseMass=part._original.inverseMass,part.inverseInertia=part._original.inverseInertia,part._original=null)}};Body.setMass=
function(body,mass){body.inertia=body.inertia/(body.mass/6)*(mass/6);body.inverseInertia=1/body.inertia;body.mass=mass;body.inverseMass=1/body.mass;body.density=body.mass/body.area};Body.setDensity=function(body,density){Body.setMass(body,density*body.area);body.density=density};Body.setInertia=function(body,inertia){body.inertia=inertia;body.inverseInertia=1/body.inertia};Body.setVertices=function(body,vertices){body.vertices=vertices[0].body===body?vertices:Vertices.create(vertices,body);body.axes=
Axes.fromVertices(body.vertices);body.area=Vertices.area(body.vertices);Body.setMass(body,body.density*body.area);vertices=Vertices.centre(body.vertices);Vertices.translate(body.vertices,vertices,-1);Body.setInertia(body,Body._inertiaScale*Vertices.inertia(body.vertices,body.mass));Vertices.translate(body.vertices,body.position);Bounds.update(body.bounds,body.vertices,body.velocity)};Body.setParts=function(body,parts,autoHull){var i;parts=parts.slice(0);body.parts.length=0;body.parts.push(body);body.parent=
body;for(i=0;i<parts.length;i++){var part=parts[i];part!==body&&(part.parent=body,body.parts.push(part))}if(1!==body.parts.length){if("undefined"!==typeof autoHull?autoHull:1){autoHull=[];for(i=0;i<parts.length;i++)autoHull=autoHull.concat(parts[i].vertices);Vertices.clockwiseSort(autoHull);parts=Vertices.hull(autoHull);i=Vertices.centre(parts);Body.setVertices(body,parts);Vertices.translate(body.vertices,i)}parts=Body._totalProperties(body);i=parts.centre.x;autoHull=parts.centre.y;part=body.bounds;
var centerOfMass=body.centerOfMass,centerOffset=body.centerOffset;Bounds.update(part,body.vertices,body.velocity);centerOfMass.x=-(part.min.x-i)/(part.max.x-part.min.x);centerOfMass.y=-(part.min.y-autoHull)/(part.max.y-part.min.y);centerOffset.x=i;centerOffset.y=autoHull;body.area=parts.area;body.parent=body;body.position.x=i;body.position.y=autoHull;body.positionPrev.x=i;body.positionPrev.y=autoHull;Body.setMass(body,parts.mass);Body.setInertia(body,parts.inertia);Body.setPosition(body,parts.centre)}};
Body.setCentre=function(body,centre,relative){relative?(body.positionPrev.x+=centre.x,body.positionPrev.y+=centre.y,body.position.x+=centre.x,body.position.y+=centre.y):(body.positionPrev.x=centre.x-(body.position.x-body.positionPrev.x),body.positionPrev.y=centre.y-(body.position.y-body.positionPrev.y),body.position.x=centre.x,body.position.y=centre.y)};Body.setPosition=function(body,position){position=Vector.sub(position,body.position);body.positionPrev.x+=position.x;body.positionPrev.y+=position.y;
for(var i=0;i<body.parts.length;i++){var part=body.parts[i];part.position.x+=position.x;part.position.y+=position.y;Vertices.translate(part.vertices,position);Bounds.update(part.bounds,part.vertices,body.velocity)}};Body.setAngle=function(body,angle){angle-=body.angle;body.anglePrev+=angle;for(var i=0;i<body.parts.length;i++){var part=body.parts[i];part.angle+=angle;Vertices.rotate(part.vertices,angle,body.position);Axes.rotate(part.axes,angle);Bounds.update(part.bounds,part.vertices,body.velocity);
0<i&&Vector.rotateAbout(part.position,angle,body.position,part.position)}};Body.setVelocity=function(body,velocity){body.positionPrev.x=body.position.x-velocity.x;body.positionPrev.y=body.position.y-velocity.y;body.velocity.x=velocity.x;body.velocity.y=velocity.y;body.speed=Vector.magnitude(body.velocity)};Body.setAngularVelocity=function(body,velocity){body.anglePrev=body.angle-velocity;body.angularVelocity=velocity;body.angularSpeed=Math.abs(body.angularVelocity)};Body.translate=function(body,translation){Body.setPosition(body,
Vector.add(body.position,translation))};Body.rotate=function(body,rotation,point){if(point){var cos=Math.cos(rotation),sin=Math.sin(rotation),dx=body.position.x-point.x,dy=body.position.y-point.y;Body.setPosition(body,{x:point.x+(dx*cos-dy*sin),y:point.y+(dx*sin+dy*cos)})}Body.setAngle(body,body.angle+rotation)};Body.scale=function(body,scaleX,scaleY,point){var totalArea=0,totalInertia=0;point=point||body.position;for(var i=0;i<body.parts.length;i++){var part=body.parts[i];part.scale.x=scaleX;part.scale.y=
scaleY;Vertices.scale(part.vertices,scaleX,scaleY,point);part.axes=Axes.fromVertices(part.vertices);part.area=Vertices.area(part.vertices);Body.setMass(part,body.density*part.area);Vertices.translate(part.vertices,{x:-part.position.x,y:-part.position.y});Body.setInertia(part,Body._inertiaScale*Vertices.inertia(part.vertices,part.mass));Vertices.translate(part.vertices,{x:part.position.x,y:part.position.y});0<i&&(totalArea+=part.area,totalInertia+=part.inertia);part.position.x=point.x+(part.position.x-
point.x)*scaleX;part.position.y=point.y+(part.position.y-point.y)*scaleY;Bounds.update(part.bounds,part.vertices,body.velocity)}1<body.parts.length&&(body.area=totalArea,body.isStatic||(Body.setMass(body,body.density*totalArea),Body.setInertia(body,totalInertia)));body.circleRadius&&(body.circleRadius=scaleX===scaleY?body.circleRadius*scaleX:null)};Body.update=function(body,deltaTime,timeScale,correction){deltaTime=Math.pow(deltaTime*timeScale*body.timeScale,2);timeScale=1-body.frictionAir*timeScale*
body.timeScale;var velocityPrevY=body.position.y-body.positionPrev.y;body.velocity.x=(body.position.x-body.positionPrev.x)*timeScale*correction+body.force.x/body.mass*deltaTime;body.velocity.y=velocityPrevY*timeScale*correction+body.force.y/body.mass*deltaTime;body.positionPrev.x=body.position.x;body.positionPrev.y=body.position.y;body.position.x+=body.velocity.x;body.position.y+=body.velocity.y;body.angularVelocity=(body.angle-body.anglePrev)*timeScale*correction+body.torque/body.inertia*deltaTime;
body.anglePrev=body.angle;body.angle+=body.angularVelocity;body.speed=Vector.magnitude(body.velocity);body.angularSpeed=Math.abs(body.angularVelocity);for(correction=0;correction<body.parts.length;correction++)deltaTime=body.parts[correction],Vertices.translate(deltaTime.vertices,body.velocity),0<correction&&(deltaTime.position.x+=body.velocity.x,deltaTime.position.y+=body.velocity.y),0!==body.angularVelocity&&(Vertices.rotate(deltaTime.vertices,body.angularVelocity,body.position),Axes.rotate(deltaTime.axes,
body.angularVelocity),0<correction&&Vector.rotateAbout(deltaTime.position,body.angularVelocity,body.position,deltaTime.position)),Bounds.update(deltaTime.bounds,deltaTime.vertices,body.velocity)};Body.applyForce=function(body,position,force){body.force.x+=force.x;body.force.y+=force.y;body.torque+=(position.x-body.position.x)*force.y-(position.y-body.position.y)*force.x};Body._totalProperties=function(body){for(var properties={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===body.parts.length?0:1;i<
body.parts.length;i++){var part=body.parts[i],mass=Infinity!==part.mass?part.mass:1;properties.mass+=mass;properties.area+=part.area;properties.inertia+=part.inertia;properties.centre=Vector.add(properties.centre,Vector.mult(part.position,mass))}properties.centre=Vector.div(properties.centre,properties.mass);return properties}})()},function(module,exports){module.exports=function(tile,collides){collides?tile.setCollision(!0,!0,!0,!0,!1):tile.resetCollision(!1)}},function(module,exports,__webpack_require__){var AnimationState=
__webpack_require__(162);exports=__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15);__webpack_require__=__webpack_require__(1059);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.ScrollFactor,Components.Size,Components.TextureCrop,Components.Tint,Components.Transform,Components.Visible,
__webpack_require__],initialize:function(scene,x,y,texture,frame){GameObject.call(this,scene,"Sprite");this._crop=this.resetCropObject();this.anims=new AnimationState(this);this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.setOriginFromFrame();this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(time,delta){this.anims.update(time,delta)},play:function(key,
ignoreIfPlaying){return this.anims.play(key,ignoreIfPlaying)},playReverse:function(key,ignoreIfPlaying){return this.anims.playReverse(key,ignoreIfPlaying)},playAfterDelay:function(key,delay){return this.anims.playAfterDelay(key,delay)},playAfterRepeat:function(key,repeatCount){return this.anims.playAfterRepeat(key,repeatCount)},chain:function(key){return this.anims.chain(key)},stop:function(){return this.anims.stop()},stopAfterDelay:function(delay){return this.anims.stopAfterDelay(delay)},stopAfterRepeat:function(repeatCount){return this.anims.stopAfterRepeat(repeatCount)},
stopOnFrame:function(frame){return this.anims.stopOnFrame(frame)},toJSON:function(){return Components.ToJSON(this)},preDestroy:function(){this.anims.destroy();this.anims=void 0}});module.exports=__webpack_require__},function(module,exports){module.exports=function(array,index){if(!(index>=array.length)){for(var len=array.length-1,item=array[index];index<len;index++)array[index]=array[index+1];array.length=len;return item}}},function(module,exports,__webpack_require__){module.exports={ADDED_TO_SCENE:__webpack_require__(641),
DESTROY:__webpack_require__(642),REMOVED_FROM_SCENE:__webpack_require__(643),VIDEO_COMPLETE:__webpack_require__(644),VIDEO_CREATED:__webpack_require__(645),VIDEO_ERROR:__webpack_require__(646),VIDEO_LOOP:__webpack_require__(647),VIDEO_PLAY:__webpack_require__(648),VIDEO_SEEKED:__webpack_require__(649),VIDEO_SEEKING:__webpack_require__(650),VIDEO_STOP:__webpack_require__(651),VIDEO_TIMEOUT:__webpack_require__(652),VIDEO_UNLOCKED:__webpack_require__(653)}},function(module,exports){module.exports=function(value,
gap,start,divide){void 0===start&&(start=0);if(0===gap)return value;value=gap*Math.floor((value-start)/gap);return divide?(start+value)/gap:start+value}},function(module,exports){module.exports=function(obj){var clone={},key;for(key in obj)Array.isArray(obj[key])?clone[key]=obj[key].slice(0):clone[key]=obj[key];return clone}},function(module,exports){module.exports=function(array,startIndex,endIndex,throwError){array=array.length;if(0>startIndex||startIndex>array||startIndex>=endIndex||endIndex>array||
startIndex+endIndex>array){if(throwError)throw Error("Range Error: Values outside acceptable range");return!1}return!0}},function(module,exports){function Compare(a,b){return String(a).localeCompare(b)}function RunPass(arr,comp,chk,result){var len=arr.length,i=0,dbl=2*chk,l,ri;for(l=0;l<len;l+=dbl){var r=l+chk;var e=r+chk;r>len&&(r=len);e>len&&(e=len);var li=l;for(ri=r;;)if(li<r&&ri<e)0>=comp(arr[li],arr[ri])?result[i++]=arr[li++]:result[i++]=arr[ri++];else if(li<r)result[i++]=arr[li++];else if(ri<
e)result[i++]=arr[ri++];else break}}module.exports=function(array,compare){void 0===compare&&(compare=Compare);var result=array;var len=result.length;if(!(1>=len))for(var buffer=Array(len),chk=1;chk<len;chk*=2){RunPass(result,compare,chk,buffer);var tmp=result;result=buffer;buffer=tmp}result!==array&&RunPass(result,null,array.length,array);return array}},function(module,exports,__webpack_require__){var EaseMap=__webpack_require__(132),UppercaseFirst=__webpack_require__(202);module.exports=function(ease,
easeParams){var easeFunction=EaseMap.Power0;if("string"===typeof ease)if(EaseMap.hasOwnProperty(ease))easeFunction=EaseMap[ease];else{var direction="";ease.indexOf(".")&&(direction=ease.substr(ease.indexOf(".")+1),"in"===direction.toLowerCase()?direction="easeIn":"out"===direction.toLowerCase()?direction="easeOut":"inout"===direction.toLowerCase()&&(direction="easeInOut"));ease=UppercaseFirst(ease.substr(0,ease.indexOf(".")+1)+direction);EaseMap.hasOwnProperty(ease)&&(easeFunction=EaseMap[ease])}else"function"===
typeof ease?easeFunction=ease:Array.isArray(ease);if(!easeParams)return easeFunction;var cloneParams=easeParams.slice(0);cloneParams.unshift(0);return function(v){cloneParams[0]=v;return easeFunction.apply(this,cloneParams)}}},function(module,exports,__webpack_require__){var Utils=__webpack_require__(12);module.exports=function(pipeline,src,alpha,dx,dy){var strokeTint=pipeline.strokeTint;alpha=Utils.getTintAppendFloatAlpha(src.strokeColor,src.strokeAlpha*alpha);strokeTint.TL=alpha;strokeTint.TR=alpha;
strokeTint.BL=alpha;strokeTint.BR=alpha;strokeTint=src.pathData;alpha=strokeTint.length-1;var lineWidth=src.lineWidth,halfLineWidth=lineWidth/2,px1=strokeTint[0]-dx,py1=strokeTint[1]-dy;src.closePath||(alpha-=2);for(var i=2;i<alpha;i+=2){var px2=strokeTint[i]-dx,py2=strokeTint[i+1]-dy;pipeline.batchLine(px1,py1,px2,py2,halfLineWidth,halfLineWidth,lineWidth,i-2,src.closePath?i===alpha-1:!1);px1=px2;py1=py2}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Contains=
__webpack_require__(112),GetPoint=__webpack_require__(470),GetPoints=__webpack_require__(471),GEOM_CONST=__webpack_require__(55),Line=__webpack_require__(45),Random=__webpack_require__(178);__webpack_require__=new exports({initialize:function(x1,y1,x2,y2,x3,y3){void 0===x1&&(x1=0);void 0===y1&&(y1=0);void 0===x2&&(x2=0);void 0===y2&&(y2=0);void 0===x3&&(x3=0);void 0===y3&&(y3=0);this.type=GEOM_CONST.TRIANGLE;this.x1=x1;this.y1=y1;this.x2=x2;this.y2=y2;this.x3=x3;this.y3=y3},contains:function(x,y){return Contains(this,
x,y)},getPoint:function(position,output){return GetPoint(this,position,output)},getPoints:function(quantity,stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x1,y1,x2,y2,x3,y3){void 0===x1&&(x1=0);void 0===y1&&(y1=0);void 0===x2&&(x2=0);void 0===y2&&(y2=0);void 0===x3&&(x3=0);void 0===y3&&(y3=0);this.x1=x1;this.y1=y1;this.x2=x2;this.y2=y2;this.x3=x3;this.y3=y3;return this},getLineA:function(line){void 0===line&&
(line=new Line);line.setTo(this.x1,this.y1,this.x2,this.y2);return line},getLineB:function(line){void 0===line&&(line=new Line);line.setTo(this.x2,this.y2,this.x3,this.y3);return line},getLineC:function(line){void 0===line&&(line=new Line);line.setTo(this.x3,this.y3,this.x1,this.y1);return line},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(value){value=this.x1<=this.x2&&this.x1<=this.x3?this.x1-value:this.x2<=this.x1&&this.x2<=this.x3?this.x2-value:this.x3-value;this.x1-=
value;this.x2-=value;this.x3-=value}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(value){value=this.x1>=this.x2&&this.x1>=this.x3?this.x1-value:this.x2>=this.x1&&this.x2>=this.x3?this.x2-value:this.x3-value;this.x1-=value;this.x2-=value;this.x3-=value}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(value){value=this.y1<=this.y2&&this.y1<=this.y3?this.y1-value:this.y2<=this.y1&&this.y2<=this.y3?this.y2-value:this.y3-value;this.y1-=value;
this.y2-=value;this.y3-=value}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(value){value=this.y1>=this.y2&&this.y1>=this.y3?this.y1-value:this.y2>=this.y1&&this.y2>=this.y3?this.y2-value:this.y3-value;this.y1-=value;this.y2-=value;this.y3-=value}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CONST=__webpack_require__(29);exports=__webpack_require__(0);var Components=__webpack_require__(11),Rectangle=__webpack_require__(496);
__webpack_require__=new exports({Mixins:[Components.Alpha,Components.Flip,Components.Visible],initialize:function(layer,index,x,y,width,height,baseWidth,baseHeight){this.layer=layer;this.index=index;this.x=x;this.y=y;this.width=width;this.height=height;this.baseWidth=void 0!==baseWidth?baseWidth:width;this.baseHeight=void 0!==baseHeight?baseHeight:height;this.pixelY=this.pixelX=0;this.updatePixelXY();this.properties={};this.rotation=0;this.faceBottom=this.faceTop=this.faceRight=this.faceLeft=this.collideDown=
this.collideUp=this.collideRight=this.collideLeft=!1;this.collisionCallback=void 0;this.collisionCallbackContext=this;this.tint=16777215;this.physics={}},containsPoint:function(x,y){return!(x<this.pixelX||y<this.pixelY||x>this.right||y>this.bottom)},copy:function(tile){this.index=tile.index;this.alpha=tile.alpha;this.properties=tile.properties;this.visible=tile.visible;this.setFlip(tile.flipX,tile.flipY);this.tint=tile.tint;this.rotation=tile.rotation;this.collideUp=tile.collideUp;this.collideDown=
tile.collideDown;this.collideLeft=tile.collideLeft;this.collideRight=tile.collideRight;this.collisionCallback=tile.collisionCallback;this.collisionCallbackContext=tile.collisionCallbackContext;return this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(camera){var tilemapLayer=this.tilemapLayer;return tilemapLayer?tilemapLayer.tileToWorldX(this.x,
camera):this.x*this.baseWidth},getRight:function(camera){var tilemapLayer=this.tilemapLayer;return tilemapLayer?this.getLeft(camera)+this.width*tilemapLayer.scaleX:this.getLeft(camera)+this.width},getTop:function(camera){var tilemapLayer=this.tilemapLayer;return tilemapLayer?tilemapLayer.tileToWorldY(this.y,camera)-(this.height-this.baseHeight)*tilemapLayer.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(camera){var tilemapLayer=this.tilemapLayer;return tilemapLayer?
this.getTop(camera)+this.height*tilemapLayer.scaleY:this.getTop(camera)+this.height},getBounds:function(camera,output){void 0===output&&(output=new Rectangle);output.x=this.getLeft();output.y=this.getTop();output.width=this.getRight()-output.x;output.height=this.getBottom()-output.y;return output},getCenterX:function(camera){return(this.getLeft(camera)+this.getRight(camera))/2},getCenterY:function(camera){return(this.getTop(camera)+this.getBottom(camera))/2},intersects:function(x,y,right,bottom){return!(right<=
this.pixelX||bottom<=this.pixelY||x>=this.right||y>=this.bottom)},isInteresting:function(collides,faces){return collides&&faces?this.canCollide||this.hasInterestingFace:collides?this.collides:faces?this.hasInterestingFace:!1},resetCollision:function(recalculateFaces){void 0===recalculateFaces&&(recalculateFaces=!0);this.faceRight=this.faceLeft=this.faceBottom=this.faceTop=this.collideDown=this.collideUp=this.collideRight=this.collideLeft=!1;recalculateFaces&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,
this.y);return this},resetFaces:function(){this.faceRight=this.faceLeft=this.faceBottom=this.faceTop=!1;return this},setCollision:function(left,right,up,down,recalculateFaces){void 0===right&&(right=left);void 0===up&&(up=left);void 0===down&&(down=left);void 0===recalculateFaces&&(recalculateFaces=!0);this.collideLeft=left;this.collideRight=right;this.collideUp=up;this.collideDown=down;this.faceLeft=left;this.faceRight=right;this.faceTop=up;this.faceBottom=down;recalculateFaces&&this.tilemapLayer&&
this.tilemapLayer.calculateFacesAt(this.x,this.y);return this},setCollisionCallback:function(callback,context){null===callback?this.collisionCallbackContext=this.collisionCallback=void 0:(this.collisionCallback=callback,this.collisionCallbackContext=context);return this},setSize:function(tileWidth,tileHeight,baseWidth,baseHeight){void 0!==tileWidth&&(this.width=tileWidth);void 0!==tileHeight&&(this.height=tileHeight);void 0!==baseWidth&&(this.baseWidth=baseWidth);void 0!==baseHeight&&(this.baseHeight=
baseHeight);this.updatePixelXY();return this},updatePixelXY:function(){var orientation=this.layer.orientation;orientation===CONST.ORTHOGONAL?(this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight):orientation===CONST.ISOMETRIC?(this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5):orientation===CONST.STAGGERED?(this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.baseHeight/2*this.y):orientation===CONST.HEXAGONAL&&(orientation=
this.layer.hexSideLength,orientation=(this.baseHeight-orientation)/2+orientation,this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*orientation);this.right=this.pixelX+this.baseWidth;this.bottom=this.pixelY+this.baseHeight;return this},destroy:function(){this.properties=this.collisionCallbackContext=this.collisionCallback=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},
collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var tilemapLayer=this.layer.tilemapLayer;return tilemapLayer&&(tilemapLayer=tilemapLayer.gidMap[this.index])?tilemapLayer:null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var tilemapLayer=this.tilemapLayer;return tilemapLayer?
tilemapLayer.tilemap:null}}});module.exports=__webpack_require__},function(module,exports){module.exports=function(gameObject){return gameObject.x-gameObject.width*gameObject.originX+.5*gameObject.width}},function(module,exports){module.exports=function(gameObject,x){gameObject.x=x+gameObject.width*gameObject.originX-.5*gameObject.width;return gameObject}},function(module,exports){module.exports=function(gameObject){return gameObject.y-gameObject.height*gameObject.originY+.5*gameObject.height}},function(module,
exports){module.exports=function(gameObject,y){gameObject.y=y+gameObject.height*gameObject.originY-.5*gameObject.height;return gameObject}},function(module,exports,__webpack_require__){module.exports={POST_RENDER:__webpack_require__(626),PRE_RENDER:__webpack_require__(627),RENDER:__webpack_require__(628),RESIZE:__webpack_require__(629)}},function(module,exports,__webpack_require__){var SpliceOne=__webpack_require__(74);module.exports=function(array,item,callback,context){void 0===context&&(context=
array);if(!Array.isArray(item)){var index=array.indexOf(item);return-1!==index?(SpliceOne(array,index),callback&&callback.call(context,item),item):null}for(var itemLength=item.length-1,removed=[];0<=itemLength;){var entry=item[itemLength];index=array.indexOf(entry);-1!==index&&(SpliceOne(array,index),removed.push(entry),callback&&callback.call(context,entry));itemLength--}return removed}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FromPoints=__webpack_require__(196),
Rectangle=__webpack_require__(10),Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(type){this.type=type;this.defaultDivisions=5;this.arcLengthDivisions=100;this.cacheArcLengths=[];this.active=this.needsUpdate=!0;this._tmpVec2A=new Vector2;this._tmpVec2B=new Vector2},draw:function(graphics,pointsTotal){void 0===pointsTotal&&(pointsTotal=32);return graphics.strokePoints(this.getPoints(pointsTotal))},getBounds:function(out,accuracy){out||(out=new Rectangle);void 0===
accuracy&&(accuracy=16);var len=this.getLength();accuracy>len&&(accuracy=len/2);return FromPoints(this.getSpacedPoints(Math.max(1,Math.round(len/accuracy))),out)},getDistancePoints:function(distance){var len=this.getLength();return this.getSpacedPoints(Math.max(1,len/distance))},getEndPoint:function(out){void 0===out&&(out=new Vector2);return this.getPointAt(1,out)},getLength:function(){var lengths=this.getLengths();return lengths[lengths.length-1]},getLengths:function(divisions){void 0===divisions&&
(divisions=this.arcLengthDivisions);if(this.cacheArcLengths.length===divisions+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var cache=[],last=this.getPoint(0,this._tmpVec2A),sum=0;cache.push(0);for(var p=1;p<=divisions;p++){var current=this.getPoint(p/divisions,this._tmpVec2B);sum+=current.distance(last);cache.push(sum);last.copy(current)}return this.cacheArcLengths=cache},getPointAt:function(u,out){u=this.getUtoTmapping(u);return this.getPoint(u,out)},getPoints:function(divisions,
stepRate,out){void 0===out&&(out=[]);divisions||(divisions=stepRate?this.getLength()/stepRate:this.defaultDivisions);for(stepRate=0;stepRate<=divisions;stepRate++)out.push(this.getPoint(stepRate/divisions));return out},getRandomPoint:function(out){void 0===out&&(out=new Vector2);return this.getPoint(Math.random(),out)},getSpacedPoints:function(divisions,stepRate,out){void 0===out&&(out=[]);divisions||(divisions=stepRate?this.getLength()/stepRate:this.defaultDivisions);for(stepRate=0;stepRate<=divisions;stepRate++){var t=
this.getUtoTmapping(stepRate/divisions,null,divisions);out.push(this.getPoint(t))}return out},getStartPoint:function(out){void 0===out&&(out=new Vector2);return this.getPointAt(0,out)},getTangent:function(t,out){void 0===out&&(out=new Vector2);var t1=t-1E-4;t+=1E-4;0>t1&&(t1=0);1<t&&(t=1);this.getPoint(t1,this._tmpVec2A);this.getPoint(t,out);return out.subtract(this._tmpVec2A).normalize()},getTangentAt:function(u,out){u=this.getUtoTmapping(u);return this.getTangent(u,out)},getTFromDistance:function(distance,
divisions){return 0>=distance?0:this.getUtoTmapping(0,distance,divisions)},getUtoTmapping:function(u,distance,divisions){divisions=this.getLengths(divisions);var il=divisions.length;distance=distance?Math.min(distance,divisions[il-1]):u*divisions[il-1];for(var low=0,high=il-1,comparison;low<=high;)if(u=Math.floor(low+(high-low)/2),comparison=divisions[u]-distance,0>comparison)low=u+1;else if(0<comparison)high=u-1;else{high=u;break}u=high;if(divisions[u]===distance)return u/(il-1);low=divisions[u];
return(u+(distance-low)/(divisions[u+1]-low))/(il-1)},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={ADD:__webpack_require__(964),COMPLETE:__webpack_require__(965),FILE_COMPLETE:__webpack_require__(966),FILE_KEY_COMPLETE:__webpack_require__(967),FILE_LOAD_ERROR:__webpack_require__(968),FILE_LOAD:__webpack_require__(969),FILE_PROGRESS:__webpack_require__(970),POST_PROCESS:__webpack_require__(971),
PROGRESS:__webpack_require__(972),START:__webpack_require__(973)}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(line1,line2,out){void 0===out&&(out=new Point);var x1=line1.x1,y1=line1.y1,x2=line1.x2;line1=line1.y2;var x3=line2.x1,y3=line2.y1,x4=line2.x2,y4=line2.y2;line2=(y4-y3)*(x2-x1)-(x4-x3)*(line1-y1);if(0===line2)return!1;x4=((x4-x3)*(y1-y3)-(y4-y3)*(x1-x3))/line2;x3=((x2-x1)*(y1-y3)-(line1-y1)*(x1-x3))/line2;return 0<=x4&&1>=x4&&0<=x3&&
1>=x3?(out.x=x1+x4*(x2-x1),out.y=y1+x4*(line1-y1),!0):!1}},function(module,exports){module.exports=function(line){return Math.atan2(line.y2-line.y1,line.x2-line.x1)}},function(module,exports,__webpack_require__){var Vertices={};module.exports=Vertices;var Vector=__webpack_require__(116),Common=__webpack_require__(50);(function(){Vertices.create=function(points,body){for(var vertices=[],i=0;i<points.length;i++){var point=points[i];point={x:point.x,y:point.y,index:i,body:body,isInternal:!1,contact:null,
offset:null};point.contact={vertex:point,normalImpulse:0,tangentImpulse:0};vertices.push(point)}return vertices};Vertices.fromPath=function(path,body){var points=[];path.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,function(match,x,y){points.push({x:parseFloat(x),y:parseFloat(y)})});return Vertices.create(points,body)};Vertices.centre=function(vertices){for(var area=Vertices.area(vertices,!0),centre={x:0,y:0},cross,j,i=0;i<vertices.length;i++)j=(i+1)%vertices.length,cross=Vector.cross(vertices[i],
vertices[j]),cross=Vector.mult(Vector.add(vertices[i],vertices[j]),cross),centre=Vector.add(centre,cross);return Vector.div(centre,6*area)};Vertices.mean=function(vertices){for(var average={x:0,y:0},i=0;i<vertices.length;i++)average.x+=vertices[i].x,average.y+=vertices[i].y;return Vector.div(average,vertices.length)};Vertices.area=function(vertices,signed){for(var area=0,j=vertices.length-1,i=0;i<vertices.length;i++)area+=(vertices[j].x-vertices[i].x)*(vertices[j].y+vertices[i].y),j=i;return signed?
area/2:Math.abs(area)/2};Vertices.inertia=function(vertices,mass){for(var numerator=0,denominator=0,cross,j,n=0;n<vertices.length;n++)j=(n+1)%vertices.length,cross=Math.abs(Vector.cross(vertices[j],vertices[n])),numerator+=cross*(Vector.dot(vertices[j],vertices[j])+Vector.dot(vertices[j],vertices[n])+Vector.dot(vertices[n],vertices[n])),denominator+=cross;return mass/6*(numerator/denominator)};Vertices.translate=function(vertices,vector,scalar){var i;if(scalar)for(i=0;i<vertices.length;i++)vertices[i].x+=
vector.x*scalar,vertices[i].y+=vector.y*scalar;else for(i=0;i<vertices.length;i++)vertices[i].x+=vector.x,vertices[i].y+=vector.y;return vertices};Vertices.rotate=function(vertices,angle,point){if(0!==angle){var cos=Math.cos(angle);angle=Math.sin(angle);for(var i=0;i<vertices.length;i++){var vertice=vertices[i],dx=vertice.x-point.x,dy=vertice.y-point.y;vertice.x=point.x+(dx*cos-dy*angle);vertice.y=point.y+(dx*angle+dy*cos)}return vertices}};Vertices.contains=function(vertices,point){for(var i=0;i<
vertices.length;i++){var vertice=vertices[i],nextVertice=vertices[(i+1)%vertices.length];if(0<(point.x-vertice.x)*(nextVertice.y-vertice.y)+(point.y-vertice.y)*(vertice.x-nextVertice.x))return!1}return!0};Vertices.scale=function(vertices,scaleX,scaleY,point){if(1===scaleX&&1===scaleY)return vertices;point=point||Vertices.centre(vertices);for(var vertex,i=0;i<vertices.length;i++)vertex=vertices[i],vertex=Vector.sub(vertex,point),vertices[i].x=point.x+vertex.x*scaleX,vertices[i].y=point.y+vertex.y*
scaleY;return vertices};Vertices.chamfer=function(vertices,radius,quality,qualityMin,qualityMax){radius="number"===typeof radius?[radius]:radius||[8];quality="undefined"!==typeof quality?quality:-1;qualityMin=qualityMin||2;qualityMax=qualityMax||14;for(var newVertices=[],i=0;i<vertices.length;i++){var prevVertex=vertices[0<=i-1?i-1:vertices.length-1],vertex=vertices[i],nextVertex=vertices[(i+1)%vertices.length],currentRadius=radius[i<radius.length?i:radius.length-1];if(0===currentRadius)newVertices.push(vertex);
else{prevVertex=Vector.normalise({x:vertex.y-prevVertex.y,y:prevVertex.x-vertex.x});var nextNormal=Vector.normalise({x:nextVertex.y-vertex.y,y:vertex.x-nextVertex.x}),diagonalRadius=Math.sqrt(2*Math.pow(currentRadius,2));nextVertex=Vector.mult(Common.clone(prevVertex),currentRadius);var midNormal=Vector.normalise(Vector.mult(Vector.add(prevVertex,nextNormal),.5));vertex=Vector.sub(vertex,Vector.mult(midNormal,diagonalRadius));diagonalRadius=quality;-1===quality&&(diagonalRadius=1.75*Math.pow(currentRadius,
.32));diagonalRadius=Common.clamp(diagonalRadius,qualityMin,qualityMax);1===diagonalRadius%2&&(diagonalRadius+=1);currentRadius=Math.acos(Vector.dot(prevVertex,nextNormal))/diagonalRadius;for(prevVertex=0;prevVertex<diagonalRadius;prevVertex++)newVertices.push(Vector.add(Vector.rotate(nextVertex,currentRadius*prevVertex),vertex))}}return newVertices};Vertices.clockwiseSort=function(vertices){var centre=Vertices.mean(vertices);vertices.sort(function(vertexA,vertexB){return Vector.angle(centre,vertexA)-
Vector.angle(centre,vertexB)});return vertices};Vertices.isConvex=function(vertices){var flag=0,n=vertices.length,i;if(3>n)return null;for(i=0;i<n;i++){var j=(i+1)%n;var k=(i+2)%n;var z=(vertices[j].x-vertices[i].x)*(vertices[k].y-vertices[j].y);z-=(vertices[j].y-vertices[i].y)*(vertices[k].x-vertices[j].x);0>z?flag|=1:0<z&&(flag|=2);if(3===flag)return!1}return 0!==flag?!0:null};Vertices.hull=function(vertices){var upper=[],lower=[],vertex,i;vertices=vertices.slice(0);vertices.sort(function(vertexA,
vertexB){var dx=vertexA.x-vertexB.x;return 0!==dx?dx:vertexA.y-vertexB.y});for(i=0;i<vertices.length;i+=1){for(vertex=vertices[i];2<=lower.length&&0>=Vector.cross3(lower[lower.length-2],lower[lower.length-1],vertex);)lower.pop();lower.push(vertex)}for(i=vertices.length-1;0<=i;--i){for(vertex=vertices[i];2<=upper.length&&0>=Vector.cross3(upper[upper.length-2],upper[upper.length-1],vertex);)upper.pop();upper.push(vertex)}upper.pop();lower.pop();return upper.concat(lower)}})()},function(module,exports,
__webpack_require__){var Clamp=__webpack_require__(18);module.exports=function(percent,min,max){percent=Clamp(percent,0,1);return(max-min)*percent}},function(module,exports){module.exports=function(source,key,defaultValue){return source?source.hasOwnProperty(key)?source[key]:defaultValue:defaultValue}},function(module,exports){module.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,
LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Events=__webpack_require__(309);__webpack_require__=new exports({initialize:function(parent,eventEmitter){this.parent=parent;this.events=eventEmitter;eventEmitter||(this.events=parent.events?parent.events:parent);this.list={};this.values={};this._frozen=!1;if(!parent.hasOwnProperty("sys")&&this.events)this.events.once(Events.DESTROY,this.destroy,
this)},get:function(key){var list=this.list;if(Array.isArray(key)){for(var output=[],i=0;i<key.length;i++)output.push(list[key[i]]);return output}return list[key]},getAll:function(){var results={},key;for(key in this.list)this.list.hasOwnProperty(key)&&(results[key]=this.list[key]);return results},query:function(search){var results={},key;for(key in this.list)this.list.hasOwnProperty(key)&&key.match(search)&&(results[key]=this.list[key]);return results},set:function(key,data){if(this._frozen)return this;
if("string"===typeof key)return this.setValue(key,data);for(var entry in key)this.setValue(entry,key[entry]);return this},inc:function(key,data){if(this._frozen)return this;void 0===data&&(data=1);var value=this.get(key);void 0===value&&(value=0);this.set(key,value+data);return this},toggle:function(key){if(this._frozen)return this;this.set(key,!this.get(key));return this},setValue:function(key,data){if(this._frozen)return this;if(this.has(key))this.values[key]=data;else{var _this=this,list=this.list,
events=this.events,parent=this.parent;Object.defineProperty(this.values,key,{enumerable:!0,configurable:!0,get:function(){return list[key]},set:function(value){if(!_this._frozen){var previousValue=list[key];list[key]=value;events.emit(Events.CHANGE_DATA,parent,key,value,previousValue);events.emit(Events.CHANGE_DATA_KEY+key,parent,value,previousValue)}}});list[key]=data;events.emit(Events.SET_DATA,parent,key,data)}return this},each:function(callback,context){for(var args=[this.parent,null,void 0],
i=1;i<arguments.length;i++)args.push(arguments[i]);for(var key in this.list)args[1]=key,args[2]=this.list[key],callback.apply(context,args);return this},merge:function(data,overwrite){void 0===overwrite&&(overwrite=!0);for(var key in data)data.hasOwnProperty(key)&&(overwrite||!overwrite&&!this.has(key))&&this.setValue(key,data[key]);return this},remove:function(key){if(this._frozen)return this;if(Array.isArray(key))for(var i=0;i<key.length;i++)this.removeValue(key[i]);else return this.removeValue(key);
return this},removeValue:function(key){if(this.has(key)){var data=this.list[key];delete this.list[key];delete this.values[key];this.events.emit(Events.REMOVE_DATA,this.parent,key,data)}return this},pop:function(key){var data=void 0;!this._frozen&&this.has(key)&&(data=this.list[key],delete this.list[key],delete this.values[key],this.events.emit(Events.REMOVE_DATA,this.parent,key,data));return data},has:function(key){return this.list.hasOwnProperty(key)},setFreeze:function(value){this._frozen=value;
return this},reset:function(){for(var key in this.list)delete this.list[key],delete this.values[key];this._frozen=!1;return this},destroy:function(){this.reset();this.events.off(Events.CHANGE_DATA);this.events.off(Events.SET_DATA);this.events.off(Events.REMOVE_DATA);this.parent=null},freeze:{get:function(){return this._frozen},set:function(value){this._frozen=value?!0:!1}},count:{get:function(){var i=0,key;for(key in this.list)void 0!==this.list[key]&&i++;return i}}});module.exports=__webpack_require__},
function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(elements){this.entries={};this.size=0;if(Array.isArray(elements))for(var i=0;i<elements.length;i++)this.set(elements[i][0],elements[i][1])},set:function(key,value){this.has(key)||this.size++;this.entries[key]=value;return this},get:function(key){if(this.has(key))return this.entries[key]},getArray:function(){var output=[],entries=this.entries,key;for(key in entries)output.push(entries[key]);return output},
has:function(key){return this.entries.hasOwnProperty(key)},delete:function(key){this.has(key)&&(delete this.entries[key],this.size--);return this},clear:function(){Object.keys(this.entries).forEach(function(prop){delete this.entries[prop]},this);this.size=0;return this},keys:function(){return Object.keys(this.entries)},values:function(){var output=[],entries=this.entries,key;for(key in entries)output.push(entries[key]);return output},dump:function(){var entries=this.entries;console.group("Map");for(var key in entries)console.log(key,
entries[key]);console.groupEnd()},each:function(callback){var entries=this.entries,key;for(key in entries)if(!1===callback(key,entries[key]))break;return this},contains:function(value){var entries=this.entries,key;for(key in entries)if(entries[key]===value)return!0;return!1},merge:function(map,override){void 0===override&&(override=!1);var local=this.entries;map=map.entries;for(var key in map)local.hasOwnProperty(key)&&override?local[key]=map[key]:this.set(key,map[key]);return this}});module.exports=
exports},function(module,exports){module.exports=function(red,green,blue){return red<<16|green<<8|blue}},function(module,exports,__webpack_require__){module.exports={ENTER_FULLSCREEN:__webpack_require__(776),FULLSCREEN_FAILED:__webpack_require__(777),FULLSCREEN_UNSUPPORTED:__webpack_require__(778),LEAVE_FULLSCREEN:__webpack_require__(779),ORIENTATION_CHANGE:__webpack_require__(780),RESIZE:__webpack_require__(781)}},function(module,exports,__webpack_require__){exports=__webpack_require__(804);__webpack_require__=
{android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};var ua=navigator.userAgent;/Windows/.test(ua)?__webpack_require__.windows=!0:/Mac OS/.test(ua)&&!/like Mac OS/.test(ua)?navigator.maxTouchPoints&&2<navigator.maxTouchPoints?(__webpack_require__.iOS=!0,__webpack_require__.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),__webpack_require__.iOSVersion=
parseInt(RegExp.$1,10)):__webpack_require__.macOS=!0:/Android/.test(ua)?__webpack_require__.android=!0:/Linux/.test(ua)?__webpack_require__.linux=!0:/iP[ao]d|iPhone/i.test(ua)?(__webpack_require__.iOS=!0,navigator.appVersion.match(/OS (\d+)/),__webpack_require__.iOSVersion=parseInt(RegExp.$1,10),__webpack_require__.iPhone=-1!==ua.toLowerCase().indexOf("iphone"),__webpack_require__.iPad=-1!==ua.toLowerCase().indexOf("ipad")):/Kindle/.test(ua)||/\bKF[A-Z][A-Z]+/.test(ua)||/Silk.*Mobile Safari/.test(ua)?
__webpack_require__.kindle=!0:/CrOS/.test(ua)&&(__webpack_require__.chromeOS=!0);if(/Windows Phone/i.test(ua)||/IEMobile/i.test(ua))__webpack_require__.android=!1,__webpack_require__.iOS=!1,__webpack_require__.macOS=!1,__webpack_require__.windows=!0,__webpack_require__.windowsPhone=!0;var silk=/Silk/.test(ua);if(__webpack_require__.windows||__webpack_require__.macOS||__webpack_require__.linux&&!silk||__webpack_require__.chromeOS)__webpack_require__.desktop=!0;if(__webpack_require__.windowsPhone||
/Windows NT/i.test(ua)&&/Touch/i.test(ua))__webpack_require__.desktop=!1;navigator.standalone&&(__webpack_require__.webApp=!0);void 0!==window.cordova&&(__webpack_require__.cordova=!0);"undefined"!==typeof exports&&exports.versions&&exports.versions.node&&(__webpack_require__.node=!0);__webpack_require__.node&&"object"===typeof exports.versions&&(__webpack_require__.nodeWebkit=!!exports.versions["node-webkit"],__webpack_require__.electron=!!exports.versions.electron);void 0!==window.ejecta&&(__webpack_require__.ejecta=
!0);/Crosswalk/.test(ua)&&(__webpack_require__.crosswalk=!0);__webpack_require__.pixelRatio=window.devicePixelRatio||1;module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={ADD:__webpack_require__(857),ERROR:__webpack_require__(858),LOAD:__webpack_require__(859),READY:__webpack_require__(860),REMOVE:__webpack_require__(861)}},function(module,exports){module.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,
size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetFastValue=__webpack_require__(2),ShaderSourceFS=__webpack_require__(874),ShaderSourceVS=__webpack_require__(875),TransformMatrix=__webpack_require__(25),Utils=__webpack_require__(12),WEBGL_CONST=__webpack_require__(104),WebGLPipeline=__webpack_require__(57);__webpack_require__=new exports({Extends:WebGLPipeline,initialize:function(config){var renderer=
config.game.renderer,fragmentShaderSource=GetFastValue(config,"fragShader",ShaderSourceFS);config.fragShader=Utils.parseFragmentShaderMaxTextures(fragmentShaderSource,renderer.maxTextures);config.vertShader=GetFastValue(config,"vertShader",ShaderSourceVS);config.attributes=GetFastValue(config,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:WEBGL_CONST.UNSIGNED_BYTE,normalized:!0}]);WebGLPipeline.call(this,config);
this._tempMatrix1=new TransformMatrix;this._tempMatrix2=new TransformMatrix;this._tempMatrix3=new TransformMatrix},boot:function(){WebGLPipeline.prototype.boot.call(this);this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(gameObject,camera,parentTransformMatrix){this.manager.set(this,gameObject);var camMatrix=this._tempMatrix1,spriteMatrix=this._tempMatrix2,calcMatrix=this._tempMatrix3,frame=gameObject.frame,texture=frame.glTexture,u0=frame.u0,v0=frame.v0,
u1=frame.u1,v1=frame.v1,frameX=frame.x,frameY=frame.y,frameWidth=frame.cutWidth,frameHeight=frame.cutHeight,customPivot=frame.customPivot,displayOriginX=gameObject.displayOriginX,displayOriginY=gameObject.displayOriginY,x=-displayOriginX+frameX;frameX=-displayOriginY+frameY;gameObject.isCropped&&(x=gameObject._crop,x.flipX===gameObject.flipX&&x.flipY===gameObject.flipY||frame.updateCropUVs(x,gameObject.flipX,gameObject.flipY),u0=x.u0,v0=x.v0,u1=x.u1,v1=x.v1,frameWidth=x.width,frameHeight=x.height,
frameX=x.x,frameY=x.y,x=-displayOriginX+frameX,frameX=-displayOriginY+frameY);var flipY=frameY=1;gameObject.flipX&&(customPivot||(x+=-frame.realWidth+2*displayOriginX),frameY=-1);if(gameObject.flipY||frame.source.isGLTexture&&!texture.flipY)customPivot||(frameX+=-frame.realHeight+2*displayOriginY),flipY=-1;spriteMatrix.applyITRS(gameObject.x,gameObject.y,gameObject.rotation,gameObject.scaleX*frameY,gameObject.scaleY*flipY);camMatrix.copyFrom(camera.matrix);parentTransformMatrix?(camMatrix.multiplyWithOffset(parentTransformMatrix,
-camera.scrollX*gameObject.scrollFactorX,-camera.scrollY*gameObject.scrollFactorY),spriteMatrix.e=gameObject.x,spriteMatrix.f=gameObject.y):(spriteMatrix.e-=camera.scrollX*gameObject.scrollFactorX,spriteMatrix.f-=camera.scrollY*gameObject.scrollFactorY);camMatrix.multiply(spriteMatrix,calcMatrix);displayOriginX=x+frameWidth;frameWidth=frameX+frameHeight;displayOriginY=camera.roundPixels;frameHeight=calcMatrix.getXRound(x,frameX,displayOriginY);parentTransformMatrix=calcMatrix.getYRound(x,frameX,displayOriginY);
camMatrix=calcMatrix.getXRound(x,frameWidth,displayOriginY);x=calcMatrix.getYRound(x,frameWidth,displayOriginY);spriteMatrix=calcMatrix.getXRound(displayOriginX,frameWidth,displayOriginY);frameWidth=calcMatrix.getYRound(displayOriginX,frameWidth,displayOriginY);customPivot=calcMatrix.getXRound(displayOriginX,frameX,displayOriginY);calcMatrix=calcMatrix.getYRound(displayOriginX,frameX,displayOriginY);displayOriginY=Utils.getTintAppendFloatAlpha;frameY=camera.alpha;camera=displayOriginY(gameObject.tintTopLeft,
frameY*gameObject._alphaTL);frameX=displayOriginY(gameObject.tintTopRight,frameY*gameObject._alphaTR);displayOriginX=displayOriginY(gameObject.tintBottomLeft,frameY*gameObject._alphaBL);displayOriginY=displayOriginY(gameObject.tintBottomRight,frameY*gameObject._alphaBR);this.shouldFlush(6)&&this.flush();frame=this.setGameObject(gameObject,frame);this.manager.preBatch(gameObject);this.batchQuad(gameObject,frameHeight,parentTransformMatrix,camMatrix,x,spriteMatrix,frameWidth,customPivot,calcMatrix,
u0,v0,u1,v1,camera,frameX,displayOriginX,displayOriginY,gameObject.tintFill,texture,frame);this.manager.postBatch(gameObject)},batchTexture:function(gameObject,texture,textureWidth,textureHeight,srcX,srcY,srcWidth,srcHeight,scaleX,scaleY,rotation,flipX,flipY,scrollFactorX,scrollFactorY,displayOriginX,displayOriginY,frameX,frameY,frameWidth,frameHeight,tintTL,tintTR,tintBL,tintBR,tintEffect,uOffset,vOffset,camera,parentTransformMatrix,skipFlip,textureUnit){this.manager.set(this,gameObject);var camMatrix=
this._tempMatrix1,spriteMatrix=this._tempMatrix2,calcMatrix=this._tempMatrix3,u0=frameX/textureWidth+uOffset,v0=frameY/textureHeight+vOffset,u1=(frameX+frameWidth)/textureWidth+uOffset,v1=(frameY+frameHeight)/textureHeight+vOffset,width=srcWidth,height=srcHeight;frameX=-displayOriginX;frameY=-displayOriginY;if(gameObject.isCropped){u0=gameObject._crop;u1=u0.width;v1=u0.height;width=u1;height=v1;srcWidth=u1;srcHeight=v1;frameX=u0.x;frameY=u0.y;var ox=frameX,oy=frameY;flipX&&(ox=frameWidth-u0.x-u1);
flipY&&(oy=frameHeight-u0.y-v1);u0=ox/textureWidth+uOffset;v0=oy/textureHeight+vOffset;u1=(ox+u1)/textureWidth+uOffset;v1=(oy+v1)/textureHeight+vOffset;frameX=-displayOriginX+frameX;frameY=-displayOriginY+frameY}flipY^=!skipFlip&&texture.isRenderTexture?1:0;flipX&&(width*=-1,frameX+=srcWidth);flipY&&(height*=-1,frameY+=srcHeight);textureWidth=frameX+width;height=frameY+height;spriteMatrix.applyITRS(srcX,srcY,rotation,scaleX,scaleY);camMatrix.copyFrom(camera.matrix);parentTransformMatrix?(camMatrix.multiplyWithOffset(parentTransformMatrix,
-camera.scrollX*scrollFactorX,-camera.scrollY*scrollFactorY),spriteMatrix.e=srcX,spriteMatrix.f=srcY):(spriteMatrix.e-=camera.scrollX*scrollFactorX,spriteMatrix.f-=camera.scrollY*scrollFactorY);camMatrix.multiply(spriteMatrix,calcMatrix);scaleY=camera.roundPixels;srcX=calcMatrix.getXRound(frameX,frameY,scaleY);srcY=calcMatrix.getYRound(frameX,frameY,scaleY);scaleX=calcMatrix.getXRound(frameX,height,scaleY);rotation=calcMatrix.getYRound(frameX,height,scaleY);scrollFactorX=calcMatrix.getXRound(textureWidth,
height,scaleY);scrollFactorY=calcMatrix.getYRound(textureWidth,height,scaleY);camera=calcMatrix.getXRound(textureWidth,frameY,scaleY);calcMatrix=calcMatrix.getYRound(textureWidth,frameY,scaleY);void 0===textureUnit&&(textureUnit=this.renderer.setTexture2D(texture));gameObject&&this.manager.preBatch(gameObject);this.batchQuad(gameObject,srcX,srcY,scaleX,rotation,scrollFactorX,scrollFactorY,camera,calcMatrix,u0,v0,u1,v1,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit);gameObject&&this.manager.postBatch(gameObject)},
batchTextureFrame:function(frame,x,y,tint,alpha,transformMatrix,parentTransformMatrix){this.manager.set(this);var spriteMatrix=this._tempMatrix1.copyFrom(transformMatrix);transformMatrix=this._tempMatrix2;var xw=x+frame.width,yh=y+frame.height;parentTransformMatrix?spriteMatrix.multiply(parentTransformMatrix,transformMatrix):transformMatrix=spriteMatrix;parentTransformMatrix=transformMatrix.getX(x,y);spriteMatrix=transformMatrix.getY(x,y);var tx1=transformMatrix.getX(x,yh);x=transformMatrix.getY(x,
yh);var tx2=transformMatrix.getX(xw,yh);yh=transformMatrix.getY(xw,yh);var tx3=transformMatrix.getX(xw,y);y=transformMatrix.getY(xw,y);transformMatrix=this.renderer.setTextureSource(frame.source);tint=Utils.getTintAppendFloatAlpha(tint,alpha);this.batchQuad(null,parentTransformMatrix,spriteMatrix,tx1,x,tx2,yh,tx3,y,frame.u0,frame.v0,frame.u1,frame.v1,tint,tint,tint,tint,0,frame.glTexture,transformMatrix)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var Clamp=__webpack_require__(18),Extend=__webpack_require__(17),Frame=new exports({initialize:function(texture,name,sourceIndex,x,y,width,height){this.texture=texture;this.name=name;this.source=texture.source[sourceIndex];this.sourceIndex=sourceIndex;this.glTexture=this.source.glTexture;this.pivotY=this.pivotX=this.y=this.x=0;this.rotated=this.customPivot=!1;this.autoRound=-1;this.customData={};this.v1=this.u1=this.v0=this.u0=0;this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},
spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}};this.setSize(width,height,x,y)},setSize:function(width,height,x,y){void 0===x&&(x=0);void 0===y&&(y=0);this.cutX=x;this.cutY=y;this.cutWidth=width;this.cutHeight=height;this.width=width;this.height=height;this.halfWidth=Math.floor(.5*width);this.halfHeight=Math.floor(.5*height);this.centerX=Math.floor(width/2);this.centerY=Math.floor(height/2);var data=this.data,cut=data.cut;cut.x=x;cut.y=y;cut.w=width;cut.h=
height;cut.r=x+width;cut.b=y+height;data.sourceSize.w=width;data.sourceSize.h=height;data.spriteSourceSize.w=width;data.spriteSourceSize.h=height;data.radius=.5*Math.sqrt(width*width+height*height);data=data.drawImage;data.x=x;data.y=y;data.width=width;data.height=height;return this.updateUVs()},setTrim:function(actualWidth,actualHeight,destX,destY,destWidth,destHeight){var data=this.data,ss=data.spriteSourceSize;data.trim=!0;data.sourceSize.w=actualWidth;data.sourceSize.h=actualHeight;ss.x=destX;
ss.y=destY;ss.w=destWidth;ss.h=destHeight;ss.r=destX+destWidth;ss.b=destY+destHeight;this.x=destX;this.y=destY;this.width=destWidth;this.height=destHeight;this.halfWidth=.5*destWidth;this.halfHeight=.5*destHeight;this.centerX=Math.floor(destWidth/2);this.centerY=Math.floor(destHeight/2);return this.updateUVs()},setCropUVs:function(crop,x,y,width,height,flipX,flipY){var cx=this.cutX,cy=this.cutY,cw=this.cutWidth,ch=this.cutHeight,rw=this.realWidth,rh=this.realHeight;x=Clamp(x,0,rw);y=Clamp(y,0,rh);
width=Clamp(width,0,rw-x);height=Clamp(height,0,rh-y);rw=cx+x;var oy=cy+y;rh=width;var oh=height,data=this.data;data.trim?(oy=data.spriteSourceSize,width=Clamp(width,0,cw-x),height=Clamp(height,0,ch-y),rh=x+width,rw=y+height,oy.r<x||oy.b<y||oy.x>rh||oy.y>rw?oh=rh=oy=rw=0:(x=Math.max(oy.x,x),y=Math.max(oy.y,y),width=Math.min(oy.r,rh)-x,height=Math.min(oy.b,rw)-y,rh=width,oh=height,rw=flipX?cx+(cw-(x-oy.x)-width):cx+(x-oy.x),oy=flipY?cy+(ch-(y-oy.y)-height):cy+(y-oy.y))):(flipX&&(rw=cx+(cw-x-width)),
flipY&&(oy=cy+(ch-y-height)));cx=this.source.width;cy=this.source.height;crop.u0=Math.max(0,rw/cx);crop.v0=Math.max(0,oy/cy);crop.u1=Math.min(1,(rw+rh)/cx);crop.v1=Math.min(1,(oy+oh)/cy);crop.x=x;crop.y=y;crop.cx=rw;crop.cy=oy;crop.cw=rh;crop.ch=oh;crop.width=width;crop.height=height;crop.flipX=flipX;crop.flipY=flipY;return crop},updateCropUVs:function(crop,flipX,flipY){return this.setCropUVs(crop,crop.x,crop.y,crop.width,crop.height,flipX,flipY)},setUVs:function(width,height,u0,v0,u1,v1){var cd=
this.data.drawImage;cd.width=width;cd.height=height;this.u0=u0;this.v0=v0;this.u1=u1;this.v1=v1;return this},updateUVs:function(){var cx=this.cutX,cy=this.cutY,cw=this.cutWidth,ch=this.cutHeight,cd=this.data.drawImage;cd.width=cw;cd.height=ch;cd=this.source.width;var th=this.source.height;this.u0=cx/cd;this.v0=cy/th;this.u1=(cx+cw)/cd;this.v1=(cy+ch)/th;return this},updateUVsInverted:function(){var tw=this.source.width,th=this.source.height;this.u0=(this.cutX+this.cutHeight)/tw;this.v0=this.cutY/
th;this.u1=this.cutX/tw;this.v1=(this.cutY+this.cutWidth)/th;return this},clone:function(){var clone=new Frame(this.texture,this.name,this.sourceIndex);clone.cutX=this.cutX;clone.cutY=this.cutY;clone.cutWidth=this.cutWidth;clone.cutHeight=this.cutHeight;clone.x=this.x;clone.y=this.y;clone.width=this.width;clone.height=this.height;clone.halfWidth=this.halfWidth;clone.halfHeight=this.halfHeight;clone.centerX=this.centerX;clone.centerY=this.centerY;clone.rotated=this.rotated;clone.data=Extend(!0,clone.data,
this.data);clone.updateUVs();return clone},destroy:function(){this.data=this.customData=this.glTexture=this.texture=this.source=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});module.exports=Frame},function(module,exports,__webpack_require__){var ArrayUtils=__webpack_require__(205);
exports=__webpack_require__(0);var NOOP=__webpack_require__(1),StableSort=__webpack_require__(79);__webpack_require__=new exports({initialize:function(parent){this.parent=parent;this.list=[];this.position=0;this.removeCallback=this.addCallback=NOOP;this._sortKey=""},add:function(child,skipCallback){return skipCallback?ArrayUtils.Add(this.list,child):ArrayUtils.Add(this.list,child,0,this.addCallback,this)},addAt:function(child,index,skipCallback){return skipCallback?ArrayUtils.AddAt(this.list,child,
index):ArrayUtils.AddAt(this.list,child,index,0,this.addCallback,this)},getAt:function(index){return this.list[index]},getIndex:function(child){return this.list.indexOf(child)},sort:function(property,handler){if(!property)return this;void 0===handler&&(handler=function(childA,childB){return childA[property]-childB[property]});StableSort(this.list,handler);return this},getByName:function(name){return ArrayUtils.GetFirst(this.list,"name",name)},getRandom:function(startIndex,length){return ArrayUtils.GetRandom(this.list,
startIndex,length)},getFirst:function(property,value,startIndex,endIndex){return ArrayUtils.GetFirst(this.list,property,value,startIndex,endIndex)},getAll:function(property,value,startIndex,endIndex){return ArrayUtils.GetAll(this.list,property,value,startIndex,endIndex)},count:function(property,value){return ArrayUtils.CountAllMatching(this.list,property,value)},swap:function(child1,child2){ArrayUtils.Swap(this.list,child1,child2)},moveTo:function(child,index){return ArrayUtils.MoveTo(this.list,child,
index)},remove:function(child,skipCallback){return skipCallback?ArrayUtils.Remove(this.list,child):ArrayUtils.Remove(this.list,child,this.removeCallback,this)},removeAt:function(index,skipCallback){return skipCallback?ArrayUtils.RemoveAt(this.list,index):ArrayUtils.RemoveAt(this.list,index,this.removeCallback,this)},removeBetween:function(startIndex,endIndex,skipCallback){return skipCallback?ArrayUtils.RemoveBetween(this.list,startIndex,endIndex):ArrayUtils.RemoveBetween(this.list,startIndex,endIndex,
this.removeCallback,this)},removeAll:function(skipCallback){for(var i=this.list.length;i--;)this.remove(this.list[i],skipCallback);return this},bringToTop:function(child){return ArrayUtils.BringToTop(this.list,child)},sendToBack:function(child){return ArrayUtils.SendToBack(this.list,child)},moveUp:function(child){ArrayUtils.MoveUp(this.list,child);return child},moveDown:function(child){ArrayUtils.MoveDown(this.list,child);return child},reverse:function(){this.list.reverse();return this},shuffle:function(){ArrayUtils.Shuffle(this.list);
return this},replace:function(oldChild,newChild){return ArrayUtils.Replace(this.list,oldChild,newChild)},exists:function(child){return-1<this.list.indexOf(child)},setAll:function(property,value,startIndex,endIndex){ArrayUtils.SetAll(this.list,property,value,startIndex,endIndex);return this},each:function(callback,context){for(var args=[null],i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<this.list.length;i++)args[0]=this.list[i],callback.apply(context,args)},shutdown:function(){this.removeAll();
this.list=[]},destroy:function(){this.removeAll();this.removeCallback=this.addCallback=this.parent=null},length:{get:function(){return this.list.length}},first:{get:function(){this.position=0;return 0<this.list.length?this.list[0]:null}},last:{get:function(){return 0<this.list.length?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return 0<this.position?
(this.position--,this.list[this.position]):null}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Contains=__webpack_require__(109),GetPoint=__webpack_require__(439),GetPoints=__webpack_require__(440),GEOM_CONST=__webpack_require__(55),Random=__webpack_require__(177);__webpack_require__=new exports({initialize:function(x,y,width,height){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=0);void 0===height&&(height=0);this.type=
GEOM_CONST.ELLIPSE;this.x=x;this.y=y;this.width=width;this.height=height},contains:function(x,y){return Contains(this,x,y)},getPoint:function(position,point){return GetPoint(this,position,point)},getPoints:function(quantity,stepRate,output){return GetPoints(this,quantity,stepRate,output)},getRandomPoint:function(point){return Random(this,point)},setTo:function(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;return this},setEmpty:function(){this.height=this.width=0;return this},
setPosition:function(x,y){void 0===y&&(y=x);this.x=x;this.y=y;return this},setSize:function(width,height){void 0===height&&(height=width);this.width=width;this.height=height;return this},isEmpty:function(){return 0>=this.width||0>=this.height},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(value){this.x=value+this.width/2}},right:{get:function(){return this.x+
this.width/2},set:function(value){this.x=value-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(value){this.y=value+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(value){this.y=value-this.height/2}}});module.exports=__webpack_require__},function(module,exports){module.exports=function(ellipse,x,y){if(0>=ellipse.width||0>=ellipse.height)return!1;x=(x-ellipse.x)/ellipse.width;ellipse=(y-ellipse.y)/ellipse.height;return.25>x*x+ellipse*ellipse}},
function(module,exports,__webpack_require__){var Actions=__webpack_require__(269);exports=__webpack_require__(0);var Events=__webpack_require__(75),EventEmitter=__webpack_require__(9),GetAll=__webpack_require__(204),GetFastValue=__webpack_require__(2),GetValue=__webpack_require__(6),IsPlainObject=__webpack_require__(7),Range=__webpack_require__(431),Set=__webpack_require__(148),Sprite=__webpack_require__(73);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(scene,children,
config){EventEmitter.call(this);config?children&&!Array.isArray(children)&&(children=[children]):Array.isArray(children)?IsPlainObject(children[0])&&(config=children,children=null):IsPlainObject(children)&&(config=children,children=null);this.scene=scene;this.children=new Set;this.isParent=!0;this.type="Group";this.classType=GetFastValue(config,"classType",Sprite);this.name=GetFastValue(config,"name","");this.active=GetFastValue(config,"active",!0);this.maxSize=GetFastValue(config,"maxSize",-1);this.defaultKey=
GetFastValue(config,"defaultKey",null);this.defaultFrame=GetFastValue(config,"defaultFrame",null);this.runChildUpdate=GetFastValue(config,"runChildUpdate",!1);this.createCallback=GetFastValue(config,"createCallback",null);this.removeCallback=GetFastValue(config,"removeCallback",null);this.createMultipleCallback=GetFastValue(config,"createMultipleCallback",null);this.internalCreateCallback=GetFastValue(config,"internalCreateCallback",null);this.internalRemoveCallback=GetFastValue(config,"internalRemoveCallback",
null);children&&this.addMultiple(children);config&&this.createMultiple(config)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(x,y,key,frame,visible,active){void 0===x&&(x=0);void 0===y&&(y=0);void 0===key&&(key=this.defaultKey);void 0===frame&&(frame=this.defaultFrame);void 0===visible&&(visible=!0);void 0===active&&(active=!0);if(this.isFull())return null;x=new this.classType(this.scene,x,y,key,frame);
this.scene.sys.displayList.add(x);x.preUpdate&&this.scene.sys.updateList.add(x);x.visible=visible;x.setActive(active);this.add(x);return x},createMultiple:function(config){if(this.isFull())return[];Array.isArray(config)||(config=[config]);var output=[];if(config[0].key)for(var i=0;i<config.length;i++){var entries=this.createFromConfig(config[i]);output=output.concat(entries)}return output},createFromConfig:function(options){if(this.isFull())return[];this.classType=GetFastValue(options,"classType",
this.classType);var key=GetFastValue(options,"key",void 0),frame=GetFastValue(options,"frame",null),visible=GetFastValue(options,"visible",!0),active=GetFastValue(options,"active",!0),entries=[];if(void 0===key)return entries;Array.isArray(key)||(key=[key]);Array.isArray(frame)||(frame=[frame]);var repeat=GetFastValue(options,"repeat",0),randomKey=GetFastValue(options,"randomKey",!1),randomFrame=GetFastValue(options,"randomFrame",!1),yoyo=GetFastValue(options,"yoyo",!1),quantity=GetFastValue(options,
"quantity",!1),frameQuantity=GetFastValue(options,"frameQuantity",1),max=GetFastValue(options,"max",0);key=Range(key,frame,{max:max,qty:quantity?quantity:frameQuantity,random:randomKey,randomB:randomFrame,repeat:repeat,yoyo:yoyo});options.createCallback&&(this.createCallback=options.createCallback);options.removeCallback&&(this.removeCallback=options.removeCallback);for(frame=0;frame<key.length;frame++){repeat=this.create(0,0,key[frame].a,key[frame].b,visible,active);if(!repeat)break;entries.push(repeat)}visible=
GetValue(options,"setXY.x",0);active=GetValue(options,"setXY.y",0);key=GetValue(options,"setXY.stepX",0);frame=GetValue(options,"setXY.stepY",0);Actions.SetXY(entries,visible,active,key,frame);visible=GetValue(options,"setRotation.value",0);active=GetValue(options,"setRotation.step",0);Actions.SetRotation(entries,visible,active);visible=GetValue(options,"setScale.x",1);active=GetValue(options,"setScale.y",visible);key=GetValue(options,"setScale.stepX",0);frame=GetValue(options,"setScale.stepY",0);
Actions.SetScale(entries,visible,active,key,frame);visible=GetValue(options,"setOrigin.x",.5);active=GetValue(options,"setOrigin.y",visible);key=GetValue(options,"setOrigin.stepX",0);frame=GetValue(options,"setOrigin.stepY",0);Actions.SetOrigin(entries,visible,active,key,frame);visible=GetValue(options,"setAlpha.value",1);active=GetValue(options,"setAlpha.step",0);Actions.SetAlpha(entries,visible,active);visible=GetValue(options,"setDepth.value",0);active=GetValue(options,"setDepth.step",0);Actions.SetDepth(entries,
visible,active);visible=GetValue(options,"setScrollFactor.x",1);active=GetValue(options,"setScrollFactor.y",visible);key=GetValue(options,"setScrollFactor.stepX",0);frame=GetValue(options,"setScrollFactor.stepY",0);Actions.SetScrollFactor(entries,visible,active,key,frame);visible=GetFastValue(options,"hitArea",null);active=GetFastValue(options,"hitAreaCallback",null);visible&&Actions.SetHitArea(entries,visible,active);(options=GetFastValue(options,"gridAlign",!1))&&Actions.GridAlign(entries,options);
this.createMultipleCallback&&this.createMultipleCallback.call(this,entries);return entries},preUpdate:function(time,delta){if(this.runChildUpdate&&0!==this.children.size)for(var temp=this.children.entries.slice(),i=0;i<temp.length;i++){var item=temp[i];item.active&&item.update(time,delta)}},add:function(child,addToScene){void 0===addToScene&&(addToScene=!1);if(this.isFull())return this;this.children.set(child);this.internalCreateCallback&&this.internalCreateCallback.call(this,child);this.createCallback&&
this.createCallback.call(this,child);addToScene&&(this.scene.sys.displayList.add(child),child.preUpdate&&this.scene.sys.updateList.add(child));child.on(Events.DESTROY,this.remove,this);return this},addMultiple:function(children,addToScene){void 0===addToScene&&(addToScene=!1);if(Array.isArray(children))for(var i=0;i<children.length;i++)this.add(children[i],addToScene);return this},remove:function(child,removeFromScene,destroyChild){void 0===removeFromScene&&(removeFromScene=!1);void 0===destroyChild&&
(destroyChild=!1);if(!this.children.contains(child))return this;this.children.delete(child);this.internalRemoveCallback&&this.internalRemoveCallback.call(this,child);this.removeCallback&&this.removeCallback.call(this,child);child.off(Events.DESTROY,this.remove,this);destroyChild?child.destroy():removeFromScene&&(child.scene.sys.displayList.remove(child),child.preUpdate&&child.scene.sys.updateList.remove(child));return this},clear:function(removeFromScene,destroyChild){void 0===removeFromScene&&(removeFromScene=
!1);void 0===destroyChild&&(destroyChild=!1);for(var children=this.children,i=0;i<children.size;i++){var gameObject=children.entries[i];gameObject.off(Events.DESTROY,this.remove,this);destroyChild?gameObject.destroy():removeFromScene&&(gameObject.scene.sys.displayList.remove(gameObject),gameObject.preUpdate&&gameObject.scene.sys.updateList.remove(gameObject))}this.children.clear();return this},contains:function(child){return this.children.contains(child)},getChildren:function(){return this.children.entries},
getLength:function(){return this.children.size},getMatching:function(property,value,startIndex,endIndex){return GetAll(this.children.entries,property,value,startIndex,endIndex)},getFirst:function(state,createIfNull,x,y,key,frame,visible){return this.getHandler(!0,1,state,createIfNull,x,y,key,frame,visible)},getFirstNth:function(nth,state,createIfNull,x,y,key,frame,visible){return this.getHandler(!0,nth,state,createIfNull,x,y,key,frame,visible)},getLast:function(state,createIfNull,x,y,key,frame,visible){return this.getHandler(!1,
1,state,createIfNull,x,y,key,frame,visible)},getLastNth:function(nth,state,createIfNull,x,y,key,frame,visible){return this.getHandler(!1,nth,state,createIfNull,x,y,key,frame,visible)},getHandler:function(forwards,nth,state,createIfNull,x,y,key,frame,visible){void 0===state&&(state=!1);void 0===createIfNull&&(createIfNull=!1);var total=0,children=this.children.entries;if(forwards)for(forwards=0;forwards<children.length;forwards++){var gameObject=children[forwards];if(gameObject.active===state){if(total++,
total===nth)break}else gameObject=null}else for(forwards=children.length-1;0<=forwards;forwards--)if(gameObject=children[forwards],gameObject.active===state){if(total++,total===nth)break}else gameObject=null;return gameObject?("number"===typeof x&&(gameObject.x=x),"number"===typeof y&&(gameObject.y=y),gameObject):createIfNull?this.create(x,y,key,frame,visible):null},get:function(x,y,key,frame,visible){return this.getFirst(!1,!0,x,y,key,frame,visible)},getFirstAlive:function(createIfNull,x,y,key,frame,
visible){return this.getFirst(!0,createIfNull,x,y,key,frame,visible)},getFirstDead:function(createIfNull,x,y,key,frame,visible){return this.getFirst(!1,createIfNull,x,y,key,frame,visible)},playAnimation:function(key,startFrame){Actions.PlayAnimation(this.children.entries,key,startFrame);return this},isFull:function(){return-1===this.maxSize?!1:this.children.size>=this.maxSize},countActive:function(value){void 0===value&&(value=!0);for(var total=0,i=0;i<this.children.size;i++)this.children.entries[i].active===
value&&total++;return total},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var used=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-used},setActive:function(value){this.active=value;return this},setName:function(value){this.name=value;return this},propertyValueSet:function(key,value,step,index,direction){Actions.PropertyValueSet(this.children.entries,key,value,step,index,direction);return this},propertyValueInc:function(key,value,step,index,direction){Actions.PropertyValueInc(this.children.entries,
key,value,step,index,direction);return this},setX:function(value,step){Actions.SetX(this.children.entries,value,step);return this},setY:function(value,step){Actions.SetY(this.children.entries,value,step);return this},setXY:function(x,y,stepX,stepY){Actions.SetXY(this.children.entries,x,y,stepX,stepY);return this},incX:function(value,step){Actions.IncX(this.children.entries,value,step);return this},incY:function(value,step){Actions.IncY(this.children.entries,value,step);return this},incXY:function(x,
y,stepX,stepY){Actions.IncXY(this.children.entries,x,y,stepX,stepY);return this},shiftPosition:function(x,y,direction){Actions.ShiftPosition(this.children.entries,x,y,direction);return this},angle:function(value,step){Actions.Angle(this.children.entries,value,step);return this},rotate:function(value,step){Actions.Rotate(this.children.entries,value,step);return this},rotateAround:function(point,angle){Actions.RotateAround(this.children.entries,point,angle);return this},rotateAroundDistance:function(point,
angle,distance){Actions.RotateAroundDistance(this.children.entries,point,angle,distance);return this},setAlpha:function(value,step){Actions.SetAlpha(this.children.entries,value,step);return this},setTint:function(topLeft,topRight,bottomLeft,bottomRight){Actions.SetTint(this.children.entries,topLeft,topRight,bottomLeft,bottomRight);return this},setOrigin:function(originX,originY,stepX,stepY){Actions.SetOrigin(this.children.entries,originX,originY,stepX,stepY);return this},scaleX:function(value,step){Actions.ScaleX(this.children.entries,
value,step);return this},scaleY:function(value,step){Actions.ScaleY(this.children.entries,value,step);return this},scaleXY:function(scaleX,scaleY,stepX,stepY){Actions.ScaleXY(this.children.entries,scaleX,scaleY,stepX,stepY);return this},setDepth:function(value,step){Actions.SetDepth(this.children.entries,value,step);return this},setBlendMode:function(value){Actions.SetBlendMode(this.children.entries,value);return this},setHitArea:function(hitArea,hitAreaCallback){Actions.SetHitArea(this.children.entries,
hitArea,hitAreaCallback);return this},shuffle:function(){Actions.Shuffle(this.children.entries);return this},kill:function(gameObject){this.children.contains(gameObject)&&gameObject.setActive(!1)},killAndHide:function(gameObject){this.children.contains(gameObject)&&(gameObject.setActive(!1),gameObject.setVisible(!1))},setVisible:function(value,index,direction){Actions.SetVisible(this.children.entries,value,index,direction);return this},toggleVisible:function(){Actions.ToggleVisible(this.children.entries);
return this},destroy:function(destroyChildren){void 0===destroyChildren&&(destroyChildren=!1);this.scene&&!this.ignoreDestroy&&(this.clear(!1,destroyChildren),this.children=this.scene=void 0)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Utils=__webpack_require__(12);module.exports=function(pipeline,calcMatrix,src,alpha,dx,dy){alpha=Utils.getTintAppendFloatAlpha(src.fillColor,src.fillAlpha*alpha);var path=src.pathData;src=src.pathIndexes;for(var i=0;i<src.length;i+=
3){var p0=2*src[i],p1=2*src[i+1],p2=2*src[i+2],x0=path[p0+0]-dx,y0=path[p0+1]-dy;p0=path[p1+0]-dx;var y1=path[p1+1]-dy;p1=path[p2+0]-dx;var y2=path[p2+1]-dy;p2=calcMatrix.getX(x0,y0);x0=calcMatrix.getY(x0,y0);y0=calcMatrix.getX(p0,y1);p0=calcMatrix.getY(p0,y1);y1=calcMatrix.getX(p1,y2);p1=calcMatrix.getY(p1,y2);pipeline.batchTri(p2,x0,y0,p0,y1,p1,alpha,alpha,alpha)}}},function(module,exports){module.exports=function(triangle,x,y){var v0x=triangle.x3-triangle.x1,v0y=triangle.y3-triangle.y1,v1x=triangle.x2-
triangle.x1,v1y=triangle.y2-triangle.y1;x-=triangle.x1;var v2y=y-triangle.y1;triangle=v0x*v0x+v0y*v0y;y=v0x*v1x+v0y*v1y;v0x=v0x*x+v0y*v2y;v0y=v1x*v1x+v1y*v1y;v1x=v1x*x+v1y*v2y;v1y=triangle*v0y-y*y;v1y=0===v1y?0:1/v1y;x=(v0y*v0x-y*v1x)*v1y;triangle=(triangle*v1x-y*v0x)*v1y;return 0<=x&&0<=triangle&&1>x+triangle}},function(module,exports,__webpack_require__){function GetLength(x1,y1,x2,y2){x1-=x2;y1-=y2;return Math.sqrt(x1*x1+y1*y1)}exports=__webpack_require__(0);var Rectangle=__webpack_require__(10),
RectangleToRectangle=__webpack_require__(114),Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(vertex1,vertex2,vertex3){this.vertex1=vertex1;this.vertex2=vertex2;this.vertex3=vertex3;this.bounds=new Rectangle;this._inCenter=new Vector2},getInCenter:function(local){void 0===local&&(local=!0);var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3;if(local){local=v1.x;v1=v1.y;var v2x=v2.x;v2=v2.y;var v3x=v3.x;v3=v3.y}else local=v1.vx,v1=v1.vy,v2x=v2.vx,v2=v2.vy,v3x=v3.vx,
v3=v3.vy;var d1=GetLength(v3x,v3,v2x,v2),d2=GetLength(local,v1,v3x,v3),d3=GetLength(v2x,v2,local,v1),p=d1+d2+d3;return this._inCenter.set((local*d1+v2x*d2+v3x*d3)/p,(v1*d1+v2*d2+v3*d3)/p)},contains:function(x,y,calcMatrix){var vertex1=this.vertex1,vertex2=this.vertex2,vertex3=this.vertex3,v1x=vertex1.vx,v1y=vertex1.vy,v2x=vertex2.vx,v2y=vertex2.vy,v3x=vertex3.vx,v3y=vertex3.vy;if(calcMatrix){v3x=calcMatrix.a;v3y=calcMatrix.b;var c=calcMatrix.c,d=calcMatrix.d,e=calcMatrix.e;calcMatrix=calcMatrix.f;
v1x=vertex1.vx*v3x+vertex1.vy*c+e;v1y=vertex1.vx*v3y+vertex1.vy*d+calcMatrix;v2x=vertex2.vx*v3x+vertex2.vy*c+e;v2y=vertex2.vx*v3y+vertex2.vy*d+calcMatrix;v3x=vertex3.vx*v3x+vertex3.vy*c+e;v3y=vertex3.vx*v3y+vertex3.vy*d+calcMatrix}vertex1=v3x-v1x;vertex2=v3y-v1y;v2x-=v1x;v2y-=v1y;x-=v1x;vertex3=y-v1y;y=vertex1*vertex1+vertex2*vertex2;v1y=vertex1*v2x+vertex2*v2y;v1x=vertex1*x+vertex2*vertex3;vertex1=v2x*v2x+v2y*v2y;x=v2x*x+v2y*vertex3;v2y=y*vertex1-v1y*v1y;v2y=0===v2y?0:1/v2y;v2x=(vertex1*v1x-v1y*
x)*v2y;y=(y*x-v1y*v1x)*v2y;return 0<=v2x&&0<=y&&1>v2x+y},isCounterClockwise:function(z){var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3;v1=(v2.vx-v1.vx)*(v3.vy-v1.vy)-(v2.vy-v1.vy)*(v3.vx-v1.vx);return 0>=z?0<=v1:0>v1},load:function(F32,U32,offset,textureUnit,tintEffect){offset=this.vertex1.load(F32,U32,offset,textureUnit,tintEffect);offset=this.vertex2.load(F32,U32,offset,textureUnit,tintEffect);return offset=this.vertex3.load(F32,U32,offset,textureUnit,tintEffect)},transformCoordinatesLocal:function(transformMatrix,
width,height,cameraZ){this.vertex1.transformCoordinatesLocal(transformMatrix,width,height,cameraZ);this.vertex2.transformCoordinatesLocal(transformMatrix,width,height,cameraZ);this.vertex3.transformCoordinatesLocal(transformMatrix,width,height,cameraZ);return this},updateBounds:function(){var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3,bounds=this.bounds;bounds.x=Math.min(v1.vx,v2.vx,v3.vx);bounds.y=Math.min(v1.vy,v2.vy,v3.vy);bounds.width=Math.max(v1.vx,v2.vx,v3.vx)-bounds.x;bounds.height=Math.max(v1.vy,
v2.vy,v3.vy)-bounds.y;return this},isInView:function(camera,hideCCW,z,alpha,a,b,c,d,e,f,roundPixels){var v1=this.vertex1.update(a,b,c,d,e,f,roundPixels,alpha),v2=this.vertex2.update(a,b,c,d,e,f,roundPixels,alpha);alpha=this.vertex3.update(a,b,c,d,e,f,roundPixels,alpha);if(0>=v1.ta&&0>=v2.ta&&0>=alpha.ta||hideCCW&&!this.isCounterClockwise(z))return!1;hideCCW=this.bounds;hideCCW.x=Math.min(v1.tx,v2.tx,alpha.tx);hideCCW.y=Math.min(v1.ty,v2.ty,alpha.ty);hideCCW.width=Math.max(v1.tx,v2.tx,alpha.tx)-hideCCW.x;
hideCCW.height=Math.max(v1.ty,v2.ty,alpha.ty)-hideCCW.y;return RectangleToRectangle(hideCCW,camera.worldView)},translate:function(x,y){void 0===y&&(y=0);var v1=this.vertex1,v2=this.vertex2,v3=this.vertex3;v1.x+=x;v1.y+=y;v2.x+=x;v2.y+=y;v3.x+=x;v3.y+=y;return this},x:{get:function(){return this.getInCenter().x},set:function(value){var current=this.getInCenter();this.translate(value-current.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(value){var current=this.getInCenter();this.translate(0,
value-current.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+this.vertex3.alpha)/3},set:function(value){this.vertex1.alpha=value;this.vertex2.alpha=value;this.vertex3.alpha=value}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex3=this.vertex2=this.vertex1=null}});module.exports=__webpack_require__},function(module,exports){module.exports=function(rectA,rectB){return 0>=rectA.width||0>=rectA.height||0>=rectB.width||
0>=rectB.height?!1:!(rectA.right<rectB.x||rectA.bottom<rectB.y||rectA.x>rectB.right||rectA.y>rectB.bottom)}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Utils=__webpack_require__(12),Vector3=__webpack_require__(38);__webpack_require__=new exports({Extends:Vector3,initialize:function(x,y,z,u,v,color,alpha,nx,ny,nz){void 0===color&&(color=16777215);void 0===alpha&&(alpha=1);void 0===nx&&(nx=0);void 0===ny&&(ny=0);void 0===nz&&(nz=0);Vector3.call(this,x,y,z);this.vz=
this.vy=this.vx=0;this.nx=nx;this.ny=ny;this.nz=nz;this.u=u;this.v=v;this.color=color;this.alpha=alpha;this.ta=this.ty=this.tx=0},setUVs:function(u,v){this.u=u;this.v=v;return this},transformCoordinatesLocal:function(transformMatrix,width,height,cameraZ){var x=this.x,y=this.y,z=this.z;transformMatrix=transformMatrix.val;var ty=x*transformMatrix[1]+y*transformMatrix[5]+z*transformMatrix[9]+transformMatrix[13],tz=x*transformMatrix[2]+y*transformMatrix[6]+z*transformMatrix[10]+transformMatrix[14],tw=
x*transformMatrix[3]+y*transformMatrix[7]+z*transformMatrix[11]+transformMatrix[15];this.vx=(x*transformMatrix[0]+y*transformMatrix[4]+z*transformMatrix[8]+transformMatrix[12])/tw*width;this.vy=-(ty/tw)*height;this.vz=0>=cameraZ?tz/tw:-(tz/tw)},update:function(a,b,c,d,e,f,roundPixels,alpha){a=this.vx*a+this.vy*c+e;b=this.vx*b+this.vy*d+f;roundPixels&&(a=Math.round(a),b=Math.round(b));this.tx=a;this.ty=b;this.ta=this.alpha*alpha;return this},load:function(F32,U32,offset,textureUnit,tintEffect){F32[++offset]=
this.tx;F32[++offset]=this.ty;F32[++offset]=this.u;F32[++offset]=this.v;F32[++offset]=textureUnit;F32[++offset]=tintEffect;U32[++offset]=Utils.getTintAppendFloatAlpha(this.color,this.ta);return offset}});module.exports=__webpack_require__},function(module,exports){var Vector={};module.exports=Vector;(function(){Vector.create=function(x,y){return{x:x||0,y:y||0}};Vector.clone=function(vector){return{x:vector.x,y:vector.y}};Vector.magnitude=function(vector){return Math.sqrt(vector.x*vector.x+vector.y*
vector.y)};Vector.magnitudeSquared=function(vector){return vector.x*vector.x+vector.y*vector.y};Vector.rotate=function(vector,angle,output){var cos=Math.cos(angle);angle=Math.sin(angle);output||(output={});var x=vector.x*cos-vector.y*angle;output.y=vector.x*angle+vector.y*cos;output.x=x;return output};Vector.rotateAbout=function(vector,angle,point,output){var cos=Math.cos(angle);angle=Math.sin(angle);output||(output={});var x=point.x+((vector.x-point.x)*cos-(vector.y-point.y)*angle);output.y=point.y+
((vector.x-point.x)*angle+(vector.y-point.y)*cos);output.x=x;return output};Vector.normalise=function(vector){var magnitude=Vector.magnitude(vector);return 0===magnitude?{x:0,y:0}:{x:vector.x/magnitude,y:vector.y/magnitude}};Vector.dot=function(vectorA,vectorB){return vectorA.x*vectorB.x+vectorA.y*vectorB.y};Vector.cross=function(vectorA,vectorB){return vectorA.x*vectorB.y-vectorA.y*vectorB.x};Vector.cross3=function(vectorA,vectorB,vectorC){return(vectorB.x-vectorA.x)*(vectorC.y-vectorA.y)-(vectorB.y-
vectorA.y)*(vectorC.x-vectorA.x)};Vector.add=function(vectorA,vectorB,output){output||(output={});output.x=vectorA.x+vectorB.x;output.y=vectorA.y+vectorB.y;return output};Vector.sub=function(vectorA,vectorB,output){output||(output={});output.x=vectorA.x-vectorB.x;output.y=vectorA.y-vectorB.y;return output};Vector.mult=function(vector,scalar){return{x:vector.x*scalar,y:vector.y*scalar}};Vector.div=function(vector,scalar){return{x:vector.x/scalar,y:vector.y/scalar}};Vector.perp=function(vector,negate){negate=
!0===negate?-1:1;return{x:negate*-vector.y,y:negate*vector.x}};Vector.neg=function(vector){return{x:-vector.x,y:-vector.y}};Vector.angle=function(vectorA,vectorB){return Math.atan2(vectorB.y-vectorA.y,vectorB.x-vectorA.x)};Vector._temp=[Vector.create(),Vector.create(),Vector.create(),Vector.create(),Vector.create(),Vector.create()]})()},function(module,exports){var Bounds={};module.exports=Bounds;(function(){Bounds.create=function(vertices){var bounds={min:{x:0,y:0},max:{x:0,y:0}};vertices&&Bounds.update(bounds,
vertices);return bounds};Bounds.update=function(bounds,vertices,velocity){bounds.min.x=Infinity;bounds.max.x=-Infinity;bounds.min.y=Infinity;bounds.max.y=-Infinity;for(var i=0;i<vertices.length;i++){var vertex=vertices[i];vertex.x>bounds.max.x&&(bounds.max.x=vertex.x);vertex.x<bounds.min.x&&(bounds.min.x=vertex.x);vertex.y>bounds.max.y&&(bounds.max.y=vertex.y);vertex.y<bounds.min.y&&(bounds.min.y=vertex.y)}velocity&&(0<velocity.x?bounds.max.x+=velocity.x:bounds.min.x+=velocity.x,0<velocity.y?bounds.max.y+=
velocity.y:bounds.min.y+=velocity.y)};Bounds.contains=function(bounds,point){return point.x>=bounds.min.x&&point.x<=bounds.max.x&&point.y>=bounds.min.y&&point.y<=bounds.max.y};Bounds.overlaps=function(boundsA,boundsB){return boundsA.min.x<=boundsB.max.x&&boundsA.max.x>=boundsB.min.x&&boundsA.max.y>=boundsB.min.y&&boundsA.min.y<=boundsB.max.y};Bounds.translate=function(bounds,vector){bounds.min.x+=vector.x;bounds.max.x+=vector.x;bounds.min.y+=vector.y;bounds.max.y+=vector.y};Bounds.shift=function(bounds,
position){var deltaX=bounds.max.x-bounds.min.x,deltaY=bounds.max.y-bounds.min.y;bounds.min.x=position.x;bounds.max.x=position.x+deltaX;bounds.min.y=position.y;bounds.max.y=position.y+deltaY}})()},function(module,exports){module.exports=function(tileX,tileY,layer){return 0<=tileX&&tileX<layer.width&&0<=tileY&&tileY<layer.height}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(29),GetFastValue=__webpack_require__(2);__webpack_require__=new exports({initialize:function(config){void 0===
config&&(config={});this.name=GetFastValue(config,"name","layer");this.x=GetFastValue(config,"x",0);this.y=GetFastValue(config,"y",0);this.width=GetFastValue(config,"width",0);this.height=GetFastValue(config,"height",0);this.tileWidth=GetFastValue(config,"tileWidth",0);this.tileHeight=GetFastValue(config,"tileHeight",0);this.baseTileWidth=GetFastValue(config,"baseTileWidth",this.tileWidth);this.baseTileHeight=GetFastValue(config,"baseTileHeight",this.tileHeight);this.orientation=GetFastValue(config,
"orientation",CONST.ORTHOGONAL);this.widthInPixels=GetFastValue(config,"widthInPixels",this.width*this.baseTileWidth);this.heightInPixels=GetFastValue(config,"heightInPixels",this.height*this.baseTileHeight);this.alpha=GetFastValue(config,"alpha",1);this.visible=GetFastValue(config,"visible",!0);this.properties=GetFastValue(config,"properties",[]);this.indexes=GetFastValue(config,"indexes",[]);this.collideIndexes=GetFastValue(config,"collideIndexes",[]);this.callbacks=GetFastValue(config,"callbacks",
[]);this.bodies=GetFastValue(config,"bodies",[]);this.data=GetFastValue(config,"data",[]);this.tilemapLayer=GetFastValue(config,"tilemapLayer",null);this.hexSideLength=GetFastValue(config,"hexSideLength",0)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(29),GetFastValue=__webpack_require__(2);__webpack_require__=new exports({initialize:function(config){void 0===config&&(config={});this.name=GetFastValue(config,
"name","map");this.width=GetFastValue(config,"width",0);this.height=GetFastValue(config,"height",0);this.infinite=GetFastValue(config,"infinite",!1);this.tileWidth=GetFastValue(config,"tileWidth",0);this.tileHeight=GetFastValue(config,"tileHeight",0);this.widthInPixels=GetFastValue(config,"widthInPixels",this.width*this.tileWidth);this.heightInPixels=GetFastValue(config,"heightInPixels",this.height*this.tileHeight);this.format=GetFastValue(config,"format",null);this.orientation=GetFastValue(config,
"orientation",CONST.ORTHOGONAL);this.renderOrder=GetFastValue(config,"renderOrder","right-down");this.version=GetFastValue(config,"version","1");this.properties=GetFastValue(config,"properties",{});this.layers=GetFastValue(config,"layers",[]);this.images=GetFastValue(config,"images",[]);this.objects=GetFastValue(config,"objects",{});this.collision=GetFastValue(config,"collision",{});this.tilesets=GetFastValue(config,"tilesets",[]);this.imageCollections=GetFastValue(config,"imageCollections",[]);this.tiles=
GetFastValue(config,"tiles",[]);this.hexSideLength=GetFastValue(config,"hexSideLength",0)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(name,firstgid,tileWidth,tileHeight,tileMargin,tileSpacing,tileProperties,tileData){if(void 0===tileWidth||0>=tileWidth)tileWidth=32;if(void 0===tileHeight||0>=tileHeight)tileHeight=32;void 0===tileMargin&&(tileMargin=0);void 0===tileSpacing&&(tileSpacing=0);void 0===tileProperties&&
(tileProperties={});void 0===tileData&&(tileData={});this.name=name;this.firstgid=firstgid;this.tileWidth=tileWidth;this.tileHeight=tileHeight;this.tileMargin=tileMargin;this.tileSpacing=tileSpacing;this.tileProperties=tileProperties;this.tileData=tileData;this.glTexture=this.image=null;this.total=this.columns=this.rows=0;this.texCoordinates=[]},getTileProperties:function(tileIndex){return this.containsTileIndex(tileIndex)?this.tileProperties[tileIndex-this.firstgid]:null},getTileData:function(tileIndex){return this.containsTileIndex(tileIndex)?
this.tileData[tileIndex-this.firstgid]:null},getTileCollisionGroup:function(tileIndex){return(tileIndex=this.getTileData(tileIndex))&&tileIndex.objectgroup?tileIndex.objectgroup:null},containsTileIndex:function(tileIndex){return tileIndex>=this.firstgid&&tileIndex<this.firstgid+this.total},getTileTextureCoordinates:function(tileIndex){return this.containsTileIndex(tileIndex)?this.texCoordinates[tileIndex-this.firstgid]:null},setImage:function(texture){this.image=texture;this.glTexture=texture.get().source.glTexture;
this.updateTileData(this.image.source[0].width,this.image.source[0].height);return this},setTileSize:function(tileWidth,tileHeight){void 0!==tileWidth&&(this.tileWidth=tileWidth);void 0!==tileHeight&&(this.tileHeight=tileHeight);this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height);return this},setSpacing:function(margin,spacing){void 0!==margin&&(this.tileMargin=margin);void 0!==spacing&&(this.tileSpacing=spacing);this.image&&this.updateTileData(this.image.source[0].width,
this.image.source[0].height);return this},updateTileData:function(imageWidth,imageHeight){imageHeight=(imageHeight-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing);imageWidth=(imageWidth-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);0===imageHeight%1&&0===imageWidth%1||console.warn("Image tile area not tile size multiple in: "+this.name);imageHeight=Math.floor(imageHeight);imageWidth=Math.floor(imageWidth);this.rows=imageHeight;this.columns=imageWidth;
this.total=imageHeight*imageWidth;this.texCoordinates.length=0;imageHeight=imageWidth=this.tileMargin;for(var y=0;y<this.rows;y++){for(var x=0;x<this.columns;x++)this.texCoordinates.push({x:imageWidth,y:imageHeight}),imageWidth+=this.tileWidth+this.tileSpacing;imageWidth=this.tileMargin;imageHeight+=this.tileHeight+this.tileSpacing}return this}});module.exports=exports},function(module,exports){module.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,
RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(module,exports){module.exports=function(a,b,epsilon){void 0===epsilon&&(epsilon=1E-4);return Math.abs(a-b)<epsilon}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15);__webpack_require__=__webpack_require__(1062);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,
Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.ScrollFactor,Components.Size,Components.TextureCrop,Components.Tint,Components.Transform,Components.Visible,__webpack_require__],initialize:function(scene,x,y,texture,frame){GameObject.call(this,scene,"Image");this._crop=this.resetCropObject();this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.setOriginFromFrame();this.initPipeline()}});module.exports=__webpack_require__},
function(module,exports){module.exports=function(source,key){return source.hasOwnProperty(key)}},function(module,exports,__webpack_require__){var Bodies={};module.exports=Bodies;var Vertices=__webpack_require__(94),Common=__webpack_require__(50),Body=__webpack_require__(71),Bounds=__webpack_require__(117),Vector=__webpack_require__(116),decomp=__webpack_require__(1487);(function(){Bodies.rectangle=function(x,y,width,height,options){options=options||{};x={label:"Rectangle Body",position:{x:x,y:y},
vertices:Vertices.fromPath("L 0 0 L "+width+" 0 L "+width+" "+height+" L 0 "+height)};options.chamfer&&(y=options.chamfer,x.vertices=Vertices.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete options.chamfer);return Body.create(Common.extend({},x,options))};Bodies.trapezoid=function(x,y,width,height,slope,options){options=options||{};slope*=.5;var x1=width*slope;width=x1+(1-2*slope)*width;var x3=width+x1;x={label:"Trapezoid Body",position:{x:x,y:y},vertices:Vertices.fromPath(.5>
slope?"L 0 0 L "+x1+" "+-height+" L "+width+" "+-height+" L "+x3+" 0":"L 0 0 L "+width+" "+-height+" L "+x3+" 0")};options.chamfer&&(y=options.chamfer,x.vertices=Vertices.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete options.chamfer);return Body.create(Common.extend({},x,options))};Bodies.circle=function(x,y,radius,options,maxSides){options=options||{};var circle={label:"Circle Body",circleRadius:radius};maxSides=Math.ceil(Math.max(10,Math.min(maxSides||25,radius)));1===
maxSides%2&&(maxSides+=1);return Bodies.polygon(x,y,maxSides,radius,Common.extend({},circle,options))};Bodies.polygon=function(x,y,sides,radius,options){options=options||{};if(3>sides)return Bodies.circle(x,y,radius,options);for(var theta=2*Math.PI/sides,path="",offset=.5*theta,i=0;i<sides;i+=1){var angle=offset+i*theta,yy=Math.sin(angle)*radius;path+="L "+(Math.cos(angle)*radius).toFixed(3)+" "+yy.toFixed(3)+" "}x={label:"Polygon Body",position:{x:x,y:y},vertices:Vertices.fromPath(path)};options.chamfer&&
(y=options.chamfer,x.vertices=Vertices.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete options.chamfer);return Body.create(Common.extend({},x,options))};Bodies.fromVertices=function(x,y,vertexSets,options,flagInternal,removeCollinear,minimumArea){var isConvex,v;options=options||{};var parts=[];flagInternal="undefined"!==typeof flagInternal?flagInternal:!1;removeCollinear="undefined"!==typeof removeCollinear?removeCollinear:.01;minimumArea="undefined"!==typeof minimumArea?minimumArea:
10;decomp||Common.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull.");Common.isArray(vertexSets[0])||(vertexSets=[vertexSets]);for(v=0;v<vertexSets.length;v+=1){var vertices$jscomp$0=vertexSets[v];if((isConvex=Vertices.isConvex(vertices$jscomp$0))||!decomp)vertices$jscomp$0=isConvex?Vertices.clockwiseSort(vertices$jscomp$0):Vertices.hull(vertices$jscomp$0),parts.push({position:{x:x,y:y},vertices:vertices$jscomp$0});else for(isConvex=vertices$jscomp$0.map(function(vertex){return[vertex.x,
vertex.y]}),decomp.makeCCW(isConvex),!1!==removeCollinear&&decomp.removeCollinearPoints(isConvex,removeCollinear),vertices$jscomp$0=decomp.quickDecomp(isConvex),isConvex=0;isConvex<vertices$jscomp$0.length;isConvex++){var chunkVertices=vertices$jscomp$0[isConvex].map(function(vertices){return{x:vertices[0],y:vertices[1]}});0<minimumArea&&Vertices.area(chunkVertices)<minimumArea||parts.push({position:Vertices.centre(chunkVertices),vertices:chunkVertices})}}for(isConvex=0;isConvex<parts.length;isConvex++)parts[isConvex]=
Body.create(Common.extend(parts[isConvex],options));flagInternal&&Bodies.flagCoincidentParts(parts,5);return 1<parts.length?(vertexSets=Body.create(Common.extend({parts:parts.slice(0)},options)),Body.setPosition(vertexSets,{x:x,y:y}),vertexSets):parts[0]};Bodies.flagCoincidentParts=function(parts,maxDistance){void 0===maxDistance&&(maxDistance=5);for(var i=0;i<parts.length;i++)for(var partA=parts[i],j=i+1;j<parts.length;j++){var partB=parts[j];if(Bounds.overlaps(partA.bounds,partB.bounds))for(var pav=
partA.vertices,pbv=partB.vertices,k=0;k<partA.vertices.length;k++)for(var z=0;z<partB.vertices.length;z++){var da=Vector.magnitudeSquared(Vector.sub(pav[(k+1)%pav.length],pbv[z])),db=Vector.magnitudeSquared(Vector.sub(pav[k],pbv[(z+1)%pbv.length]));da<maxDistance&&db<maxDistance&&(pav[k].isInternal=!0,pbv[z].isInternal=!0)}}return parts}})()},function(module,exports,__webpack_require__){var BlendModes=__webpack_require__(34),Circle=__webpack_require__(62),CircleContains=__webpack_require__(63);exports=
__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15),Rectangle=__webpack_require__(10),RectangleContains=__webpack_require__(56);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Depth,Components.GetBounds,Components.Origin,Components.Transform,Components.ScrollFactor,Components.Visible],initialize:function(scene,x,y,width,height){void 0===width&&(width=1);void 0===height&&(height=width);GameObject.call(this,scene,"Zone");this.setPosition(x,
y);this.width=width;this.height=height;this.blendMode=BlendModes.NORMAL;this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(value){this.scaleX=value/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(value){this.scaleY=value/this.height}},setSize:function(width,height,resizeInput){void 0===resizeInput&&(resizeInput=!0);this.width=width;this.height=height;this.updateDisplayOrigin();var input=this.input;resizeInput&&
input&&!input.customHitArea&&(input.hitArea.width=width,input.hitArea.height=height);return this},setDisplaySize:function(width,height){this.displayWidth=width;this.displayHeight=height;return this},setCircleDropZone:function(radius){return this.setDropZone(new Circle(0,0,radius),CircleContains)},setRectangleDropZone:function(width,height){return this.setDropZone(new Rectangle(0,0,width,height),RectangleContains)},setDropZone:function(hitArea,hitAreaCallback){void 0===hitArea?this.setRectangleDropZone(this.width,
this.height):this.input||this.setInteractive(hitArea,hitAreaCallback,!0);return this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}});module.exports=__webpack_require__},function(module,exports){module.exports=function(rect){return 2*(rect.width+rect.height)}},function(module,exports){module.exports=function(array){for(var i=array.length-1;0<i;i--){var j=Math.floor(Math.random()*(i+1)),temp=array[i];array[i]=array[j];array[j]=temp}return array}},
function(module,exports,__webpack_require__){module.exports={ADD_ANIMATION:__webpack_require__(700),ANIMATION_COMPLETE:__webpack_require__(701),ANIMATION_COMPLETE_KEY:__webpack_require__(702),ANIMATION_REPEAT:__webpack_require__(703),ANIMATION_RESTART:__webpack_require__(704),ANIMATION_START:__webpack_require__(705),ANIMATION_STOP:__webpack_require__(706),ANIMATION_UPDATE:__webpack_require__(707),PAUSE_ALL:__webpack_require__(708),REMOVE_ANIMATION:__webpack_require__(709),RESUME_ALL:__webpack_require__(710)}},
function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),DegToRad=__webpack_require__(35),EventEmitter=__webpack_require__(9),Events=__webpack_require__(36),Rectangle=__webpack_require__(10),TransformMatrix=__webpack_require__(25),ValueToColor=__webpack_require__(184),Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:EventEmitter,Mixins:[Components.Alpha,Components.Visible],initialize:function(x,y,width,height){void 0===
x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=0);void 0===height&&(height=0);EventEmitter.call(this);this.id=0;this.name="";this.useBounds=this.roundPixels=!1;this.worldView=new Rectangle;this.dirty=!0;this._x=x;this._y=y;this._width=width;this._height=height;this._bounds=new Rectangle;this._scrollY=this._scrollX=0;this._zoomY=this._zoomX=1;this._rotation=0;this.matrix=new TransformMatrix;this.transparent=!0;this.backgroundColor=ValueToColor("rgba(0,0,0,0)");this.disableCull=!1;this.culledObjects=
[];this.midPoint=new Vector2(width/2,height/2);this.originY=this.originX=.5;this._customViewport=!1;this._maskCamera=this.mask=null;this.renderList=[]},addToRenderList:function(child){this.renderList.push(child)},setOrigin:function(x,y){void 0===x&&(x=.5);void 0===y&&(y=x);this.originX=x;this.originY=y;return this},getScroll:function(x,y,out){void 0===out&&(out=new Vector2);var originY=.5*this.height;out.x=x-.5*this.width;out.y=y-originY;this.useBounds&&(out.x=this.clampX(out.x),out.y=this.clampY(out.y));
return out},centerOnX:function(x){var originX=.5*this.width;this.midPoint.x=x;this.scrollX=x-originX;this.useBounds&&(this.scrollX=this.clampX(this.scrollX));return this},centerOnY:function(y){var originY=.5*this.height;this.midPoint.y=y;this.scrollY=y-originY;this.useBounds&&(this.scrollY=this.clampY(this.scrollY));return this},centerOn:function(x,y){this.centerOnX(x);this.centerOnY(y);return this},centerToBounds:function(){if(this.useBounds){var bounds=this._bounds,originX=.5*this.width,originY=
.5*this.height;this.midPoint.set(bounds.centerX,bounds.centerY);this.scrollX=bounds.centerX-originX;this.scrollY=bounds.centerY-originY}return this},centerToSize:function(){this.scrollX=.5*this.width;this.scrollY=.5*this.height;return this},cull:function(renderableObjects){if(this.disableCull)return renderableObjects;var cameraMatrix=this.matrix.matrix,mva=cameraMatrix[0],mvb=cameraMatrix[1],mvc=cameraMatrix[2],mvd=cameraMatrix[3];if(!(mva*mvd-mvb*mvc))return renderableObjects;var mve=cameraMatrix[4];
cameraMatrix=cameraMatrix[5];for(var scrollX=this.scrollX,scrollY=this.scrollY,cullTop=this.y,cullBottom=cullTop+this.height,cullLeft=this.x,cullRight=cullLeft+this.width,culledObjects=this.culledObjects,length=renderableObjects.length,index=culledObjects.length=0;index<length;++index){var object=renderableObjects[index];if(!object.hasOwnProperty("width")||object.parentContainer)culledObjects.push(object);else{var objectW=object.width,objectH=object.height,objectX=object.x-scrollX*object.scrollFactorX-
objectW*object.originX,objectY=object.y-scrollY*object.scrollFactorY-objectH*object.originY,tx=objectX*mva+objectY*mvc+mve,ty=objectX*mvb+objectY*mvd+cameraMatrix,th=(objectX+objectW)*mvb+(objectY+objectH)*mvd+cameraMatrix;(objectX+objectW)*mva+(objectY+objectH)*mvc+mve>cullLeft&&tx<cullRight&&th>cullTop&&ty<cullBottom&&culledObjects.push(object)}}return culledObjects},getWorldPoint:function(x,y,output){void 0===output&&(output=new Vector2);var cameraMatrix=this.matrix.matrix,mva=cameraMatrix[0],
mvb=cameraMatrix[1],mvc=cameraMatrix[2],mvd=cameraMatrix[3],mve=cameraMatrix[4];cameraMatrix=cameraMatrix[5];var determinant=mva*mvd-mvb*mvc;if(!determinant)return output.x=x,output.y=y,output;determinant=1/determinant;var c=Math.cos(this.rotation),s=Math.sin(this.rotation),scrollX=this.scrollX,scrollY=this.scrollY;x+=(scrollX*c-scrollY*s)*this.zoomX;y+=(scrollX*s+scrollY*c)*this.zoomY;output.x=x*mvd*determinant+y*-mvc*determinant+(mvc*cameraMatrix-mvd*mve)*determinant;output.y=x*-mvb*determinant+
y*mva*determinant+(mvb*mve-mva*cameraMatrix)*determinant;return output},ignore:function(entries){var id=this.id;Array.isArray(entries)||(entries=[entries]);for(var i=0;i<entries.length;i++){var entry=entries[i];Array.isArray(entry)?this.ignore(entry):entry.isParent?this.ignore(entry.getChildren()):entry.cameraFilter|=id}return this},preRender:function(){this.renderList.length=0;var width=this.width,height=this.height,halfWidth=.5*width,halfHeight=.5*height,zoomX=this.zoomX,zoomY=this.zoomY,matrix=
this.matrix,originX=width*this.originX,originY=height*this.originY,sx=this.scrollX,sy=this.scrollY;this.useBounds&&(sx=this.clampX(sx),sy=this.clampY(sy));this.roundPixels&&(originX=Math.round(originX),originY=Math.round(originY));this.scrollX=sx;this.scrollY=sy;halfWidth=sx+halfWidth;halfHeight=sy+halfHeight;this.midPoint.set(halfWidth,halfHeight);width/=zoomX;height/=zoomY;this.worldView.setTo(halfWidth-width/2,halfHeight-height/2,width,height);matrix.applyITRS(this.x+originX,this.y+originY,this.rotation,
zoomX,zoomY);matrix.translate(-originX,-originY)},clampX:function(x){var bounds=this._bounds,dw=this.displayWidth,bx=bounds.x+(dw-this.width)/2;bounds=Math.max(bx,bx+bounds.width-dw);x<bx?x=bx:x>bounds&&(x=bounds);return x},clampY:function(y){var bounds=this._bounds,dh=this.displayHeight,by=bounds.y+(dh-this.height)/2;bounds=Math.max(by,by+bounds.height-dh);y<by?y=by:y>bounds&&(y=bounds);return y},removeBounds:function(){this.useBounds=!1;this.dirty=!0;this._bounds.setEmpty();return this},setAngle:function(value){void 0===
value&&(value=0);this.rotation=DegToRad(value);return this},setBackgroundColor:function(color){void 0===color&&(color="rgba(0,0,0,0)");this.backgroundColor=ValueToColor(color);this.transparent=0===this.backgroundColor.alpha;return this},setBounds:function(x,y,width,height,centerOn){void 0===centerOn&&(centerOn=!1);this._bounds.setTo(x,y,width,height);this.useBounds=this.dirty=!0;centerOn?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY));return this},
getBounds:function(out){void 0===out&&(out=new Rectangle);var source=this._bounds;out.setTo(source.x,source.y,source.width,source.height);return out},setName:function(value){void 0===value&&(value="");this.name=value;return this},setPosition:function(x,y){void 0===y&&(y=x);this.x=x;this.y=y;return this},setRotation:function(value){void 0===value&&(value=0);this.rotation=value;return this},setRoundPixels:function(value){this.roundPixels=value;return this},setScene:function(scene){this.scene&&this._customViewport&&
this.sceneManager.customViewports--;this.scene=scene;scene=scene.sys;this.sceneManager=scene.game.scene;this.scaleManager=scene.scale;this.cameraManager=scene.cameras;this.updateSystem();return this},setScroll:function(x,y){void 0===y&&(y=x);this.scrollX=x;this.scrollY=y;return this},setSize:function(width,height){void 0===height&&(height=width);this.width=width;this.height=height;return this},setViewport:function(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;return this},
setZoom:function(x,y){void 0===x&&(x=1);void 0===y&&(y=x);0===x&&(x=.001);0===y&&(y=.001);this.zoomX=x;this.zoomY=y;return this},setMask:function(mask,fixedPosition){void 0===fixedPosition&&(fixedPosition=!0);this.mask=mask;this._maskCamera=fixedPosition?this.cameraManager.default:this;return this},clearMask:function(destroyMask){void 0===destroyMask&&(destroyMask=!1);destroyMask&&this.mask&&this.mask.destroy();this.mask=null;return this},toJSON:function(){var output={name:this.name,x:this.x,y:this.y,
width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};this.useBounds&&(output.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height});return output},update:function(){},updateSystem:function(){if(this.scaleManager){var custom=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,
sceneManager=this.sceneManager;custom&&!this._customViewport?sceneManager.customViewports++:!custom&&this._customViewport&&sceneManager.customViewports--;this.dirty=!0;this._customViewport=custom}},destroy:function(){this.emit(Events.DESTROY,this);this.removeAllListeners();this.matrix.destroy();this.culledObjects=[];this._customViewport&&this.sceneManager.customViewports--;this.renderList=[];this.cameraManager=this.sceneManager=this.scaleManager=this.scene=this._bounds=null},x:{get:function(){return this._x},
set:function(value){this._x=value;this.updateSystem()}},y:{get:function(){return this._y},set:function(value){this._y=value;this.updateSystem()}},width:{get:function(){return this._width},set:function(value){this._width=value;this.updateSystem()}},height:{get:function(){return this._height},set:function(value){this._height=value;this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(value){this._scrollX=value;this.dirty=!0}},scrollY:{get:function(){return this._scrollY},
set:function(value){this._scrollY=value;this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(value){this._zoomY=this._zoomX=value;this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(value){this._zoomX=value;this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(value){this._zoomY=value;this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(value){this._rotation=value;this.dirty=!0}},centerX:{get:function(){return this.x+
.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(328);var Bounce=__webpack_require__(329),Circular=__webpack_require__(330),Cubic=__webpack_require__(331),Elastic=__webpack_require__(332),Expo=__webpack_require__(333),Linear=__webpack_require__(334),
Quadratic=__webpack_require__(335),Quartic=__webpack_require__(336),Quintic=__webpack_require__(337),Sine=__webpack_require__(338);__webpack_require__=__webpack_require__(339);module.exports={Power0:Linear,Power1:Quadratic.Out,Power2:Cubic.Out,Power3:Quartic.Out,Power4:Quintic.Out,Linear:Linear,Quad:Quadratic.Out,Cubic:Cubic.Out,Quart:Quartic.Out,Quint:Quintic.Out,Sine:Sine.Out,Expo:Expo.Out,Circ:Circular.Out,Elastic:Elastic.Out,Back:exports.Out,Bounce:Bounce.Out,Stepped:__webpack_require__,"Quad.easeIn":Quadratic.In,
"Cubic.easeIn":Cubic.In,"Quart.easeIn":Quartic.In,"Quint.easeIn":Quintic.In,"Sine.easeIn":Sine.In,"Expo.easeIn":Expo.In,"Circ.easeIn":Circular.In,"Elastic.easeIn":Elastic.In,"Back.easeIn":exports.In,"Bounce.easeIn":Bounce.In,"Quad.easeOut":Quadratic.Out,"Cubic.easeOut":Cubic.Out,"Quart.easeOut":Quartic.Out,"Quint.easeOut":Quintic.Out,"Sine.easeOut":Sine.Out,"Expo.easeOut":Expo.Out,"Circ.easeOut":Circular.Out,"Elastic.easeOut":Elastic.Out,"Back.easeOut":exports.Out,"Bounce.easeOut":Bounce.Out,"Quad.easeInOut":Quadratic.InOut,
"Cubic.easeInOut":Cubic.InOut,"Quart.easeInOut":Quartic.InOut,"Quint.easeInOut":Quintic.InOut,"Sine.easeInOut":Sine.InOut,"Expo.easeInOut":Expo.InOut,"Circ.easeInOut":Circular.InOut,"Elastic.easeInOut":Elastic.InOut,"Back.easeInOut":exports.InOut,"Bounce.easeInOut":Bounce.InOut}},function(module,exports){module.exports=function(p0,p1,t){return(p1-p0)*t+p0}},function(module,exports,__webpack_require__){exports=__webpack_require__(102);__webpack_require__={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,
firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};var ua=navigator.userAgent;/Edge\/\d+/.test(ua)?__webpack_require__.edge=!0:/Chrome\/(\d+)/.test(ua)&&!exports.windowsPhone?(__webpack_require__.chrome=!0,__webpack_require__.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(ua)?(__webpack_require__.firefox=!0,__webpack_require__.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(ua)&&exports.iOS?__webpack_require__.mobileSafari=
!0:/MSIE (\d+\.\d+);/.test(ua)?(__webpack_require__.ie=!0,__webpack_require__.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(ua)?__webpack_require__.opera=!0:/Safari/.test(ua)&&!exports.windowsPhone?__webpack_require__.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(ua)&&(__webpack_require__.ie=!0,__webpack_require__.trident=!0,__webpack_require__.tridentVersion=parseInt(RegExp.$1,10),__webpack_require__.ieVersion=parseInt(RegExp.$3,10));/Silk/.test(ua)&&(__webpack_require__.silk=!0);module.exports=
__webpack_require__},function(module,exports){module.exports=function(min,max){return Math.random()*(max-min)+min}},function(module,exports){module.exports=function(width,height){return 0<width&&0===(width&width-1)&&0<height&&0===(height&height-1)}},function(module,exports){module.exports=function(value,gap,start,divide){void 0===start&&(start=0);if(0===gap)return value;value=gap*Math.ceil((value-start)/gap);return divide?(start+value)/gap:start+value}},function(module,exports,__webpack_require__){var Vector4=
new (__webpack_require__(0))({initialize:function(x,y,z,w){this.w=this.z=this.y=this.x=0;"object"===typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0,this.w=x.w||0):(this.x=x||0,this.y=y||0,this.z=z||0,this.w=w||0)},clone:function(){return new Vector4(this.x,this.y,this.z,this.w)},copy:function(src){this.x=src.x;this.y=src.y;this.z=src.z||0;this.w=src.w||0;return this},equals:function(v){return this.x===v.x&&this.y===v.y&&this.z===v.z&&this.w===v.w},set:function(x,y,z,w){"object"===typeof x?(this.x=
x.x||0,this.y=x.y||0,this.z=x.z||0,this.w=x.w||0):(this.x=x||0,this.y=y||0,this.z=z||0,this.w=w||0);return this},add:function(v){this.x+=v.x;this.y+=v.y;this.z+=v.z||0;this.w+=v.w||0;return this},subtract:function(v){this.x-=v.x;this.y-=v.y;this.z-=v.z||0;this.w-=v.w||0;return this},scale:function(scale){this.x*=scale;this.y*=scale;this.z*=scale;this.w*=scale;return this},length:function(){var x=this.x,y=this.y,z=this.z,w=this.w;return Math.sqrt(x*x+y*y+z*z+w*w)},lengthSq:function(){var x=this.x,
y=this.y,z=this.z,w=this.w;return x*x+y*y+z*z+w*w},normalize:function(){var x=this.x,y=this.y,z=this.z,w=this.w,len=x*x+y*y+z*z+w*w;0<len&&(len=1/Math.sqrt(len),this.x=x*len,this.y=y*len,this.z=z*len,this.w=w*len);return this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,t){void 0===t&&(t=0);var ax=this.x,ay=this.y,az=this.z,aw=this.w;this.x=ax+t*(v.x-ax);this.y=ay+t*(v.y-ay);this.z=az+t*(v.z-az);this.w=aw+t*(v.w-aw);return this},multiply:function(v){this.x*=
v.x;this.y*=v.y;this.z*=v.z||1;this.w*=v.w||1;return this},divide:function(v){this.x/=v.x;this.y/=v.y;this.z/=v.z||1;this.w/=v.w||1;return this},distance:function(v){var dx=v.x-this.x,dy=v.y-this.y,dz=v.z-this.z||0;v=v.w-this.w||0;return Math.sqrt(dx*dx+dy*dy+dz*dz+v*v)},distanceSq:function(v){var dx=v.x-this.x,dy=v.y-this.y,dz=v.z-this.z||0;v=v.w-this.w||0;return dx*dx+dy*dy+dz*dz+v*v},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},transformMat4:function(mat){var x=
this.x,y=this.y,z=this.z,w=this.w;mat=mat.val;this.x=mat[0]*x+mat[4]*y+mat[8]*z+mat[12]*w;this.y=mat[1]*x+mat[5]*y+mat[9]*z+mat[13]*w;this.z=mat[2]*x+mat[6]*y+mat[10]*z+mat[14]*w;this.w=mat[3]*x+mat[7]*y+mat[11]*z+mat[15]*w;return this},transformQuat:function(q){var x=this.x,y=this.y,z=this.z,qx=q.x,qy=q.y,qz=q.z;q=q.w;var ix=q*x+qy*z-qz*y,iy=q*y+qz*x-qx*z,iz=q*z+qx*y-qy*x;x=-qx*x-qy*y-qz*z;this.x=ix*q+x*-qx+iy*-qz-iz*-qy;this.y=iy*q+x*-qy+iz*-qx-ix*-qz;this.z=iz*q+x*-qz+ix*-qy-iy*-qx;return this},
reset:function(){this.w=this.z=this.y=this.x=0;return this}});Vector4.prototype.sub=Vector4.prototype.subtract;Vector4.prototype.mul=Vector4.prototype.multiply;Vector4.prototype.div=Vector4.prototype.divide;Vector4.prototype.dist=Vector4.prototype.distance;Vector4.prototype.distSq=Vector4.prototype.distanceSq;Vector4.prototype.len=Vector4.prototype.length;Vector4.prototype.lenSq=Vector4.prototype.lengthSq;module.exports=Vector4},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var Events=__webpack_require__(88);__webpack_require__=new exports({initialize:function(renderer,width,height,scale,minFilter,autoClear,autoResize){void 0===scale&&(scale=1);void 0===minFilter&&(minFilter=0);void 0===autoClear&&(autoClear=!0);void 0===autoResize&&(autoResize=!1);this.renderer=renderer;this.texture=this.framebuffer=null;this.height=this.width=0;this.scale=scale;this.minFilter=minFilter;this.autoClear=autoClear;this.autoResize=!1;this.resize(width,height);autoResize&&this.setAutoResize(!0)},
setAutoResize:function(autoResize){autoResize&&!this.autoResize?(this.renderer.on(Events.RESIZE,this.resize,this),this.autoResize=!0):!autoResize&&this.autoResize&&(this.renderer.off(Events.RESIZE,this.resize,this),this.autoResize=!1);return this},resize:function(width,height){var scaledHeight=height*this.scale;if(width*this.scale!==this.width||scaledHeight!==this.height)scaledHeight=this.renderer,scaledHeight.deleteFramebuffer(this.framebuffer),scaledHeight.deleteTexture(this.texture),width*=this.scale,
height*=this.scale,this.texture=scaledHeight.createTextureFromSource(null,width,height,this.minFilter),this.framebuffer=scaledHeight.createFramebuffer(width,height,this.texture,!1),this.width=width,this.height=height;return this},bind:function(adjustViewport,width,height){void 0===adjustViewport&&(adjustViewport=!1);adjustViewport&&this.renderer.flush();width&&height&&this.resize(width,height);this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1);adjustViewport&&this.adjustViewport();this.autoClear&&
(adjustViewport=this.renderer.gl,adjustViewport.clearColor(0,0,0,0),adjustViewport.clear(adjustViewport.COLOR_BUFFER_BIT))},adjustViewport:function(){var gl=this.renderer.gl;gl.viewport(0,0,this.width,this.height);gl.disable(gl.SCISSOR_TEST)},clear:function(){var renderer=this.renderer,gl=renderer.gl;renderer.pushFramebuffer(this.framebuffer);gl.disable(gl.SCISSOR_TEST);gl.clearColor(0,0,0,0);gl.clear(gl.COLOR_BUFFER_BIT);renderer.popFramebuffer();renderer.resetScissor()},unbind:function(flush){void 0===
flush&&(flush=!1);var renderer=this.renderer;flush&&renderer.flush();return renderer.popFramebuffer()},destroy:function(){var renderer=this.renderer;renderer.deleteFramebuffer(this.framebuffer);renderer.deleteTexture(this.texture);renderer.off(Events.RESIZE,this.resize,this);this.texture=this.framebuffer=this.renderer=null}});module.exports=__webpack_require__},function(module,exports){module.exports=function(element,parent){var target;if(parent)"string"===typeof parent?target=document.getElementById(parent):
"object"===typeof parent&&1===parent.nodeType&&(target=parent);else if(element.parentElement||null===parent)return element;target||(target=document.body);target.appendChild(element);return element}},function(module,exports){module.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,
NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,
QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},function(module,exports){module.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(module,exports,__webpack_require__){var Clone=__webpack_require__(77);module.exports=function(obj1,obj2){obj1=Clone(obj1);for(var key in obj2)obj1.hasOwnProperty(key)||
(obj1[key]=obj2[key]);return obj1}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Clone=__webpack_require__(77),EventEmitter=__webpack_require__(9),Events=__webpack_require__(69),GameEvents=__webpack_require__(22),NOOP=__webpack_require__(1),GetAll=__webpack_require__(204),GetFirst=__webpack_require__(422);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(game){EventEmitter.call(this);this.game=game;this.jsonCache=game.cache.json;this.sounds=
[];this.mute=!1;this.volume=1;this.pauseOnBlur=!0;this._rate=1;this._detune=0;this.locked=this.locked||!1;this.unlocked=!1;game.events.on(GameEvents.BLUR,this.onGameBlur,this);game.events.on(GameEvents.FOCUS,this.onGameFocus,this);game.events.on(GameEvents.PRE_STEP,this.update,this);game.events.once(GameEvents.DESTROY,this.destroy,this)},add:NOOP,addAudioSprite:function(key,config){void 0===config&&(config={});var sound=this.add(key,config);sound.spritemap=this.jsonCache.get(key).spritemap;for(var markerName in sound.spritemap)if(sound.spritemap.hasOwnProperty(markerName)){key=
Clone(config);var marker=sound.spritemap[markerName];key.loop=marker.hasOwnProperty("loop")?marker.loop:!1;sound.addMarker({name:markerName,start:marker.start,duration:marker.end-marker.start,config:key})}return sound},get:function(key){return GetFirst(this.sounds,"key",key)},getAll:function(key){return GetAll(this.sounds,"key",key)},play:function(key,extra){key=this.add(key);key.once(Events.COMPLETE,key.destroy,key);return extra?extra.name?(key.addMarker(extra),key.play(extra.name)):key.play(extra):
key.play()},playAudioSprite:function(key,spriteName,config){key=this.addAudioSprite(key);key.once(Events.COMPLETE,key.destroy,key);return key.play(spriteName,config)},remove:function(sound){var index=this.sounds.indexOf(sound);return-1!==index?(sound.destroy(),this.sounds.splice(index,1),!0):!1},removeAll:function(){this.sounds.forEach(function(sound){sound.destroy()});this.sounds.length=0},removeByKey:function(key){for(var removed=0,i=this.sounds.length-1;0<=i;i--){var sound=this.sounds[i];sound.key===
key&&(sound.destroy(),this.sounds.splice(i,1),removed++)}return removed},pauseAll:function(){this.forEachActiveSound(function(sound){sound.pause()});this.emit(Events.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(sound){sound.resume()});this.emit(Events.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(sound){sound.stop()});this.emit(Events.STOP_ALL,this)},stopByKey:function(key){var stopped=0;this.getAll(key).forEach(function(sound){sound.stop()&&stopped++});
return stopped},unlock:NOOP,onBlur:NOOP,onFocus:NOOP,onGameBlur:function(){if(this.pauseOnBlur)this.onBlur()},onGameFocus:function(){if(this.pauseOnBlur)this.onFocus()},update:function(time,delta){this.unlocked&&(this.locked=this.unlocked=!1,this.emit(Events.UNLOCKED,this));for(var i=this.sounds.length-1;0<=i;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach(function(sound){sound.update(time,delta)})},destroy:function(){this.game.events.off(GameEvents.BLUR,this.onGameBlur,
this);this.game.events.off(GameEvents.FOCUS,this.onGameFocus,this);this.game.events.off(GameEvents.PRE_STEP,this.update,this);this.removeAllListeners();this.removeAll();this.sounds.length=0;this.game=this.sounds=null},forEachActiveSound:function(callback,scope){var _this=this;this.sounds.forEach(function(sound,index){sound&&!sound.pendingRemove&&callback.call(scope||_this,sound,index,_this.sounds)})},setRate:function(value){this.rate=value;return this},rate:{get:function(){return this._rate},set:function(value){this._rate=
value;this.forEachActiveSound(function(sound){sound.calculateRate()});this.emit(Events.GLOBAL_RATE,this,value)}},setDetune:function(value){this.detune=value;return this},detune:{get:function(){return this._detune},set:function(value){this._detune=value;this.forEachActiveSound(function(sound){sound.calculateRate()});this.emit(Events.GLOBAL_DETUNE,this,value)}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var EventEmitter=__webpack_require__(9),
Events=__webpack_require__(69),Extend=__webpack_require__(17);__webpack_require__=__webpack_require__(1);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(manager,key,config){EventEmitter.call(this);this.manager=manager;this.key=key;this.isPaused=this.isPlaying=!1;this.totalRate=1;this.duration=this.duration||0;this.totalDuration=this.totalDuration||0;this.currentConfig=this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0};this.config=Extend(this.config,
config);this.markers={};this.currentMarker=null;this.pendingRemove=!1},addMarker:function(marker){if(!marker||!marker.name||"string"!==typeof marker.name)return!1;if(this.markers[marker.name])return console.error("addMarker "+marker.name+" already exists in Sound"),!1;marker=Extend(!0,{name:"",start:0,duration:this.totalDuration-(marker.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},marker);this.markers[marker.name]=marker;return!0},updateMarker:function(marker){if(!marker||
!marker.name||"string"!==typeof marker.name)return!1;if(!this.markers[marker.name])return console.warn("Audio Marker: "+marker.name+" missing in Sound: "+this.key),!1;this.markers[marker.name]=Extend(!0,this.markers[marker.name],marker);return!0},removeMarker:function(markerName){var marker=this.markers[markerName];if(!marker)return null;this.markers[markerName]=null;return marker},play:function(markerName,config){void 0===markerName&&(markerName="");"object"===typeof markerName&&(config=markerName,
markerName="");if("string"!==typeof markerName)return!1;if(markerName){if(!this.markers[markerName])return console.warn("Marker: "+markerName+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[markerName];this.currentConfig=this.currentMarker.config;this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;this.resetConfig();this.currentConfig=Extend(this.currentConfig,config);this.isPlaying=!0;this.isPaused=
!1;return!0},pause:function(){if(this.isPaused||!this.isPlaying)return!1;this.isPlaying=!1;return this.isPaused=!0},resume:function(){if(!this.isPaused||this.isPlaying)return!1;this.isPlaying=!0;this.isPaused=!1;return!0},stop:function(){if(!this.isPaused&&!this.isPlaying)return!1;this.isPaused=this.isPlaying=!1;this.resetConfig();return!0},applyConfig:function(){this.mute=this.currentConfig.mute;this.volume=this.currentConfig.volume;this.rate=this.currentConfig.rate;this.detune=this.currentConfig.detune;
this.loop=this.currentConfig.loop;this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0;this.currentConfig.delay=0},update:__webpack_require__,calculateRate:function(){this.totalRate=this.currentConfig.rate*this.manager.rate*Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune)},destroy:function(){this.pendingRemove||(this.emit(Events.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPaused=this.isPlaying=
!1,this.currentMarker=this.markers=this.currentConfig=this.config=null)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CheckMatrix=__webpack_require__(206),TransposeMatrix=__webpack_require__(429);module.exports=function(matrix,direction){void 0===direction&&(direction=90);if(!CheckMatrix(matrix))return null;"string"!==typeof direction&&(direction=(direction%360+360)%360);if(90===direction||-270===direction||"rotateLeft"===direction)matrix=TransposeMatrix(matrix),
matrix.reverse();else if(-90===direction||270===direction||"rotateRight"===direction)matrix.reverse(),matrix=TransposeMatrix(matrix);else if(180===Math.abs(direction)||"rotate180"===direction){for(direction=0;direction<matrix.length;direction++)matrix[direction].reverse();matrix.reverse()}return matrix}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Clamp=__webpack_require__(18),Components=__webpack_require__(11),GameObject=__webpack_require__(15),GetBitmapTextSize=
__webpack_require__(1037),ParseFromAtlas=__webpack_require__(1038),ParseXMLBitmapFont=__webpack_require__(209),Rectangle=__webpack_require__(10);__webpack_require__=__webpack_require__(1039);var BitmapText=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Mask,Components.Origin,Components.Pipeline,Components.ScrollFactor,Components.Texture,Components.Tint,Components.Transform,Components.Visible,__webpack_require__],initialize:function(scene,
x,y,font,text,size,align){void 0===text&&(text="");void 0===align&&(align=0);GameObject.call(this,scene,"BitmapText");this.font=font;(scene=this.scene.sys.cache.bitmapFont.get(font))||console.warn("Invalid BitmapText key: "+font);this.fontData=scene.data;this._text="";this._fontSize=size||this.fontData.size;this._letterSpacing=0;this._align=align;this._bounds=GetBitmapTextSize();this._dirty=!0;this._maxWidth=0;this.wordWrapCharCode=32;this.charColors=[];this.dropShadowColor=this.dropShadowY=this.dropShadowX=
0;this.dropShadowAlpha=.5;this.setTexture(scene.texture,scene.frame);this.setPosition(x,y);this.setOrigin(0,0);this.initPipeline();this.setText(text)},setLeftAlign:function(){this._align=BitmapText.ALIGN_LEFT;this._dirty=!0;return this},setCenterAlign:function(){this._align=BitmapText.ALIGN_CENTER;this._dirty=!0;return this},setRightAlign:function(){this._align=BitmapText.ALIGN_RIGHT;this._dirty=!0;return this},setFontSize:function(size){this._fontSize=size;this._dirty=!0;return this},setLetterSpacing:function(spacing){void 0===
spacing&&(spacing=0);this._letterSpacing=spacing;this._dirty=!0;return this},setText:function(value){value||0===value||(value="");Array.isArray(value)&&(value=value.join("\n"));value!==this.text&&(this._text=value.toString(),this._dirty=!0,this.updateDisplayOrigin());return this},setDropShadow:function(x,y,color,alpha){void 0===x&&(x=0);void 0===y&&(y=0);void 0===color&&(color=0);void 0===alpha&&(alpha=.5);this.dropShadowX=x;this.dropShadowY=y;this.dropShadowColor=color;this.dropShadowAlpha=alpha;
return this},setCharacterTint:function(start,length,tintFill,topLeft,topRight,bottomLeft,bottomRight){void 0===start&&(start=0);void 0===length&&(length=1);void 0===tintFill&&(tintFill=!1);void 0===topLeft&&(topLeft=-1);void 0===topRight&&(bottomRight=bottomLeft=topRight=topLeft);var len=this.text.length;-1===length&&(length=len);0>start&&(start=len+start);start=Clamp(start,0,len-1);length=Clamp(start+length,start,len);for(len=this.charColors;start<length;start++){var color=len[start];if(-1===topLeft)len[start]=
null;else{var tintEffect=tintFill?1:0;color?(color.tintEffect=tintEffect,color.tintTL=topLeft,color.tintTR=topRight,color.tintBL=bottomLeft,color.tintBR=bottomRight):len[start]={tintEffect:tintEffect,tintTL:topLeft,tintTR:topRight,tintBL:bottomLeft,tintBR:bottomRight}}}return this},setWordTint:function(word,count,tintFill,topLeft,topRight,bottomLeft,bottomRight){void 0===count&&(count=1);for(var words=this.getTextBounds().words,wordIsNumber="number"===typeof word,total=0,i=0;i<words.length;i++){var lineword=
words[i];if(wordIsNumber&&i===word||!wordIsNumber&&lineword.word===word)if(this.setCharacterTint(lineword.i,lineword.word.length,tintFill,topLeft,topRight,bottomLeft,bottomRight),total++,total===count)break}return this},getTextBounds:function(round){var bounds=this._bounds;if(this._dirty||round||this.scaleX!==bounds.scaleX||this.scaleY!==bounds.scaleY)GetBitmapTextSize(this,round,!0,bounds),this._dirty=!1;return bounds},getCharacterAt:function(x,y,camera){x=this.getLocalPoint(x,y,null,camera);y=this.getTextBounds().characters;
camera=new Rectangle;for(var i=0;i<y.length;i++){var char=y[i];camera.setTo(char.x,char.t,char.r-char.x,char.b);if(camera.contains(x.x,x.y))return char}return null},updateDisplayOrigin:function(){this._dirty=!0;this.getTextBounds(!1);return this},setFont:function(key,size,align){void 0===size&&(size=this._fontSize);void 0===align&&(align=this._align);if(key!==this.font){var entry=this.scene.sys.cache.bitmapFont.get(key);entry&&(this.font=key,this.fontData=entry.data,this._fontSize=size,this._align=
align,this.setTexture(entry.texture,entry.frame),GetBitmapTextSize(this,!1,!0,this._bounds))}return this},setMaxWidth:function(value,wordWrapCharCode){this._maxWidth=value;this._dirty=!0;void 0!==wordWrapCharCode&&(this.wordWrapCharCode=wordWrapCharCode);return this},align:{set:function(value){this._align=value;this._dirty=!0},get:function(){return this._align}},text:{set:function(value){this.setText(value)},get:function(){return this._text}},fontSize:{set:function(value){this._fontSize=value;this._dirty=
!0},get:function(){return this._fontSize}},letterSpacing:{set:function(value){this._letterSpacing=value;this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(value){this._maxWidth=value;this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){this.getTextBounds(!1);return this._bounds.global.width}},height:{get:function(){this.getTextBounds(!1);return this._bounds.global.height}},toJSON:function(){var out=Components.ToJSON(this);out.data={font:this.font,
text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return out},preDestroy:function(){this.charColors.length=0;this.fontData=this._bounds=null}});BitmapText.ALIGN_LEFT=0;BitmapText.ALIGN_CENTER=1;BitmapText.ALIGN_RIGHT=2;BitmapText.ParseFromAtlas=ParseFromAtlas;BitmapText.ParseXMLBitmapFont=ParseXMLBitmapFont;module.exports=BitmapText},function(module,exports,__webpack_require__){var Set=new (__webpack_require__(0))({initialize:function(elements){this.entries=
[];if(Array.isArray(elements))for(var i=0;i<elements.length;i++)this.set(elements[i])},set:function(value){-1===this.entries.indexOf(value)&&this.entries.push(value);return this},get:function(property,value){for(var i=0;i<this.entries.length;i++){var entry=this.entries[i];if(entry[property]===value)return entry}},getArray:function(){return this.entries.slice(0)},delete:function(value){value=this.entries.indexOf(value);-1<value&&this.entries.splice(value,1);return this},dump:function(){console.group("Set");
for(var i=0;i<this.entries.length;i++)console.log(this.entries[i]);console.groupEnd()},each:function(callback,callbackScope){var i,temp=this.entries.slice(),len=temp.length;if(callbackScope)for(i=0;i<len&&!1!==callback.call(callbackScope,temp[i],i);i++);else for(i=0;i<len&&!1!==callback(temp[i],i);i++);return this},iterate:function(callback,callbackScope){var i,len=this.entries.length;if(callbackScope)for(i=0;i<len&&!1!==callback.call(callbackScope,this.entries[i],i);i++);else for(i=0;i<len&&!1!==
callback(this.entries[i],i);i++);return this},iterateLocal:function(callbackKey){var i,args=[];for(i=1;i<arguments.length;i++)args.push(arguments[i]);var len=this.entries.length;for(i=0;i<len;i++){var entry=this.entries[i];entry[callbackKey].apply(entry,args)}return this},clear:function(){this.entries.length=0;return this},contains:function(value){return-1<this.entries.indexOf(value)},union:function(set){var newSet=new Set;set.entries.forEach(function(value){newSet.set(value)});this.entries.forEach(function(value){newSet.set(value)});
return newSet},intersect:function(set){var newSet=new Set;this.entries.forEach(function(value){set.contains(value)&&newSet.set(value)});return newSet},difference:function(set){var newSet=new Set;this.entries.forEach(function(value){set.contains(value)||newSet.set(value)});return newSet},size:{get:function(){return this.entries.length},set:function(value){return value<this.entries.length?this.entries.length=value:this.entries.length}}});module.exports=Set},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15),IntegerToColor=__webpack_require__(186),PIPELINES_CONST=__webpack_require__(65);__webpack_require__=__webpack_require__(1176);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.GetBounds,Components.Mask,Components.Pipeline,Components.ScrollFactor,Components.Transform,Components.Visible,__webpack_require__],initialize:function(scene,
x,y,color,radius,intensity,attenuation){void 0===color&&(color=16777215);void 0===radius&&(radius=128);void 0===intensity&&(intensity=1);void 0===attenuation&&(attenuation=.1);GameObject.call(this,scene,"PointLight");this.initPipeline(PIPELINES_CONST.POINTLIGHT_PIPELINE);this.setPosition(x,y);this.color=IntegerToColor(color);this.intensity=intensity;this.attenuation=attenuation;this.width=2*radius;this.height=2*radius;this._radius=radius},radius:{get:function(){return this._radius},set:function(value){this._radius=
value;this.width=2*value;this.height=2*value}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});module.exports=__webpack_require__},function(module,exports){module.exports=function(circle,rect){var halfWidth=rect.width/2,halfHeight=rect.height/2,cx=Math.abs(circle.x-rect.x-halfWidth);rect=Math.abs(circle.y-rect.y-halfHeight);var yDist=halfHeight+circle.radius;if(cx>halfWidth+
circle.radius||rect>yDist)return!1;if(cx<=halfWidth||rect<=halfHeight)return!0;halfWidth=cx-halfWidth;halfHeight=rect-halfHeight;return halfWidth*halfWidth+halfHeight*halfHeight<=circle.radius*circle.radius}},function(module,exports,__webpack_require__){var GetValue=__webpack_require__(6),inputPlugins={};module.exports={register:function(key,plugin,mapping,settingsKey,configKey){inputPlugins[key]={plugin:plugin,mapping:mapping,settingsKey:settingsKey,configKey:configKey}},getPlugin:function(key){return inputPlugins[key]},
install:function(target){var sys=target.scene.sys,settings=sys.settings.input;sys=sys.game.config;for(var key in inputPlugins){var source=inputPlugins[key].plugin,mapping=inputPlugins[key].mapping;GetValue(settings,inputPlugins[key].settingsKey,sys[inputPlugins[key].configKey])&&(target[mapping]=new source(target))}},remove:function(key){inputPlugins.hasOwnProperty(key)&&delete inputPlugins[key]}}},function(module,exports,__webpack_require__){module.exports={ANY_KEY_DOWN:__webpack_require__(1317),
ANY_KEY_UP:__webpack_require__(1318),COMBO_MATCH:__webpack_require__(1319),DOWN:__webpack_require__(1320),KEY_DOWN:__webpack_require__(1321),KEY_UP:__webpack_require__(1322),UP:__webpack_require__(1323)}},function(module,exports){module.exports=function(file,baseURL){return file.url?file.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?file.url:baseURL+file.url:!1}},function(module,exports){module.exports=function(responseType,async,user,password,timeout,withCredentials){void 0===responseType&&
(responseType="");void 0===async&&(async=!0);void 0===user&&(user="");void 0===password&&(password="");void 0===timeout&&(timeout=0);void 0===withCredentials&&(withCredentials=!1);return{responseType:responseType,async:async,user:user,password:password,timeout:timeout,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:withCredentials}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(240),
Sprite=__webpack_require__(73);__webpack_require__=new exports({Extends:Sprite,Mixins:[Components.Acceleration,Components.Angular,Components.Bounce,Components.Debug,Components.Drag,Components.Enable,Components.Friction,Components.Gravity,Components.Immovable,Components.Mass,Components.Pushable,Components.Size,Components.Velocity],initialize:function(scene,x,y,texture,frame){Sprite.call(this,scene,x,y,texture,frame);this.body=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var IsInLayerBounds=
__webpack_require__(118);module.exports=function(tileX,tileY,nonNull,layer){void 0===nonNull&&(nonNull=!1);return IsInLayerBounds(tileX,tileY,layer)?(tileX=layer.data[tileY][tileX]||null)?-1===tileX.index?nonNull?tileX:null:tileX:null:null}},function(module,exports){module.exports=function(layer,bounds,renderOrder,outputArray){var mapData=layer.data,mapWidth=layer.width,mapHeight=layer.height;layer=layer.tilemapLayer;var drawLeft=Math.max(0,bounds.left),drawRight=Math.min(mapWidth,bounds.right),drawTop=
Math.max(0,bounds.top);bounds=Math.min(mapHeight,bounds.bottom);var y,tile;if(0===renderOrder)for(y=drawTop;y<bounds;y++)for(renderOrder=drawLeft;mapData[y]&&renderOrder<drawRight;renderOrder++)(tile=mapData[y][renderOrder])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);else if(1===renderOrder)for(y=drawTop;y<bounds;y++)for(renderOrder=drawRight;mapData[y]&&renderOrder>=drawLeft;renderOrder--)(tile=mapData[y][renderOrder])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);
else if(2===renderOrder)for(y=bounds;y>=drawTop;y--)for(renderOrder=drawLeft;mapData[y]&&renderOrder<drawRight;renderOrder++)(tile=mapData[y][renderOrder])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);else if(3===renderOrder)for(y=bounds;y>=drawTop;y--)for(renderOrder=drawRight;mapData[y]&&renderOrder>=drawLeft;renderOrder--)(tile=mapData[y][renderOrder])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);layer.tilesDrawn=outputArray.length;layer.tilesTotal=
mapWidth*mapHeight;return outputArray}},function(module,exports){module.exports=function(tileIndex,collides,layer){var loc=layer.collideIndexes.indexOf(tileIndex);collides&&-1===loc?layer.collideIndexes.push(tileIndex):collides||-1===loc||layer.collideIndexes.splice(loc,1)}},function(module,exports,__webpack_require__){var GetFastValue=__webpack_require__(2);module.exports=function(json,groupl,parentstate){if(!groupl)return{i:0,layers:json.layers,name:"",opacity:1,visible:!0,x:0,y:0};var layerX=groupl.x+
GetFastValue(groupl,"startx",0)*json.tilewidth+GetFastValue(groupl,"offsetx",0);json=groupl.y+GetFastValue(groupl,"starty",0)*json.tileheight+GetFastValue(groupl,"offsety",0);return{i:0,layers:groupl.layers,name:parentstate.name+groupl.name+"/",opacity:parentstate.opacity*groupl.opacity,visible:parentstate.visible&&groupl.visible,x:parentstate.x+layerX,y:parentstate.y+json}}},function(module,exports){module.exports=function(source,key,defaultValue){return source.hasOwnProperty(key)?"function"===typeof source[key]?
function(target,targetKey,value,targetIndex,totalTargets,tween){return source[key](target,targetKey,value,targetIndex,totalTargets,tween)}:function(){return source[key]}:"function"===typeof defaultValue?defaultValue:function(){return defaultValue}}},function(module,exports,__webpack_require__){var Defaults=__webpack_require__(261),GetAdvancedValue=__webpack_require__(13),GetBoolean=__webpack_require__(96),GetEaseFunction=__webpack_require__(80),GetNewValue=__webpack_require__(160),GetProps=__webpack_require__(579),
GetTargets=__webpack_require__(259),GetValue=__webpack_require__(6),GetValueOp=__webpack_require__(260),Tween=__webpack_require__(262),TweenData=__webpack_require__(264);module.exports=function(parent,config,defaults){void 0===defaults&&(defaults=Defaults);var targets=defaults.targets?defaults.targets:GetTargets(config),props=GetProps(config),delay=GetNewValue(config,"delay",defaults.delay),duration=GetNewValue(config,"duration",defaults.duration),easeParams=GetValue(config,"easeParams",defaults.easeParams),
ease=GetEaseFunction(GetValue(config,"ease",defaults.ease),easeParams),hold=GetNewValue(config,"hold",defaults.hold),repeat=GetNewValue(config,"repeat",defaults.repeat),repeatDelay=GetNewValue(config,"repeatDelay",defaults.repeatDelay),yoyo=GetBoolean(config,"yoyo",defaults.yoyo),flipX=GetBoolean(config,"flipX",defaults.flipX);defaults=GetBoolean(config,"flipY",defaults.flipY);for(var data=[],p=0;p<props.length;p++)for(var key=props[p].key,value=props[p].value,t=0;t<targets.length;t++){var ops=GetValueOp(key,
value);ops=TweenData(targets[t],t,key,ops.getEnd,ops.getStart,ops.getActive,GetEaseFunction(GetValue(value,"ease",ease),GetValue(value,"easeParams",easeParams)),GetNewValue(value,"delay",delay),GetNewValue(value,"duration",duration),GetBoolean(value,"yoyo",yoyo),GetNewValue(value,"hold",hold),GetNewValue(value,"repeat",repeat),GetNewValue(value,"repeatDelay",repeatDelay),GetBoolean(value,"flipX",flipX),GetBoolean(value,"flipY",defaults));data.push(ops)}parent=new Tween(parent,data,targets);parent.offset=
GetAdvancedValue(config,"offset",null);parent.completeDelay=GetAdvancedValue(config,"completeDelay",0);parent.loop=Math.round(GetAdvancedValue(config,"loop",0));parent.loopDelay=Math.round(GetAdvancedValue(config,"loopDelay",0));parent.paused=GetBoolean(config,"paused",!1);parent.useFrames=GetBoolean(config,"useFrames",!1);targets=GetValue(config,"callbackScope",parent);props=[parent,null];delay=Tween.TYPES;for(duration=0;duration<delay.length;duration++)if(easeParams=delay[duration],ease=GetValue(config,
easeParams,!1))hold=GetValue(config,easeParams+"Scope",targets),repeat=GetValue(config,easeParams+"Params",[]),parent.setCallback(easeParams,ease,props.concat(repeat),hold);return parent}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CustomMap=__webpack_require__(99),GetFastValue=__webpack_require__(2),Events=__webpack_require__(130),Animation=__webpack_require__(182);__webpack_require__=new exports({initialize:function(parent){this.parent=parent;this.animationManager=
parent.scene.sys.anims;this.animationManager.on(Events.REMOVE_ANIMATION,this.globalRemove,this);this.textureManager=this.animationManager.textureManager;this.anims=null;this.hasStarted=this.isPlaying=!1;this.nextAnim=this.currentFrame=this.currentAnim=null;this.nextAnimsQueue=[];this.timeScale=1;this.msPerFrame=this.duration=this.frameRate=0;this.skipMissedFrames=!0;this.repeatDelay=this.repeat=this.delay=0;this.hideOnComplete=this.showOnStart=this.yoyo=!1;this.forward=!0;this.inReverse=!1;this.repeatCounter=
this.delayCounter=this.nextTick=this.accumulator=0;this._wasPlaying=this._paused=this.pendingRepeat=!1;this._pendingStop=0},chain:function(key){var parent=this.parent;if(void 0===key)return this.nextAnimsQueue.length=0,this.nextAnim=null,parent;Array.isArray(key)||(key=[key]);for(parent=0;parent<key.length;parent++){var anim=key[parent];null===this.nextAnim?this.nextAnim=anim:this.nextAnimsQueue.push(anim)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?
this.currentFrame.textureFrame:""},load:function(key){this.isPlaying&&this.stop();var manager=this.animationManager,animKey="string"===typeof key?key:GetFastValue(key,"key",null);if(manager=this.exists(animKey)?this.get(animKey):manager.get(animKey)){this.currentAnim=manager;animKey=manager.getTotalFrames();var frameRate=GetFastValue(key,"frameRate",manager.frameRate),duration=GetFastValue(key,"duration",manager.duration);manager.calculateDuration(this,animKey,duration,frameRate);this.delay=GetFastValue(key,
"delay",manager.delay);this.repeat=GetFastValue(key,"repeat",manager.repeat);this.repeatDelay=GetFastValue(key,"repeatDelay",manager.repeatDelay);this.yoyo=GetFastValue(key,"yoyo",manager.yoyo);this.showOnStart=GetFastValue(key,"showOnStart",manager.showOnStart);this.hideOnComplete=GetFastValue(key,"hideOnComplete",manager.hideOnComplete);this.skipMissedFrames=GetFastValue(key,"skipMissedFrames",manager.skipMissedFrames);this.timeScale=GetFastValue(key,"timeScale",this.timeScale);key=GetFastValue(key,
"startFrame",0);key>manager.getTotalFrames()&&(key=0);animKey=manager.frames[key];0!==key||this.forward||(animKey=manager.getLastFrame());this.currentFrame=animKey}else console.warn("Missing animation: "+animKey);return this.parent},pause:function(atFrame){this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1);void 0!==atFrame&&this.setCurrentFrame(atFrame);return this.parent},resume:function(fromFrame){this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying);void 0!==
fromFrame&&this.setCurrentFrame(fromFrame);return this.parent},playAfterDelay:function(key,delay){if(this.isPlaying){var nextAnim=this.nextAnim,queue=this.nextAnimsQueue;nextAnim&&queue.unshift(nextAnim);this.nextAnim=key;this._pendingStop=1;this._pendingStopValue=delay}else this.delayCounter=delay,this.play(key,!0);return this.parent},playAfterRepeat:function(key,repeatCount){void 0===repeatCount&&(repeatCount=1);if(this.isPlaying){var nextAnim=this.nextAnim,queue=this.nextAnimsQueue;nextAnim&&queue.unshift(nextAnim);
-1!==this.repeatCounter&&repeatCount>this.repeatCounter&&(repeatCount=this.repeatCounter);this.nextAnim=key;this._pendingStop=2;this._pendingStopValue=repeatCount}else this.play(key);return this.parent},play:function(key,ignoreIfPlaying){void 0===ignoreIfPlaying&&(ignoreIfPlaying=!1);var currentAnim=this.currentAnim,parent=this.parent,animKey="string"===typeof key?key:key.key;if(ignoreIfPlaying&&this.isPlaying&&currentAnim.key===animKey)return parent;if(currentAnim&&this.isPlaying&&(ignoreIfPlaying=
this.animationManager.getMix(currentAnim.key,key),0<ignoreIfPlaying))return this.playAfterDelay(key,ignoreIfPlaying);this.forward=!0;this._paused=this.inReverse=!1;this._wasPlaying=!0;return this.startAnimation(key)},playReverse:function(key,ignoreIfPlaying){void 0===ignoreIfPlaying&&(ignoreIfPlaying=!1);var animKey="string"===typeof key?key:key.key;if(ignoreIfPlaying&&this.isPlaying&&this.currentAnim.key===animKey)return this.parent;this.forward=!1;this.inReverse=!0;this._paused=!1;this._wasPlaying=
!0;return this.startAnimation(key)},startAnimation:function(key){this.load(key);key=this.currentAnim;var gameObject=this.parent;if(!key)return gameObject;this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat;key.getFirstTick(this);this.isPlaying=!0;this.hasStarted=this.pendingRepeat=!1;this._pendingStopValue=this._pendingStop=0;this._paused=!1;this.delayCounter+=this.delay;0===this.delayCounter&&this.handleStart();return gameObject},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0);
this.setCurrentFrame(this.currentFrame);this.hasStarted=!0;this.emitEvents(Events.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1;this.emitEvents(Events.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0;this.isPlaying=!1;this.emitEvents(Events.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0;this.isPlaying=!1;this.hideOnComplete&&this.parent.setVisible(!1);this.emitEvents(Events.ANIMATION_COMPLETE,Events.ANIMATION_COMPLETE_KEY)},emitEvents:function(event,keyEvent){var anim=
this.currentAnim,frame=this.currentFrame,gameObject=this.parent,frameKey=frame.textureFrame;gameObject.emit(event,anim,frame,gameObject,frameKey);keyEvent&&gameObject.emit(keyEvent+anim.key,anim,frame,gameObject,frameKey)},reverse:function(){this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward);return this.parent},getProgress:function(){var frame=this.currentFrame;if(!frame)return 0;frame=frame.progress;this.inReverse&&(frame*=-1);return frame},setProgress:function(value){this.forward||
(value=1-value);this.setCurrentFrame(this.currentAnim.getFrameByProgress(value));return this.parent},setRepeat:function(value){this.repeatCounter=-1===value?Number.MAX_VALUE:value;return this.parent},globalRemove:function(key,animation){void 0===animation&&(animation=this.currentAnim);this.isPlaying&&animation.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(includeDelay,resetRepeats){void 0===includeDelay&&(includeDelay=!1);void 0===resetRepeats&&
(resetRepeats=!1);var anim=this.currentAnim,gameObject=this.parent;if(!anim)return gameObject;resetRepeats&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat);anim.getFirstTick(this);this.emitEvents(Events.ANIMATION_RESTART);this.isPlaying=!0;this.pendingRepeat=!1;this.hasStarted=!includeDelay;this._pendingStopValue=this._pendingStop=0;this._paused=!1;this.setCurrentFrame(anim.frames[0]);return this.parent},complete:function(){this._pendingStop=0;this.isPlaying=!1;this.currentAnim&&
this.handleComplete();if(this.nextAnim){var key=this.nextAnim;this.nextAnim=0<this.nextAnimsQueue.length?this.nextAnimsQueue.shift():null;this.play(key)}return this.parent},stop:function(){this._pendingStop=0;this.isPlaying=!1;this.currentAnim&&this.handleStop();if(this.nextAnim){var key=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift();this.play(key)}return this.parent},stopAfterDelay:function(delay){this._pendingStop=1;this._pendingStopValue=delay;return this.parent},stopAfterRepeat:function(repeatCount){void 0===
repeatCount&&(repeatCount=1);-1!==this.repeatCounter&&repeatCount>this.repeatCounter&&(repeatCount=this.repeatCounter);this._pendingStop=2;this._pendingStopValue=repeatCount;return this.parent},stopOnFrame:function(frame){this._pendingStop=3;this._pendingStopValue=frame;return this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(time,delta){time=this.currentAnim;if(this.isPlaying&&time&&!time.paused){this.accumulator+=delta*this.timeScale;
if(1===this._pendingStop&&(this._pendingStopValue-=delta,0>=this._pendingStopValue))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?time.nextFrame(this):time.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){delta=0;do this.forward?time.nextFrame(this):time.previousFrame(this),delta++;while(this.accumulator>
this.nextTick&&60>delta)}}},setCurrentFrame:function(animationFrame){var gameObject=this.parent;this.currentFrame=animationFrame;gameObject.texture=animationFrame.frame.texture;gameObject.frame=animationFrame.frame;gameObject.isCropped&&gameObject.frame.updateCropUVs(gameObject._crop,gameObject.flipX,gameObject.flipY);animationFrame.setAlpha&&(gameObject.alpha=animationFrame.alpha);gameObject.setSizeToFrame();gameObject._originComponent&&(animationFrame.frame.customPivot?gameObject.setOrigin(animationFrame.frame.pivotX,
animationFrame.frame.pivotY):gameObject.updateDisplayOrigin());this.isPlaying&&this.hasStarted&&(this.emitEvents(Events.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===animationFrame&&this.stop());return gameObject},nextFrame:function(){this.currentAnim&&this.currentAnim.nextFrame(this);return this.parent},previousFrame:function(){this.currentAnim&&this.currentAnim.previousFrame(this);return this.parent},get:function(key){return this.anims?this.anims.get(key):null},exists:function(key){return this.anims?
this.anims.has(key):!1},create:function(config){var key=config.key,anim=!1;key&&(anim=this.get(key),anim||(anim=new Animation(this,key,config),this.anims||(this.anims=new CustomMap),this.anims.set(key,anim)));return anim},generateFrameNames:function(key,config){return this.animationManager.generateFrameNames(key,config)},generateFrameNumbers:function(key,config){return this.animationManager.generateFrameNumbers(key,config)},remove:function(key){var anim=this.get(key);anim&&(this.currentAnim===anim&&
this.stop(),this.anims.delete(key));return anim},destroy:function(){this.animationManager.off(Events.REMOVE_ANIMATION,this.globalRemove,this);this.anims&&this.anims.clear();this.nextAnim=this.parent=this.animationManager=null;this.nextAnimsQueue.length=0;this.currentFrame=this.currentAnim=null},isPaused:{get:function(){return this._paused}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Composite={};module.exports=Composite;var Events=__webpack_require__(268),
Common=__webpack_require__(50),Bounds=__webpack_require__(117),Body=__webpack_require__(71);(function(){Composite.create=function(options){return Common.extend({id:Common.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},options)};Composite.setModified=function(composite,isModified,updateParents,updateChildren){Events.trigger(composite,"compositeModified",composite);composite.isModified=isModified;updateParents&&composite.parent&&
Composite.setModified(composite.parent,isModified,updateParents,updateChildren);if(updateChildren)for(var i=0;i<composite.composites.length;i++)Composite.setModified(composite.composites[i],isModified,updateParents,updateChildren)};Composite.add=function(composite,object){var objects=[].concat(object);Events.trigger(composite,"beforeAdd",{object:object});for(var i=0;i<objects.length;i++){var obj=objects[i];switch(obj.type){case "body":if(obj.parent!==obj){Common.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");
break}Composite.addBody(composite,obj);break;case "constraint":Composite.addConstraint(composite,obj);break;case "composite":Composite.addComposite(composite,obj);break;case "mouseConstraint":Composite.addConstraint(composite,obj.constraint)}}Events.trigger(composite,"afterAdd",{object:object});return composite};Composite.remove=function(composite,object,deep){var objects=[].concat(object);Events.trigger(composite,"beforeRemove",{object:object});for(var i=0;i<objects.length;i++){var obj=objects[i];
switch(obj.type){case "body":Composite.removeBody(composite,obj,deep);break;case "constraint":Composite.removeConstraint(composite,obj,deep);break;case "composite":Composite.removeComposite(composite,obj,deep);break;case "mouseConstraint":Composite.removeConstraint(composite,obj.constraint)}}Events.trigger(composite,"afterRemove",{object:object});return composite};Composite.addComposite=function(compositeA,compositeB){compositeA.composites.push(compositeB);compositeB.parent=compositeA;Composite.setModified(compositeA,
!0,!0,!1);return compositeA};Composite.removeComposite=function(compositeA,compositeB,deep){var position=compositeA.composites.indexOf(compositeB);-1!==position&&(Composite.removeCompositeAt(compositeA,position),Composite.setModified(compositeA,!0,!0,!1));if(deep)for(deep=0;deep<compositeA.composites.length;deep++)Composite.removeComposite(compositeA.composites[deep],compositeB,!0);return compositeA};Composite.removeCompositeAt=function(composite,position){composite.composites.splice(position,1);
Composite.setModified(composite,!0,!0,!1);return composite};Composite.addBody=function(composite,body){composite.bodies.push(body);Composite.setModified(composite,!0,!0,!1);return composite};Composite.removeBody=function(composite,body,deep){var position=composite.bodies.indexOf(body);-1!==position&&(Composite.removeBodyAt(composite,position),Composite.setModified(composite,!0,!0,!1));if(deep)for(deep=0;deep<composite.composites.length;deep++)Composite.removeBody(composite.composites[deep],body,!0);
return composite};Composite.removeBodyAt=function(composite,position){composite.bodies.splice(position,1);Composite.setModified(composite,!0,!0,!1);return composite};Composite.addConstraint=function(composite,constraint){composite.constraints.push(constraint);Composite.setModified(composite,!0,!0,!1);return composite};Composite.removeConstraint=function(composite,constraint,deep){var position=composite.constraints.indexOf(constraint);-1!==position&&Composite.removeConstraintAt(composite,position);
if(deep)for(deep=0;deep<composite.composites.length;deep++)Composite.removeConstraint(composite.composites[deep],constraint,!0);return composite};Composite.removeConstraintAt=function(composite,position){composite.constraints.splice(position,1);Composite.setModified(composite,!0,!0,!1);return composite};Composite.clear=function(composite,keepStatic,deep){if(deep)for(deep=0;deep<composite.composites.length;deep++)Composite.clear(composite.composites[deep],keepStatic,!0);keepStatic?composite.bodies=
composite.bodies.filter(function(body){return body.isStatic}):composite.bodies.length=0;composite.constraints.length=0;composite.composites.length=0;Composite.setModified(composite,!0,!0,!1);return composite};Composite.allBodies=function(composite){for(var bodies=[].concat(composite.bodies),i=0;i<composite.composites.length;i++)bodies=bodies.concat(Composite.allBodies(composite.composites[i]));return bodies};Composite.allConstraints=function(composite){for(var constraints=[].concat(composite.constraints),
i=0;i<composite.composites.length;i++)constraints=constraints.concat(Composite.allConstraints(composite.composites[i]));return constraints};Composite.allComposites=function(composite){for(var composites=[].concat(composite.composites),i=0;i<composite.composites.length;i++)composites=composites.concat(Composite.allComposites(composite.composites[i]));return composites};Composite.get=function(composite,id,type){switch(type){case "body":var objects=Composite.allBodies(composite);break;case "constraint":objects=
Composite.allConstraints(composite);break;case "composite":objects=Composite.allComposites(composite).concat(composite)}if(!objects)return null;composite=objects.filter(function(object){return object.id.toString()===id.toString()});return 0===composite.length?null:composite[0]};Composite.move=function(compositeA,objects,compositeB){Composite.remove(compositeA,objects);Composite.add(compositeB,objects);return compositeA};Composite.rebase=function(composite){for(var objects=Composite.allBodies(composite).concat(Composite.allConstraints(composite)).concat(Composite.allComposites(composite)),
i=0;i<objects.length;i++)objects[i].id=Common.nextId();Composite.setModified(composite,!0,!0,!1);return composite};Composite.translate=function(composite,translation,recursive){recursive=recursive?Composite.allBodies(composite):composite.bodies;for(var i=0;i<recursive.length;i++)Body.translate(recursive[i],translation);Composite.setModified(composite,!0,!0,!1);return composite};Composite.rotate=function(composite,rotation,point,recursive){var cos=Math.cos(rotation),sin=Math.sin(rotation);recursive=
recursive?Composite.allBodies(composite):composite.bodies;for(var i=0;i<recursive.length;i++){var body=recursive[i],dx=body.position.x-point.x,dy=body.position.y-point.y;Body.setPosition(body,{x:point.x+(dx*cos-dy*sin),y:point.y+(dx*sin+dy*cos)});Body.rotate(body,rotation)}Composite.setModified(composite,!0,!0,!1);return composite};Composite.scale=function(composite,scaleX,scaleY,point,recursive){recursive=recursive?Composite.allBodies(composite):composite.bodies;for(var i=0;i<recursive.length;i++){var body=
recursive[i];Body.setPosition(body,{x:point.x+(body.position.x-point.x)*scaleX,y:point.y+(body.position.y-point.y)*scaleY});Body.scale(body,scaleX,scaleY)}Composite.setModified(composite,!0,!0,!1);return composite};Composite.bounds=function(composite){composite=Composite.allBodies(composite);for(var vertices=[],i=0;i<composite.length;i+=1){var body=composite[i];vertices.push(body.bounds.min,body.bounds.max)}return Bounds.create(vertices)}})()},function(module,exports){module.exports={DEFAULT:0,LINEAR:0,
NEAREST:1}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(circle,angle,out){void 0===out&&(out=new Point);out.x=circle.x+circle.radius*Math.cos(angle);out.y=circle.y+circle.radius*Math.sin(angle);return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(circle,out){void 0===out&&(out=new Point);var t=2*Math.PI*Math.random(),u=Math.random()+Math.random();u=1<u?2-u:u;var y=u*Math.sin(t);
out.x=circle.x+u*Math.cos(t)*circle.radius;out.y=circle.y+y*circle.radius;return out}},function(module,exports,__webpack_require__){var Perimeter=__webpack_require__(128),Point=__webpack_require__(4);module.exports=function(rectangle,position,out){void 0===out&&(out=new Point);if(0>=position||1<=position)return out.x=rectangle.x,out.y=rectangle.y,out;var p=Perimeter(rectangle)*position;.5<position?(p-=rectangle.width+rectangle.height,p<=rectangle.width?(out.x=rectangle.right-p,out.y=rectangle.bottom):
(out.x=rectangle.x,out.y=rectangle.bottom-(p-rectangle.width))):p<=rectangle.width?(out.x=rectangle.x+p,out.y=rectangle.y):(out.x=rectangle.right,out.y=rectangle.y+(p-rectangle.width));return out}},function(module,exports,__webpack_require__){var Length=__webpack_require__(64),Point=__webpack_require__(4);module.exports=function(line,quantity,stepRate,out){void 0===out&&(out=[]);!quantity&&0<stepRate&&(quantity=Length(line)/stepRate);stepRate=line.x1;var y1=line.y1,x2=line.x2;line=line.y2;for(var i=
0;i<quantity;i++){var position=i/quantity;out.push(new Point(stepRate+(x2-stepRate)*position,y1+(line-y1)*position))}return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(line,out){void 0===out&&(out=new Point);var t=Math.random();out.x=line.x1+t*(line.x2-line.x1);out.y=line.y1+t*(line.y2-line.y1);return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(rect,out){void 0===out&&(out=
new Point);out.x=rect.x+Math.random()*rect.width;out.y=rect.y+Math.random()*rect.height;return out}},function(module,exports,__webpack_require__){var DeepCopy=__webpack_require__(172),PIPELINE_CONST=__webpack_require__(65),SpliceOne=__webpack_require__(74);module.exports={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(pipeline){void 0===pipeline&&(pipeline=PIPELINE_CONST.MULTI_PIPELINE);var renderer=this.scene.sys.renderer;if(!renderer)return!1;
renderer=renderer.pipelines;this.postPipelines=[];this.pipelineData={};return renderer&&(pipeline=renderer.get(pipeline))?(this.pipeline=this.defaultPipeline=pipeline,!0):!1},setPipeline:function(pipeline,pipelineData,copyData){var renderer=this.scene.sys.renderer;if(!renderer)return this;if(renderer=renderer.pipelines){if(pipeline=renderer.get(pipeline))this.pipeline=pipeline;pipelineData&&(this.pipelineData=copyData?DeepCopy(pipelineData):pipelineData)}return this},setPostPipeline:function(pipelines,
pipelineData,copyData){var renderer=this.scene.sys.renderer;if(!renderer)return this;if(renderer=renderer.pipelines){Array.isArray(pipelines)||(pipelines=[pipelines]);for(var i=0;i<pipelines.length;i++){var instance=renderer.getPostPipeline(pipelines[i],this);instance&&this.postPipelines.push(instance)}pipelineData&&(this.pipelineData=copyData?DeepCopy(pipelineData):pipelineData)}this.hasPostPipeline=0<this.postPipelines.length;return this},setPipelineData:function(key,value){var data=this.pipelineData;
void 0===value?delete data[key]:data[key]=value;return this},getPostPipeline:function(pipeline){for(var pipelines=this.postPipelines,results=[],i=0;i<pipelines.length;i++){var instance=pipelines[i];("string"===typeof pipeline&&instance.name===pipeline||instance instanceof pipeline)&&results.push(instance)}return 1===results.length?results[0]:results},resetPipeline:function(resetPostPipelines,resetData){void 0===resetPostPipelines&&(resetPostPipelines=!1);void 0===resetData&&(resetData=!1);this.pipeline=
this.defaultPipeline;resetPostPipelines&&(this.postPipelines=[],this.hasPostPipeline=!1);resetData&&(this.pipelineData={});return null!==this.pipeline},resetPostPipeline:function(resetData){void 0===resetData&&(resetData=!1);for(var pipelines=this.postPipelines,i=0;i<pipelines.length;i++)pipelines[i].destroy();this.postPipelines=[];this.hasPostPipeline=!1;resetData&&(this.pipelineData={})},removePostPipeline:function(pipeline){for(var pipelines=this.postPipelines,i=pipelines.length-1;0<=i;i--){var instance=
pipelines[i];if("string"===typeof pipeline&&instance.name===pipeline||"string"!==typeof pipeline&&instance instanceof pipeline)instance.destroy(),SpliceOne(pipelines,i)}this.hasPostPipeline=0<this.postPipelines.length;return this},getPipelineName:function(){return this.pipeline.name}}},function(module,exports){var DeepCopy=function(inObject){var key;if("object"!==typeof inObject||null===inObject)return inObject;var outObject=Array.isArray(inObject)?[]:{};for(key in inObject){var value=inObject[key];
outObject[key]=DeepCopy(value)}return outObject};module.exports=DeepCopy},function(module,exports){module.exports=function(gameObject){var out={name:gameObject.name,type:gameObject.type,x:gameObject.x,y:gameObject.y,depth:gameObject.depth,scale:{x:gameObject.scaleX,y:gameObject.scaleY},origin:{x:gameObject.originX,y:gameObject.originY},flipX:gameObject.flipX,flipY:gameObject.flipY,rotation:gameObject.rotation,alpha:gameObject.alpha,visible:gameObject.visible,blendMode:gameObject.blendMode,textureKey:"",
frameKey:"",data:{}};gameObject.texture&&(out.textureKey=gameObject.texture.key,out.frameKey=gameObject.frame.name);return out}},function(module,exports,__webpack_require__){var Vector2=__webpack_require__(3);module.exports=function(x,y,positionX,positionY,rotation,scaleX,scaleY,output){void 0===output&&(output=new Vector2);var radianSin=Math.sin(rotation),radianCos=Math.cos(rotation);rotation=radianCos*scaleX;scaleX*=radianSin;radianSin=-radianSin*scaleY;scaleY*=radianCos;radianCos=1/(rotation*scaleY+
radianSin*-scaleX);output.x=scaleY*radianCos*x+-radianSin*radianCos*y+(positionY*radianSin-positionX*scaleY)*radianCos;output.y=rotation*radianCos*y+-scaleX*radianCos*x+(-positionY*rotation+positionX*scaleX)*radianCos;return output}},function(module,exports){module.exports=function(array,total){void 0===total&&(total=1);for(var element=null,i=0;i<total;i++)element=array.shift(),array.push(element);return element}},function(module,exports){module.exports=function(array,total){void 0===total&&(total=
1);for(var element=null,i=0;i<total;i++)element=array.pop(),array.unshift(element);return element}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(ellipse,out){void 0===out&&(out=new Point);var p=Math.random()*Math.PI*2,s=Math.sqrt(Math.random());out.x=ellipse.x+s*Math.cos(p)*ellipse.width/2;out.y=ellipse.y+s*Math.sin(p)*ellipse.height/2;return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=
function(triangle,out){void 0===out&&(out=new Point);var ux=triangle.x2-triangle.x1,uy=triangle.y2-triangle.y1,vx=triangle.x3-triangle.x1,vy=triangle.y3-triangle.y1,r=Math.random(),s=Math.random();1<=r+s&&(r=1-r,s=1-s);out.x=triangle.x1+(ux*r+vx*s);out.y=triangle.y1+(uy*r+vy*s);return out}},function(module,exports){module.exports=function(point,x,y,angle,distance){angle+=Math.atan2(point.y-y,point.x-x);point.x=x+distance*Math.cos(angle);point.y=y+distance*Math.sin(angle);return point}},function(module,
exports){module.exports=function(x,min,max){x=Math.max(0,Math.min(1,(x-min)/(max-min)));return x*x*x*(x*(6*x-15)+10)}},function(module,exports){module.exports=function(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x*x*(3-2*x)}},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Events=__webpack_require__(130),FindClosestInSorted=__webpack_require__(312),Frame=__webpack_require__(313),GetValue=__webpack_require__(6),
SortByDigits=__webpack_require__(314);__webpack_require__=new exports({initialize:function(manager,key,config){this.manager=manager;this.key=key;this.type="frame";this.frames=this.getFrames(manager.textureManager,GetValue(config,"frames",[]),GetValue(config,"defaultTextureKey",null),GetValue(config,"sortFrames",!0));this.frameRate=GetValue(config,"frameRate",null);this.duration=GetValue(config,"duration",null);this.skipMissedFrames=GetValue(config,"skipMissedFrames",!0);this.delay=GetValue(config,
"delay",0);this.repeat=GetValue(config,"repeat",0);this.repeatDelay=GetValue(config,"repeatDelay",0);this.yoyo=GetValue(config,"yoyo",!1);this.showOnStart=GetValue(config,"showOnStart",!1);this.hideOnComplete=GetValue(config,"hideOnComplete",!1);this.paused=!1;this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate);this.manager.on&&(this.manager.on(Events.PAUSE_ALL,this.pause,this),this.manager.on(Events.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},
calculateDuration:function(target,totalFrames,duration,frameRate){null===duration&&null===frameRate?(target.frameRate=24,target.duration=24/totalFrames*1E3):duration&&null===frameRate?(target.duration=duration,target.frameRate=totalFrames/(duration/1E3)):(target.frameRate=frameRate,target.duration=totalFrames/frameRate*1E3);target.msPerFrame=1E3/target.frameRate},addFrame:function(config){return this.addFrameAt(this.frames.length,config)},addFrameAt:function(index,config){config=this.getFrames(this.manager.textureManager,
config);if(0<config.length){if(0===index)this.frames=config.concat(this.frames);else if(index===this.frames.length)this.frames=this.frames.concat(config);else{var pre=this.frames.slice(0,index);index=this.frames.slice(index);this.frames=pre.concat(config,index)}this.updateFrameSequence()}return this},checkFrame:function(index){return 0<=index&&index<this.frames.length},getFirstTick:function(state){state.accumulator=0;state.nextTick=state.msPerFrame+state.currentFrame.duration},getFrameAt:function(index){return this.frames[index]},
getFrames:function(textureManager,frames,defaultTextureKey,sortFrames){void 0===sortFrames&&(sortFrames=!0);var out=[],index=1;if("string"===typeof frames){var textureKey=frames;var frameKeys=textureManager.get(textureKey).getFrameNames();sortFrames&&SortByDigits(frameKeys);frames=[];frameKeys.forEach(function(value){frames.push({key:textureKey,frame:value})})}if(!Array.isArray(frames)||0===frames.length)return out;for(sortFrames=0;sortFrames<frames.length;sortFrames++){frameKeys=frames[sortFrames];
var key=GetValue(frameKeys,"key",defaultTextureKey);if(key){var animationFrame=GetValue(frameKeys,"frame",0);var textureFrame=textureManager.getFrame(key,animationFrame);animationFrame=new Frame(key,animationFrame,index,textureFrame);animationFrame.duration=GetValue(frameKeys,"duration",0);animationFrame.isFirst=!prev;prev&&(prev.nextFrame=animationFrame,animationFrame.prevFrame=prev);out.push(animationFrame);var prev=animationFrame;index++}}if(0<out.length)for(animationFrame.isLast=!0,animationFrame.nextFrame=
out[0],out[0].prevFrame=animationFrame,textureManager=1/(out.length-1),sortFrames=0;sortFrames<out.length;sortFrames++)out[sortFrames].progress=sortFrames*textureManager;return out},getNextTick:function(state){state.accumulator-=state.nextTick;state.nextTick=state.msPerFrame+state.currentFrame.duration},getFrameByProgress:function(value){value=Clamp(value,0,1);return FindClosestInSorted(value,this.frames,"progress")},nextFrame:function(state){var frame=state.currentFrame;frame.isLast?state.yoyo?this.handleYoyoFrame(state,
!1):0<state.repeatCounter?state.inReverse&&state.forward?state.forward=!1:this.repeatAnimation(state):state.complete():this.updateAndGetNextTick(state,frame.nextFrame)},handleYoyoFrame:function(state,isReverse){isReverse||(isReverse=!1);if(state.inReverse===!isReverse&&0<state.repeatCounter){if(0===state.repeatDelay||state.pendingRepeat)state.forward=isReverse;this.repeatAnimation(state)}else state.inReverse!==isReverse&&0===state.repeatCounter?state.complete():(state.forward=isReverse,this.updateAndGetNextTick(state,
isReverse?state.currentFrame.nextFrame:state.currentFrame.prevFrame))},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(state){var frame=state.currentFrame;if(frame.isFirst)if(state.yoyo)this.handleYoyoFrame(state,!0);else if(0<state.repeatCounter){if(!state.inReverse||state.forward)state.forward=!0;this.repeatAnimation(state)}else state.complete();else this.updateAndGetNextTick(state,frame.prevFrame)},updateAndGetNextTick:function(state,frame){state.setCurrentFrame(frame);
this.getNextTick(state)},removeFrame:function(frame){frame=this.frames.indexOf(frame);-1!==frame&&this.removeFrameAt(frame);return this},removeFrameAt:function(index){this.frames.splice(index,1);this.updateFrameSequence();return this},repeatAnimation:function(state){if(2===state._pendingStop){if(0===state._pendingStopValue)return state.stop();state._pendingStopValue--}0<state.repeatDelay&&!state.pendingRepeat?(state.pendingRepeat=!0,state.accumulator-=state.nextTick,state.nextTick+=state.repeatDelay):
(state.repeatCounter--,state.forward?state.setCurrentFrame(state.currentFrame.nextFrame):state.setCurrentFrame(state.currentFrame.prevFrame),state.isPlaying&&(this.getNextTick(state),state.handleRepeat()))},toJSON:function(){var output={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};
this.frames.forEach(function(frame){output.frames.push(frame.toJSON())});return output},updateFrameSequence:function(){for(var len=this.frames.length,slice=1/(len-1),frame,i=0;i<len;i++)frame=this.frames[i],frame.index=i+1,frame.isFirst=!1,frame.isLast=!1,frame.progress=i*slice,0===i?(frame.isFirst=!0,1===len?(frame.isLast=!0,frame.nextFrame=frame,frame.prevFrame=frame):(frame.isLast=!1,frame.prevFrame=this.frames[len-1],frame.nextFrame=this.frames[i+1])):i===len-1&&1<len?(frame.isLast=!0,frame.prevFrame=
this.frames[len-2],frame.nextFrame=this.frames[0]):1<len&&(frame.prevFrame=this.frames[i-1],frame.nextFrame=this.frames[i+1]);return this},pause:function(){this.paused=!0;return this},resume:function(){this.paused=!1;return this},destroy:function(){this.manager.off&&(this.manager.off(Events.PAUSE_ALL,this.pause,this),this.manager.off(Events.RESUME_ALL,this.resume,this));this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[];this.manager=null}});
module.exports=__webpack_require__},function(module,exports){module.exports=function(str,len,pad,dir){void 0===len&&(len=0);void 0===pad&&(pad=" ");void 0===dir&&(dir=3);str=str.toString();if(len+1>=str.length)switch(dir){case 1:str=Array(len+1-str.length).join(pad)+str;break;case 3:dir=Math.ceil((len-=str.length)/2);str=Array(len-dir+1).join(pad)+str+Array(dir+1).join(pad);break;default:str+=Array(len+1-str.length).join(pad)}return str}},function(module,exports,__webpack_require__){var HexStringToColor=
__webpack_require__(321),IntegerToColor=__webpack_require__(186),ObjectToColor=__webpack_require__(325),RGBStringToColor=__webpack_require__(326);module.exports=function(input){switch(typeof input){case "string":return"rgb"===input.substr(0,3).toLowerCase()?RGBStringToColor(input):HexStringToColor(input);case "number":return IntegerToColor(input);case "object":return ObjectToColor(input)}}},function(module,exports,__webpack_require__){function ConvertValue(n,h,s,v){n=(n+6*h)%6;return Math.round(255*
(v-v*s*Math.max(0,Math.min(n,4-n,1))))}var GetColor=__webpack_require__(100);module.exports=function(h,s,v,out){void 0===s&&(s=1);void 0===v&&(v=1);var r=ConvertValue(5,h,s,v),g=ConvertValue(3,h,s,v);h=ConvertValue(1,h,s,v);if(out){if(out.setTo)return out.setTo(r,g,h,out.alpha,!1);out.r=r;out.g=g;out.b=h;out.color=GetColor(r,g,h);return out}return{r:r,g:g,b:h,color:GetColor(r,g,h)}}},function(module,exports,__webpack_require__){var Color=__webpack_require__(37),IntegerToRGB=__webpack_require__(324);
module.exports=function(input){input=IntegerToRGB(input);return new Color(input.r,input.g,input.b,input.a)}},function(module,exports){module.exports=function(rect,x,y){rect.x=x-rect.width/2;rect.y=y-rect.height/2;return rect}},function(module,exports,__webpack_require__){function checkIsLittleEndian(){var a=new ArrayBuffer(4),b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041===a[0]?!0:2712847316===a[0]?!1:null}var OS=__webpack_require__(102),Browser=__webpack_require__(134),
CanvasPool=__webpack_require__(31),Features={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};module.exports=function(){Features.canvas=!!window.CanvasRenderingContext2D;try{Features.localStorage=!!localStorage.getItem}catch(error){Features.localStorage=!1}Features.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob;Features.fileSystem=!!window.requestFileSystem;
var isUint8=!1;Features.webGL=function(){if(window.WebGLRenderingContext)try{var canvas=CanvasPool.createWebGL(this),ctx=canvas.getContext("webgl")||canvas.getContext("experimental-webgl"),canvas2D=CanvasPool.create2D(this);isUint8=canvas2D.getContext("2d").createImageData(1,1).data instanceof Uint8ClampedArray;CanvasPool.remove(canvas);CanvasPool.remove(canvas2D);return!!ctx}catch(e){}return!1}();Features.worker=!!window.Worker;Features.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in
document||"webkitPointerLockElement"in document;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL;Features.getUserMedia=Features.getUserMedia&&!!navigator.getUserMedia&&!!window.URL;Browser.firefox&&21>Browser.firefoxVersion&&(Features.getUserMedia=!1);!OS.iOS&&(Browser.ie||Browser.firefox||Browser.chrome)&&(Features.canvasBitBltShift=
!0);if(Browser.safari||Browser.mobileSafari)Features.canvasBitBltShift=!1;navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate;navigator.vibrate&&(Features.vibration=!0);"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint32Array&&(Features.littleEndian=checkIsLittleEndian());Features.support32bit="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof Int32Array&&null!==
Features.littleEndian&&isUint8;return Features}()},function(module,exports){var prefix="";module.exports=function(){var getPrefix=function(context){for(var vendors=["i","webkitI","msI","mozI","oI"],i=0;i<vendors.length;i++){var s=vendors[i]+"mageSmoothingEnabled";if(s in context)return s}return null};return{disable:function(context){""===prefix&&(prefix=getPrefix(context));prefix&&(context[prefix]=!1);return context},enable:function(context){""===prefix&&(prefix=getPrefix(context));prefix&&(context[prefix]=
!0);return context},getPrefix:getPrefix,isEnabled:function(context){return null!==prefix?context[prefix]:null}}}()},function(module,exports,__webpack_require__){exports=__webpack_require__(14);var Extend=__webpack_require__(17);__webpack_require__={Angle:__webpack_require__(809),Distance:__webpack_require__(818),Easing:__webpack_require__(823),Fuzzy:__webpack_require__(824),Interpolation:__webpack_require__(827),Pow2:__webpack_require__(832),Snap:__webpack_require__(834),RandomDataGenerator:__webpack_require__(836),
Average:__webpack_require__(837),Bernstein:__webpack_require__(350),Between:__webpack_require__(192),CatmullRom:__webpack_require__(191),CeilTo:__webpack_require__(838),Clamp:__webpack_require__(18),DegToRad:__webpack_require__(35),Difference:__webpack_require__(839),Euler:__webpack_require__(840),Factorial:__webpack_require__(351),FloatBetween:__webpack_require__(135),FloorTo:__webpack_require__(841),FromPercent:__webpack_require__(95),GetSpeed:__webpack_require__(842),IsEven:__webpack_require__(843),
IsEvenStrict:__webpack_require__(844),Linear:__webpack_require__(133),MaxAdd:__webpack_require__(845),MinSub:__webpack_require__(846),Percent:__webpack_require__(847),RadToDeg:__webpack_require__(193),RandomXY:__webpack_require__(848),RandomXYZ:__webpack_require__(849),RandomXYZW:__webpack_require__(850),Rotate:__webpack_require__(356),RotateAround:__webpack_require__(302),RotateAroundDistance:__webpack_require__(179),RotateTo:__webpack_require__(851),RoundAwayFromZero:__webpack_require__(357),RoundTo:__webpack_require__(852),
SinCosTableGenerator:__webpack_require__(853),SmootherStep:__webpack_require__(180),SmoothStep:__webpack_require__(181),ToXY:__webpack_require__(854),TransformXY:__webpack_require__(174),Within:__webpack_require__(855),Wrap:__webpack_require__(66),Vector2:__webpack_require__(3),Vector3:__webpack_require__(38),Vector4:__webpack_require__(138),Matrix3:__webpack_require__(358),Matrix4:__webpack_require__(67),Quaternion:__webpack_require__(359),RotateVec3:__webpack_require__(856)};__webpack_require__=
Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports){module.exports=function(t,p0,p1,p2,p3){p0=.5*(p2-p0);p3=.5*(p3-p1);var t2=t*t;return(2*p1-2*p2+p0+p3)*t*t2+(-3*p1+3*p2-2*p0-p3)*t2+p0*t+p1}},function(module,exports){module.exports=function(min,max){return Math.floor(Math.random()*(max-min+1)+min)}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(14);module.exports=function(radians){return radians*CONST.RAD_TO_DEG}},function(module,
exports,__webpack_require__){module.exports={Global:"game anims cache plugins registry scale sound textures renderer".split(" "),CoreScene:"EventEmitter CameraManager GameObjectCreator GameObjectFactory ScenePlugin DisplayList UpdateList".split(" "),DefaultScene:"Clock DataManagerPlugin InputPlugin Loader TweenManager LightsPlugin".split(" ")}},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,
1,0];this.alpha=1;this._dirty=!0},set:function(value){this._matrix=value;this._dirty=!0;return this},reset:function(){var m=this._matrix;m[0]=1;m[1]=0;m[2]=0;m[3]=0;m[4]=0;m[5]=0;m[6]=1;m[7]=0;m[8]=0;m[9]=0;m[10]=0;m[11]=0;m[12]=1;m[13]=0;m[14]=0;m[15]=0;m[16]=0;m[17]=0;m[18]=1;m[19]=0;this._dirty=!0;return this},getData:function(){if(this._dirty){var f32=new Float32Array(this._matrix);f32[4]/=255;f32[9]/=255;f32[14]/=255;f32[19]/=255;this._data=f32;this._dirty=!1}return this._data},brightness:function(value,
multiply){void 0===value&&(value=0);void 0===multiply&&(multiply=!1);return this.multiply([value,0,0,0,0,0,value,0,0,0,0,0,value,0,0,0,0,0,1,0],multiply)},saturate:function(value,multiply){void 0===value&&(value=0);void 0===multiply&&(multiply=!1);value=2*value/3+1;var y=-.5*(value-1);return this.multiply([value,y,y,0,0,y,value,y,0,0,y,y,value,0,0,0,0,0,1,0],multiply)},desaturate:function(multiply){void 0===multiply&&(multiply=!1);return this.saturate(-1,multiply)},hue:function(rotation,multiply){void 0===
rotation&&(rotation=0);void 0===multiply&&(multiply=!1);rotation=rotation/180*Math.PI;var cos=Math.cos(rotation);rotation=Math.sin(rotation);return this.multiply([.213+.787*cos+-.213*rotation,.715+-.715*cos+-.715*rotation,.072+-.072*cos+.928*rotation,0,0,.213+-.213*cos+.143*rotation,.715+cos*(1-.715)+.14*rotation,.072+-.072*cos+-.283*rotation,0,0,.213+-.213*cos+-.787*rotation,.715+-.715*cos+.715*rotation,.072+.928*cos+.072*rotation,0,0,0,0,0,1,0],multiply)},grayscale:function(value,multiply){void 0===
value&&(value=1);void 0===multiply&&(multiply=!1);return this.saturate(-value,multiply)},blackWhite:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],multiply)},contrast:function(value,multiply){void 0===value&&(value=0);void 0===multiply&&(multiply=!1);value+=1;var o=-.5*(value-1);return this.multiply([value,0,0,0,o,0,value,0,0,o,0,0,value,0,o,0,0,0,1,0],multiply)},negative:function(multiply){void 0===multiply&&(multiply=!1);
return this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],multiply)},desaturateLuminance:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],multiply)},sepia:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],multiply)},night:function(intensity,
multiply){void 0===intensity&&(intensity=.1);void 0===multiply&&(multiply=!1);return this.multiply([-2*intensity,-intensity,0,0,0,-intensity,0,intensity,0,0,0,intensity,2*intensity,0,0,0,0,0,1,0],multiply)},lsd:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],multiply)},brown:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,
-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],multiply)},vintagePinhole:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,
1,0],multiply)},kodachrome:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],multiply)},technicolor:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,
0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],multiply)},polaroid:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],multiply)},shiftToBGR:function(multiply){void 0===multiply&&(multiply=!1);return this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],multiply)},
multiply:function(a,multiply){multiply||this.reset();multiply=this._matrix;for(var c=[],i=0;20>i;i++)c[i]=multiply[i];multiply[0]=c[0]*a[0]+c[1]*a[5]+c[2]*a[10]+c[3]*a[15];multiply[1]=c[0]*a[1]+c[1]*a[6]+c[2]*a[11]+c[3]*a[16];multiply[2]=c[0]*a[2]+c[1]*a[7]+c[2]*a[12]+c[3]*a[17];multiply[3]=c[0]*a[3]+c[1]*a[8]+c[2]*a[13]+c[3]*a[18];multiply[4]=c[0]*a[4]+c[1]*a[9]+c[2]*a[14]+c[3]*a[19]+c[4];multiply[5]=c[5]*a[0]+c[6]*a[5]+c[7]*a[10]+c[8]*a[15];multiply[6]=c[5]*a[1]+c[6]*a[6]+c[7]*a[11]+c[8]*a[16];
multiply[7]=c[5]*a[2]+c[6]*a[7]+c[7]*a[12]+c[8]*a[17];multiply[8]=c[5]*a[3]+c[6]*a[8]+c[7]*a[13]+c[8]*a[18];multiply[9]=c[5]*a[4]+c[6]*a[9]+c[7]*a[14]+c[8]*a[19]+c[9];multiply[10]=c[10]*a[0]+c[11]*a[5]+c[12]*a[10]+c[13]*a[15];multiply[11]=c[10]*a[1]+c[11]*a[6]+c[12]*a[11]+c[13]*a[16];multiply[12]=c[10]*a[2]+c[11]*a[7]+c[12]*a[12]+c[13]*a[17];multiply[13]=c[10]*a[3]+c[11]*a[8]+c[12]*a[13]+c[13]*a[18];multiply[14]=c[10]*a[4]+c[11]*a[9]+c[12]*a[14]+c[13]*a[19]+c[14];multiply[15]=c[15]*a[0]+c[16]*a[5]+
c[17]*a[10]+c[18]*a[15];multiply[16]=c[15]*a[1]+c[16]*a[6]+c[17]*a[11]+c[18]*a[16];multiply[17]=c[15]*a[2]+c[16]*a[7]+c[17]*a[12]+c[18]*a[17];multiply[18]=c[15]*a[3]+c[16]*a[8]+c[17]*a[13]+c[18]*a[18];multiply[19]=c[15]*a[4]+c[16]*a[9]+c[17]*a[14]+c[18]*a[19]+c[19];this._dirty=!0;return this}});module.exports=exports},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10),MATH_CONST=__webpack_require__(14);module.exports=function(points,out){void 0===out&&(out=new Rectangle);
if(0===points.length)return out;for(var minX=Number.MAX_VALUE,minY=Number.MAX_VALUE,maxX=MATH_CONST.MIN_SAFE_INTEGER,maxY=MATH_CONST.MIN_SAFE_INTEGER,p,px,i=0;i<points.length;i++)p=points[i],Array.isArray(p)?(px=p[0],p=p[1]):(px=p.x,p=p.y),minX=Math.min(minX,px),minY=Math.min(minY,p),maxX=Math.max(maxX,px),maxY=Math.max(maxY,p);out.x=minX;out.y=minY;out.width=maxX-minX;out.height=maxY-minY;return out}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var NOOP=__webpack_require__(1);
__webpack_require__=new exports({initialize:function(red,green,blue){this._rgb=[0,0,0];this.onChangeCallback=NOOP;this.dirty=!1;this.set(red,green,blue)},set:function(red,green,blue){void 0===red&&(red=0);void 0===green&&(green=0);void 0===blue&&(blue=0);this._rgb=[red,green,blue];this.onChange();return this},equals:function(red,green,blue){var rgb=this._rgb;return rgb.r===red&&rgb.g===green&&rgb.b===blue},onChange:function(){this.dirty=!0;var rgb=this._rgb;this.onChangeCallback.call(this,rgb[0],
rgb[1],rgb[2])},r:{get:function(){return this._rgb[0]},set:function(value){this._rgb[0]=value;this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(value){this._rgb[1]=value;this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(value){this._rgb[2]=value;this.onChange()}},destroy:function(){this.onChangeCallback=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports={CENTER:__webpack_require__(397),ORIENTATION:__webpack_require__(398),
SCALE_MODE:__webpack_require__(399),ZOOM:__webpack_require__(400)};module.exports=exports},function(module,exports){module.exports=function(element){element.parentNode&&element.parentNode.removeChild(element)}},function(module,exports){module.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(142),DefaultPlugins=
__webpack_require__(194),Events=__webpack_require__(21),GetPhysicsPlugins=__webpack_require__(413),GetScenePlugins=__webpack_require__(414),GLOBAL_CONST=__webpack_require__(32),NOOP=__webpack_require__(1),Settings=__webpack_require__(415);__webpack_require__=new exports({initialize:function(scene,config){this.scene=scene;this.config=config;this.settings=Settings.create(config);this.sceneUpdate=NOOP},init:function(game){this.settings.status=CONST.INIT;this.sceneUpdate=NOOP;this.game=game;this.renderer=
game.renderer;this.canvas=game.canvas;this.context=game.context;this.plugins=game=game.plugins;game.addToScene(this,DefaultPlugins.Global,[DefaultPlugins.CoreScene,GetScenePlugins(this),GetPhysicsPlugins(this)]);this.events.emit(Events.BOOT,this);this.settings.isBooted=!0},install:function(plugin){Array.isArray(plugin)||(plugin=[plugin]);this.plugins.installLocal(this,plugin)},step:function(time,delta){var events=this.events;events.emit(Events.PRE_UPDATE,time,delta);events.emit(Events.UPDATE,time,
delta);this.sceneUpdate.call(this.scene,time,delta);events.emit(Events.POST_UPDATE,time,delta)},render:function(renderer){var displayList=this.displayList;displayList.depthSort();this.cameras.render(renderer,displayList);this.events.emit(Events.RENDER,renderer)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(data){var events=this.events,settings=this.settings;this.settings.active&&(settings.status=CONST.PAUSED,settings.active=
!1,events.emit(Events.PAUSE,this,data));return this},resume:function(data){var events=this.events,settings=this.settings;this.settings.active||(settings.status=CONST.RUNNING,settings.active=!0,events.emit(Events.RESUME,this,data));return this},sleep:function(data){var events=this.events,settings=this.settings;settings.status=CONST.SLEEPING;settings.active=!1;settings.visible=!1;events.emit(Events.SLEEP,this,data);return this},wake:function(data){var events=this.events,settings=this.settings;settings.status=
CONST.RUNNING;settings.active=!0;settings.visible=!0;events.emit(Events.WAKE,this,data);settings.isTransition&&events.emit(Events.TRANSITION_WAKE,settings.transitionFrom,settings.transitionDuration);return this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===CONST.SLEEPING},isActive:function(){return this.settings.status===CONST.RUNNING},isPaused:function(){return this.settings.status===CONST.PAUSED},isTransitioning:function(){return this.settings.isTransition||
null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&0<this.scenePlugin._duration},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(value){this.settings.visible=value;return this},setActive:function(value,data){return value?this.resume(data):this.pause(data)},start:function(data){var events=this.events,settings=this.settings;data&&(settings.data=data);settings.status=CONST.START;
settings.active=!0;settings.visible=!0;events.emit(Events.START,this);events.emit(Events.READY,this,data)},shutdown:function(data){var events=this.events,settings=this.settings;events.off(Events.TRANSITION_INIT);events.off(Events.TRANSITION_START);events.off(Events.TRANSITION_COMPLETE);events.off(Events.TRANSITION_OUT);settings.status=CONST.SHUTDOWN;settings.active=!1;settings.visible=!1;this.renderer===GLOBAL_CONST.WEBGL&&this.renderer.resetTextures(!0);events.emit(Events.SHUTDOWN,this,data)},destroy:function(){var events=
this.events,settings=this.settings;settings.status=CONST.DESTROYED;settings.active=!1;settings.visible=!1;events.emit(Events.DESTROY,this);events.removeAllListeners();events="scene game anims cache plugins registry sound textures add camera displayList events make scenePlugin updateList".split(" ");for(settings=0;settings<events.length;settings++)this[events[settings]]=null}});module.exports=__webpack_require__},function(module,exports){module.exports=function(str){return str&&str[0].toUpperCase()+
str.slice(1)}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(32);exports=__webpack_require__(0);var Frame=__webpack_require__(106),TextureSource=__webpack_require__(418);__webpack_require__=new exports({initialize:function(manager,key,source,width,height){Array.isArray(source)||(source=[source]);this.manager=manager;this.key=key;this.source=[];this.dataSource=[];this.frames={};this.customData={};this.firstFrame="__BASE";for(manager=this.frameTotal=0;manager<source.length;manager++)this.source.push(new TextureSource(this,
source[manager],width,height))},add:function(name,sourceIndex,x,y,width,height){if(this.has(name))return null;sourceIndex=new Frame(this,name,sourceIndex,x,y,width,height);this.frames[name]=sourceIndex;"__BASE"===this.firstFrame&&(this.firstFrame=name);this.frameTotal++;return sourceIndex},remove:function(name){return this.has(name)?(this.get(name).destroy(),delete this.frames[name],!0):!1},has:function(name){return this.frames[name]},get:function(name){name||(name=this.firstFrame);var frame=this.frames[name];
frame||(console.warn("Texture.frame missing: "+name),frame=this.frames[this.firstFrame]);return frame},getTextureSourceIndex:function(source){for(var i=0;i<this.source.length;i++)if(this.source[i]===source)return i;return-1},getFramesFromTextureSource:function(sourceIndex,includeBase){void 0===includeBase&&(includeBase=!1);var out=[],frameName;for(frameName in this.frames)if("__BASE"!==frameName||includeBase){var frame=this.frames[frameName];frame.sourceIndex===sourceIndex&&out.push(frame)}return out},
getFrameNames:function(includeBase){void 0===includeBase&&(includeBase=!1);var out=Object.keys(this.frames);includeBase||(includeBase=out.indexOf("__BASE"),-1!==includeBase&&out.splice(includeBase,1));return out},getSourceImage:function(name){if(void 0===name||null===name||1===this.frameTotal)name="__BASE";var frame=this.frames[name];if(frame)return frame.source.image;console.warn("Texture.frame missing: "+name);return this.frames.__BASE.source.image},getDataSourceImage:function(name){if(void 0===
name||null===name||1===this.frameTotal)name="__BASE";var frame=this.frames[name];frame?name=frame.sourceIndex:(console.warn("Texture.frame missing: "+name),name=this.frames.__BASE.sourceIndex);return this.dataSource[name].image},setDataSource:function(data){Array.isArray(data)||(data=[data]);for(var i=0;i<data.length;i++){var source=this.source[i];this.dataSource.push(new TextureSource(this,data[i],source.width,source.height))}},setFilter:function(filterMode){var i;for(i=0;i<this.source.length;i++)this.source[i].setFilter(filterMode);
for(i=0;i<this.dataSource.length;i++)this.dataSource[i].setFilter(filterMode)},destroy:function(){var i;for(i=0;i<this.source.length;i++)this.source[i].destroy();for(i=0;i<this.dataSource.length;i++)this.dataSource[i].destroy();for(var frameName in this.frames)this.frames[frameName].destroy();this.source=[];this.dataSource=[];this.frames={};this.manager.removeKey(this.key);i=this.manager.game.renderer;i.type===CONST.WEBGL&&i.resetTextures(!0);this.manager=null}});module.exports=__webpack_require__},
function(module,exports,__webpack_require__){var SafeRange=__webpack_require__(78);module.exports=function(array,property,value,startIndex,endIndex){void 0===startIndex&&(startIndex=0);void 0===endIndex&&(endIndex=array.length);var output=[];if(SafeRange(array,startIndex,endIndex))for(;startIndex<endIndex;startIndex++){var child=array[startIndex];(!property||property&&void 0===value&&child.hasOwnProperty(property)||property&&void 0!==value&&child[property]===value)&&output.push(child)}return output}},
function(module,exports,__webpack_require__){module.exports={Matrix:__webpack_require__(1009),Add:__webpack_require__(1017),AddAt:__webpack_require__(1018),BringToTop:__webpack_require__(1019),CountAllMatching:__webpack_require__(1020),Each:__webpack_require__(1021),EachInRange:__webpack_require__(1022),FindClosestInSorted:__webpack_require__(312),GetAll:__webpack_require__(204),GetFirst:__webpack_require__(422),GetRandom:__webpack_require__(207),MoveDown:__webpack_require__(1023),MoveTo:__webpack_require__(1024),
MoveUp:__webpack_require__(1025),NumberArray:__webpack_require__(316),NumberArrayStep:__webpack_require__(1026),QuickSelect:__webpack_require__(430),Range:__webpack_require__(431),Remove:__webpack_require__(89),RemoveAt:__webpack_require__(1027),RemoveBetween:__webpack_require__(1028),RemoveRandomElement:__webpack_require__(1029),Replace:__webpack_require__(1030),RotateLeft:__webpack_require__(175),RotateRight:__webpack_require__(176),SafeRange:__webpack_require__(78),SendToBack:__webpack_require__(1031),
SetAll:__webpack_require__(1032),Shuffle:__webpack_require__(129),SortByDigits:__webpack_require__(314),SpliceOne:__webpack_require__(74),StableSort:__webpack_require__(79),Swap:__webpack_require__(1033)}},function(module,exports){module.exports=function(matrix){if(!Array.isArray(matrix)||2>matrix.length||!Array.isArray(matrix[0]))return!1;for(var size=matrix[0].length,i=1;i<matrix.length;i++)if(matrix[i].length!==size)return!1;return!0}},function(module,exports){module.exports=function(array,startIndex,
length){void 0===startIndex&&(startIndex=0);void 0===length&&(length=array.length);startIndex+=Math.floor(Math.random()*length);return void 0===array[startIndex]?null:array[startIndex]}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var EventEmitter=__webpack_require__(9),Events=__webpack_require__(432);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(){EventEmitter.call(this);this._pending=[];this._active=[];this._destroy=[];this._toProcess=
0;this.checkQueue=!1},add:function(item){this._pending.push(item);this._toProcess++;return item},remove:function(item){this._destroy.push(item);this._toProcess++;return item},removeAll:function(){for(var list=this._active,destroy=this._destroy,i=list.length;i--;)destroy.push(list[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var list=this._destroy,active=this._active,i;for(i=0;i<list.length;i++){var item=list[i];var idx=active.indexOf(item);-1!==idx&&
(active.splice(idx,1),this.emit(Events.PROCESS_QUEUE_REMOVE,item))}list.length=0;list=this._pending;for(i=0;i<list.length;i++)if(item=list[i],!this.checkQueue||this.checkQueue&&-1===active.indexOf(item))active.push(item),this.emit(Events.PROCESS_QUEUE_ADD,item);this._toProcess=list.length=0;return active},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0;this._pending=[];this._active=[];this._destroy=[]}});module.exports=
__webpack_require__},function(module,exports){function getValue(node,attribute){return parseInt(node.getAttribute(attribute),10)}module.exports=function(xml,frame,xSpacing,ySpacing,texture){void 0===xSpacing&&(xSpacing=0);void 0===ySpacing&&(ySpacing=0);var textureX=frame.cutX,textureY=frame.cutY,textureWidth=frame.source.width,textureHeight=frame.source.height,sourceIndex=frame.sourceIndex,data={},info=xml.getElementsByTagName("info")[0],common=xml.getElementsByTagName("common")[0];data.font=info.getAttribute("face");
data.size=getValue(info,"size");data.lineHeight=getValue(common,"lineHeight")+ySpacing;data.chars={};info=xml.getElementsByTagName("char");if(common=void 0!==frame&&frame.trimmed)var top=frame.height,left=frame.width;for(ySpacing=0;ySpacing<info.length;ySpacing++){var node=info[ySpacing],charCode=getValue(node,"id"),letter=String.fromCharCode(charCode),gx=getValue(node,"x"),gy=getValue(node,"y"),gw=getValue(node,"width"),gh=getValue(node,"height");common&&(gx<left&&(left=gx),gy<top&&(top=gy));common&&
0!==top&&0!==left&&(gx-=frame.x,gy-=frame.y);var u0=(textureX+gx)/textureWidth,v0=(textureY+gy)/textureHeight,u1=(textureX+gx+gw)/textureWidth,v1=(textureY+gy+gh)/textureHeight;data.chars[charCode]={x:gx,y:gy,width:gw,height:gh,centerX:Math.floor(gw/2),centerY:Math.floor(gh/2),xOffset:getValue(node,"xoffset"),yOffset:getValue(node,"yoffset"),xAdvance:getValue(node,"xadvance")+xSpacing,data:{},kerning:{},u0:u0,v0:v0,u1:u1,v1:v1};texture&&0!==gw&&0!==gh&&(node=texture.add(letter,sourceIndex,gx,gy,gw,
gh))&&node.setUVs(gw,gh,u0,v0,u1,v1)}xml=xml.getElementsByTagName("kerning");for(ySpacing=0;ySpacing<xml.length;ySpacing++)texture=xml[ySpacing],frame=getValue(texture,"first"),xSpacing=getValue(texture,"second"),texture=getValue(texture,"amount"),data.chars[xSpacing].kerning[frame]=texture;return data}},function(module,exports,__webpack_require__){exports=__webpack_require__(1043);var Bob=__webpack_require__(434),Class=__webpack_require__(0),Components=__webpack_require__(11),Frame=__webpack_require__(106),
GameObject=__webpack_require__(15),List=__webpack_require__(107);__webpack_require__=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Mask,Components.Pipeline,Components.ScrollFactor,Components.Size,Components.Texture,Components.Transform,Components.Visible,exports],initialize:function(scene,x,y,texture,frame){GameObject.call(this,scene,"Blitter");this.setTexture(texture,frame);this.setPosition(x,y);this.initPipeline();this.children=new List;
this.renderList=[];this.dirty=!1},create:function(x,y,frame,visible,index){void 0===visible&&(visible=!0);void 0===index&&(index=this.children.length);void 0===frame?frame=this.frame:frame instanceof Frame||(frame=this.texture.get(frame));x=new Bob(this,x,y,frame,visible);this.children.addAt(x,index,!1);this.dirty=!0;return x},createFromCallback:function(callback,quantity,frame,visible){quantity=this.createMultiple(quantity,frame,visible);for(frame=0;frame<quantity.length;frame++)callback.call(this,
quantity[frame],frame);return quantity},createMultiple:function(quantity,frame,visible){void 0===frame&&(frame=this.frame.name);void 0===visible&&(visible=!0);Array.isArray(frame)||(frame=[frame]);var bobs=[],_this=this;frame.forEach(function(singleFrame){for(var i=0;i<quantity;i++)bobs.push(_this.create(0,0,singleFrame,visible))});return bobs},childCanRender:function(child){return child.visible&&0<child.alpha},getRenderList:function(){this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,
this),this.dirty=!1);return this.renderList},clear:function(){this.children.removeAll();this.dirty=!0},preDestroy:function(){this.children.destroy();this.renderList=[]}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var ArrayUtils=__webpack_require__(205),BlendModes=__webpack_require__(34);exports=__webpack_require__(0);var Components=__webpack_require__(11),Events=__webpack_require__(75),GameObject=__webpack_require__(15),Rectangle=__webpack_require__(10),Render=
__webpack_require__(1046),Union=__webpack_require__(435),Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.ComputedSize,Components.Depth,Components.Mask,Components.Pipeline,Components.Transform,Components.Visible,Render],initialize:function(scene,x,y,children){GameObject.call(this,scene,"Container");this.list=[];this.exclusive=!0;this.maxSize=-1;this.position=0;this.localTransform=new Components.TransformMatrix;
this.tempTransformMatrix=new Components.TransformMatrix;this._sortKey="";this._sysEvents=scene.sys.events;this.scrollFactorY=this.scrollFactorX=1;this.initPipeline();this.setPosition(x,y);this.clearAlpha();this.setBlendMode(BlendModes.SKIP_CHECK);children&&this.add(children)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(value){void 0===value&&(value=
!0);this.exclusive=value;return this},getBounds:function(output){void 0===output&&(output=new Rectangle);output.setTo(this.x,this.y,0,0);if(this.parentContainer){var transformedPosition=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);output.setTo(transformedPosition.x,transformedPosition.y,0,0)}if(0<this.list.length){transformedPosition=this.list;var tempRect=new Rectangle,hasSetFirst=!1;output.setEmpty();for(var i=0;i<transformedPosition.length;i++){var entry=transformedPosition[i];
entry.getBounds&&(entry.getBounds(tempRect),hasSetFirst?Union(tempRect,output,output):(output.setTo(tempRect.x,tempRect.y,tempRect.width,tempRect.height),hasSetFirst=!0))}}return output},addHandler:function(gameObject){gameObject.once(Events.DESTROY,this.remove,this);this.exclusive&&(gameObject.displayList&&gameObject.displayList.remove(gameObject),gameObject.parentContainer&&gameObject.parentContainer.remove(gameObject),gameObject.displayList=this.displayList?this.displayList:this.scene.sys.displayList,
gameObject.parentContainer=this);this.scene.sys.displayList.exists(gameObject)||gameObject.emit(Events.ADDED_TO_SCENE,gameObject,this.scene)},removeHandler:function(gameObject){gameObject.off(Events.DESTROY,this.remove);this.exclusive&&(gameObject.parentContainer=null);this.scene.sys.displayList.exists(gameObject)||gameObject.emit(Events.REMOVED_FROM_SCENE,gameObject,this.scene)},pointToContainer:function(source,output){void 0===output&&(output=new Vector2);this.parentContainer?this.parentContainer.pointToContainer(source,
output):output=new Vector2(source.x,source.y);var tempMatrix=this.tempTransformMatrix;tempMatrix.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY);tempMatrix.invert();tempMatrix.transformPoint(source.x,source.y,output);return output},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(child){ArrayUtils.Add(this.list,child,this.maxSize,this.addHandler,this);return this},addAt:function(child,index){ArrayUtils.AddAt(this.list,
child,index,this.maxSize,this.addHandler,this);return this},getAt:function(index){return this.list[index]},getIndex:function(child){return this.list.indexOf(child)},sort:function(property,handler){if(!property)return this;void 0===handler&&(handler=function(childA,childB){return childA[property]-childB[property]});ArrayUtils.StableSort(this.list,handler);return this},getByName:function(name){return ArrayUtils.GetFirst(this.list,"name",name)},getRandom:function(startIndex,length){return ArrayUtils.GetRandom(this.list,
startIndex,length)},getFirst:function(property,value,startIndex,endIndex){return ArrayUtils.GetFirst(this.list,property,value,startIndex,endIndex)},getAll:function(property,value,startIndex,endIndex){return ArrayUtils.GetAll(this.list,property,value,startIndex,endIndex)},count:function(property,value,startIndex,endIndex){return ArrayUtils.CountAllMatching(this.list,property,value,startIndex,endIndex)},swap:function(child1,child2){ArrayUtils.Swap(this.list,child1,child2);return this},moveTo:function(child,
index){ArrayUtils.MoveTo(this.list,child,index);return this},remove:function(child,destroyChild){child=ArrayUtils.Remove(this.list,child,this.removeHandler,this);if(destroyChild&&child)for(Array.isArray(child)||(child=[child]),destroyChild=0;destroyChild<child.length;destroyChild++)child[destroyChild].destroy();return this},removeAt:function(index,destroyChild){index=ArrayUtils.RemoveAt(this.list,index,this.removeHandler,this);destroyChild&&index&&index.destroy();return this},removeBetween:function(startIndex,
endIndex,destroyChild){startIndex=ArrayUtils.RemoveBetween(this.list,startIndex,endIndex,this.removeHandler,this);if(destroyChild)for(destroyChild=0;destroyChild<startIndex.length;destroyChild++)startIndex[destroyChild].destroy();return this},removeAll:function(destroyChild){var removed=ArrayUtils.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(destroyChild)for(destroyChild=0;destroyChild<removed.length;destroyChild++)removed[destroyChild].destroy();return this},bringToTop:function(child){ArrayUtils.BringToTop(this.list,
child);return this},sendToBack:function(child){ArrayUtils.SendToBack(this.list,child);return this},moveUp:function(child){ArrayUtils.MoveUp(this.list,child);return this},moveDown:function(child){ArrayUtils.MoveDown(this.list,child);return this},reverse:function(){this.list.reverse();return this},shuffle:function(){ArrayUtils.Shuffle(this.list);return this},replace:function(oldChild,newChild,destroyChild){ArrayUtils.Replace(this.list,oldChild,newChild)&&(this.addHandler(newChild),this.removeHandler(oldChild),
destroyChild&&oldChild.destroy());return this},exists:function(child){return-1<this.list.indexOf(child)},setAll:function(property,value,startIndex,endIndex){ArrayUtils.SetAll(this.list,property,value,startIndex,endIndex);return this},each:function(callback,context){var args=[null],i,temp=this.list.slice(),len=temp.length;for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<len;i++)args[0]=temp[i],callback.apply(context,args);return this},iterate:function(callback,context){var args=[null],
i;for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<this.list.length;i++)args[0]=this.list[i],callback.apply(context,args);return this},setScrollFactor:function(x,y,updateChildren){void 0===y&&(y=x);void 0===updateChildren&&(updateChildren=!1);this.scrollFactorX=x;this.scrollFactorY=y;updateChildren&&(ArrayUtils.SetAll(this.list,"scrollFactorX",x),ArrayUtils.SetAll(this.list,"scrollFactorY",y));return this},length:{get:function(){return this.list.length}},first:{get:function(){this.position=
0;return 0<this.list.length?this.list[0]:null}},last:{get:function(){return 0<this.list.length?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return 0<this.position?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive);this.localTransform.destroy();this.tempTransformMatrix.destroy();this.list=[]}});
module.exports=__webpack_require__},function(module,exports,__webpack_require__){var BitmapText=__webpack_require__(147);exports=__webpack_require__(0);__webpack_require__=__webpack_require__(1051);__webpack_require__=new exports({Extends:BitmapText,Mixins:[__webpack_require__],initialize:function(scene,x,y,font,text,size,align){BitmapText.call(this,scene,x,y,font,text,size,align);this.type="DynamicBitmapText";this.cropHeight=this.cropWidth=this.scrollY=this.scrollX=0;this.callbackData={parent:this,
color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(width,height){this.cropWidth=width;this.cropHeight=height;return this},setDisplayCallback:function(callback){this.displayCallback=callback;return this},setScrollX:function(value){this.scrollX=value;return this},setScrollY:function(value){this.scrollY=value;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(131);
var Class=__webpack_require__(0),Commands=__webpack_require__(214),ComponentsAlpha=__webpack_require__(297),ComponentsBlendMode=__webpack_require__(298),ComponentsDepth=__webpack_require__(299),ComponentsMask=__webpack_require__(303),ComponentsPipeline=__webpack_require__(171),ComponentsScrollFactor=__webpack_require__(306),ComponentsTransform=__webpack_require__(307),ComponentsVisible=__webpack_require__(308),Ellipse=__webpack_require__(108),GameObject=__webpack_require__(15),GetFastValue=__webpack_require__(2),
GetValue=__webpack_require__(6),MATH_CONST=__webpack_require__(14),PIPELINES_CONST=__webpack_require__(65);__webpack_require__=__webpack_require__(1057);var Graphics=new Class({Extends:GameObject,Mixins:[ComponentsAlpha,ComponentsBlendMode,ComponentsDepth,ComponentsMask,ComponentsPipeline,ComponentsTransform,ComponentsVisible,ComponentsScrollFactor,__webpack_require__],initialize:function(scene,options){var x=GetValue(options,"x",0),y=GetValue(options,"y",0);GameObject.call(this,scene,"Graphics");
this.setPosition(x,y);this.initPipeline(PIPELINES_CONST.GRAPHICS_PIPELINE);this.displayOriginY=this.displayOriginX=0;this.commandBuffer=[];this.defaultFillColor=-1;this.defaultStrokeWidth=this.defaultFillAlpha=1;this.defaultStrokeColor=-1;this._lineWidth=this.defaultStrokeAlpha=1;this.setDefaultStyles(options)},setDefaultStyles:function(options){GetValue(options,"lineStyle",null)&&(this.defaultStrokeWidth=GetValue(options,"lineStyle.width",1),this.defaultStrokeColor=GetValue(options,"lineStyle.color",
16777215),this.defaultStrokeAlpha=GetValue(options,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha));GetValue(options,"fillStyle",null)&&(this.defaultFillColor=GetValue(options,"fillStyle.color",16777215),this.defaultFillAlpha=GetValue(options,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha));return this},lineStyle:function(lineWidth,color,alpha){void 0===alpha&&(alpha=1);this.commandBuffer.push(Commands.LINE_STYLE,
lineWidth,color,alpha);this._lineWidth=lineWidth;return this},fillStyle:function(color,alpha){void 0===alpha&&(alpha=1);this.commandBuffer.push(Commands.FILL_STYLE,color,alpha);return this},fillGradientStyle:function(topLeft,topRight,bottomLeft,bottomRight,alphaTopLeft,alphaTopRight,alphaBottomLeft,alphaBottomRight){void 0===alphaTopLeft&&(alphaTopLeft=1);void 0===alphaTopRight&&(alphaTopRight=alphaTopLeft);void 0===alphaBottomLeft&&(alphaBottomLeft=alphaTopLeft);void 0===alphaBottomRight&&(alphaBottomRight=
alphaTopLeft);this.commandBuffer.push(Commands.GRADIENT_FILL_STYLE,alphaTopLeft,alphaTopRight,alphaBottomLeft,alphaBottomRight,topLeft,topRight,bottomLeft,bottomRight);return this},lineGradientStyle:function(lineWidth,topLeft,topRight,bottomLeft,bottomRight,alpha){void 0===alpha&&(alpha=1);this.commandBuffer.push(Commands.GRADIENT_LINE_STYLE,lineWidth,alpha,topLeft,topRight,bottomLeft,bottomRight);return this},beginPath:function(){this.commandBuffer.push(Commands.BEGIN_PATH);return this},closePath:function(){this.commandBuffer.push(Commands.CLOSE_PATH);
return this},fillPath:function(){this.commandBuffer.push(Commands.FILL_PATH);return this},fill:function(){this.commandBuffer.push(Commands.FILL_PATH);return this},strokePath:function(){this.commandBuffer.push(Commands.STROKE_PATH);return this},stroke:function(){this.commandBuffer.push(Commands.STROKE_PATH);return this},fillCircleShape:function(circle){return this.fillCircle(circle.x,circle.y,circle.radius)},strokeCircleShape:function(circle){return this.strokeCircle(circle.x,circle.y,circle.radius)},
fillCircle:function(x,y,radius){this.beginPath();this.arc(x,y,radius,0,MATH_CONST.PI2);this.fillPath();return this},strokeCircle:function(x,y,radius){this.beginPath();this.arc(x,y,radius,0,MATH_CONST.PI2);this.strokePath();return this},fillRectShape:function(rect){return this.fillRect(rect.x,rect.y,rect.width,rect.height)},strokeRectShape:function(rect){return this.strokeRect(rect.x,rect.y,rect.width,rect.height)},fillRect:function(x,y,width,height){this.commandBuffer.push(Commands.FILL_RECT,x,y,
width,height);return this},strokeRect:function(x,y,width,height){var lineWidthHalf=this._lineWidth/2,minx=x-lineWidthHalf;lineWidthHalf=x+lineWidthHalf;this.beginPath();this.moveTo(x,y);this.lineTo(x,y+height);this.strokePath();this.beginPath();this.moveTo(x+width,y);this.lineTo(x+width,y+height);this.strokePath();this.beginPath();this.moveTo(minx,y);this.lineTo(lineWidthHalf+width,y);this.strokePath();this.beginPath();this.moveTo(minx,y+height);this.lineTo(lineWidthHalf+width,y+height);this.strokePath();
return this},fillRoundedRect:function(x,y,width,height,radius){void 0===radius&&(radius=20);var tl=radius,tr=radius,bl=radius,br=radius;"number"!==typeof radius&&(tl=GetFastValue(radius,"tl",20),tr=GetFastValue(radius,"tr",20),bl=GetFastValue(radius,"bl",20),br=GetFastValue(radius,"br",20));this.beginPath();this.moveTo(x+tl,y);this.lineTo(x+width-tr,y);this.arc(x+width-tr,y+tr,tr,-MATH_CONST.TAU,0);this.lineTo(x+width,y+height-br);this.arc(x+width-br,y+height-br,br,0,MATH_CONST.TAU);this.lineTo(x+
bl,y+height);this.arc(x+bl,y+height-bl,bl,MATH_CONST.TAU,Math.PI);this.lineTo(x,y+tl);this.arc(x+tl,y+tl,tl,-Math.PI,-MATH_CONST.TAU);this.fillPath();return this},strokeRoundedRect:function(x,y,width,height,radius){void 0===radius&&(radius=20);var tl=radius,tr=radius,bl=radius,br=radius;"number"!==typeof radius&&(tl=GetFastValue(radius,"tl",20),tr=GetFastValue(radius,"tr",20),bl=GetFastValue(radius,"bl",20),br=GetFastValue(radius,"br",20));this.beginPath();this.moveTo(x+tl,y);this.lineTo(x+width-
tr,y);this.moveTo(x+width-tr,y);this.arc(x+width-tr,y+tr,tr,-MATH_CONST.TAU,0);this.lineTo(x+width,y+height-br);this.moveTo(x+width,y+height-br);this.arc(x+width-br,y+height-br,br,0,MATH_CONST.TAU);this.lineTo(x+bl,y+height);this.moveTo(x+bl,y+height);this.arc(x+bl,y+height-bl,bl,MATH_CONST.TAU,Math.PI);this.lineTo(x,y+tl);this.moveTo(x,y+tl);this.arc(x+tl,y+tl,tl,-Math.PI,-MATH_CONST.TAU);this.strokePath();return this},fillPointShape:function(point,size){return this.fillPoint(point.x,point.y,size)},
fillPoint:function(x,y,size){!size||1>size?size=1:(x-=size/2,y-=size/2);this.commandBuffer.push(Commands.FILL_RECT,x,y,size,size);return this},fillTriangleShape:function(triangle){return this.fillTriangle(triangle.x1,triangle.y1,triangle.x2,triangle.y2,triangle.x3,triangle.y3)},strokeTriangleShape:function(triangle){return this.strokeTriangle(triangle.x1,triangle.y1,triangle.x2,triangle.y2,triangle.x3,triangle.y3)},fillTriangle:function(x0,y0,x1,y1,x2,y2){this.commandBuffer.push(Commands.FILL_TRIANGLE,
x0,y0,x1,y1,x2,y2);return this},strokeTriangle:function(x0,y0,x1,y1,x2,y2){this.commandBuffer.push(Commands.STROKE_TRIANGLE,x0,y0,x1,y1,x2,y2);return this},strokeLineShape:function(line){return this.lineBetween(line.x1,line.y1,line.x2,line.y2)},lineBetween:function(x1,y1,x2,y2){this.beginPath();this.moveTo(x1,y1);this.lineTo(x2,y2);this.strokePath();return this},lineTo:function(x,y){this.commandBuffer.push(Commands.LINE_TO,x,y);return this},moveTo:function(x,y){this.commandBuffer.push(Commands.MOVE_TO,
x,y);return this},strokePoints:function(points,closeShape,closePath,endIndex){void 0===closeShape&&(closeShape=!1);void 0===closePath&&(closePath=!1);void 0===endIndex&&(endIndex=points.length);this.beginPath();this.moveTo(points[0].x,points[0].y);for(var i=1;i<endIndex;i++)this.lineTo(points[i].x,points[i].y);closeShape&&this.lineTo(points[0].x,points[0].y);closePath&&this.closePath();this.strokePath();return this},fillPoints:function(points,closeShape,closePath,endIndex){void 0===closeShape&&(closeShape=
!1);void 0===closePath&&(closePath=!1);void 0===endIndex&&(endIndex=points.length);this.beginPath();this.moveTo(points[0].x,points[0].y);for(var i=1;i<endIndex;i++)this.lineTo(points[i].x,points[i].y);closeShape&&this.lineTo(points[0].x,points[0].y);closePath&&this.closePath();this.fillPath();return this},strokeEllipseShape:function(ellipse,smoothness){void 0===smoothness&&(smoothness=32);ellipse=ellipse.getPoints(smoothness);return this.strokePoints(ellipse,!0)},strokeEllipse:function(x,y,width,
height,smoothness){void 0===smoothness&&(smoothness=32);x=(new Ellipse(x,y,width,height)).getPoints(smoothness);return this.strokePoints(x,!0)},fillEllipseShape:function(ellipse,smoothness){void 0===smoothness&&(smoothness=32);ellipse=ellipse.getPoints(smoothness);return this.fillPoints(ellipse,!0)},fillEllipse:function(x,y,width,height,smoothness){void 0===smoothness&&(smoothness=32);x=(new Ellipse(x,y,width,height)).getPoints(smoothness);return this.fillPoints(x,!0)},arc:function(x,y,radius,startAngle,
endAngle,anticlockwise,overshoot){void 0===anticlockwise&&(anticlockwise=!1);void 0===overshoot&&(overshoot=0);this.commandBuffer.push(Commands.ARC,x,y,radius,startAngle,endAngle,anticlockwise,overshoot);return this},slice:function(x,y,radius,startAngle,endAngle,anticlockwise,overshoot){void 0===anticlockwise&&(anticlockwise=!1);void 0===overshoot&&(overshoot=0);this.commandBuffer.push(Commands.BEGIN_PATH);this.commandBuffer.push(Commands.MOVE_TO,x,y);this.commandBuffer.push(Commands.ARC,x,y,radius,
startAngle,endAngle,anticlockwise,overshoot);this.commandBuffer.push(Commands.CLOSE_PATH);return this},save:function(){this.commandBuffer.push(Commands.SAVE);return this},restore:function(){this.commandBuffer.push(Commands.RESTORE);return this},translateCanvas:function(x,y){this.commandBuffer.push(Commands.TRANSLATE,x,y);return this},scaleCanvas:function(x,y){this.commandBuffer.push(Commands.SCALE,x,y);return this},rotateCanvas:function(radians){this.commandBuffer.push(Commands.ROTATE,radians);return this},
clear:function(){this.commandBuffer.length=0;-1<this.defaultFillColor&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha);-1<this.defaultStrokeColor&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha);return this},generateTexture:function(key,width,height){var sys=this.scene.sys,renderer=sys.game.renderer;void 0===width&&(width=sys.scale.width);void 0===height&&(height=sys.scale.height);Graphics.TargetCamera.setScene(this.scene);Graphics.TargetCamera.setViewport(0,
0,width,height);Graphics.TargetCamera.scrollX=this.x;Graphics.TargetCamera.scrollY=this.y;var ctx;if("string"===typeof key)if(sys.textures.exists(key)){var texture=sys.textures.get(key);key=texture.getSourceImage();key instanceof HTMLCanvasElement&&(ctx=key.getContext("2d"))}else texture=sys.textures.createCanvas(key,width,height),ctx=texture.getSourceImage().getContext("2d");else key instanceof HTMLCanvasElement&&(ctx=key.getContext("2d"));ctx&&(this.renderCanvas(renderer,this,Graphics.TargetCamera,
null,ctx,!1),texture&&texture.refresh());return this},preDestroy:function(){this.commandBuffer=[]}});Graphics.TargetCamera=new exports;module.exports=Graphics},function(module,exports){module.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(module,exports,__webpack_require__){var Point=
__webpack_require__(4);module.exports=function(ellipse,angle,out){void 0===out&&(out=new Point);var halfHeight=ellipse.height/2;out.x=ellipse.x+ellipse.width/2*Math.cos(angle);out.y=ellipse.y+halfHeight*Math.sin(angle);return out}},function(module,exports,__webpack_require__){var BlendModes=__webpack_require__(34);exports=__webpack_require__(0);var Components=__webpack_require__(11),ComponentsToJSON=__webpack_require__(173),DataManager=__webpack_require__(98),EventEmitter=__webpack_require__(9),GameObjectEvents=
__webpack_require__(75),List=__webpack_require__(107),Render=__webpack_require__(1065),SceneEvents=__webpack_require__(21),StableSort=__webpack_require__(79);__webpack_require__=new exports({Extends:List,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Mask,Components.Pipeline,Components.Visible,EventEmitter,Render],initialize:function(scene,children){List.call(this,scene);EventEmitter.call(this);this.scene=scene;this.displayList=null;this.type="Layer";this.state=0;
this.parentContainer=null;this.name="";this.active=!0;this.tabIndex=-1;this.data=null;this.renderFlags=15;this.cameraFilter=0;this.body=this.input=null;this.ignoreDestroy=!1;this.systems=scene.sys;this.events=scene.sys.events;this.sortChildrenFlag=!1;this.addCallback=this.addChildCallback;this.removeCallback=this.removeChildCallback;this.initPipeline();this.clearAlpha();this.setBlendMode(BlendModes.SKIP_CHECK);children&&this.add(children);scene.sys.queueDepthSort()},setActive:function(value){this.active=
value;return this},setName:function(value){this.name=value;return this},setState:function(value){this.state=value;return this},setDataEnabled:function(){this.data||(this.data=new DataManager(this));return this},setData:function(key,value){this.data||(this.data=new DataManager(this));this.data.set(key,value);return this},incData:function(key,value){this.data||(this.data=new DataManager(this));this.data.inc(key,value);return this},toggleData:function(key){this.data||(this.data=new DataManager(this));
this.data.toggle(key);return this},getData:function(key){this.data||(this.data=new DataManager(this));return this.data.get(key)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return ComponentsToJSON(this)},willRender:function(camera){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&camera.id)},
getIndexList:function(){for(var child=this,parent=this.parentContainer,indexes=[];parent;)if(indexes.unshift(parent.getIndex(child)),child=parent,parent.parentContainer)parent=parent.parentContainer;else break;indexes.unshift(this.displayList.getIndex(child));return indexes},addChildCallback:function(gameObject){gameObject.emit(GameObjectEvents.ADDED_TO_SCENE,gameObject,this.scene);gameObject.displayList&&gameObject.displayList.remove(gameObject);gameObject.displayList=this;this.queueDepthSort();
this.events.emit(SceneEvents.ADDED_TO_SCENE,gameObject,this.scene)},removeChildCallback:function(gameObject){gameObject.emit(GameObjectEvents.REMOVED_FROM_SCENE,gameObject,this.scene);gameObject.displayList=null;this.queueDepthSort();this.events.emit(SceneEvents.REMOVED_FROM_SCENE,gameObject,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(StableSort(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(childA,childB){return childA._depth-
childB._depth},getChildren:function(){return this.list},destroy:function(){if(this.scene&&!this.ignoreDestroy){this.emit(GameObjectEvents.DESTROY,this);for(var i=this.list.length;i--;)this.list[i].destroy();this.removeAllListeners();this.resetPostPipeline(!0);this.displayList&&(this.displayList.queueDepthSort(),this.displayList.remove(this));this.data&&(this.data.destroy(),this.data=void 0);this.visible=this.active=!1;this.events=this.systems=this.displayList=this.scene=this.list=void 0}}});module.exports=
__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15),GravityWell=__webpack_require__(444),List=__webpack_require__(107),ParticleEmitter=__webpack_require__(446);__webpack_require__=__webpack_require__(1069);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Depth,Components.Mask,Components.Pipeline,Components.Transform,Components.Visible,__webpack_require__],initialize:function(scene,
texture,frame,emitters){GameObject.call(this,scene,"ParticleEmitterManager");this.blendMode=-1;this.timeScale=1;this.frame=this.texture=null;this.frameNames=[];null===frame||"object"!==typeof frame&&!Array.isArray(frame)||(emitters=frame,frame=null);this.setTexture(texture,frame);this.initPipeline();this.emitters=new List(this);this.wells=new List(this);if(emitters)for(Array.isArray(emitters)||(emitters=[emitters]),scene=0;scene<emitters.length;scene++)this.createEmitter(emitters[scene])},addedToScene:function(){this.scene.sys.updateList.add(this)},
removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(key,frame){this.texture=this.scene.sys.textures.get(key);return this.setFrame(frame)},setFrame:function(frame){this.frame=this.texture.get(frame);var names=[];this.texture.getFramesFromTextureSource(this.frame.sourceIndex).forEach(function(sourceFrame){names.push(sourceFrame.name)});this.frameNames=names;this.defaultFrame=this.frame;return this},setEmitterFrames:function(frames,emitter){Array.isArray(frames)||
(frames=[frames]);for(var out=emitter.frames,i=out.length=0;i<frames.length;i++){var frame=frames[i];-1!==this.frameNames.indexOf(frame)&&out.push(this.texture.get(frame))}emitter.defaultFrame=0<out.length?out[0]:this.defaultFrame;return this},addEmitter:function(emitter){return this.emitters.add(emitter)},createEmitter:function(config){return this.addEmitter(new ParticleEmitter(this,config))},removeEmitter:function(emitter){return this.emitters.remove(emitter,!0)},addGravityWell:function(well){return this.wells.add(well)},
createGravityWell:function(config){return this.addGravityWell(new GravityWell(config))},emitParticle:function(count,x,y){for(var emitters=this.emitters.list,i=0;i<emitters.length;i++){var emitter=emitters[i];emitter.active&&emitter.emitParticle(count,x,y)}return this},emitParticleAt:function(x,y,count){return this.emitParticle(count,x,y)},pause:function(){this.active=!1;return this},resume:function(){this.active=!0;return this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(time,
delta){delta*=this.timeScale;for(var emitters=this.emitters.list,i=0;i<emitters.length;i++){var emitter=emitters[i];emitter.active&&emitter.preUpdate(time,delta)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var BlendModes=__webpack_require__(34),Camera=__webpack_require__(131),CanvasPool=__webpack_require__(31);exports=__webpack_require__(0);var Components=__webpack_require__(11),CONST=
__webpack_require__(32),Frame=__webpack_require__(106),GameObject=__webpack_require__(15),NOOP=__webpack_require__(1),PIPELINE_CONST=__webpack_require__(65),Render=__webpack_require__(1073),RenderTarget=__webpack_require__(139),Utils=__webpack_require__(12),UUID=__webpack_require__(219);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Crop,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,
Components.Pipeline,Components.ScrollFactor,Components.Tint,Components.Transform,Components.Visible,Render],initialize:function(scene,x,y,width,height,key,frame){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=32);void 0===height&&(height=32);GameObject.call(this,scene,"RenderTexture");this.renderer=scene.sys.renderer;this.textureManager=scene.sys.textures;this.globalTint=16777215;this.globalAlpha=1;this.canvas=null;this.dirty=!1;this._crop=this.resetCropObject();this.frame=this.texture=
null;this._saved=!1;void 0===key?(this.canvas=CanvasPool.create2D(this,width,height),this.texture=scene.sys.textures.addCanvas(UUID(),this.canvas),this.frame=this.texture.get()):(this.texture=scene.sys.textures.get(key),this.frame=this.texture.get(frame),this.canvas=this.frame.source.image,this.dirty=this._saved=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight);this.context=this.canvas.getContext("2d");this._eraseMode=!1;this.camera=new Camera(0,0,width,height);this.renderTarget=
null;frame=this.renderer;frame?frame.type===CONST.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new RenderTarget(frame,width,height,1,0,!1)):frame.type===CONST.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=NOOP;this.camera.setScene(scene);this.setPosition(x,y);void 0===key&&this.setSize(width,height);this.setOrigin(0,0);this.initPipeline(PIPELINE_CONST.SINGLE_PIPELINE)},setSize:function(width,height){return this.resize(width,height)},resize:function(width,
height){void 0===height&&(height=width);var frame=this.frame;if(width!==this.width||height!==this.height){if("__BASE"===frame.name){this.canvas.width=width;this.canvas.height=height;this.texture.width=width;this.texture.height=height;var renderTarget=this.renderTarget;renderTarget&&(renderTarget.resize(width,height),frame.glTexture=renderTarget.texture,frame.source.isRenderTexture=!0,frame.source.isGLTexture=!0,frame.source.glTexture=renderTarget.texture);this.camera.setSize(width,height);frame.source.width=
width;frame.source.height=height;frame.setSize(width,height);this.width=width;this.height=height}}else renderTarget=this.texture.getSourceImage(),frame.cutX+width>renderTarget.width&&(width=renderTarget.width-frame.cutX),frame.cutY+height>renderTarget.height&&(height=renderTarget.height-frame.cutY),frame.setSize(width,height,frame.cutX,frame.cutY);this.updateDisplayOrigin();(frame=this.input)&&!frame.customHitArea&&(frame.hitArea.width=width,frame.hitArea.height=height);return this},setGlobalTint:function(tint){this.globalTint=
tint;return this},setGlobalAlpha:function(alpha){this.globalAlpha=alpha;return this},saveTexture:function(key){this.textureManager.renameTexture(this.texture.key,key);this._saved=!0;return this.texture},fill:function(rgb,alpha,x,y,width,height){var frame=this.frame,camera=this.camera,renderer=this.renderer;void 0===alpha&&(alpha=1);void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=frame.cutWidth);void 0===height&&(height=frame.cutHeight);var r=(rgb>>16&255)/255,g=(rgb>>8&255)/255;rgb=(rgb&
255)/255;var renderTarget=this.renderTarget;camera.preRender();renderTarget?(renderTarget.bind(!0),frame=this.pipeline,frame.manager.set(frame),camera=renderer.width/renderTarget.width,renderer=renderer.height/renderTarget.height,frame.drawFillRect(x*camera,y*renderer,width*camera,height*renderer,Utils.getTintFromFloats(rgb,g,r,1),alpha),renderTarget.unbind(!0)):(renderTarget=this.context,renderer.setContext(renderTarget),renderTarget.fillStyle="rgba("+r+","+g+","+rgb+","+alpha+")",renderTarget.fillRect(x+
frame.cutX,y+frame.cutY,width,height),renderer.setContext());this.dirty=!0;return this},clear:function(){if(this.dirty){var renderTarget=this.renderTarget;renderTarget?renderTarget.clear():(renderTarget=this.context,renderTarget.save(),renderTarget.setTransform(1,0,0,1,0,0),renderTarget.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),renderTarget.restore());this.dirty=!1}return this},erase:function(entries,x,y){this._eraseMode=!0;this.draw(entries,x,y,1,16777215);
this._eraseMode=!1;return this},draw:function(entries,x,y,alpha,tint){this.beginDraw();this.batchDraw(entries,x,y,alpha,tint);this.endDraw();return this},drawFrame:function(key,frame,x,y,alpha,tint){this.beginDraw();this.batchDrawFrame(key,frame,x,y,alpha,tint);this.endDraw();return this},beginDraw:function(){var renderer=this.renderer,renderTarget=this.renderTarget;this.camera.preRender();renderTarget?renderer.beginCapture(renderTarget.width,renderTarget.height):renderer.setContext(this.context);
return this},batchDraw:function(entries,x,y,alpha,tint){void 0===alpha&&(alpha=this.globalAlpha);tint=void 0===tint?(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):(tint>>16)+(tint&65280)+((tint&255)<<16);Array.isArray(entries)||(entries=[entries]);this.batchList(entries,x,y,alpha,tint);return this},batchDrawFrame:function(key,frame,x,y,alpha,tint){void 0===x&&(x=0);void 0===y&&(y=0);void 0===alpha&&(alpha=this.globalAlpha);tint=void 0===tint?(this.globalTint>>16)+(this.globalTint&
65280)+((this.globalTint&255)<<16):(tint>>16)+(tint&65280)+((tint&255)<<16);(key=this.textureManager.getFrame(key,frame))&&(this.renderTarget?this.pipeline.batchTextureFrame(key,x,y,tint,alpha,this.camera.matrix,null):this.batchTextureFrame(key,x+this.frame.cutX,y+this.frame.cutY,alpha,tint));return this},endDraw:function(){var renderer=this.renderer,renderTarget=this.renderTarget;if(renderTarget){var canvasTarget=renderer.endCapture();renderer.pipelines.setUtility().blitFrame(canvasTarget,renderTarget,
1,!1,!1,this._eraseMode);renderer.resetScissor();renderer.resetViewport()}else renderer.setContext();this.dirty=!0;return this},batchList:function(children,x,y,alpha,tint){for(var i=0;i<children.length;i++){var entry=children[i];entry&&entry!==this&&(entry.renderWebGL||entry.renderCanvas?this.drawGameObject(entry,x,y):entry.isParent||entry.list?this.batchGroup(entry.getChildren(),x,y):"string"===typeof entry?this.batchTextureFrameKey(entry,null,x,y,alpha,tint):entry instanceof Frame?this.batchTextureFrame(entry,
x,y,alpha,tint):Array.isArray(entry)&&this.batchList(entry,x,y,alpha,tint))}},batchGroup:function(children,x,y){void 0===x&&(x=0);void 0===y&&(y=0);x+=this.frame.cutX;y+=this.frame.cutY;for(var i=0;i<children.length;i++){var entry=children[i];entry.willRender(this.camera)&&this.drawGameObject(entry,entry.x+x,entry.y+y)}},batchGameObjectWebGL:function(gameObject,x,y){void 0===x&&(x=gameObject.x);void 0===y&&(y=gameObject.y);var prevX=gameObject.x,prevY=gameObject.y;gameObject.setPosition(x+this.frame.cutX,
y+this.frame.cutY);gameObject.renderDirect?gameObject.renderDirect(this.renderer,gameObject,this.camera):gameObject.renderWebGL(this.renderer,gameObject,this.camera);gameObject.setPosition(prevX,prevY)},batchGameObjectCanvas:function(gameObject,x,y){void 0===x&&(x=gameObject.x);void 0===y&&(y=gameObject.y);var prevX=gameObject.x,prevY=gameObject.y;if(this._eraseMode){var blendMode=gameObject.blendMode;gameObject.blendMode=BlendModes.ERASE}gameObject.setPosition(x+this.frame.cutX,y+this.frame.cutY);
gameObject.renderCanvas(this.renderer,gameObject,this.camera,null);gameObject.setPosition(prevX,prevY);this._eraseMode&&(gameObject.blendMode=blendMode)},batchTextureFrameKey:function(key,frame,x,y,alpha,tint){(key=this.textureManager.getFrame(key,frame))&&this.batchTextureFrame(key,x,y,alpha,tint)},batchTextureFrame:function(textureFrame,x,y,alpha,tint){void 0===x&&(x=0);void 0===y&&(y=0);x+=this.frame.cutX;y+=this.frame.cutY;if(this.renderTarget)this.pipeline.batchTextureFrame(textureFrame,x,y,
tint,alpha,this.camera.matrix,null);else{tint=this.context;var cd=textureFrame.canvasData;textureFrame=textureFrame.source.image;var matrix=this.camera.matrix;tint.save();tint.globalCompositeOperation=this._eraseMode?"destination-out":"source-over";tint.globalAlpha=alpha;matrix.setToContext(tint);tint.drawImage(textureFrame,cd.x,cd.y,cd.width,cd.height,x,y,cd.width,cd.height);tint.restore()}},snapshotArea:function(x,y,width,height,callback,type,encoderOptions){this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,
this.width,this.height,callback,!1,x,y,width,height,type,encoderOptions):this.renderer.snapshotCanvas(this.canvas,callback,!1,x,y,width,height,type,encoderOptions);return this},snapshot:function(callback,type,encoderOptions){this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,callback,!1,0,0,this.width,this.height,type,encoderOptions):this.renderer.snapshotCanvas(this.canvas,callback,!1,0,0,this.width,this.height,type,encoderOptions);return this},
snapshotPixel:function(x,y,callback){this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,callback,!0,x,y):this.renderer.snapshotCanvas(this.canvas,callback,!0,x,y);return this},preDestroy:function(){this._saved||(CanvasPool.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.texture=this.context=this.canvas=null)}});module.exports=__webpack_require__},function(module,exports){module.exports=
function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:r&3|8).toString(16)})}},function(module,exports,__webpack_require__){var AnimationState=__webpack_require__(162);exports=__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15),PIPELINE_CONST=__webpack_require__(65),RopeRender=__webpack_require__(1079),Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:GameObject,
Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Flip,Components.Mask,Components.Pipeline,Components.Size,Components.Texture,Components.Transform,Components.Visible,Components.ScrollFactor,RopeRender],initialize:function(scene,x,y,texture,frame,points,horizontal,colors,alphas){void 0===texture&&(texture="__DEFAULT");void 0===points&&(points=2);void 0===horizontal&&(horizontal=!0);GameObject.call(this,scene,"Rope");this.anims=new AnimationState(this);this.points=points;
this.tintFill="__DEFAULT"===texture?!0:!1;this.dirty=!1;this.horizontal=horizontal;this._flipY=this._flipX=!1;this._perp=new Vector2;this.debugGraphic=this.debugCallback=null;this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.initPipeline(PIPELINE_CONST.ROPE_PIPELINE);Array.isArray(points)&&this.resizeArrays(points.length);this.setPoints(points,colors,alphas);this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},
preUpdate:function(time,delta){var prevFrame=this.anims.currentFrame;this.anims.update(time,delta);this.anims.currentFrame!==prevFrame&&(this.updateUVs(),this.updateVertices())},play:function(key,ignoreIfPlaying,startFrame){this.anims.play(key,ignoreIfPlaying,startFrame);return this},setDirty:function(){this.dirty=!0;return this},setHorizontal:function(points,colors,alphas){void 0===points&&(points=this.points.length);if(this.horizontal)return this;this.horizontal=!0;return this.setPoints(points,
colors,alphas)},setVertical:function(points,colors,alphas){void 0===points&&(points=this.points.length);if(!this.horizontal)return this;this.horizontal=!1;return this.setPoints(points,colors,alphas)},setTintFill:function(value){void 0===value&&(value=!1);this.tintFill=value;return this},setAlphas:function(alphas,bottomAlpha){var total=this.points.length;if(1>total)return this;var currentAlphas=this.alphas;void 0===alphas?alphas=[1]:Array.isArray(alphas)||void 0!==bottomAlpha||(alphas=[alphas]);var i;
if(void 0!==bottomAlpha)for(i=0;i<total;i++){var index=2*i;currentAlphas[index]=alphas;currentAlphas[index+1]=bottomAlpha}else if(alphas.length===total)for(i=0;i<total;i++)index=2*i,currentAlphas[index]=alphas[i],currentAlphas[index+1]=alphas[i];else for(bottomAlpha=alphas[0],i=0;i<total;i++)index=2*i,alphas.length>index&&(bottomAlpha=alphas[index]),currentAlphas[index]=bottomAlpha,alphas.length>index+1&&(bottomAlpha=alphas[index+1]),currentAlphas[index+1]=bottomAlpha;return this},setColors:function(colors){var total=
this.points.length;if(1>total)return this;var currentColors=this.colors;void 0===colors?colors=[16777215]:Array.isArray(colors)||(colors=[colors]);var i;if(colors.length===total)for(i=0;i<total;i++){var index=2*i;currentColors[index]=colors[i];currentColors[index+1]=colors[i]}else{var prevColor=colors[0];for(i=0;i<total;i++)index=2*i,colors.length>index&&(prevColor=colors[index]),currentColors[index]=prevColor,colors.length>index+1&&(prevColor=colors[index+1]),currentColors[index+1]=prevColor}return this},
setPoints:function(points,colors,alphas){void 0===points&&(points=2);if("number"===typeof points){var segments=points;2>segments&&(segments=2);points=[];var s;if(this.horizontal){var offset=-this.frame.halfWidth;var frameSegment=this.frame.width/(segments-1);for(s=0;s<segments;s++)points.push({x:offset+s*frameSegment,y:0})}else for(offset=-this.frame.halfHeight,frameSegment=this.frame.height/(segments-1),s=0;s<segments;s++)points.push({x:0,y:offset+s*frameSegment})}segments=points.length;s=this.points.length;
if(1>segments)return console.warn("Rope: Not enough points given"),this;1===segments&&(points.unshift({x:0,y:0}),segments++);s!==segments&&this.resizeArrays(segments);this.points=points;this.updateUVs();void 0!==colors&&null!==colors&&this.setColors(colors);void 0!==alphas&&null!==alphas&&this.setAlphas(alphas);return this},updateUVs:function(){for(var currentUVs=this.uv,total=this.points.length,u0=this.frame.u0,v0=this.frame.v0,u1=this.frame.u1,v1=this.frame.v1,partH=(u1-u0)/(total-1),partV=(v1-
v0)/(total-1),i=0;i<total;i++){var index=4*i;if(this.horizontal){if(this._flipX){var uv0=u1-i*partH;var uv2=u1-i*partH}else uv0=u0+i*partH,uv2=u0+i*partH;if(this._flipY){var uv1=v1;var uv3=v0}else uv1=v0,uv3=v1}else this._flipX?(uv0=u0,uv2=u1):(uv0=u1,uv2=u0),this._flipY?(uv1=v1-i*partV,uv3=v1-i*partV):(uv1=v0+i*partV,uv3=v0+i*partV);currentUVs[index+0]=uv0;currentUVs[index+1]=uv1;currentUVs[index+2]=uv2;currentUVs[index+3]=uv3}return this},resizeArrays:function(newSize){this.vertices=new Float32Array(4*
newSize);this.uv=new Float32Array(4*newSize);var colors=new Uint32Array(2*newSize);var alphas=new Float32Array(2*newSize);for(var i=0;i<2*newSize;i++)colors[i]=16777215,alphas[i]=1;this.colors=colors;this.alphas=alphas;this.dirty=!0;return this},updateVertices:function(){var perp=this._perp,points=this.points,vertices=this.vertices,total=points.length;this.dirty=!1;if(!(1>total)){for(var nextPoint,lastPoint=points[0],frameSize=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,i=0;i<total;i++){var point=
points[i],index=4*i;nextPoint=i<total-1?points[i+1]:point;perp.x=nextPoint.y-lastPoint.y;perp.y=-(nextPoint.x-lastPoint.x);nextPoint=perp.length();perp.x/=nextPoint;perp.y/=nextPoint;perp.x*=frameSize;perp.y*=frameSize;vertices[index]=point.x+perp.x;vertices[index+1]=point.y+perp.y;vertices[index+2]=point.x-perp.x;vertices[index+3]=point.y-perp.y;lastPoint=point}return this}},setDebug:function(graphic,callback){this.debugCallback=(this.debugGraphic=graphic)||callback?callback?callback:this.renderDebugVerts:
null;return this},renderDebugVerts:function(src,meshLength,verts){src=src.debugGraphic;var px0=verts[0],py0=verts[1],px1=verts[2],py1=verts[3];src.lineBetween(px0,py0,px1,py1);for(var i=4;i<meshLength;i+=4){var x0=verts[i+0],y0=verts[i+1],x1=verts[i+2],y1=verts[i+3];src.lineBetween(px0,py0,x0,y0);src.lineBetween(px1,py1,x1,y1);src.lineBetween(px1,py1,x0,y0);src.lineBetween(x0,y0,x1,y1);px0=x0;py0=y0;px1=x1;py1=y1}},preDestroy:function(){this.anims.destroy();this.anims=void 0;this.debugGraphic=this.debugCallback=
this.alphas=this.colors=this.uv=this.vertices=this.points=null},flipX:{get:function(){return this._flipX},set:function(value){this._flipX=value;return this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(value){this._flipY=value;return this.updateUVs()}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var AddToDOM=__webpack_require__(140),CanvasPool=__webpack_require__(31);exports=__webpack_require__(0);var Components=__webpack_require__(11),
GameEvents=__webpack_require__(22),GameObject=__webpack_require__(15),GetTextSize=__webpack_require__(452),GetValue=__webpack_require__(6),RemoveFromDOM=__webpack_require__(199),TextRender=__webpack_require__(1082),TextStyle=__webpack_require__(453);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Crop,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.ScrollFactor,
Components.Tint,Components.Transform,Components.Visible,TextRender],initialize:function(scene,x,y,text,style){void 0===x&&(x=0);void 0===y&&(y=0);GameObject.call(this,scene,"Text");this.renderer=scene.sys.renderer;this.setPosition(x,y);this.setOrigin(0,0);this.initPipeline();this.canvas=CanvasPool.create(this);this.context=this.canvas.getContext("2d");this.style=new TextStyle(this,style);this.autoRound=!0;this.splitRegExp=/(?:\r\n|\r|\n)/;this._text=void 0;this.padding={left:0,right:0,top:0,bottom:0};
this.height=this.width=1;this.lineSpacing=0;this.dirty=!1;0===this.style.resolution&&(this.style.resolution=1);this._crop=this.resetCropObject();this.texture=scene.sys.textures.addCanvas(null,this.canvas,!0);this.frame=this.texture.get();this.frame.source.resolution=this.style.resolution;this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);this.initRTL();this.setText(text);style&&style.padding&&this.setPadding(style.padding);
style&&style.lineSpacing&&this.setLineSpacing(style.lineSpacing);scene.sys.game.events.on(GameEvents.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",AddToDOM(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(text){var style=this.style;return style.wordWrapCallback?(text=style.wordWrapCallback.call(style.wordWrapCallbackScope,text,this),Array.isArray(text)&&
(text=text.join("\n")),text):style.wordWrapWidth?style.wordWrapUseAdvanced?this.advancedWordWrap(text,this.context,this.style.wordWrapWidth):this.basicWordWrap(text,this.context,this.style.wordWrapWidth):text},advancedWordWrap:function(text,context,wordWrapWidth){var output="";text=text.replace(/ +/gi," ").split(this.splitRegExp);for(var linesCount=text.length,i=0;i<linesCount;i++){var line=text[i],out="";line=line.replace(/^ *|\s*$/gi,"");if(context.measureText(line).width<wordWrapWidth)output+=
line+"\n";else{var currentLineWidth=wordWrapWidth;line=line.split(" ");for(var j=0;j<line.length;j++){var word=line[j],wordWithSpace=word+" ",wordWidth=context.measureText(wordWithSpace).width;if(wordWidth>currentLineWidth){if(0===j){for(linesCount=wordWithSpace;linesCount.length&&!(linesCount=linesCount.slice(0,-1),wordWidth=context.measureText(linesCount).width,wordWidth<=currentLineWidth););if(!linesCount.length)throw Error("This text's wordWrapWidth setting is less than a single character!");
currentLineWidth=word.substr(linesCount.length);line[j]=currentLineWidth;out+=linesCount}currentLineWidth=line.slice(line[j].length?j:j+1).join(" ").replace(/[ \n]*$/gi,"");text[i+1]=currentLineWidth+" "+(text[i+1]||"");linesCount=text.length;break}else out+=wordWithSpace,currentLineWidth-=wordWidth}output+=out.replace(/[ \n]*$/gi,"")+"\n"}}return output=output.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(text,context,wordWrapWidth){var result="";text=text.split(this.splitRegExp);for(var lastLineIndex=
text.length-1,whiteSpaceWidth=context.measureText(" ").width,i=0;i<=lastLineIndex;i++){for(var spaceLeft=wordWrapWidth,words=text[i].split(" "),lastWordIndex=words.length-1,j=0;j<=lastWordIndex;j++){var word=words[j],wordWidth=context.measureText(word).width,wordWidthWithSpace=wordWidth;j<lastWordIndex&&(wordWidthWithSpace+=whiteSpaceWidth);wordWidthWithSpace>spaceLeft&&0<j&&(result+="\n",spaceLeft=wordWrapWidth);result+=word;j<lastWordIndex?(result+=" ",spaceLeft-=wordWidthWithSpace):spaceLeft-=
wordWidth}i<lastLineIndex&&(result+="\n")}return result},getWrappedText:function(text){void 0===text&&(text=this._text);this.style.syncFont(this.canvas,this.context);return this.runWordWrap(text).split(this.splitRegExp)},setText:function(value){value||0===value||(value="");Array.isArray(value)&&(value=value.join("\n"));value!==this._text&&(this._text=value.toString(),this.updateText());return this},setStyle:function(style){return this.style.setStyle(style)},setFont:function(font){return this.style.setFont(font)},
setFontFamily:function(family){return this.style.setFontFamily(family)},setFontSize:function(size){return this.style.setFontSize(size)},setFontStyle:function(style){return this.style.setFontStyle(style)},setFixedSize:function(width,height){return this.style.setFixedSize(width,height)},setBackgroundColor:function(color){return this.style.setBackgroundColor(color)},setFill:function(fillStyle){return this.style.setFill(fillStyle)},setColor:function(color){return this.style.setColor(color)},setStroke:function(color,
thickness){return this.style.setStroke(color,thickness)},setShadow:function(x,y,color,blur,shadowStroke,shadowFill){return this.style.setShadow(x,y,color,blur,shadowStroke,shadowFill)},setShadowOffset:function(x,y){return this.style.setShadowOffset(x,y)},setShadowColor:function(color){return this.style.setShadowColor(color)},setShadowBlur:function(blur){return this.style.setShadowBlur(blur)},setShadowStroke:function(enabled){return this.style.setShadowStroke(enabled)},setShadowFill:function(enabled){return this.style.setShadowFill(enabled)},
setWordWrapWidth:function(width,useAdvancedWrap){return this.style.setWordWrapWidth(width,useAdvancedWrap)},setWordWrapCallback:function(callback,scope){return this.style.setWordWrapCallback(callback,scope)},setAlign:function(align){return this.style.setAlign(align)},setResolution:function(value){return this.style.setResolution(value)},setLineSpacing:function(value){this.lineSpacing=value;return this.updateText()},setPadding:function(left,top,right,bottom){if("object"===typeof left){bottom=left;top=
GetValue(bottom,"x",null);null!==top?right=left=top:(left=GetValue(bottom,"left",0),right=GetValue(bottom,"right",left));var y=GetValue(bottom,"y",null);null!==y?bottom=top=y:(top=GetValue(bottom,"top",0),bottom=GetValue(bottom,"bottom",top))}else void 0===left&&(left=0),void 0===top&&(top=left),void 0===right&&(right=left),void 0===bottom&&(bottom=top);this.padding.left=left;this.padding.top=top;this.padding.right=right;this.padding.bottom=bottom;return this.updateText()},setMaxLines:function(max){return this.style.setMaxLines(max)},
updateText:function(){var canvas=this.canvas,context=this.context,style=this.style,resolution=style.resolution,size=style.metrics;style.syncFont(canvas,context);var outputText=this._text;if(style.wordWrapWidth||style.wordWrapCallback)outputText=this.runWordWrap(this._text);outputText=outputText.split(this.splitRegExp);var textSize=GetTextSize(this,size,outputText),padding=this.padding;if(0===style.fixedWidth){this.width=textSize.width+padding.left+padding.right;var textWidth=textSize.width}else this.width=
style.fixedWidth,textWidth=this.width-padding.left-padding.right,textWidth<textSize.width&&(textWidth=textSize.width);this.height=0===style.fixedHeight?textSize.height+padding.top+padding.bottom:style.fixedHeight;var w=this.width,h=this.height;this.updateDisplayOrigin();w=Math.max(w*resolution,1);h=Math.max(h*resolution,1);canvas.width!==w||canvas.height!==h?(canvas.width=w,canvas.height=h,this.frame.setSize(w,h),style.syncFont(canvas,context)):context.clearRect(0,0,w,h);context.save();context.scale(resolution,
resolution);style.backgroundColor&&(context.fillStyle=style.backgroundColor,context.fillRect(0,0,w,h));style.syncStyle(canvas,context);context.textBaseline="alphabetic";context.translate(padding.left,padding.top);for(h=0;h<textSize.lines;h++){resolution=style.strokeThickness/2;padding=style.strokeThickness/2+h*textSize.lineHeight+size.ascent;0<h&&(padding+=textSize.lineSpacing*h);if(style.rtl)resolution=w-resolution;else if("right"===style.align)resolution+=textWidth-textSize.lineWidths[h];else if("center"===
style.align)resolution+=(textWidth-textSize.lineWidths[h])/2;else if("justify"===style.align&&.85<=textSize.lineWidths[h]/textSize.width){var extraSpace=textSize.width-textSize.lineWidths[h],spaceSize=context.measureText(" ").width,trimmedLine=outputText[h].trim(),array=trimmedLine.split(" ");extraSpace+=(outputText[h].length-trimmedLine.length)*spaceSize;extraSpace=Math.floor(extraSpace/spaceSize);for(spaceSize=0;0<extraSpace;)array[spaceSize]+=" ",spaceSize=(spaceSize+1)%(array.length-1||1),--extraSpace;
outputText[h]=array.join(" ")}this.autoRound&&(resolution=Math.round(resolution),padding=Math.round(padding));style.strokeThickness&&(this.style.syncShadow(context,style.shadowStroke),context.strokeText(outputText[h],resolution,padding));style.color&&(this.style.syncShadow(context,style.shadowFill),context.fillText(outputText[h],resolution,padding))}context.restore();this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(canvas,this.frame.source.glTexture,!0),
this.frame.glTexture=this.frame.source.glTexture);this.dirty=!0;(canvas=this.input)&&!canvas.customHitArea&&(canvas.hitArea.width=this.width,canvas.hitArea.height=this.height);return this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(value){this.setText(value)}},toJSON:function(){var out=Components.ToJSON(this),data={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,
top:this.padding.top,bottom:this.padding.bottom}};out.data=data;return out},preDestroy:function(){this.style.rtl&&RemoveFromDOM(this.canvas);CanvasPool.remove(this.canvas);this.texture.destroy()}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(31);exports=__webpack_require__(0);var Components=__webpack_require__(11),GameEvents=__webpack_require__(22),GameObject=__webpack_require__(15),GetPowerOfTwo=__webpack_require__(355),Smoothing=
__webpack_require__(189),TileSpriteRender=__webpack_require__(1085),Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Crop,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.ScrollFactor,Components.Tint,Components.Transform,Components.Visible,TileSpriteRender],initialize:function(scene,x,y,width,height,textureKey,frameKey){var renderer$jscomp$0=
scene.sys.renderer;GameObject.call(this,scene,"TileSprite");textureKey=scene.sys.textures.get(textureKey);var displayFrame=textureKey.get(frameKey);width&&height?(width=Math.floor(width),height=Math.floor(height)):(width=displayFrame.width,height=displayFrame.height);this._tilePosition=new Vector2;this._tileScale=new Vector2(1,1);this.dirty=!1;this.renderer=renderer$jscomp$0;this.canvas=CanvasPool.create(this,width,height);this.context=this.canvas.getContext("2d");this.displayTexture=textureKey;this.displayFrame=
displayFrame;this._crop=this.resetCropObject();this.texture=scene.sys.textures.addCanvas(null,this.canvas,!0);this.frame=this.texture.get();this.potWidth=GetPowerOfTwo(displayFrame.width);this.potHeight=GetPowerOfTwo(displayFrame.height);this.fillCanvas=CanvasPool.create2D(this,this.potWidth,this.potHeight);this.fillContext=this.fillCanvas.getContext("2d");this.fillPattern=null;this.setPosition(x,y);this.setSize(width,height);this.setFrame(frameKey);this.setOriginFromFrame();this.initPipeline();scene.sys.game.events.on(GameEvents.CONTEXT_RESTORED,
function(renderer){var gl=renderer.gl;this.dirty=!0;this.fillPattern=null;this.fillPattern=renderer.createTexture2D(0,gl.LINEAR,gl.LINEAR,gl.REPEAT,gl.REPEAT,gl.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(key,frame){this.displayTexture=this.scene.sys.textures.get(key);return this.setFrame(frame)},setFrame:function(frame){frame=this.displayTexture.get(frame);this.potWidth=GetPowerOfTwo(frame.width);this.potHeight=GetPowerOfTwo(frame.height);this.canvas.width=0;this.renderFlags=
frame.cutWidth&&frame.cutHeight?this.renderFlags|8:this.renderFlags&-9;this.displayFrame=frame;this.dirty=!0;this.updateTileTexture();return this},setTilePosition:function(x,y){void 0!==x&&(this.tilePositionX=x);void 0!==y&&(this.tilePositionY=y);return this},setTileScale:function(x,y){void 0===x&&(x=this.tileScaleX);void 0===y&&(y=x);this.tileScaleX=x;this.tileScaleY=y;return this},updateTileTexture:function(){if(this.dirty&&this.renderer){var frame=this.displayFrame;if(frame.source.isRenderTexture||
frame.source.isGLTexture)console.warn("TileSprites can only use Image or Canvas based textures");else{var ctx=this.fillContext,canvas=this.fillCanvas,fw=this.potWidth,fh=this.potHeight;this.renderer.gl||(fw=frame.cutWidth,fh=frame.cutHeight);ctx.clearRect(0,0,fw,fh);canvas.width=fw;canvas.height=fh;ctx.drawImage(frame.source.image,frame.cutX,frame.cutY,frame.cutWidth,frame.cutHeight,0,0,fw,fh);this.fillPattern=this.renderer.gl?this.renderer.canvasToTexture(canvas,this.fillPattern):ctx.createPattern(canvas,
"repeat");this.updateCanvas()}this.dirty=!1}},updateCanvas:function(){var canvas=this.canvas;if(canvas.width!==this.width||canvas.height!==this.height)canvas.width=this.width,canvas.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0;if(!(!this.dirty||this.renderer&&this.renderer.gl)){canvas=this.context;this.scene.sys.game.config.antialias||Smoothing.disable(canvas);var scaleX=this._tileScale.x,scaleY=this._tileScale.y,positionX=this._tilePosition.x,
positionY=this._tilePosition.y;canvas.clearRect(0,0,this.width,this.height);canvas.save();canvas.scale(scaleX,scaleY);canvas.translate(-positionX,-positionY);canvas.fillStyle=this.fillPattern;canvas.fillRect(positionX,positionY,this.width/scaleX,this.height/scaleY);canvas.restore()}this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern);CanvasPool.remove(this.canvas);CanvasPool.remove(this.fillCanvas);this.displayFrame=this.displayTexture=
this.fillCanvas=this.fillContext=this.fillPattern=null;this.texture.destroy();this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(value){this._tilePosition.x=value;this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(value){this._tilePosition.y=value;this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(value){this._tileScale.x=value;this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},
set:function(value){this._tileScale.y=value;this.dirty=!0}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Clamp=__webpack_require__(18),Components=__webpack_require__(11),Events=__webpack_require__(75),GameEvents=__webpack_require__(22),InputEvents=__webpack_require__(49),GameObject=__webpack_require__(15),SoundEvents=__webpack_require__(69),UUID=__webpack_require__(219),VideoRender=__webpack_require__(1088),MATH_CONST=__webpack_require__(14);
__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Flip,Components.GetBounds,Components.Mask,Components.Origin,Components.Pipeline,Components.ScrollFactor,Components.Size,Components.TextureCrop,Components.Tint,Components.Transform,Components.Visible,VideoRender],initialize:function(scene,x,y,key){GameObject.call(this,scene,"Video");this.snapshotTexture=this.videoTextureSource=this.videoTexture=this.video=null;this.flipY=!1;
this._key=UUID();this.touchLocked=!0;this.playWhenUnlocked=!1;this.retryLimit=20;this.retry=0;this.retryInterval=500;this._retryID=null;this._codePaused=this._systemPaused=this._codeMuted=this._systemMuted=!1;this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)};this._crop=this.resetCropObject();this.markers={};this._markerIn=
-1;this._markerOut=MATH_CONST.MAX_SAFE_INTEGER;this._lastUpdate=0;this._cacheKey="";this.removeVideoElementOnDestroy=this._isSeeking=!1;this.setPosition(x,y);this.initPipeline();key&&this.changeSource(key,!1);x=scene.sys.game.events;x.on(GameEvents.PAUSE,this.globalPause,this);x.on(GameEvents.RESUME,this.globalResume,this);if(scene=scene.sys.sound)scene.on(SoundEvents.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},
play:function(loop,markerIn,markerOut){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var video=this.video;if(!video)return console.warn("Video not loaded"),this;void 0===loop&&(loop=video.loop);var sound=this.scene.sys.sound;sound&&sound.mute&&this.setMute(!0);isNaN(markerIn)||(this._markerIn=markerIn);!isNaN(markerOut)&&markerOut>markerIn&&(this._markerOut=markerOut);video.loop=loop;loop=this._callbacks;markerIn=video.play();void 0!==markerIn?markerIn.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):
(video.addEventListener("playing",loop.play,!0),2>video.readyState&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval)));video.addEventListener("ended",loop.end,!0);video.addEventListener("timeupdate",loop.time,!0);video.addEventListener("seeking",loop.seeking,!0);video.addEventListener("seeked",loop.seeked,!0);return this},changeSource:function(key,autoplay,loop,markerIn,markerOut){void 0===autoplay&&(autoplay=!0);this.video&&this.stop();
var newVideo=this.scene.sys.cache.video.get(key);newVideo?(this.video=newVideo,this._cacheKey=key,this._codePaused=newVideo.paused,this._codeMuted=newVideo.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,newVideo,newVideo.videoWidth,newVideo.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,newVideo.videoWidth,newVideo.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),
this.updateDisplayOrigin(),this.emit(Events.VIDEO_CREATED,this,newVideo.videoWidth,newVideo.videoHeight)):this.updateTexture(),this._lastUpdate=newVideo.currentTime=0,autoplay&&this.play(loop,markerIn,markerOut)):this.video=null;return this},addMarker:function(key,markerIn,markerOut){!isNaN(markerIn)&&0<=markerIn&&!isNaN(markerOut)&&(this.markers[key]=[markerIn,markerOut]);return this},playMarker:function(key,loop){(key=this.markers[key])&&this.play(loop,key[0],key[1]);return this},removeMarker:function(key){delete this.markers[key];
return this},snapshot:function(width,height){void 0===width&&(width=this.width);void 0===height&&(height=this.height);return this.snapshotArea(0,0,this.width,this.height,width,height)},snapshotArea:function(x,y,srcWidth,srcHeight,destWidth,destHeight){void 0===x&&(x=0);void 0===y&&(y=0);void 0===srcWidth&&(srcWidth=this.width);void 0===srcHeight&&(srcHeight=this.height);void 0===destWidth&&(destWidth=srcWidth);void 0===destHeight&&(destHeight=srcHeight);var video=this.video,snap=this.snapshotTexture;
snap?snap.setSize(destWidth,destHeight):this.snapshotTexture=snap=this.scene.sys.textures.createCanvas(UUID(),destWidth,destHeight);video&&snap.context.drawImage(video,x,y,srcWidth,srcHeight,0,0,destWidth,destHeight);return snap.update()},saveSnapshotTexture:function(key){this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,key):this.snapshotTexture=this.scene.sys.textures.createCanvas(key,this.width,this.height);return this.snapshotTexture},loadURL:function(url,loadEvent,
noAudio){void 0===noAudio&&(noAudio=!1);this.video&&this.stop();this.videoTexture&&this.scene.sys.textures.remove(this._key);loadEvent=document.createElement("video");loadEvent.controls=!1;noAudio&&(loadEvent.muted=!0,loadEvent.defaultMuted=!0,loadEvent.setAttribute("autoplay","autoplay"));loadEvent.setAttribute("playsinline","playsinline");loadEvent.setAttribute("preload","auto");loadEvent.addEventListener("error",this._callbacks.error,!0);loadEvent.src=url;loadEvent.load();this.video=loadEvent;
return this},loadMediaStream:function(stream,loadEvent,noAudio){void 0===noAudio&&(noAudio=!1);this.video&&this.stop();this.videoTexture&&this.scene.sys.textures.remove(this._key);loadEvent=document.createElement("video");loadEvent.controls=!1;noAudio&&(loadEvent.muted=!0,loadEvent.defaultMuted=!0,loadEvent.setAttribute("autoplay","autoplay"));loadEvent.setAttribute("playsinline","playsinline");loadEvent.setAttribute("preload","auto");loadEvent.addEventListener("error",this._callbacks.error,!0);try{loadEvent.srcObject=
stream}catch(error){loadEvent.src=window.URL.createObjectURL(stream)}loadEvent.load();this.video=loadEvent;return this},playPromiseSuccessHandler:function(){this.touchLocked=!1;this.emit(Events.VIDEO_PLAY,this);-1<this._markerIn&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(error){this.scene.sys.input.once(InputEvents.POINTER_DOWN,this.unlockHandler,this);this.playWhenUnlocked=this.touchLocked=!0;this.emit(Events.VIDEO_ERROR,this,error)},playHandler:function(){this.touchLocked=
!1;this.emit(Events.VIDEO_PLAY,this);this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(event){this.stop();this.emit(Events.VIDEO_ERROR,this,event)},unlockHandler:function(){this.playWhenUnlocked=this.touchLocked=!1;this.emit(Events.VIDEO_UNLOCKED,this);-1<this._markerIn&&(this.video.currentTime=this._markerIn);this.video.play();this.emit(Events.VIDEO_PLAY,this)},completeHandler:function(){this.emit(Events.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&
this.video.currentTime<this._lastUpdate&&(this.emit(Events.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var video=this.video;if(video){var currentTime=video.currentTime;currentTime!==this._lastUpdate&&(this._lastUpdate=currentTime,this.updateTexture(),currentTime>=this._markerOut&&(video.loop?(video.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=currentTime,this.emit(Events.VIDEO_LOOP,this)):(this.emit(Events.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){2<=
this.video.readyState?this.updateTexture():(this.retry--,0<this.retry?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(Events.VIDEO_TIMEOUT,this))},updateTexture:function(){var video=this.video,width=video.videoWidth,height=video.videoHeight;if(this.videoTexture){var textureSource=this.videoTextureSource;textureSource.source!==video&&(textureSource.source=video,textureSource.width=width,textureSource.height=height);textureSource.update()}else this.videoTexture=
this.scene.sys.textures.create(this._key,video,width,height),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,width,height),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(Events.VIDEO_CREATED,this,width,height)},getVideoKey:function(){return this._cacheKey},seekTo:function(value){var video=this.video;video&&(video=video.duration,Infinity===video||isNaN(video)||this.setCurrentTime(video*value));return this},getCurrentTime:function(){return this.video?
this.video.currentTime:0},setCurrentTime:function(value){var video=this.video;if(video){if("string"===typeof value){var op=value[0],num=parseFloat(value.substr(1));"+"===op?value=video.currentTime+num:"-"===op&&(value=video.currentTime-num)}this._lastUpdate=video.currentTime=value}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0;this.emit(Events.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1;this.emit(Events.VIDEO_SEEKED,this);
this.video&&this.updateTexture()},getProgress:function(){var video=this.video;if(video){var now=video.currentTime;video=video.duration;if(Infinity!==video&&!isNaN(video))return now/video}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(value){void 0===value&&(value=!0);this._codeMuted=value;var video=this.video;video&&(video.muted=this._systemMuted?!0:value);return this},isMuted:function(){return this._codeMuted},globalMute:function(soundManager,value){this._systemMuted=
value;if(soundManager=this.video)soundManager.muted=this._codeMuted?!0:value},globalPause:function(){this._systemPaused=!0;this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1;this.video&&!this._codePaused&&this.video.play()},setPaused:function(value){void 0===value&&(value=!0);var video=this.video;this._codePaused=value;video&&(value?video.paused||video.pause():value||video.paused&&!this._systemPaused&&video.play());return this},getVolume:function(){return this.video?this.video.volume:
1},setVolume:function(value){void 0===value&&(value=1);this.video&&(this.video.volume=Clamp(value,0,1));return this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(rate){this.video&&(this.video.playbackRate=rate);return this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(value){void 0===value&&(value=!0);this.video&&(this.video.loop=value);return this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):
!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(key,flipY){void 0===flipY&&(flipY=!1);this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,key);this._key=key;this.flipY=flipY;this.videoTextureSource&&this.videoTextureSource.setFlipY(flipY);return this.videoTexture},stop:function(){var video=this.video;if(video){var callbacks=this._callbacks,callback;for(callback in callbacks)video.removeEventListener(callback,callbacks[callback],
!0);video.pause()}this._retryID&&window.clearTimeout(this._retryID);this.emit(Events.VIDEO_STOP,this);return this},removeVideoElement:function(){var video=this.video;if(video){for(video.parentNode&&video.parentNode.removeChild(video);video.hasChildNodes();)video.removeChild(video.firstChild);video.removeAttribute("autoplay");video.removeAttribute("src");this.video=null}},preDestroy:function(){this.stop();this.removeVideoElementOnDestroy&&this.removeVideoElement();var game=this.scene.sys.game.events;
game.off(GameEvents.PAUSE,this.globalPause,this);game.off(GameEvents.RESUME,this.globalResume,this);(game=this.scene.sys.sound)&&game.off(SoundEvents.GLOBAL_MUTE,this.globalMute,this);this._retryID&&window.clearTimeout(this._retryID)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Contains=__webpack_require__(225),GetPoints=__webpack_require__(464),GEOM_CONST=__webpack_require__(55);__webpack_require__=new exports({initialize:function(points){this.type=
GEOM_CONST.POLYGON;this.area=0;this.points=[];points&&this.setTo(points)},contains:function(x,y){return Contains(this,x,y)},setTo:function(points){this.area=0;this.points=[];"string"===typeof points&&(points=points.split(" "));if(!Array.isArray(points))return this;for(var p,y0=Number.MAX_VALUE,i=0;i<points.length;i++)p={x:0,y:0},"number"===typeof points[i]||"string"===typeof points[i]?(p.x=parseFloat(points[i]),p.y=parseFloat(points[i+1]),i++):Array.isArray(points[i])?(p.x=points[i][0],p.y=points[i][1]):
(p.x=points[i].x,p.y=points[i].y),this.points.push(p),p.y<y0&&(y0=p.y);this.calculateArea(y0);return this},calculateArea:function(){if(3>this.points.length)return this.area=0;for(var sum=0,p1,p2,i=0;i<this.points.length-1;i++)p1=this.points[i],p2=this.points[i+1],sum+=(p2.x-p1.x)*(p1.y+p2.y);p1=this.points[0];p2=this.points[this.points.length-1];sum+=(p1.x-p2.x)*(p2.y+p1.y);return this.area=.5*-sum},getPoints:function(quantity,step,output){return GetPoints(this,quantity,step,output)}});module.exports=
__webpack_require__},function(module,exports){module.exports=function(polygon,x,y){for(var inside=!1,i=-1,j=polygon.points.length-1;++i<polygon.points.length;j=i){var ix=polygon.points[i].x,iy=polygon.points[i].y,jx=polygon.points[j].x;j=polygon.points[j].y;(iy<=y&&y<j||j<=y&&y<iy)&&x<(jx-ix)*(y-iy)/(j-iy)+ix&&(inside=!inside)}return inside}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15),GetFastValue=
__webpack_require__(2),Extend=__webpack_require__(17),SetValue=__webpack_require__(472),ShaderRender=__webpack_require__(1170),TransformMatrix=__webpack_require__(25);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.ComputedSize,Components.Depth,Components.GetBounds,Components.Mask,Components.Origin,Components.ScrollFactor,Components.Transform,Components.Visible,ShaderRender],initialize:function(scene,key,x,y,width,height,textures,textureData){void 0===x&&(x=0);void 0===y&&(y=
0);void 0===width&&(width=128);void 0===height&&(height=128);GameObject.call(this,scene,"Shader");this.blendMode=-1;this.renderer=scene=scene.sys.renderer;this.gl=scene.gl;this.vertexData=new ArrayBuffer(12*Float32Array.BYTES_PER_ELEMENT);this.vertexBuffer=scene.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW);this.program=null;this.bytes=new Uint8Array(this.vertexData);this.vertexViewF32=new Float32Array(this.vertexData);this._tempMatrix1=new TransformMatrix;this._tempMatrix2=new TransformMatrix;
this._tempMatrix3=new TransformMatrix;this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.uniforms={};this.pointer=null;this._rendererWidth=scene.width;this._rendererHeight=scene.height;this._textureCount=0;this.glTexture=this.framebuffer=null;this.renderToTexture=!1;this.texture=null;this.setPosition(x,y);this.setSize(width,height);this.setOrigin(.5,.5);this.setShader(key,textures,textureData)},willRender:function(camera){return this.renderToTexture?
!0:!(GameObject.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&camera.id)},setRenderToTexture:function(key,flipY){void 0===flipY&&(flipY=!1);if(!this.renderToTexture){var width=this.width,height=this.height,renderer=this.renderer;this.glTexture=renderer.createTextureFromSource(null,width,height,0);this.glTexture.flipY=flipY;this.framebuffer=renderer.createFramebuffer(width,height,this.glTexture,!1);this._rendererWidth=width;this._rendererHeight=height;this.renderToTexture=
!0;this.projOrtho(0,this.width,this.height,0);key&&(this.texture=this.scene.sys.textures.addGLTexture(key,this.glTexture,width,height))}this.shader&&(renderer.pipelines.clear(),this.load(),this.flush(),renderer.pipelines.rebind());return this},setShader:function(key,textures,textureData){void 0===textures&&(textures=[]);if("string"===typeof key){var cache=this.scene.sys.cache.shader;if(!cache.has(key))return console.warn("Shader missing: "+key),this;this.shader=cache.get(key)}else this.shader=key;
key=this.gl;cache=this.renderer;this.program&&key.deleteProgram(this.program);cache=cache.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);key.uniformMatrix4fv(key.getUniformLocation(cache,"uViewMatrix"),!1,this.viewMatrix);key.uniformMatrix4fv(key.getUniformLocation(cache,"uProjectionMatrix"),!1,this.projectionMatrix);key.uniform2f(key.getUniformLocation(cache,"uResolution"),this.width,this.height);this.program=cache;key=new Date;key={resolution:{type:"2f",value:{x:this.width,y:this.height}},
time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[key.getFullYear(),key.getMonth(),key.getDate(),3600*key.getHours()+60*key.getMinutes()+key.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};
this.uniforms=this.shader.uniforms?Extend(!0,{},this.shader.uniforms,key):key;for(key=0;4>key;key++)textures[key]&&this.setSampler2D("iChannel"+key,textures[key],key,textureData);this.initUniforms();this.projOrtho(0,this._rendererWidth,this._rendererHeight,0);return this},setPointer:function(pointer){this.pointer=pointer;return this},projOrtho:function(left,right,bottom,top){var leftRight=1/(left-right),bottomTop=1/(bottom-top),pm=this.projectionMatrix;pm[0]=-2*leftRight;pm[5]=-2*bottomTop;pm[10]=
-.001;pm[12]=(left+right)*leftRight;pm[13]=(top+bottom)*bottomTop;pm[14]=-0;left=this.program;top=this.gl;this.renderer.setProgram(left);top.uniformMatrix4fv(top.getUniformLocation(left,"uProjectionMatrix"),!1,this.projectionMatrix);this._rendererWidth=right;this._rendererHeight=bottom},initUniforms:function(){var gl=this.gl,map=this.renderer.glFuncMap,program=this.program;this._textureCount=0;for(var key in this.uniforms){var uniform=this.uniforms[key],type=uniform.type,data=map[type];uniform.uniformLocation=
gl.getUniformLocation(program,key);"sampler2D"!==type&&(uniform.glMatrix=data.matrix,uniform.glValueLength=data.length,uniform.glFunc=data.func)}},setSampler2DBuffer:function(uniformKey,texture,width,height,textureIndex,textureData){void 0===textureIndex&&(textureIndex=0);void 0===textureData&&(textureData={});uniformKey=this.uniforms[uniformKey];uniformKey.value=texture;textureData.width=width;textureData.height=height;uniformKey.textureData=textureData;this._textureCount=textureIndex;this.initSampler2D(uniformKey);
return this},setSampler2D:function(uniformKey,textureKey,textureIndex,textureData){void 0===textureIndex&&(textureIndex=0);var textureManager=this.scene.sys.textures;if(textureManager.exists(textureKey)){textureManager=textureManager.getFrame(textureKey);if(textureManager.glTexture&&textureManager.glTexture.isRenderTexture)return this.setSampler2DBuffer(uniformKey,textureManager.glTexture,textureManager.width,textureManager.height,textureIndex,textureData);uniformKey=this.uniforms[uniformKey];var source=
textureManager.source;uniformKey.textureKey=textureKey;uniformKey.source=source.image;uniformKey.value=textureManager.glTexture;source.isGLTexture&&(textureData||(textureData={}),textureData.width=source.width,textureData.height=source.height);textureData&&(uniformKey.textureData=textureData);this._textureCount=textureIndex;this.initSampler2D(uniformKey)}return this},setUniform:function(key,value){SetValue(this.uniforms,key,value);return this},getUniform:function(key){return GetFastValue(this.uniforms,
key,null)},setChannel0:function(textureKey,textureData){return this.setSampler2D("iChannel0",textureKey,0,textureData)},setChannel1:function(textureKey,textureData){return this.setSampler2D("iChannel1",textureKey,1,textureData)},setChannel2:function(textureKey,textureData){return this.setSampler2D("iChannel2",textureKey,2,textureData)},setChannel3:function(textureKey,textureData){return this.setSampler2D("iChannel3",textureKey,3,textureData)},initSampler2D:function(uniform){if(uniform.value){var gl=
this.gl;gl.activeTexture(gl.TEXTURE0+this._textureCount);gl.bindTexture(gl.TEXTURE_2D,uniform.value);var data=uniform.textureData;if(data&&!uniform.value.isRenderTexture){var magFilter=gl[GetFastValue(data,"magFilter","linear").toUpperCase()],minFilter=gl[GetFastValue(data,"minFilter","linear").toUpperCase()],wrapS=gl[GetFastValue(data,"wrapS","repeat").toUpperCase()],wrapT=gl[GetFastValue(data,"wrapT","repeat").toUpperCase()],format=gl[GetFastValue(data,"format","rgba").toUpperCase()];data.repeat&&
(wrapT=wrapS=gl.REPEAT);gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!!data.flipY);if(data.width){var width=GetFastValue(data,"width",512),height=GetFastValue(data,"height",2);data=GetFastValue(data,"border",0);gl.texImage2D(gl.TEXTURE_2D,0,format,width,height,data,format,gl.UNSIGNED_BYTE,null)}else gl.texImage2D(gl.TEXTURE_2D,0,format,gl.RGBA,gl.UNSIGNED_BYTE,uniform.source);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,minFilter);gl.texParameteri(gl.TEXTURE_2D,
gl.TEXTURE_WRAP_S,wrapS);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,wrapT)}this.renderer.setProgram(this.program);gl.uniform1i(uniform.uniformLocation,this._textureCount);this._textureCount++}},syncUniforms:function(){var gl=this.gl,uniforms=this.uniforms,textureCount=0,key;for(key in uniforms){var uniform=uniforms[key];var glFunc=uniform.glFunc;var length=uniform.glValueLength;var location=uniform.uniformLocation;var value=uniform.value;null!==value&&(1===length?uniform.glMatrix?glFunc.call(gl,
location,uniform.transpose,value):glFunc.call(gl,location,value):2===length?glFunc.call(gl,location,value.x,value.y):3===length?glFunc.call(gl,location,value.x,value.y,value.z):4===length?glFunc.call(gl,location,value.x,value.y,value.z,value.w):"sampler2D"===uniform.type&&(gl.activeTexture(gl.TEXTURE0+textureCount),gl.bindTexture(gl.TEXTURE_2D,value),gl.uniform1i(location,textureCount),textureCount++))}},load:function(matrix2D){var gl=this.gl,width=this.width,height=this.height,renderer=this.renderer,
program=this.program,vm=this.viewMatrix;if(!this.renderToTexture){var x=-this._displayOriginX,y=-this._displayOriginY;vm[0]=matrix2D[0];vm[1]=matrix2D[1];vm[4]=matrix2D[2];vm[5]=matrix2D[3];vm[8]=matrix2D[4];vm[9]=matrix2D[5];vm[12]=vm[0]*x+vm[4]*y;vm[13]=vm[1]*x+vm[5]*y}gl.useProgram(program);gl.uniformMatrix4fv(gl.getUniformLocation(program,"uViewMatrix"),!1,vm);gl.uniform2f(gl.getUniformLocation(program,"uResolution"),this.width,this.height);matrix2D=this.uniforms;gl=matrix2D.resolution;gl.value.x=
width;gl.value.y=height;matrix2D.time.value=renderer.game.loop.getDuration();if(renderer=this.pointer)matrix2D=matrix2D.mouse,height=1-renderer.y/height,matrix2D.value.x=(renderer.x/width).toFixed(2),matrix2D.value.y=height.toFixed(2);this.syncUniforms()},flush:function(){var width=this.width,height=this.height,program=this.program,gl=this.gl,vertexBuffer=this.vertexBuffer,renderer=this.renderer,vertexSize=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(renderer.setFramebuffer(this.framebuffer),
gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT));gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffer);program=gl.getAttribLocation(program,"inPosition");-1!==program&&(gl.enableVertexAttribArray(program),gl.vertexAttribPointer(program,2,gl.FLOAT,!1,vertexSize,0));program=this.vertexViewF32;program[3]=height;program[4]=width;program[5]=height;program[8]=width;program[9]=height;program[10]=width;gl.bufferSubData(gl.ARRAY_BUFFER,0,this.bytes.subarray(0,6*vertexSize));gl.drawArrays(gl.TRIANGLES,0,6);this.renderToTexture&&
renderer.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var gl=this.gl;gl.deleteProgram(this.program);gl.deleteBuffer(this.vertexBuffer);this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.texture=this.glTexture=this.framebuffer=null)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),DegToRad=__webpack_require__(35),
Face=__webpack_require__(113),GameObject=__webpack_require__(15),GenerateVerts=__webpack_require__(473),GenerateObjVerts=__webpack_require__(474),GetCalcMatrix=__webpack_require__(19),Matrix4=__webpack_require__(67),MeshRender=__webpack_require__(1173),StableSort=__webpack_require__(79),Vector3=__webpack_require__(38),Vertex=__webpack_require__(115);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Mask,Components.Pipeline,
Components.Size,Components.Texture,Components.Transform,Components.Visible,Components.ScrollFactor,MeshRender],initialize:function(scene,x,y,texture,frame,vertices,uvs,indicies,containsZ,normals,colors,alphas){void 0===x&&(x=0);void 0===y&&(y=0);void 0===texture&&(texture="__WHITE");GameObject.call(this,scene,"Mesh");this.faces=[];this.vertices=[];this.tintFill=!1;this.debugGraphic=this.debugCallback=null;this.hideCCW=!0;this.modelPosition=new Vector3;this.modelScale=new Vector3(1,1,1);this.modelRotation=
new Vector3;this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0];this.transformMatrix=new Matrix4;this.viewPosition=new Vector3;this.viewMatrix=new Matrix4;this.projectionMatrix=new Matrix4;this.totalFrame=this.totalRendered=0;this.ignoreDirtyCache=!1;scene=scene.sys.renderer;this.setPosition(x,y);this.setTexture(texture,frame);this.setSize(scene.width,scene.height);this.initPipeline();this.setPerspective(scene.width,scene.height);vertices&&this.addVertices(vertices,uvs,indicies,containsZ,normals,colors,alphas)},
addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(v){this.viewPosition.addScale(Vector3.LEFT,v);this.dirtyCache[10]=1;return this},panY:function(v){this.viewPosition.y+=Vector3.DOWN.y*v;this.dirtyCache[10]=1;return this},panZ:function(amount){this.viewPosition.z+=amount;this.dirtyCache[10]=1;return this},setPerspective:function(width,height,fov,near,far){void 0===fov&&(fov=45);void 0===near&&(near=.01);void 0===
far&&(far=1E3);this.projectionMatrix.perspective(DegToRad(fov),width/height,near,far);this.dirtyCache[10]=1;this.dirtyCache[11]=0;return this},setOrtho:function(scaleX,scaleY,near,far){void 0===scaleX&&(scaleX=this.scene.sys.renderer.getAspectRatio());void 0===scaleY&&(scaleY=1);void 0===near&&(near=-1E3);void 0===far&&(far=1E3);this.projectionMatrix.ortho(-scaleX,scaleX,-scaleY,scaleY,near,far);this.dirtyCache[10]=1;this.dirtyCache[11]=1;return this},clear:function(){this.faces.forEach(function(face){face.destroy()});
this.faces=[];this.vertices=[];return this},addVerticesFromObj:function(key,scale,x,y,z,rotateX,rotateY,rotateZ,zIsUp){(key=this.scene.sys.cache.obj.get(key))&&GenerateObjVerts(key,this,scale,x,y,z,rotateX,rotateY,rotateZ,zIsUp);return this},sortByDepth:function(faceA,faceB){return faceA.depth-faceB.depth},depthSort:function(){StableSort(this.faces,this.sortByDepth);return this},addVertex:function(x,y,z,u,v,color,alpha){x=new Vertex(x,y,z,u,v,color,alpha);this.vertices.push(x);return x},addFace:function(vertex1,
vertex2,vertex3){vertex1=new Face(vertex1,vertex2,vertex3);this.faces.push(vertex1);this.dirtyCache[9]=-1;return vertex1},addVertices:function(vertices,uvs,indicies,containsZ,normals,colors,alphas){if(vertices=GenerateVerts(vertices,uvs,indicies,containsZ,normals,colors,alphas))this.faces=this.faces.concat(vertices.faces),this.vertices=this.vertices.concat(vertices.vertices);this.dirtyCache[9]=-1;return this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},
getFace:function(index){return this.faces[index]},getFaceAt:function(x,y,camera){void 0===camera&&(camera=this.scene.sys.cameras.main);camera=GetCalcMatrix(this,camera).calc;for(var faces=this.faces,results=[],i=0;i<faces.length;i++){var face=faces[i];face.contains(x,y,camera)&&results.push(face)}return StableSort(results,this.sortByDepth)},setDebug:function(graphic,callback){this.debugCallback=(this.debugGraphic=graphic)||callback?callback?callback:this.renderDebug:null;return this},isDirty:function(){var position=
this.modelPosition,rotation=this.modelRotation,scale=this.modelScale,dirtyCache=this.dirtyCache,px=position.x,py=position.y;position=position.z;var rx=rotation.x,ry=rotation.y;rotation=rotation.z;var sx=scale.x,sy=scale.y;scale=scale.z;var faces=this.getFaceCount(),pxCached=dirtyCache[0],pyCached=dirtyCache[1],pzCached=dirtyCache[2],rxCached=dirtyCache[3],ryCached=dirtyCache[4],rzCached=dirtyCache[5],sxCached=dirtyCache[6],syCached=dirtyCache[7],szCached=dirtyCache[8],fCached=dirtyCache[9];dirtyCache[0]=
px;dirtyCache[1]=py;dirtyCache[2]=position;dirtyCache[3]=rx;dirtyCache[4]=ry;dirtyCache[5]=rotation;dirtyCache[6]=sx;dirtyCache[7]=sy;dirtyCache[8]=scale;dirtyCache[9]=faces;return pxCached!==px||pyCached!==py||pzCached!==position||rxCached!==rx||ryCached!==ry||rzCached!==rotation||sxCached!==sx||syCached!==sy||szCached!==scale||fCached!==faces},preUpdate:function(){this.totalRendered=this.totalFrame;this.totalFrame=0;var dirty=this.dirtyCache;if(this.ignoreDirtyCache||dirty[10]||this.isDirty()){var width=
this.width,height=this.height,viewMatrix=this.viewMatrix,viewPosition=this.viewPosition;dirty[10]&&(viewMatrix.identity(),viewMatrix.translate(viewPosition),viewMatrix.invert(),dirty[10]=0);dirty=this.transformMatrix;dirty.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);viewPosition=viewPosition.z;viewMatrix=this.faces;for(var i=0;i<viewMatrix.length;i++)viewMatrix[i].transformCoordinatesLocal(dirty,width,height,viewPosition);this.depthSort()}},
renderDebug:function(src,faces){src=src.debugGraphic;for(var i=0;i<faces.length;i++){var face=faces[i];src.strokeTriangle(face.vertex1.tx,face.vertex1.ty,face.vertex2.tx,face.vertex2.ty,face.vertex3.tx,face.vertex3.ty)}},preDestroy:function(){this.clear();this.debugGraphic=this.debugCallback=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var DistanceBetween=__webpack_require__(48);module.exports=function(circleA,circleB){return DistanceBetween(circleA.x,circleA.y,
circleB.x,circleB.y)<=circleA.radius+circleB.radius}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4),LineToCircle=__webpack_require__(230);module.exports=function(line,circle,out){void 0===out&&(out=[]);if(LineToCircle(line,circle)){var lx1=line.x1,ly1=line.y1,cr=circle.radius,lDirX=line.x2-lx1;line=line.y2-ly1;var oDirX=lx1-circle.x,oDirY=ly1-circle.y;circle=lDirX*lDirX+line*line;var coefficientB=2*(lDirX*oDirX+line*oDirY);cr=coefficientB*coefficientB-4*circle*(oDirX*
oDirX+oDirY*oDirY-cr*cr);0===cr?(cr=-coefficientB/(2*circle),0<=cr&&1>=cr&&out.push(new Point(lx1+cr*lDirX,ly1+cr*line))):0<cr&&(oDirX=(-coefficientB-Math.sqrt(cr))/(2*circle),0<=oDirX&&1>=oDirX&&out.push(new Point(lx1+oDirX*lDirX,ly1+oDirX*line)),cr=(-coefficientB+Math.sqrt(cr))/(2*circle),0<=cr&&1>=cr&&out.push(new Point(lx1+cr*lDirX,ly1+cr*line)))}return out}},function(module,exports,__webpack_require__){var Contains=__webpack_require__(63),tmp=new (__webpack_require__(4));module.exports=function(line,
circle,nearest){void 0===nearest&&(nearest=tmp);if(Contains(circle,line.x1,line.y1))return nearest.x=line.x1,nearest.y=line.y1,!0;if(Contains(circle,line.x2,line.y2))return nearest.x=line.x2,nearest.y=line.y2,!0;var dx=line.x2-line.x1,dy=line.y2-line.y1,lcx=circle.x-line.x1,lcy=circle.y-line.y1,dLen2=dx*dx+dy*dy,px=dx,py=dy;0<dLen2&&(lcx=(lcx*dx+lcy*dy)/dLen2,px*=lcx,py*=lcx);nearest.x=line.x1+px;nearest.y=line.y1+py;return px*px+py*py<=dLen2&&0<=px*dx+py*dy&&Contains(circle,nearest.x,nearest.y)}},
function(module,exports,__webpack_require__){var Point=__webpack_require__(4),LineToLine=__webpack_require__(92),LineToRectangle=__webpack_require__(482);module.exports=function(line,rect,out){void 0===out&&(out=[]);if(LineToRectangle(line,rect)){var lineA=rect.getLineA(),lineB=rect.getLineB(),lineC=rect.getLineC(),lineD=rect.getLineD();rect=[new Point,new Point,new Point,new Point];line=[LineToLine(lineA,line,rect[0]),LineToLine(lineB,line,rect[1]),LineToLine(lineC,line,rect[2]),LineToLine(lineD,
line,rect[3])];for(lineA=0;4>lineA;lineA++)line[lineA]&&out.push(rect[lineA])}return out}},function(module,exports){module.exports=function(triangle,points,returnFirst,out){void 0===returnFirst&&(returnFirst=!1);void 0===out&&(out=[]);var v0x=triangle.x3-triangle.x1,v0y=triangle.y3-triangle.y1,v1x=triangle.x2-triangle.x1,v1y=triangle.y2-triangle.y1,dot00=v0x*v0x+v0y*v0y,dot01=v0x*v1x+v0y*v1y,dot11=v1x*v1x+v1y*v1y,b=dot00*dot11-dot01*dot01;b=0===b?0:1/b;var x1=triangle.x1;triangle=triangle.y1;for(var i=
0;i<points.length;i++){var u=points[i].x-x1;var v2y=points[i].y-triangle;var v=v0x*u+v0y*v2y;v2y=v1x*u+v1y*v2y;u=(dot11*v-dot01*v2y)*b;v=(dot00*v2y-dot01*v)*b;if(0<=u&&0<=v&&1>u+v&&(out.push({x:points[i].x,y:points[i].y}),returnFirst))break}return out}},function(module,exports){module.exports=function(line,x,y,angle){var c=Math.cos(angle);angle=Math.sin(angle);var tx=line.x1-x,ty=line.y1-y;line.x1=tx*c-ty*angle+x;line.y1=tx*angle+ty*c+y;tx=line.x2-x;ty=line.y2-y;line.x2=tx*c-ty*angle+x;line.y2=tx*
angle+ty*c+y;return line}},function(module,exports){module.exports=function(rect){return 0===rect.height?NaN:rect.width/rect.height}},function(module,exports){module.exports=function(triangle,x,y,angle){var c=Math.cos(angle);angle=Math.sin(angle);var tx=triangle.x1-x,ty=triangle.y1-y;triangle.x1=tx*c-ty*angle+x;triangle.y1=tx*angle+ty*c+y;tx=triangle.x2-x;ty=triangle.y2-y;triangle.x2=tx*c-ty*angle+x;triangle.y2=tx*angle+ty*c+y;tx=triangle.x3-x;ty=triangle.y3-y;triangle.x3=tx*c-ty*angle+x;triangle.y3=
tx*angle+ty*c+y;return triangle}},function(module,exports,__webpack_require__){module.exports={BUTTON_DOWN:__webpack_require__(1304),BUTTON_UP:__webpack_require__(1305),CONNECTED:__webpack_require__(1306),DISCONNECTED:__webpack_require__(1307),GAMEPAD_BUTTON_DOWN:__webpack_require__(1308),GAMEPAD_BUTTON_UP:__webpack_require__(1309)}},function(module,exports,__webpack_require__){var Extend=__webpack_require__(17),XHRSettings=__webpack_require__(154);module.exports=function(global,local){global=void 0===
global?XHRSettings():Extend({},global);if(local)for(var setting in local)void 0!==local[setting]&&(global[setting]=local[setting]);return global}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),ParseXML=__webpack_require__(402),XMLFile=new exports({Extends:File,initialize:function(loader,key,url,
xhrSettings){var extension="xml";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}File.call(this,loader,{type:"xml",cache:loader.cacheManager.xml,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings})},onProcess:function(){this.state=CONST.FILE_PROCESSING;if(this.data=ParseXML(this.xhrLoader.responseText))this.onProcessComplete();
else console.warn("Invalid XMLFile: "+this.key),this.onProcessError()}});FileTypesManager.register("xml",function(key,url,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new XMLFile(this,key[url]));else this.addFile(new XMLFile(this,key,url,xhrSettings));return this});module.exports=XMLFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),
GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),TextFile=new exports({Extends:File,initialize:function(loader,key,url,xhrSettings){var type="text",extension="txt",cache=loader.cacheManager.text;if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension);type=GetFastValue(config,"type",type);cache=GetFastValue(config,"cache",cache)}File.call(this,
loader,{type:type,cache:cache,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings})},onProcess:function(){this.state=CONST.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()}});FileTypesManager.register("text",function(key,url,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new TextFile(this,key[url]));else this.addFile(new TextFile(this,key,url,xhrSettings));return this});module.exports=TextFile},function(module,
exports,__webpack_require__){module.exports={Acceleration:__webpack_require__(1362),Angular:__webpack_require__(1363),Bounce:__webpack_require__(1364),Debug:__webpack_require__(1365),Drag:__webpack_require__(1366),Enable:__webpack_require__(1367),Friction:__webpack_require__(1368),Gravity:__webpack_require__(1369),Immovable:__webpack_require__(1370),Mass:__webpack_require__(1371),OverlapCirc:__webpack_require__(517),OverlapRect:__webpack_require__(241),Pushable:__webpack_require__(1372),Size:__webpack_require__(1373),
Velocity:__webpack_require__(1374)}},function(module,exports){module.exports=function(world,x,y,width,height,includeDynamic,includeStatic){void 0===includeDynamic&&(includeDynamic=!0);void 0===includeStatic&&(includeStatic=!1);var dynamicBodies=[],staticBodies=[],minMax=world.treeMinMax;minMax.minX=x;minMax.minY=y;minMax.maxX=x+width;minMax.maxY=y+height;includeStatic&&(staticBodies=world.staticTree.search(minMax));if(includeDynamic&&world.useTree)dynamicBodies=world.tree.search(minMax);else if(includeDynamic){var fakeBody=
{position:{x:x,y:y},left:x,top:y,right:x+width,bottom:y+height,isCircle:!1},intersects=world.intersects;world.bodies.iterate(function(target){intersects(target,fakeBody)&&dynamicBodies.push(target)})}return staticBodies.concat(dynamicBodies)}},function(module,exports,__webpack_require__){module.exports={COLLIDE:__webpack_require__(1375),OVERLAP:__webpack_require__(1376),PAUSE:__webpack_require__(1377),RESUME:__webpack_require__(1378),TILE_COLLIDE:__webpack_require__(1379),TILE_OVERLAP:__webpack_require__(1380),
WORLD_BOUNDS:__webpack_require__(1381),WORLD_STEP:__webpack_require__(1382)}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(60);module.exports=function(body1,body2,overlapOnly,bias){var overlap=0;bias=body1.deltaAbsX()+body2.deltaAbsX()+bias;0===body1._dx&&0===body2._dx?(body1.embedded=!0,body2.embedded=!0):body1._dx>body2._dx?(overlap=body1.right-body2.x,overlap>bias&&!overlapOnly||!1===body1.checkCollision.right||!1===body2.checkCollision.left?overlap=0:(body1.touching.none=
!1,body1.touching.right=!0,body2.touching.none=!1,body2.touching.left=!0,body2.physicsType!==CONST.STATIC_BODY||overlapOnly||(body1.blocked.none=!1,body1.blocked.right=!0),body1.physicsType!==CONST.STATIC_BODY||overlapOnly||(body2.blocked.none=!1,body2.blocked.left=!0))):body1._dx<body2._dx&&(overlap=body1.x-body2.width-body2.x,-overlap>bias&&!overlapOnly||!1===body1.checkCollision.left||!1===body2.checkCollision.right?overlap=0:(body1.touching.none=!1,body1.touching.left=!0,body2.touching.none=!1,
body2.touching.right=!0,body2.physicsType!==CONST.STATIC_BODY||overlapOnly||(body1.blocked.none=!1,body1.blocked.left=!0),body1.physicsType!==CONST.STATIC_BODY||overlapOnly||(body2.blocked.none=!1,body2.blocked.right=!0)));body1.overlapX=overlap;return body2.overlapX=overlap}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(60);module.exports=function(body1,body2,overlapOnly,bias){var overlap=0;bias=body1.deltaAbsY()+body2.deltaAbsY()+bias;0===body1._dy&&0===body2._dy?(body1.embedded=
!0,body2.embedded=!0):body1._dy>body2._dy?(overlap=body1.bottom-body2.y,overlap>bias&&!overlapOnly||!1===body1.checkCollision.down||!1===body2.checkCollision.up?overlap=0:(body1.touching.none=!1,body1.touching.down=!0,body2.touching.none=!1,body2.touching.up=!0,body2.physicsType!==CONST.STATIC_BODY||overlapOnly||(body1.blocked.none=!1,body1.blocked.down=!0),body1.physicsType!==CONST.STATIC_BODY||overlapOnly||(body2.blocked.none=!1,body2.blocked.up=!0))):body1._dy<body2._dy&&(overlap=body1.y-body2.bottom,
-overlap>bias&&!overlapOnly||!1===body1.checkCollision.up||!1===body2.checkCollision.down?overlap=0:(body1.touching.none=!1,body1.touching.up=!0,body2.touching.none=!1,body2.touching.down=!0,body2.physicsType!==CONST.STATIC_BODY||overlapOnly||(body1.blocked.none=!1,body1.blocked.up=!0),body1.physicsType!==CONST.STATIC_BODY||overlapOnly||(body2.blocked.none=!1,body2.blocked.down=!0)));body1.overlapY=overlap;return body2.overlapY=overlap}},function(module,exports){module.exports=function(tileWorldRect,
body){return!(body.right<=tileWorldRect.left||body.bottom<=tileWorldRect.top||body.position.x>=tileWorldRect.right||body.position.y>=tileWorldRect.bottom)}},function(module,exports,__webpack_require__){var Constraint={};module.exports=Constraint;var Vertices=__webpack_require__(94),Vector=__webpack_require__(116),Sleeping=__webpack_require__(267),Bounds=__webpack_require__(117),Axes=__webpack_require__(585),Common=__webpack_require__(50);(function(){Constraint._warming=.4;Constraint._torqueDampen=
1;Constraint._minLength=1E-6;Constraint.create=function(options){options.bodyA&&!options.pointA&&(options.pointA={x:0,y:0});options.bodyB&&!options.pointB&&(options.pointB={x:0,y:0});var initialPointA=options.bodyA?Vector.add(options.bodyA.position,options.pointA):options.pointA,initialPointB=options.bodyB?Vector.add(options.bodyB.position,options.pointB):options.pointB;initialPointA=Vector.magnitude(Vector.sub(initialPointA,initialPointB));options.length="undefined"!==typeof options.length?options.length:
initialPointA;options.id=options.id||Common.nextId();options.label=options.label||"Constraint";options.type="constraint";options.stiffness=options.stiffness||(0<options.length?1:.7);options.damping=options.damping||0;options.angularStiffness=options.angularStiffness||0;options.angleA=options.bodyA?options.bodyA.angle:options.angleA;options.angleB=options.bodyB?options.bodyB.angle:options.angleB;options.plugin={};initialPointA={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,
pinSize:null,anchorColor:null,anchorSize:null};0===options.length&&.1<options.stiffness?(initialPointA.type="pin",initialPointA.anchors=!1):.9>options.stiffness&&(initialPointA.type="spring");options.render=Common.extend(initialPointA,options.render);return options};Constraint.preSolveAll=function(bodies){for(var i=0;i<bodies.length;i+=1){var body=bodies[i],impulse=body.constraintImpulse;body.isStatic||0===impulse.x&&0===impulse.y&&0===impulse.angle||(body.position.x+=impulse.x,body.position.y+=impulse.y,
body.angle+=impulse.angle)}};Constraint.solveAll=function(constraints,timeScale){for(var i=0;i<constraints.length;i+=1){var constraint=constraints[i],fixedA=!constraint.bodyA||constraint.bodyA&&constraint.bodyA.isStatic;constraint=!constraint.bodyB||constraint.bodyB&&constraint.bodyB.isStatic;(fixedA||constraint)&&Constraint.solve(constraints[i],timeScale)}for(i=0;i<constraints.length;i+=1)constraint=constraints[i],fixedA=!constraint.bodyA||constraint.bodyA&&constraint.bodyA.isStatic,constraint=!constraint.bodyB||
constraint.bodyB&&constraint.bodyB.isStatic,fixedA||constraint||Constraint.solve(constraints[i],timeScale)};Constraint.solve=function(constraint,timeScale){var bodyA=constraint.bodyA,bodyB=constraint.bodyB,pointA=constraint.pointA,pointB=constraint.pointB;if(bodyA||bodyB){bodyA&&!bodyA.isStatic&&(Vector.rotate(pointA,bodyA.angle-constraint.angleA,pointA),constraint.angleA=bodyA.angle);bodyB&&!bodyB.isStatic&&(Vector.rotate(pointB,bodyB.angle-constraint.angleB,pointB),constraint.angleB=bodyB.angle);
var pointAWorld=pointA,pointBWorld=pointB;bodyA&&(pointAWorld=Vector.add(bodyA.position,pointA));bodyB&&(pointBWorld=Vector.add(bodyB.position,pointB));if(pointAWorld&&pointBWorld){var delta=Vector.sub(pointAWorld,pointBWorld),currentLength=Vector.magnitude(delta);currentLength<Constraint._minLength&&(currentLength=Constraint._minLength);timeScale=Vector.mult(delta,(currentLength-constraint.length)/currentLength*(1>constraint.stiffness?constraint.stiffness*timeScale:constraint.stiffness));pointAWorld=
(bodyA?bodyA.inverseMass:0)+(bodyB?bodyB.inverseMass:0);pointBWorld=pointAWorld+((bodyA?bodyA.inverseInertia:0)+(bodyB?bodyB.inverseInertia:0));if(constraint.damping){var normalVelocity=Vector.create();var normal=Vector.div(delta,currentLength);normalVelocity=Vector.sub(bodyB&&Vector.sub(bodyB.position,bodyB.positionPrev)||normalVelocity,bodyA&&Vector.sub(bodyA.position,bodyA.positionPrev)||normalVelocity);normalVelocity=Vector.dot(normal,normalVelocity)}bodyA&&!bodyA.isStatic&&(delta=bodyA.inverseMass/
pointAWorld,bodyA.constraintImpulse.x-=timeScale.x*delta,bodyA.constraintImpulse.y-=timeScale.y*delta,bodyA.position.x-=timeScale.x*delta,bodyA.position.y-=timeScale.y*delta,constraint.damping&&(bodyA.positionPrev.x-=constraint.damping*normal.x*normalVelocity*delta,bodyA.positionPrev.y-=constraint.damping*normal.y*normalVelocity*delta),pointA=Vector.cross(pointA,timeScale)/pointBWorld*Constraint._torqueDampen*bodyA.inverseInertia*(1-constraint.angularStiffness),bodyA.constraintImpulse.angle-=pointA,
bodyA.angle-=pointA);bodyB&&!bodyB.isStatic&&(delta=bodyB.inverseMass/pointAWorld,bodyB.constraintImpulse.x+=timeScale.x*delta,bodyB.constraintImpulse.y+=timeScale.y*delta,bodyB.position.x+=timeScale.x*delta,bodyB.position.y+=timeScale.y*delta,constraint.damping&&(bodyB.positionPrev.x+=constraint.damping*normal.x*normalVelocity*delta,bodyB.positionPrev.y+=constraint.damping*normal.y*normalVelocity*delta),pointA=Vector.cross(pointB,timeScale)/pointBWorld*Constraint._torqueDampen*bodyB.inverseInertia*
(1-constraint.angularStiffness),bodyB.constraintImpulse.angle+=pointA,bodyB.angle+=pointA)}}};Constraint.postSolveAll=function(bodies){for(var i=0;i<bodies.length;i++){var body=bodies[i],impulse=body.constraintImpulse;if(!(body.isStatic||0===impulse.x&&0===impulse.y&&0===impulse.angle)){Sleeping.set(body,!1);for(var j=0;j<body.parts.length;j++){var part=body.parts[j];Vertices.translate(part.vertices,impulse);0<j&&(part.position.x+=impulse.x,part.position.y+=impulse.y);0!==impulse.angle&&(Vertices.rotate(part.vertices,
impulse.angle,body.position),Axes.rotate(part.axes,impulse.angle),0<j&&Vector.rotateAbout(part.position,impulse.angle,body.position,part.position));Bounds.update(part.bounds,part.vertices,body.velocity)}impulse.angle*=Constraint._warming;impulse.x*=Constraint._warming;impulse.y*=Constraint._warming}}};Constraint.pointAWorld=function(constraint){return{x:(constraint.bodyA?constraint.bodyA.position.x:0)+constraint.pointA.x,y:(constraint.bodyA?constraint.bodyA.position.y:0)+constraint.pointA.y}};Constraint.pointBWorld=
function(constraint){return{x:(constraint.bodyB?constraint.bodyB.position.x:0)+constraint.pointB.x,y:(constraint.bodyB?constraint.bodyB.position.y:0)+constraint.pointB.y}}})()},function(module,exports,__webpack_require__){module.exports={CalculateFacesAt:__webpack_require__(248),CalculateFacesWithin:__webpack_require__(61),CheckIsoBounds:__webpack_require__(537),Copy:__webpack_require__(1414),CreateFromTiles:__webpack_require__(1415),CullBounds:__webpack_require__(539),CullTiles:__webpack_require__(540),
Fill:__webpack_require__(1416),FilterTiles:__webpack_require__(1417),FindByIndex:__webpack_require__(1418),FindTile:__webpack_require__(1419),ForEachTile:__webpack_require__(1420),GetCullTilesFunction:__webpack_require__(1421),GetTileAt:__webpack_require__(156),GetTileAtWorldXY:__webpack_require__(1422),GetTilesWithin:__webpack_require__(26),GetTilesWithinShape:__webpack_require__(1423),GetTilesWithinWorldXY:__webpack_require__(523),GetTileToWorldXFunction:__webpack_require__(1424),GetTileToWorldXYFunction:__webpack_require__(1425),
GetTileToWorldYFunction:__webpack_require__(1426),GetWorldToTileXFunction:__webpack_require__(1427),GetWorldToTileXYFunction:__webpack_require__(1428),GetWorldToTileYFunction:__webpack_require__(1429),HasTileAt:__webpack_require__(558),HasTileAtWorldXY:__webpack_require__(1430),HexagonalCullBounds:__webpack_require__(542),HexagonalCullTiles:__webpack_require__(541),HexagonalTileToWorldXY:__webpack_require__(546),HexagonalTileToWorldY:__webpack_require__(550),HexagonalWorldToTileXY:__webpack_require__(552),
HexagonalWorldToTileY:__webpack_require__(556),IsInLayerBounds:__webpack_require__(118),IsometricCullTiles:__webpack_require__(543),IsometricTileToWorldXY:__webpack_require__(547),IsometricWorldToTileXY:__webpack_require__(553),PutTileAt:__webpack_require__(253),PutTileAtWorldXY:__webpack_require__(1431),PutTilesAt:__webpack_require__(1432),Randomize:__webpack_require__(1433),RemoveTileAt:__webpack_require__(559),RemoveTileAtWorldXY:__webpack_require__(1434),RenderDebug:__webpack_require__(1435),
ReplaceByIndex:__webpack_require__(538),RunCull:__webpack_require__(157),SetCollision:__webpack_require__(1436),SetCollisionBetween:__webpack_require__(1437),SetCollisionByExclusion:__webpack_require__(1438),SetCollisionByProperty:__webpack_require__(1439),SetCollisionFromCollisionGroup:__webpack_require__(1440),SetLayerCollisionIndex:__webpack_require__(158),SetTileCollision:__webpack_require__(72),SetTileIndexCallback:__webpack_require__(1441),SetTileLocationCallback:__webpack_require__(1442),Shuffle:__webpack_require__(1443),
StaggeredCullBounds:__webpack_require__(545),StaggeredCullTiles:__webpack_require__(544),StaggeredTileToWorldXY:__webpack_require__(548),StaggeredTileToWorldY:__webpack_require__(551),StaggeredWorldToTileXY:__webpack_require__(554),StaggeredWorldToTileY:__webpack_require__(557),SwapByIndex:__webpack_require__(1444),TileToWorldX:__webpack_require__(249),TileToWorldXY:__webpack_require__(549),TileToWorldY:__webpack_require__(250),WeightedRandomize:__webpack_require__(1445),WorldToTileX:__webpack_require__(251),
WorldToTileXY:__webpack_require__(555),WorldToTileY:__webpack_require__(252)}},function(module,exports,__webpack_require__){var GetTileAt=__webpack_require__(156);module.exports=function(tileX,tileY,layer){var tile=GetTileAt(tileX,tileY,!0,layer),above=GetTileAt(tileX,tileY-1,!0,layer),below=GetTileAt(tileX,tileY+1,!0,layer),left=GetTileAt(tileX-1,tileY,!0,layer);tileX=GetTileAt(tileX+1,tileY,!0,layer);if(tileY=tile&&tile.collides)tile.faceTop=!0,tile.faceBottom=!0,tile.faceLeft=!0,tile.faceRight=
!0;above&&above.collides&&(tileY&&(tile.faceTop=!1),above.faceBottom=!tileY);below&&below.collides&&(tileY&&(tile.faceBottom=!1),below.faceTop=!tileY);left&&left.collides&&(tileY&&(tile.faceLeft=!1),left.faceRight=!tileY);tileX&&tileX.collides&&(tileY&&(tile.faceRight=!1),tileX.faceLeft=!tileY);tile&&!tile.collides&&tile.resetFaces();return tile}},function(module,exports){module.exports=function(tileX,camera,layer){var tileWidth=layer.baseTileWidth;layer=layer.tilemapLayer;var layerWorldX=0;layer&&
(camera||(camera=layer.scene.cameras.main),layerWorldX=layer.x+camera.scrollX*(1-layer.scrollFactorX),tileWidth*=layer.scaleX);return layerWorldX+tileX*tileWidth}},function(module,exports){module.exports=function(tileY,camera,layer){var tileHeight=layer.baseTileHeight;layer=layer.tilemapLayer;var layerWorldY=0;layer&&(camera||(camera=layer.scene.cameras.main),layerWorldY=layer.y+camera.scrollY*(1-layer.scrollFactorY),tileHeight*=layer.scaleY);return layerWorldY+tileY*tileHeight}},function(module,
exports){module.exports=function(worldX,snapToFloor,camera,layer){void 0===snapToFloor&&(snapToFloor=!0);var tileWidth=layer.baseTileWidth;if(layer=layer.tilemapLayer)camera||(camera=layer.scene.cameras.main),worldX-=layer.x+camera.scrollX*(1-layer.scrollFactorX),tileWidth*=layer.scaleX;return snapToFloor?Math.floor(worldX/tileWidth):worldX/tileWidth}},function(module,exports){module.exports=function(worldY,snapToFloor,camera,layer){void 0===snapToFloor&&(snapToFloor=!0);var tileHeight=layer.baseTileHeight;
if(layer=layer.tilemapLayer)camera||(camera=layer.scene.cameras.main),worldY-=layer.y+camera.scrollY*(1-layer.scrollFactorY),tileHeight*=layer.scaleY;return snapToFloor?Math.floor(worldY/tileHeight):worldY/tileHeight}},function(module,exports,__webpack_require__){var Tile=__webpack_require__(83),IsInLayerBounds=__webpack_require__(118),CalculateFacesAt=__webpack_require__(248),SetTileCollision=__webpack_require__(72);module.exports=function(tile,tileX,tileY,recalculateFaces,layer){void 0===recalculateFaces&&
(recalculateFaces=!0);if(!IsInLayerBounds(tileX,tileY,layer))return null;var oldTile=layer.data[tileY][tileX];oldTile=oldTile&&oldTile.collides;tile instanceof Tile?(null===layer.data[tileY][tileX]&&(layer.data[tileY][tileX]=new Tile(layer,tile.index,tileX,tileY,layer.tileWidth,layer.tileHeight)),layer.data[tileY][tileX].copy(tile)):null===layer.data[tileY][tileX]?layer.data[tileY][tileX]=new Tile(layer,tile,tileX,tileY,layer.tileWidth,layer.tileHeight):layer.data[tileY][tileX].index=tile;tile=layer.data[tileY][tileX];
var collides=-1!==layer.collideIndexes.indexOf(tile.index);SetTileCollision(tile,collides);recalculateFaces&&oldTile!==tile.collides&&CalculateFacesAt(tileX,tileY,layer);return tile}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(29);module.exports=function(orientation){orientation=orientation.toLowerCase();return"isometric"===orientation?CONST.ISOMETRIC:"staggered"===orientation?CONST.STAGGERED:"hexagonal"===orientation?CONST.HEXAGONAL:CONST.ORTHOGONAL}},function(module,
exports,__webpack_require__){var Formats=__webpack_require__(39),LayerData=__webpack_require__(119),MapData=__webpack_require__(120),Tile=__webpack_require__(83);module.exports=function(name,data,tileWidth,tileHeight,insertNull){var layerData=new LayerData({tileWidth:tileWidth,tileHeight:tileHeight});name=new MapData({name:name,tileWidth:tileWidth,tileHeight:tileHeight,format:Formats.ARRAY_2D,layers:[layerData]});for(var tiles=[],height=data.length,width=0,y=0;y<data.length;y++){tiles[y]=[];for(var row=
data[y],x=0;x<row.length;x++){var tileIndex=parseInt(row[x],10);isNaN(tileIndex)||-1===tileIndex?tiles[y][x]=insertNull?null:new Tile(layerData,-1,x,y,tileWidth,tileHeight):tiles[y][x]=new Tile(layerData,tileIndex,x,y,tileWidth,tileHeight)}0===width&&(width=row.length)}name.width=layerData.width=width;name.height=layerData.height=height;name.widthInPixels=layerData.widthInPixels=width*tileWidth;name.heightInPixels=layerData.heightInPixels=height*tileHeight;layerData.data=tiles;return name}},function(module,
exports,__webpack_require__){var Pick=__webpack_require__(567),ParseGID=__webpack_require__(257),copyPoints=function(p){return{x:p.x,y:p.y}},commonObjectProps="id name type rotation properties visible x y width height".split(" ");module.exports=function(tiledObject,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);var parsedObject=Pick(tiledObject,commonObjectProps);parsedObject.x+=offsetX;parsedObject.y+=offsetY;tiledObject.gid?(tiledObject=ParseGID(tiledObject.gid),parsedObject.gid=
tiledObject.gid,parsedObject.flippedHorizontal=tiledObject.flippedHorizontal,parsedObject.flippedVertical=tiledObject.flippedVertical,parsedObject.flippedAntiDiagonal=tiledObject.flippedAntiDiagonal):tiledObject.polyline?parsedObject.polyline=tiledObject.polyline.map(copyPoints):tiledObject.polygon?parsedObject.polygon=tiledObject.polygon.map(copyPoints):tiledObject.ellipse?parsedObject.ellipse=tiledObject.ellipse:tiledObject.text?parsedObject.text=tiledObject.text:tiledObject.point?parsedObject.point=
!0:parsedObject.rectangle=!0;return parsedObject}},function(module,exports){module.exports=function(gid){var flippedHorizontal=!!(gid&2147483648),flippedVertical=!!(gid&1073741824),flippedAntiDiagonal=!!(gid&536870912),rotation=0,flipped=!1;flippedHorizontal&&flippedVertical&&flippedAntiDiagonal?(rotation=Math.PI/2,flipped=!0):flippedHorizontal&&flippedVertical&&!flippedAntiDiagonal?(rotation=Math.PI,flipped=!1):flippedHorizontal&&!flippedVertical&&flippedAntiDiagonal?(rotation=Math.PI/2,flipped=
!1):!flippedHorizontal||flippedVertical||flippedAntiDiagonal?!flippedHorizontal&&flippedVertical&&flippedAntiDiagonal?(rotation=3*Math.PI/2,flipped=!1):flippedHorizontal||!flippedVertical||flippedAntiDiagonal?flippedHorizontal||flippedVertical||!flippedAntiDiagonal?flippedHorizontal||flippedVertical||flippedAntiDiagonal||(rotation=0,flipped=!1):(rotation=3*Math.PI/2,flipped=!0):(rotation=Math.PI,flipped=!0):(rotation=0,flipped=!0);return{gid:gid&536870911,flippedHorizontal:flippedHorizontal,flippedVertical:flippedVertical,
flippedAntiDiagonal:flippedAntiDiagonal,rotation:rotation,flipped:flipped}}},function(module,exports,__webpack_require__){var Formats=__webpack_require__(39),MapData=__webpack_require__(120),Parse=__webpack_require__(560),Tilemap=__webpack_require__(576);module.exports=function(scene,key,tileWidth,tileHeight,width,height,data,insertNull){void 0===tileWidth&&(tileWidth=32);void 0===tileHeight&&(tileHeight=32);void 0===width&&(width=10);void 0===height&&(height=10);void 0===insertNull&&(insertNull=
!1);var mapData=null;Array.isArray(data)?mapData=Parse(void 0!==key?key:"map",Formats.ARRAY_2D,data,tileWidth,tileHeight,insertNull):void 0!==key&&((data=scene.cache.tilemap.get(key))?mapData=Parse(key,data.format,data.data,tileWidth,tileHeight,insertNull):console.warn("No map data found for key "+key));null===mapData&&(mapData=new MapData({tileWidth:tileWidth,tileHeight:tileHeight,width:width,height:height}));return new Tilemap(scene,mapData)}},function(module,exports,__webpack_require__){var GetValue=
__webpack_require__(6);module.exports=function(config){config=GetValue(config,"targets",null);if(null===config)return config;"function"===typeof config&&(config=config.call());Array.isArray(config)||(config=[config]);return config}},function(module,exports){var GetValueOp=function(key$jscomp$0,propertyValue){var getEnd=function(target,key,value){return value},getStart=function(target,key,value){return value},getActive=null,t=typeof propertyValue;if("number"===t)getEnd=function(){return propertyValue};
else if("string"===t){getEnd=propertyValue[0];var num=parseFloat(propertyValue.substr(2));switch(getEnd){case "+":getEnd=function(target,key,value){return value+num};break;case "-":getEnd=function(target,key,value){return value-num};break;case "*":getEnd=function(target,key,value){return value*num};break;case "/":getEnd=function(target,key,value){return value/num};break;default:getEnd=function(){return parseFloat(propertyValue)}}}else if("function"===t)getEnd=propertyValue;else if("object"===t)if(propertyValue.getStart&&
"function"===typeof propertyValue.getStart||propertyValue.getEnd&&"function"===typeof propertyValue.getEnd||propertyValue.getActive&&"function"===typeof propertyValue.getActive)propertyValue.getActive&&"function"===typeof propertyValue.getActive&&(getActive=propertyValue.getActive),propertyValue.getEnd&&"function"===typeof propertyValue.getEnd&&(getEnd=propertyValue.getEnd),propertyValue.getStart&&"function"===typeof propertyValue.getStart&&(getStart=propertyValue.getStart);else if(propertyValue.hasOwnProperty("value"))var callbacks=
GetValueOp(key$jscomp$0,propertyValue.value);else{var hasTo=propertyValue.hasOwnProperty("to");t=propertyValue.hasOwnProperty("from");var hasStart=propertyValue.hasOwnProperty("start");hasTo&&(t||hasStart)&&(callbacks=GetValueOp(key$jscomp$0,propertyValue.to),hasStart&&(hasTo=GetValueOp(key$jscomp$0,propertyValue.start),callbacks.getActive=hasTo.getEnd),t&&(key$jscomp$0=GetValueOp(key$jscomp$0,propertyValue.from),callbacks.getStart=key$jscomp$0.getEnd))}callbacks||(callbacks={getActive:getActive,
getEnd:getEnd,getStart:getStart});return callbacks};module.exports=GetValueOp},function(module,exports){module.exports={targets:null,delay:0,duration:1E3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),EventEmitter=__webpack_require__(9),Events=__webpack_require__(263);exports=__webpack_require__(16);var GameObjectFactory=__webpack_require__(5),TWEEN_CONST=__webpack_require__(97),
MATH_CONST=__webpack_require__(14);__webpack_require__=new Class({Extends:EventEmitter,initialize:function(parent,data,targets){EventEmitter.call(this);this.parent=parent;this.parentIsTimeline=parent.hasOwnProperty("isTimeline");this.data=data;this.totalData=data.length;this.targets=targets;this.totalTargets=targets.length;this.useFrames=!1;this.timeScale=1;this.startDelay=this.loopCounter=this.loopDelay=this.loop=0;this.isSeeking=this.hasStarted=!1;this.calculatedOffset=this.offset=this.countdown=
this.completeDelay=0;this.state=TWEEN_CONST.PENDING_ADD;this._pausedState=TWEEN_CONST.INIT;this.paused=!1;this.totalProgress=this.totalDuration=this.progress=this.duration=this.totalElapsed=this.elapsed=0;this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null}},getValue:function(index){void 0===index&&(index=0);return this.data[index].current},setTimeScale:function(value){this.timeScale=value;return this},getTimeScale:function(){return this.timeScale},
isPlaying:function(){return this.state===TWEEN_CONST.ACTIVE},isPaused:function(){return this.state===TWEEN_CONST.PAUSED},hasTarget:function(target){return-1!==this.targets.indexOf(target)},updateTo:function(key,value,startToCurrent){void 0===startToCurrent&&(startToCurrent=!1);for(var i=0;i<this.totalData;i++){var tweenData=this.data[i];tweenData.key===key&&(tweenData.end=value,startToCurrent&&(tweenData.start=tweenData.current))}return this},restart:function(){this.totalProgress=this.totalElapsed=
this.progress=this.elapsed=0;return this.state===TWEEN_CONST.ACTIVE?this.seek(0):this.state===TWEEN_CONST.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===TWEEN_CONST.PENDING_ADD?this:this.play()},calcDuration:function(){for(var maxDuration=0,minDelay=MATH_CONST.MAX_SAFE_INTEGER,data=this.data,i=0;i<this.totalData;i++){var tweenData=data[i];tweenData.t1=tweenData.duration+tweenData.hold;tweenData.yoyo&&(tweenData.t1+=tweenData.duration);tweenData.t2=tweenData.t1+tweenData.repeatDelay;
tweenData.totalDuration=tweenData.delay+tweenData.t1;-1===tweenData.repeat?tweenData.totalDuration+=999999999999*tweenData.t2:0<tweenData.repeat&&(tweenData.totalDuration+=tweenData.t2*tweenData.repeat);tweenData.totalDuration>maxDuration&&(maxDuration=tweenData.totalDuration);tweenData.delay<minDelay&&(minDelay=tweenData.delay)}this.duration=Math.max(maxDuration,.001);this.loopCounter=-1===this.loop?999999999999:this.loop;this.totalDuration=0<this.loopCounter?this.duration+this.completeDelay+(this.duration+
this.loopDelay)*this.loopCounter:this.duration+this.completeDelay;this.startDelay=minDelay},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=TWEEN_CONST.PENDING_ADD,this._pausedState=TWEEN_CONST.INIT,!1;for(var data=this.data,totalTargets=this.totalTargets,i=0;i<this.totalData;i++){var tweenData=data[i],target=tweenData.target,gen=tweenData.gen,key=tweenData.key,targetIndex=tweenData.index;tweenData.delay=gen.delay(target,key,0,targetIndex,totalTargets,this);tweenData.duration=
Math.max(gen.duration(target,key,0,targetIndex,totalTargets,this),.001);tweenData.hold=gen.hold(target,key,0,targetIndex,totalTargets,this);tweenData.repeat=gen.repeat(target,key,0,targetIndex,totalTargets,this);tweenData.repeatDelay=gen.repeatDelay(target,key,0,targetIndex,totalTargets,this)}this.calcDuration();this.totalElapsed=this.elapsed=this.totalProgress=this.progress=0;this.state=TWEEN_CONST.INIT;return!0},makeActive:function(){this.parent.makeActive(this);this.dispatchTweenEvent(Events.TWEEN_ACTIVE,
this.callbacks.onActive)},nextState:function(){0<this.loopCounter?(this.progress=this.elapsed=0,this.loopCounter--,this.resetTweenData(!0),0<this.loopDelay?(this.countdown=this.loopDelay,this.state=TWEEN_CONST.LOOP_DELAY):(this.state=TWEEN_CONST.ACTIVE,this.dispatchTweenEvent(Events.TWEEN_LOOP,this.callbacks.onLoop))):0<this.completeDelay?(this.state=TWEEN_CONST.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=TWEEN_CONST.PENDING_REMOVE,this.dispatchTweenEvent(Events.TWEEN_COMPLETE,this.callbacks.onComplete))},
pause:function(){if(this.state===TWEEN_CONST.PAUSED)return this;this.paused=!0;this._pausedState=this.state;this.state=TWEEN_CONST.PAUSED;return this},play:function(resetFromTimeline){void 0===resetFromTimeline&&(resetFromTimeline=!1);var state=this.state;if(state!==TWEEN_CONST.INIT||this.parentIsTimeline){if(state===TWEEN_CONST.ACTIVE||state===TWEEN_CONST.PENDING_ADD&&this._pausedState===TWEEN_CONST.PENDING_ADD)return this;if(!this.parentIsTimeline&&(state===TWEEN_CONST.PENDING_REMOVE||state===TWEEN_CONST.REMOVED))return this.seek(0),
this.parent.makeActive(this),this}else return this.resetTweenData(!1),this.state=TWEEN_CONST.ACTIVE,this;this.parentIsTimeline?(this.resetTweenData(resetFromTimeline),0===this.calculatedOffset?this.state=TWEEN_CONST.ACTIVE:(this.countdown=this.calculatedOffset,this.state=TWEEN_CONST.OFFSET_DELAY)):(this.paused?this.paused=!1:(this.resetTweenData(resetFromTimeline),this.state=TWEEN_CONST.ACTIVE),this.makeActive());return this},resetTweenData:function(resetFromLoop){for(var data=this.data,total=this.totalData,
totalTargets=this.totalTargets,i=0;i<total;i++){var tweenData=data[i],target=tweenData.target,key=tweenData.key,targetIndex=tweenData.index;tweenData.progress=0;tweenData.elapsed=0;tweenData.repeatCounter=-1===tweenData.repeat?999999999999:tweenData.repeat;resetFromLoop?(tweenData.start=tweenData.getStartValue(target,key,tweenData.start,targetIndex,totalTargets,this),tweenData.end=tweenData.getEndValue(target,key,tweenData.end,targetIndex,totalTargets,this),tweenData.current=tweenData.start,tweenData.state=
TWEEN_CONST.PLAYING_FORWARD):tweenData.state=TWEEN_CONST.PENDING_RENDER;0<tweenData.delay&&(tweenData.elapsed=tweenData.delay,tweenData.state=TWEEN_CONST.DELAY);tweenData.getActiveValue&&(target[key]=tweenData.getActiveValue(tweenData.target,tweenData.key,tweenData.start))}},resume:function(){this.state===TWEEN_CONST.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play();return this},seek:function(toPosition,delta){void 0===delta&&(delta=16.6);this.state===TWEEN_CONST.REMOVED&&this.makeActive();
this.totalProgress=this.totalElapsed=this.progress=this.elapsed=0;for(var data=this.data,totalTargets=this.totalTargets,i=0;i<this.totalData;i++){var tweenData=data[i],target=tweenData.target,gen=tweenData.gen,key=tweenData.key,targetIndex=tweenData.index;tweenData.progress=0;tweenData.elapsed=0;tweenData.repeatCounter=-1===tweenData.repeat?999999999999:tweenData.repeat;tweenData.delay=gen.delay(target,key,0,targetIndex,totalTargets,this);tweenData.duration=Math.max(gen.duration(target,key,0,targetIndex,
totalTargets,this),.001);tweenData.hold=gen.hold(target,key,0,targetIndex,totalTargets,this);tweenData.repeat=gen.repeat(target,key,0,targetIndex,totalTargets,this);tweenData.repeatDelay=gen.repeatDelay(target,key,0,targetIndex,totalTargets,this);tweenData.current=tweenData.start;tweenData.state=TWEEN_CONST.PLAYING_FORWARD;this.updateTweenData(this,tweenData,0,targetIndex,totalTargets);0<tweenData.delay&&(tweenData.elapsed=tweenData.delay,tweenData.state=TWEEN_CONST.DELAY)}this.calcDuration();data=
!1;this.state===TWEEN_CONST.PAUSED&&(data=!0,this.state=TWEEN_CONST.ACTIVE);this.isSeeking=!0;do this.update(0,delta);while(this.totalProgress<toPosition);this.isSeeking=!1;data&&(this.state=TWEEN_CONST.PAUSED);return this},setCallback:function(type,callback,params,scope){this.callbacks[type]={func:callback,scope:scope,params:params};return this},complete:function(delay){void 0===delay&&(delay=0);delay?(this.state=TWEEN_CONST.COMPLETE_DELAY,this.countdown=delay):(this.state=TWEEN_CONST.PENDING_REMOVE,
this.dispatchTweenEvent(Events.TWEEN_COMPLETE,this.callbacks.onComplete));return this},remove:function(){this.parent.remove(this);return this},stop:function(resetTo){this.state===TWEEN_CONST.ACTIVE&&void 0!==resetTo&&this.seek(resetTo);if(this.state!==TWEEN_CONST.REMOVED){if(this.state===TWEEN_CONST.PAUSED||this.state===TWEEN_CONST.PENDING_ADD)this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++);
this.dispatchTweenEvent(Events.TWEEN_STOP,this.callbacks.onStop);this.removeAllListeners();this.state=TWEEN_CONST.PENDING_REMOVE}return this},update:function(timestamp,delta){if(this.state===TWEEN_CONST.PAUSED)return!1;this.useFrames&&(delta=1*this.parent.timeScale);delta*=this.timeScale;this.elapsed+=delta;this.progress=Math.min(this.elapsed/this.duration,1);this.totalElapsed+=delta;this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1);switch(this.state){case TWEEN_CONST.ACTIVE:this.hasStarted||
this.isSeeking||(this.startDelay-=delta,0>=this.startDelay&&(this.hasStarted=!0,this.dispatchTweenEvent(Events.TWEEN_START,this.callbacks.onStart)));timestamp=!1;for(var i=0;i<this.totalData;i++)this.updateTweenData(this,this.data[i],delta)&&(timestamp=!0);timestamp||this.nextState();break;case TWEEN_CONST.LOOP_DELAY:this.countdown-=delta;0>=this.countdown&&(this.state=TWEEN_CONST.ACTIVE,this.dispatchTweenEvent(Events.TWEEN_LOOP,this.callbacks.onLoop));break;case TWEEN_CONST.OFFSET_DELAY:this.countdown-=
delta;0>=this.countdown&&(this.state=TWEEN_CONST.ACTIVE);break;case TWEEN_CONST.COMPLETE_DELAY:this.countdown-=delta,0>=this.countdown&&(this.state=TWEEN_CONST.PENDING_REMOVE,this.dispatchTweenEvent(Events.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===TWEEN_CONST.PENDING_REMOVE},dispatchTweenDataEvent:function(event,callback,tweenData){this.isSeeking||(this.emit(event,this,tweenData.key,tweenData.target,tweenData.current,tweenData.previous),callback&&(callback.params[1]=tweenData.target,
callback.func.apply(callback.scope,callback.params)))},dispatchTweenEvent:function(event,callback){this.isSeeking||(this.emit(event,this,this.targets),callback&&(callback.params[1]=this.targets,callback.func.apply(callback.scope,callback.params)))},setStateFromEnd:function(tween,tweenData,diff){if(tweenData.yoyo)return tweenData.elapsed=diff,tweenData.progress=diff/tweenData.duration,tweenData.flipX&&tweenData.target.toggleFlipX(),tweenData.flipY&&tweenData.target.toggleFlipY(),this.dispatchTweenDataEvent(Events.TWEEN_YOYO,
tween.callbacks.onYoyo,tweenData),tweenData.start=tweenData.getStartValue(tweenData.target,tweenData.key,tweenData.start,tweenData.index,tween.totalTargets,tween),TWEEN_CONST.PLAYING_BACKWARD;if(0<tweenData.repeatCounter){tweenData.repeatCounter--;tweenData.elapsed=diff;tweenData.progress=diff/tweenData.duration;tweenData.flipX&&tweenData.target.toggleFlipX();tweenData.flipY&&tweenData.target.toggleFlipY();tweenData.start=tweenData.getStartValue(tweenData.target,tweenData.key,tweenData.start,tweenData.index,
tween.totalTargets,tween);tweenData.end=tweenData.getEndValue(tweenData.target,tweenData.key,tweenData.start,tweenData.index,tween.totalTargets,tween);if(0<tweenData.repeatDelay)return tweenData.elapsed=tweenData.repeatDelay-diff,tweenData.current=tweenData.start,tweenData.target[tweenData.key]=tweenData.current,TWEEN_CONST.REPEAT_DELAY;this.dispatchTweenDataEvent(Events.TWEEN_REPEAT,tween.callbacks.onRepeat,tweenData);return TWEEN_CONST.PLAYING_FORWARD}return TWEEN_CONST.COMPLETE},setStateFromStart:function(tween,
tweenData,diff){if(0<tweenData.repeatCounter){tweenData.repeatCounter--;tweenData.elapsed=diff;tweenData.progress=diff/tweenData.duration;tweenData.flipX&&tweenData.target.toggleFlipX();tweenData.flipY&&tweenData.target.toggleFlipY();tweenData.end=tweenData.getEndValue(tweenData.target,tweenData.key,tweenData.start,tweenData.index,tween.totalTargets,tween);if(0<tweenData.repeatDelay)return tweenData.elapsed=tweenData.repeatDelay-diff,tweenData.current=tweenData.start,tweenData.target[tweenData.key]=
tweenData.current,TWEEN_CONST.REPEAT_DELAY;this.dispatchTweenDataEvent(Events.TWEEN_REPEAT,tween.callbacks.onRepeat,tweenData);return TWEEN_CONST.PLAYING_FORWARD}return TWEEN_CONST.COMPLETE},updateTweenData:function(tween,tweenData,delta){var target=tweenData.target;switch(tweenData.state){case TWEEN_CONST.PLAYING_FORWARD:case TWEEN_CONST.PLAYING_BACKWARD:if(!target){tweenData.state=TWEEN_CONST.COMPLETE;break}var elapsed=tweenData.elapsed,duration=tweenData.duration,diff=0;elapsed+=delta;elapsed>
duration&&(diff=elapsed-duration,elapsed=duration);delta=tweenData.state===TWEEN_CONST.PLAYING_FORWARD;duration=elapsed/duration;tweenData.elapsed=elapsed;tweenData.progress=duration;tweenData.previous=tweenData.current;1===duration?delta?(tweenData.current=tweenData.end,target[tweenData.key]=tweenData.end,0<tweenData.hold?(tweenData.elapsed=tweenData.hold-diff,tweenData.state=TWEEN_CONST.HOLD_DELAY):tweenData.state=this.setStateFromEnd(tween,tweenData,diff)):(tweenData.current=tweenData.start,target[tweenData.key]=
tweenData.start,tweenData.state=this.setStateFromStart(tween,tweenData,diff)):(elapsed=delta?tweenData.ease(duration):tweenData.ease(1-duration),tweenData.current=tweenData.start+(tweenData.end-tweenData.start)*elapsed,target[tweenData.key]=tweenData.current);this.dispatchTweenDataEvent(Events.TWEEN_UPDATE,tween.callbacks.onUpdate,tweenData);break;case TWEEN_CONST.DELAY:tweenData.elapsed-=delta;0>=tweenData.elapsed&&(tweenData.elapsed=Math.abs(tweenData.elapsed),tweenData.state=TWEEN_CONST.PENDING_RENDER);
break;case TWEEN_CONST.REPEAT_DELAY:tweenData.elapsed-=delta;0>=tweenData.elapsed&&(tweenData.elapsed=Math.abs(tweenData.elapsed),tweenData.state=TWEEN_CONST.PLAYING_FORWARD,this.dispatchTweenDataEvent(Events.TWEEN_REPEAT,tween.callbacks.onRepeat,tweenData));break;case TWEEN_CONST.HOLD_DELAY:tweenData.elapsed-=delta;0>=tweenData.elapsed&&(tweenData.state=this.setStateFromEnd(tween,tweenData,Math.abs(tweenData.elapsed)));break;case TWEEN_CONST.PENDING_RENDER:target?(tweenData.start=tweenData.getStartValue(target,
tweenData.key,target[tweenData.key],tweenData.index,tween.totalTargets,tween),tweenData.end=tweenData.getEndValue(target,tweenData.key,tweenData.start,tweenData.index,tween.totalTargets,tween),tweenData.current=tweenData.start,target[tweenData.key]=tweenData.start,tweenData.state=TWEEN_CONST.PLAYING_FORWARD):tweenData.state=TWEEN_CONST.COMPLETE}return tweenData.state!==TWEEN_CONST.COMPLETE}});__webpack_require__.TYPES="onActive onComplete onLoop onRepeat onStart onStop onUpdate onYoyo".split(" ");
GameObjectFactory.register("tween",function(config){return this.scene.sys.tweens.add(config)});exports.register("tween",function(config){return this.scene.sys.tweens.create(config)});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={TIMELINE_COMPLETE:__webpack_require__(1459),TIMELINE_LOOP:__webpack_require__(1460),TIMELINE_PAUSE:__webpack_require__(1461),TIMELINE_RESUME:__webpack_require__(1462),TIMELINE_START:__webpack_require__(1463),TIMELINE_UPDATE:__webpack_require__(1464),
TWEEN_ACTIVE:__webpack_require__(1465),TWEEN_COMPLETE:__webpack_require__(1466),TWEEN_LOOP:__webpack_require__(1467),TWEEN_REPEAT:__webpack_require__(1468),TWEEN_START:__webpack_require__(1469),TWEEN_STOP:__webpack_require__(1470),TWEEN_UPDATE:__webpack_require__(1471),TWEEN_YOYO:__webpack_require__(1472)}},function(module,exports){module.exports=function(target,index,key,getEnd,getStart,getActive,ease,delay,duration,yoyo,hold,repeat,repeatDelay,flipX,flipY){return{target:target,index:index,key:key,
getActiveValue:getActive,getEndValue:getEnd,getStartValue:getStart,ease:ease,duration:0,totalDuration:0,delay:0,yoyo:yoyo,hold:0,repeat:0,repeatDelay:0,flipX:flipX,flipY:flipY,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:delay,duration:duration,hold:hold,repeat:repeat,repeatDelay:repeatDelay},state:0}}},function(module,exports,__webpack_require__){var MathWrap=__webpack_require__(66);module.exports=function(angle){return MathWrap(angle,-Math.PI,Math.PI)}},
function(module,exports,__webpack_require__){var Wrap=__webpack_require__(66);module.exports=function(angle){return Wrap(angle,-180,180)}},function(module,exports,__webpack_require__){var Sleeping={};module.exports=Sleeping;var Events=__webpack_require__(268);(function(){Sleeping._motionWakeThreshold=.18;Sleeping._motionSleepThreshold=.08;Sleeping._minBias=.9;Sleeping.update=function(bodies,timeScale){timeScale*=timeScale*timeScale;for(var i=0;i<bodies.length;i++){var body=bodies[i],motion=body.speed*
body.speed+body.angularSpeed*body.angularSpeed;0!==body.force.x||0!==body.force.y?Sleeping.set(body,!1):(body.motion=Sleeping._minBias*Math.min(body.motion,motion)+(1-Sleeping._minBias)*Math.max(body.motion,motion),0<body.sleepThreshold&&body.motion<Sleeping._motionSleepThreshold*timeScale?(body.sleepCounter+=1,body.sleepCounter>=body.sleepThreshold&&Sleeping.set(body,!0)):0<body.sleepCounter&&--body.sleepCounter)}};Sleeping.afterCollisions=function(pairs,timeScale){timeScale*=timeScale*timeScale;
for(var i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive){var collision=pair.collision;pair=collision.bodyA.parent;var bodyB=collision.bodyB.parent;pair.isSleeping&&bodyB.isSleeping||pair.isStatic||bodyB.isStatic||!pair.isSleeping&&!bodyB.isSleeping||(collision=pair.isSleeping&&!pair.isStatic?pair:bodyB,pair=collision===pair?bodyB:pair,!collision.isStatic&&pair.motion>Sleeping._motionWakeThreshold*timeScale&&Sleeping.set(collision,!1))}}};Sleeping.set=function(body,isSleeping){var wasSleeping=
body.isSleeping;isSleeping?(body.isSleeping=!0,body.sleepCounter=body.sleepThreshold,body.positionImpulse.x=0,body.positionImpulse.y=0,body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.anglePrev=body.angle,body.speed=0,body.angularSpeed=0,body.motion=0,wasSleeping||Events.trigger(body,"sleepStart")):(body.isSleeping=!1,body.sleepCounter=0,wasSleeping&&Events.trigger(body,"sleepEnd"))}})()},function(module,exports,__webpack_require__){var Events={};module.exports=Events;
var Common=__webpack_require__(50);(function(){Events.on=function(object,eventNames,callback){eventNames=eventNames.split(" ");for(var name,i=0;i<eventNames.length;i++)name=eventNames[i],object.events=object.events||{},object.events[name]=object.events[name]||[],object.events[name].push(callback);return callback};Events.off=function(object,eventNames,callback){if(eventNames){"function"===typeof eventNames&&(callback=eventNames,eventNames=Common.keys(object.events).join(" "));eventNames=eventNames.split(" ");
for(var i=0;i<eventNames.length;i++){var callbacks=object.events[eventNames[i]],newCallbacks=[];if(callback&&callbacks)for(var j=0;j<callbacks.length;j++)callbacks[j]!==callback&&newCallbacks.push(callbacks[j]);object.events[eventNames[i]]=newCallbacks}}else object.events={}};Events.trigger=function(object,eventNames,event){var callbacks,events=object.events;if(events&&0<Common.keys(events).length){event||(event={});eventNames=eventNames.split(" ");for(var i=0;i<eventNames.length;i++){var name=eventNames[i];
if(callbacks=events[name]){var eventClone=Common.clone(event,!1);eventClone.name=name;eventClone.source=object;for(name=0;name<callbacks.length;name++)callbacks[name].apply(object,[eventClone])}}}}})()},function(module,exports,__webpack_require__){module.exports={AlignTo:__webpack_require__(599),Angle:__webpack_require__(600),Call:__webpack_require__(601),GetFirst:__webpack_require__(602),GetLast:__webpack_require__(603),GridAlign:__webpack_require__(604),IncAlpha:__webpack_require__(654),IncX:__webpack_require__(655),
IncXY:__webpack_require__(656),IncY:__webpack_require__(657),PlaceOnCircle:__webpack_require__(658),PlaceOnEllipse:__webpack_require__(659),PlaceOnLine:__webpack_require__(660),PlaceOnRectangle:__webpack_require__(661),PlaceOnTriangle:__webpack_require__(662),PlayAnimation:__webpack_require__(663),PropertyValueInc:__webpack_require__(44),PropertyValueSet:__webpack_require__(27),RandomCircle:__webpack_require__(664),RandomEllipse:__webpack_require__(665),RandomLine:__webpack_require__(666),RandomRectangle:__webpack_require__(667),
RandomTriangle:__webpack_require__(668),Rotate:__webpack_require__(669),RotateAround:__webpack_require__(670),RotateAroundDistance:__webpack_require__(671),ScaleX:__webpack_require__(672),ScaleXY:__webpack_require__(673),ScaleY:__webpack_require__(674),SetAlpha:__webpack_require__(675),SetBlendMode:__webpack_require__(676),SetDepth:__webpack_require__(677),SetHitArea:__webpack_require__(678),SetOrigin:__webpack_require__(679),SetRotation:__webpack_require__(680),SetScale:__webpack_require__(681),
SetScaleX:__webpack_require__(682),SetScaleY:__webpack_require__(683),SetScrollFactor:__webpack_require__(684),SetScrollFactorX:__webpack_require__(685),SetScrollFactorY:__webpack_require__(686),SetTint:__webpack_require__(687),SetVisible:__webpack_require__(688),SetX:__webpack_require__(689),SetXY:__webpack_require__(690),SetY:__webpack_require__(691),ShiftPosition:__webpack_require__(692),Shuffle:__webpack_require__(693),SmootherStep:__webpack_require__(694),SmoothStep:__webpack_require__(695),
Spread:__webpack_require__(696),ToggleVisible:__webpack_require__(697),WrapInRectangle:__webpack_require__(698)}},function(module,exports,__webpack_require__){exports=__webpack_require__(122);var AlignToMap=[];AlignToMap[exports.BOTTOM_CENTER]=__webpack_require__(271);AlignToMap[exports.BOTTOM_LEFT]=__webpack_require__(272);AlignToMap[exports.BOTTOM_RIGHT]=__webpack_require__(273);AlignToMap[exports.LEFT_BOTTOM]=__webpack_require__(274);AlignToMap[exports.LEFT_CENTER]=__webpack_require__(275);AlignToMap[exports.LEFT_TOP]=
__webpack_require__(276);AlignToMap[exports.RIGHT_BOTTOM]=__webpack_require__(277);AlignToMap[exports.RIGHT_CENTER]=__webpack_require__(278);AlignToMap[exports.RIGHT_TOP]=__webpack_require__(279);AlignToMap[exports.TOP_CENTER]=__webpack_require__(280);AlignToMap[exports.TOP_LEFT]=__webpack_require__(281);AlignToMap[exports.TOP_RIGHT]=__webpack_require__(282);module.exports=function(child,alignTo,position,offsetX,offsetY){return AlignToMap[position](child,alignTo,offsetX,offsetY)}},function(module,
exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetCenterX=__webpack_require__(84),SetCenterX=__webpack_require__(85),SetTop=__webpack_require__(51);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetCenterX(gameObject,GetCenterX(alignTo)+offsetX);SetTop(gameObject,GetBottom(alignTo)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetLeft=__webpack_require__(41),
SetLeft=__webpack_require__(52),SetTop=__webpack_require__(51);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetLeft(gameObject,GetLeft(alignTo)-offsetX);SetTop(gameObject,GetBottom(alignTo)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetRight=__webpack_require__(42),SetRight=__webpack_require__(53),SetTop=__webpack_require__(51);module.exports=function(gameObject,
alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetRight(gameObject,GetRight(alignTo)+offsetX);SetTop(gameObject,GetBottom(alignTo)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetLeft=__webpack_require__(41),SetBottom=__webpack_require__(54),SetRight=__webpack_require__(53);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetRight(gameObject,
GetLeft(alignTo)-offsetX);SetBottom(gameObject,GetBottom(alignTo)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetCenterY=__webpack_require__(86),GetLeft=__webpack_require__(41),SetCenterY=__webpack_require__(87),SetRight=__webpack_require__(53);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetRight(gameObject,GetLeft(alignTo)-offsetX);SetCenterY(gameObject,GetCenterY(alignTo)+offsetY);return gameObject}},
function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(41),GetTop=__webpack_require__(43),SetRight=__webpack_require__(53),SetTop=__webpack_require__(51);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetRight(gameObject,GetLeft(alignTo)-offsetX);SetTop(gameObject,GetTop(alignTo)-offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetRight=__webpack_require__(42),
SetBottom=__webpack_require__(54),SetLeft=__webpack_require__(52);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetLeft(gameObject,GetRight(alignTo)+offsetX);SetBottom(gameObject,GetBottom(alignTo)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetCenterY=__webpack_require__(86),GetRight=__webpack_require__(42),SetCenterY=__webpack_require__(87),SetLeft=__webpack_require__(52);module.exports=function(gameObject,
alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetLeft(gameObject,GetRight(alignTo)+offsetX);SetCenterY(gameObject,GetCenterY(alignTo)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetRight=__webpack_require__(42),GetTop=__webpack_require__(43),SetLeft=__webpack_require__(52),SetTop=__webpack_require__(51);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetLeft(gameObject,
GetRight(alignTo)+offsetX);SetTop(gameObject,GetTop(alignTo)-offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetCenterX=__webpack_require__(84),GetTop=__webpack_require__(43),SetBottom=__webpack_require__(54),SetCenterX=__webpack_require__(85);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetCenterX(gameObject,GetCenterX(alignTo)+offsetX);SetBottom(gameObject,GetTop(alignTo)-offsetY);return gameObject}},
function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(41),GetTop=__webpack_require__(43),SetBottom=__webpack_require__(54),SetLeft=__webpack_require__(52);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetLeft(gameObject,GetLeft(alignTo)-offsetX);SetBottom(gameObject,GetTop(alignTo)-offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetRight=__webpack_require__(42),GetTop=__webpack_require__(43),
SetBottom=__webpack_require__(54),SetRight=__webpack_require__(53);module.exports=function(gameObject,alignTo,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetRight(gameObject,GetRight(alignTo)+offsetX);SetBottom(gameObject,GetTop(alignTo)-offsetY);return gameObject}},function(module,exports,__webpack_require__){exports=__webpack_require__(122);var AlignInMap=[];AlignInMap[exports.BOTTOM_CENTER]=__webpack_require__(284);AlignInMap[exports.BOTTOM_LEFT]=__webpack_require__(285);
AlignInMap[exports.BOTTOM_RIGHT]=__webpack_require__(286);AlignInMap[exports.CENTER]=__webpack_require__(287);AlignInMap[exports.LEFT_CENTER]=__webpack_require__(289);AlignInMap[exports.RIGHT_CENTER]=__webpack_require__(290);AlignInMap[exports.TOP_CENTER]=__webpack_require__(291);AlignInMap[exports.TOP_LEFT]=__webpack_require__(292);AlignInMap[exports.TOP_RIGHT]=__webpack_require__(293);AlignInMap[exports.LEFT_BOTTOM]=AlignInMap[exports.BOTTOM_LEFT];AlignInMap[exports.LEFT_TOP]=AlignInMap[exports.TOP_LEFT];
AlignInMap[exports.RIGHT_BOTTOM]=AlignInMap[exports.BOTTOM_RIGHT];AlignInMap[exports.RIGHT_TOP]=AlignInMap[exports.TOP_RIGHT];module.exports=function(child,alignIn,position,offsetX,offsetY){return AlignInMap[position](child,alignIn,offsetX,offsetY)}},function(module,exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetCenterX=__webpack_require__(84),SetBottom=__webpack_require__(54),SetCenterX=__webpack_require__(85);module.exports=function(gameObject,alignIn,offsetX,offsetY){void 0===
offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetCenterX(gameObject,GetCenterX(alignIn)+offsetX);SetBottom(gameObject,GetBottom(alignIn)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetLeft=__webpack_require__(41),SetBottom=__webpack_require__(54),SetLeft=__webpack_require__(52);module.exports=function(gameObject,alignIn,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetLeft(gameObject,GetLeft(alignIn)-
offsetX);SetBottom(gameObject,GetBottom(alignIn)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetRight=__webpack_require__(42),SetBottom=__webpack_require__(54),SetRight=__webpack_require__(53);module.exports=function(gameObject,alignIn,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetRight(gameObject,GetRight(alignIn)+offsetX);SetBottom(gameObject,GetBottom(alignIn)+offsetY);return gameObject}},function(module,
exports,__webpack_require__){var CenterOn=__webpack_require__(288),GetCenterX=__webpack_require__(84),GetCenterY=__webpack_require__(86);module.exports=function(gameObject,alignIn,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);CenterOn(gameObject,GetCenterX(alignIn)+offsetX,GetCenterY(alignIn)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var SetCenterX=__webpack_require__(85),SetCenterY=__webpack_require__(87);module.exports=function(gameObject,
x,y){SetCenterX(gameObject,x);return SetCenterY(gameObject,y)}},function(module,exports,__webpack_require__){var GetCenterY=__webpack_require__(86),GetLeft=__webpack_require__(41),SetCenterY=__webpack_require__(87),SetLeft=__webpack_require__(52);module.exports=function(gameObject,alignIn,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetLeft(gameObject,GetLeft(alignIn)-offsetX);SetCenterY(gameObject,GetCenterY(alignIn)+offsetY);return gameObject}},function(module,exports,
__webpack_require__){var GetCenterY=__webpack_require__(86),GetRight=__webpack_require__(42),SetCenterY=__webpack_require__(87),SetRight=__webpack_require__(53);module.exports=function(gameObject,alignIn,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetRight(gameObject,GetRight(alignIn)+offsetX);SetCenterY(gameObject,GetCenterY(alignIn)+offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetCenterX=__webpack_require__(84),GetTop=__webpack_require__(43),
SetCenterX=__webpack_require__(85),SetTop=__webpack_require__(51);module.exports=function(gameObject,alignIn,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetCenterX(gameObject,GetCenterX(alignIn)+offsetX);SetTop(gameObject,GetTop(alignIn)-offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(41),GetTop=__webpack_require__(43),SetLeft=__webpack_require__(52),SetTop=__webpack_require__(51);module.exports=function(gameObject,
alignIn,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetLeft(gameObject,GetLeft(alignIn)-offsetX);SetTop(gameObject,GetTop(alignIn)-offsetY);return gameObject}},function(module,exports,__webpack_require__){var GetRight=__webpack_require__(42),GetTop=__webpack_require__(43),SetRight=__webpack_require__(53),SetTop=__webpack_require__(51);module.exports=function(gameObject,alignIn,offsetX,offsetY){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);SetRight(gameObject,
GetRight(alignIn)+offsetX);SetTop(gameObject,GetTop(alignIn)-offsetY);return gameObject}},function(module,exports,__webpack_require__){var CircumferencePoint=__webpack_require__(165),FromPercent=__webpack_require__(95),MATH_CONST=__webpack_require__(14),Point=__webpack_require__(4);module.exports=function(circle,position,out){void 0===out&&(out=new Point);position=FromPercent(position,0,MATH_CONST.PI2);return CircumferencePoint(circle,position,out)}},function(module,exports,__webpack_require__){var Circumference=
__webpack_require__(296),CircumferencePoint=__webpack_require__(165),FromPercent=__webpack_require__(95),MATH_CONST=__webpack_require__(14);module.exports=function(circle,quantity,stepRate,out){void 0===out&&(out=[]);!quantity&&0<stepRate&&(quantity=Circumference(circle)/stepRate);for(stepRate=0;stepRate<quantity;stepRate++){var angle=FromPercent(stepRate/quantity,0,MATH_CONST.PI2);out.push(CircumferencePoint(circle,angle))}return out}},function(module,exports){module.exports=function(circle){return 2*
Math.PI*circle.radius}},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);module.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(value){void 0===value&&(value=1);this.alpha=value;return this},alpha:{get:function(){return this._alpha},set:function(value){this._alpha=value=Clamp(value,0,1);this.renderFlags=0===value?this.renderFlags&-3:this.renderFlags|2}}}},function(module,exports,__webpack_require__){var BlendModes=__webpack_require__(34);
module.exports={_blendMode:BlendModes.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(value){"string"===typeof value&&(value=BlendModes[value]);value|=0;-1<=value&&(this._blendMode=value)}},setBlendMode:function(value){this.blendMode=value;return this}}},function(module,exports){module.exports={_depth:0,depth:{get:function(){return this._depth},set:function(value){this.displayList&&this.displayList.queueDepthSort();this._depth=value}},setDepth:function(value){void 0===value&&
(value=0);this.depth=value;return this}}},function(module,exports,__webpack_require__){var GetPoint=__webpack_require__(167),Perimeter=__webpack_require__(128);module.exports=function(rectangle,quantity,stepRate,out){void 0===out&&(out=[]);!quantity&&0<stepRate&&(quantity=Perimeter(rectangle)/stepRate);for(stepRate=0;stepRate<quantity;stepRate++)out.push(GetPoint(rectangle,stepRate/quantity));return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=
function(line,position,out){void 0===out&&(out=new Point);out.x=line.x1+(line.x2-line.x1)*position;out.y=line.y1+(line.y2-line.y1)*position;return out}},function(module,exports){module.exports=function(point,x,y,angle){var c=Math.cos(angle);angle=Math.sin(angle);var tx=point.x-x,ty=point.y-y;point.x=tx*c-ty*angle+x;point.y=tx*angle+ty*c+y;return point}},function(module,exports,__webpack_require__){var BitmapMask=__webpack_require__(304),GeometryMask=__webpack_require__(305);module.exports={mask:null,
setMask:function(mask){this.mask=mask;return this},clearMask:function(destroyMask){void 0===destroyMask&&(destroyMask=!1);destroyMask&&this.mask&&this.mask.destroy();this.mask=null;return this},createBitmapMask:function(renderable){void 0===renderable&&(this.texture||this.shader)&&(renderable=this);return new BitmapMask(this.scene,renderable)},createGeometryMask:function(graphics){void 0===graphics&&"Graphics"===this.type&&(graphics=this);return new GeometryMask(this.scene,graphics)}}},function(module,
exports,__webpack_require__){exports=__webpack_require__(0);var GameEvents=__webpack_require__(22),RenderEvents=__webpack_require__(88);__webpack_require__=new exports({initialize:function(scene,renderable){var renderer=scene.sys.renderer;this.renderer=renderer;this.bitmapMask=renderable;this.mainTexture=this.maskTexture=null;this.dirty=!0;this.maskFramebuffer=this.mainFramebuffer=null;this.isStencil=this.invertAlpha=!1;this.createMask();scene.sys.game.events.on(GameEvents.CONTEXT_RESTORED,this.createMask,
this);renderer.on(RenderEvents.RESIZE,this.createMask,this)},createMask:function(){var renderer=this.renderer;if(renderer.gl){this.mainTexture&&this.clearMask();var width=renderer.width,height=renderer.height,gl=renderer.gl,wrap=0===(width&width-1)&&0===(height&height-1)?gl.REPEAT:gl.CLAMP_TO_EDGE,filter=gl.LINEAR;this.mainTexture=renderer.createTexture2D(0,filter,filter,wrap,wrap,gl.RGBA,null,width,height);this.maskTexture=renderer.createTexture2D(0,filter,filter,wrap,wrap,gl.RGBA,null,width,height);
this.mainFramebuffer=renderer.createFramebuffer(width,height,this.mainTexture,!0);this.maskFramebuffer=renderer.createFramebuffer(width,height,this.maskTexture,!0)}},clearMask:function(){var renderer=this.renderer;renderer.gl&&this.mainTexture&&(renderer.deleteTexture(this.mainTexture),renderer.deleteTexture(this.maskTexture),renderer.deleteFramebuffer(this.mainFramebuffer),renderer.deleteFramebuffer(this.maskFramebuffer),this.maskFramebuffer=this.mainFramebuffer=this.maskTexture=this.mainTexture=
null)},setBitmap:function(renderable){this.bitmapMask=renderable},preRenderWebGL:function(renderer,maskedObject,camera){renderer.pipelines.BITMAPMASK_PIPELINE.beginMask(this,maskedObject,camera)},postRenderWebGL:function(renderer,camera){renderer.pipelines.BITMAPMASK_PIPELINE.endMask(this,camera)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask();this.renderer.off(RenderEvents.RESIZE,this.createMask,this);this.renderer=this.prevFramebuffer=this.bitmapMask=
null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(scene,graphicsGeometry){this.geometryMask=graphicsGeometry;this.invertAlpha=!1;this.isStencil=!0;this.level=0},setShape:function(graphicsGeometry){this.geometryMask=graphicsGeometry;return this},setInvertAlpha:function(value){void 0===value&&(value=!0);this.invertAlpha=value;return this},preRenderWebGL:function(renderer,child,camera){child=renderer.gl;
renderer.flush();0===renderer.maskStack.length&&(child.enable(child.STENCIL_TEST),child.clear(child.STENCIL_BUFFER_BIT),renderer.maskCount=0);renderer.currentCameraMask.mask!==this&&(renderer.currentMask.mask=this);renderer.maskStack.push({mask:this,camera:camera});this.applyStencil(renderer,camera,!0);renderer.maskCount++},applyStencil:function(renderer,camera,inc){var gl=renderer.gl,geometryMask=this.geometryMask,level=renderer.maskCount;gl.colorMask(!1,!1,!1,!1);inc?(gl.stencilFunc(gl.EQUAL,level,
255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)):(gl.stencilFunc(gl.EQUAL,level+1,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR));geometryMask.renderWebGL(renderer,geometryMask,camera);renderer.flush();gl.colorMask(!0,!0,!0,!0);gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP);inc?this.invertAlpha?gl.stencilFunc(gl.NOTEQUAL,level+1,255):gl.stencilFunc(gl.EQUAL,level+1,255):this.invertAlpha?gl.stencilFunc(gl.NOTEQUAL,level,255):gl.stencilFunc(gl.EQUAL,level,255)},postRenderWebGL:function(renderer){var gl=renderer.gl;renderer.maskStack.pop();
renderer.maskCount--;renderer.flush();var current=renderer.currentMask;0===renderer.maskStack.length?(current.mask=null,gl.disable(gl.STENCIL_TEST)):(gl=renderer.maskStack[renderer.maskStack.length-1],gl.mask.applyStencil(renderer,gl.camera,!1),renderer.currentCameraMask.mask!==gl.mask?(current.mask=gl.mask,current.camera=gl.camera):current.mask=null)},preRenderCanvas:function(renderer,mask,camera){mask=this.geometryMask;renderer.currentContext.save();mask.renderCanvas(renderer,mask,camera,null,null,
!0);renderer.currentContext.clip()},postRenderCanvas:function(renderer){renderer.currentContext.restore()},destroy:function(){this.geometryMask=null}});module.exports=exports},function(module,exports){module.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(x,y){void 0===y&&(y=x);this.scrollFactorX=x;this.scrollFactorY=y;return this}}},function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(14),TransformMatrix=__webpack_require__(25),TransformXY=__webpack_require__(174),
WrapAngle=__webpack_require__(265),WrapAngleDegrees=__webpack_require__(266),Vector2=__webpack_require__(3);module.exports={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(value){this._scaleY=this._scaleX=value;this.renderFlags=0===value?this.renderFlags&-5:this.renderFlags|4}},scaleX:{get:function(){return this._scaleX},set:function(value){this._scaleX=value;this.renderFlags=0===value?this.renderFlags&-5:this.renderFlags|4}},
scaleY:{get:function(){return this._scaleY},set:function(value){this._scaleY=value;this.renderFlags=0===value?this.renderFlags&-5:this.renderFlags|4}},angle:{get:function(){return WrapAngleDegrees(this._rotation*MATH_CONST.RAD_TO_DEG)},set:function(value){this.rotation=WrapAngleDegrees(value)*MATH_CONST.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(value){this._rotation=WrapAngle(value)}},setPosition:function(x,y,z,w){void 0===x&&(x=0);void 0===y&&(y=x);void 0===z&&(z=
0);void 0===w&&(w=0);this.x=x;this.y=y;this.z=z;this.w=w;return this},copyPosition:function(source){void 0!==source.x&&(this.x=source.x);void 0!==source.y&&(this.y=source.y);void 0!==source.z&&(this.z=source.z);void 0!==source.w&&(this.w=source.w);return this},setRandomPosition:function(x,y,width,height){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=this.scene.sys.scale.width);void 0===height&&(height=this.scene.sys.scale.height);this.x=x+Math.random()*width;this.y=y+Math.random()*height;
return this},setRotation:function(radians){void 0===radians&&(radians=0);this.rotation=radians;return this},setAngle:function(degrees){void 0===degrees&&(degrees=0);this.angle=degrees;return this},setScale:function(x,y){void 0===x&&(x=1);void 0===y&&(y=x);this.scaleX=x;this.scaleY=y;return this},setX:function(value){void 0===value&&(value=0);this.x=value;return this},setY:function(value){void 0===value&&(value=0);this.y=value;return this},setZ:function(value){void 0===value&&(value=0);this.z=value;
return this},setW:function(value){void 0===value&&(value=0);this.w=value;return this},getLocalTransformMatrix:function(tempMatrix){void 0===tempMatrix&&(tempMatrix=new TransformMatrix);return tempMatrix.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(tempMatrix,parentMatrix){void 0===tempMatrix&&(tempMatrix=new TransformMatrix);void 0===parentMatrix&&(parentMatrix=new TransformMatrix);var parent=this.parentContainer;if(!parent)return this.getLocalTransformMatrix(tempMatrix);
for(tempMatrix.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);parent;)parentMatrix.applyITRS(parent.x,parent.y,parent._rotation,parent._scaleX,parent._scaleY),parentMatrix.multiply(tempMatrix,tempMatrix),parent=parent.parentContainer;return tempMatrix},getLocalPoint:function(x,y,point,camera){point||(point=new Vector2);camera||(camera=this.scene.sys.cameras.main);var csx=camera.scrollX;camera=camera.scrollY;x=x+csx*this.scrollFactorX-csx;y=y+camera*this.scrollFactorY-camera;this.parentContainer?
this.getWorldTransformMatrix().applyInverse(x,y,point):TransformXY(x,y,this.x,this.y,this.rotation,this.scaleX,this.scaleY,point);this._originComponent&&(point.x+=this._displayOriginX,point.y+=this._displayOriginY);return point},getParentRotation:function(){for(var rotation=0,parent=this.parentContainer;parent;)rotation+=parent.rotation,parent=parent.parentContainer;return rotation}}},function(module,exports){module.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(value){value?
(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(value){this.visible=value;return this}}},function(module,exports,__webpack_require__){module.exports={CHANGE_DATA:__webpack_require__(636),CHANGE_DATA_KEY:__webpack_require__(637),DESTROY:__webpack_require__(638),REMOVE_DATA:__webpack_require__(639),SET_DATA:__webpack_require__(640)}},function(module,exports,__webpack_require__){var Perimeter=__webpack_require__(128),Point=__webpack_require__(4);module.exports=
function(rect,step,quantity,out){void 0===out&&(out=[]);if(!step&&!quantity)return out;step?quantity=Math.round(Perimeter(rect)/step):step=Perimeter(rect)/quantity;for(var x=rect.x,y=rect.y,face=0,i=0;i<quantity;i++)switch(out.push(new Point(x,y)),face){case 0:x+=step;x>=rect.right&&(face=1,y+=x-rect.right,x=rect.right);break;case 1:y+=step;y>=rect.bottom&&(face=2,x-=y-rect.bottom,y=rect.bottom);break;case 2:x-=step;x<=rect.left&&(face=3,y-=rect.left-x,x=rect.left);break;case 3:y-=step,y<=rect.top&&
(face=0,y=rect.top)}return out}},function(module,exports){module.exports=function(line,stepRate,results){void 0===stepRate&&(stepRate=1);void 0===results&&(results=[]);var x1=Math.round(line.x1),y1=Math.round(line.y1),x2=Math.round(line.x2);line=Math.round(line.y2);var dx=Math.abs(x2-x1),dy=Math.abs(line-y1),sx=x1<x2?1:-1,sy=y1<line?1:-1,err=dx-dy;results.push({x:x1,y:y1});for(var i=1;x1!==x2||y1!==line;){var e2=err<<1;e2>-dy&&(err-=dy,x1+=sx);e2<dx&&(err+=dx,y1+=sy);0===i%stepRate&&results.push({x:x1,
y:y1});i++}return results}},function(module,exports){module.exports=function(value,array,key){if(!array.length)return NaN;if(1===array.length)return array[0];var i=1;if(key){if(value<array[0][key])return array[0];for(;array[i][key]<value;)i++}else for(;array[i]<value;)i++;i>array.length&&(i=array.length);if(key){var low=array[i-1][key];key=array[i][key];return key-value<=value-low?array[i]:array[i-1]}low=array[i-1];key=array[i];return key-value<=value-low?key:low}},function(module,exports,__webpack_require__){exports=
new (__webpack_require__(0))({initialize:function(textureKey,textureFrame,index,frame,isKeyFrame){void 0===isKeyFrame&&(isKeyFrame=!1);this.textureKey=textureKey;this.textureFrame=textureFrame;this.index=index;this.frame=frame;this.isLast=this.isFirst=!1;this.nextFrame=this.prevFrame=null;this.progress=this.duration=0;this.isKeyFrame=isKeyFrame},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});
module.exports=exports},function(module,exports){module.exports=function(array){var re=/\D/g;array.sort(function(a,b){return parseInt(a.replace(re,""),10)-parseInt(b.replace(re,""),10)});return array}},function(module,exports,__webpack_require__){var Animation=__webpack_require__(182);exports=__webpack_require__(0);var CustomMap=__webpack_require__(99),EventEmitter=__webpack_require__(9),Events=__webpack_require__(130),GameEvents=__webpack_require__(22),GetFastValue=__webpack_require__(2),GetValue=
__webpack_require__(6),Pad=__webpack_require__(183),NumberArray=__webpack_require__(316);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(game){EventEmitter.call(this);this.game=game;this.textureManager=null;this.globalTimeScale=1;this.anims=new CustomMap;this.mixes=new CustomMap;this.paused=!1;this.name="AnimationManager";game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures;this.game.events.once(GameEvents.DESTROY,this.destroy,
this)},addMix:function(animA,animB,delay){var anims=this.anims,mixes=this.mixes;animA="string"===typeof animA?animA:animA.key;animB="string"===typeof animB?animB:animB.key;anims.has(animA)&&anims.has(animB)&&((anims=mixes.get(animA))||(anims={}),anims[animB]=delay,mixes.set(animA,anims));return this},removeMix:function(animA,animB){var mixes=this.mixes,keyA="string"===typeof animA?animA:animA.key;if(animA=mixes.get(keyA))animB?(animB="string"===typeof animB?animB:animB.key,animA.hasOwnProperty(animB)&&
delete animA[animB]):animB||mixes.delete(keyA);return this},getMix:function(animA,animB){animB="string"===typeof animB?animB:animB.key;return(animA=this.mixes.get("string"===typeof animA?animA:animA.key))&&animA.hasOwnProperty(animB)?animA[animB]:0},add:function(key,animation){if(this.anims.has(key))return console.warn("Animation key exists: "+key),this;animation.key=key;this.anims.set(key,animation);this.emit(Events.ADD_ANIMATION,key,animation);return this},exists:function(key){return this.anims.has(key)},
createFromAseprite:function(key,tags){var output=[],data=this.game.cache.json.get(key);if(!data)return output;var _this=this,meta=GetValue(data,"meta",null),frames=GetValue(data,"frames",null);meta&&frames&&GetValue(meta,"frameTags",[]).forEach(function(tag){var animFrames=[],name=GetFastValue(tag,"name",null),from=GetFastValue(tag,"from",0),to=GetFastValue(tag,"to",0);tag=GetFastValue(tag,"direction","forward");if(name&&(!tags||tags&&-1<tags.indexOf(name))){for(var tempFrames=[],minDuration=Number.MAX_SAFE_INTEGER;from<=
to;from++){var frameKey=from.toString(),frame=frames[frameKey];frame&&(frame=GetFastValue(frame,"duration",Number.MAX_SAFE_INTEGER),frame<minDuration&&(minDuration=frame),tempFrames.push({frame:frameKey,duration:frame}))}tempFrames.forEach(function(entry){animFrames.push({key:key,frame:entry.frame,duration:minDuration-entry.duration})});to=minDuration*animFrames.length;"reverse"===tag&&(animFrames=animFrames.reverse());(name=_this.create({key:name,frames:animFrames,duration:to,yoyo:"pingpong"===tag}))&&
output.push(name)}});return output},create:function(config){var key=config.key,anim=!1;key&&(anim=this.get(key),anim||(anim=new Animation(this,key,config),this.anims.set(key,anim),this.emit(Events.ADD_ANIMATION,key,anim)));return anim},fromJSON:function(data,clearCurrentAnimations){void 0===clearCurrentAnimations&&(clearCurrentAnimations=!1);clearCurrentAnimations&&this.anims.clear();"string"===typeof data&&(data=JSON.parse(data));clearCurrentAnimations=[];if(data.hasOwnProperty("anims")&&Array.isArray(data.anims)){for(var i=
0;i<data.anims.length;i++)clearCurrentAnimations.push(this.create(data.anims[i]));data.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=data.globalTimeScale)}else data.hasOwnProperty("key")&&"frame"===data.type&&clearCurrentAnimations.push(this.create(data));return clearCurrentAnimations},generateFrameNames:function(key,config){var prefix=GetValue(config,"prefix",""),start=GetValue(config,"start",0),end=GetValue(config,"end",0),suffix=GetValue(config,"suffix",""),zeroPad=GetValue(config,"zeroPad",
0),out=GetValue(config,"outputArray",[]),frames=GetValue(config,"frames",!1),texture=this.textureManager.get(key);if(!texture)return out;if(config)for(frames||(frames=NumberArray(start,end)),config=0;config<frames.length;config++)start=prefix+Pad(frames[config],zeroPad,"0",1)+suffix,texture.has(start)?out.push({key:key,frame:start}):console.warn("generateFrameNames: Frame missing: "+start+" from texture: "+key);else for(frames=texture.getFrameNames(),config=0;config<frames.length;config++)out.push({key:key,
frame:frames[config]});return out},generateFrameNumbers:function(key,config){var start=GetValue(config,"start",0),end=GetValue(config,"end",-1),first=GetValue(config,"first",!1),out=GetValue(config,"outputArray",[]);config=GetValue(config,"frames",!1);var texture=this.textureManager.get(key);if(!texture)return out;first&&texture.has(first)&&out.push({key:key,frame:first});config||(-1===end&&(end=texture.frameTotal-2),config=NumberArray(start,end));for(start=0;start<config.length;start++)texture.has(config[start])?
out.push({key:key,frame:config[start]}):console.warn("generateFrameNumbers: Frame "+start+" missing from texture: "+key);return out},get:function(key){return this.anims.get(key)},pauseAll:function(){this.paused||(this.paused=!0,this.emit(Events.PAUSE_ALL));return this},play:function(key,children){Array.isArray(children)||(children=[children]);for(var i=0;i<children.length;i++)children[i].anims.play(key);return this},staggerPlay:function(key,children,stagger,staggerFirst){void 0===stagger&&(stagger=
0);void 0===staggerFirst&&(staggerFirst=!0);Array.isArray(children)||(children=[children]);var len=children.length;staggerFirst||len--;for(staggerFirst=0;staggerFirst<children.length;staggerFirst++)children[staggerFirst].anims.playAfterDelay(key,0>stagger?Math.abs(stagger)*(len-staggerFirst):stagger*staggerFirst);return this},remove:function(key){var anim=this.get(key);anim&&(this.emit(Events.REMOVE_ANIMATION,key,anim),this.anims.delete(key),this.removeMix(key));return anim},resumeAll:function(){this.paused&&
(this.paused=!1,this.emit(Events.RESUME_ALL));return this},toJSON:function(key){var output={anims:[],globalTimeScale:this.globalTimeScale};void 0!==key&&""!==key?output.anims.push(this.anims.get(key).toJSON()):this.anims.each(function(animationKey,animation){output.anims.push(animation.toJSON())});return output},destroy:function(){this.anims.clear();this.mixes.clear();this.game=this.textureManager=null}});module.exports=__webpack_require__},function(module,exports){module.exports=function(start,end,
prefix,suffix){var result=[],asString=!1;if(prefix||suffix)asString=!0,prefix||(prefix=""),suffix||(suffix="");if(end<start)for(;start>=end;start--)asString?result.push(prefix+start.toString()+suffix):result.push(start);else for(;start<=end;start++)asString?result.push(prefix+start.toString()+suffix):result.push(start);return result}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CustomMap=__webpack_require__(99),EventEmitter=__webpack_require__(9),Events=__webpack_require__(318);
__webpack_require__=new exports({initialize:function(){this.entries=new CustomMap;this.events=new EventEmitter},add:function(key,data){this.entries.set(key,data);this.events.emit(Events.ADD,this,key,data);return this},has:function(key){return this.entries.has(key)},exists:function(key){return this.entries.has(key)},get:function(key){return this.entries.get(key)},remove:function(key){var entry=this.get(key);entry&&(this.entries.delete(key),this.events.emit(Events.REMOVE,this,key,entry.data));return this},
getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear();this.events.removeAllListeners();this.events=this.entries=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={ADD:__webpack_require__(712),REMOVE:__webpack_require__(713)}},function(module,exports,__webpack_require__){var BaseCache=__webpack_require__(317);exports=__webpack_require__(0);var GameEvents=__webpack_require__(22);__webpack_require__=new exports({initialize:function(game){this.game=
game;this.binary=new BaseCache;this.bitmapFont=new BaseCache;this.json=new BaseCache;this.physics=new BaseCache;this.shader=new BaseCache;this.audio=new BaseCache;this.video=new BaseCache;this.text=new BaseCache;this.html=new BaseCache;this.obj=new BaseCache;this.tilemap=new BaseCache;this.xml=new BaseCache;this.custom={};this.game.events.once(GameEvents.DESTROY,this.destroy,this)},addCustom:function(key){this.custom.hasOwnProperty(key)||(this.custom[key]=new BaseCache);return this.custom[key]},destroy:function(){for(var keys=
"binary bitmapFont json physics shader audio video text html obj tilemap xml".split(" "),i=0;i<keys.length;i++)this[keys[i]].destroy(),this[keys[i]]=null;for(var key in this.custom)this.custom[key].destroy();this.game=this.custom=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var BaseCamera=__webpack_require__(131),CenterOn=__webpack_require__(187),Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Components=__webpack_require__(11),Effects=
__webpack_require__(327),Events=__webpack_require__(36),Linear=__webpack_require__(133),Rectangle=__webpack_require__(10),Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:BaseCamera,Mixins:[Components.Flip,Components.Tint,Components.Pipeline],initialize:function(x,y,width,height){BaseCamera.call(this,x,y,width,height);this.postPipelines=[];this.pipelineData={};this.inputEnabled=!0;this.fadeEffect=new Effects.Fade(this);this.flashEffect=new Effects.Flash(this);this.shakeEffect=
new Effects.Shake(this);this.panEffect=new Effects.Pan(this);this.rotateToEffect=new Effects.RotateTo(this);this.zoomEffect=new Effects.Zoom(this);this.lerp=new Vector2(1,1);this.followOffset=new Vector2;this._follow=this.deadzone=null},setDeadzone:function(width,height){if(void 0===width)this.deadzone=null;else{this.deadzone?(this.deadzone.width=width,this.deadzone.height=height):this.deadzone=new Rectangle(0,0,width,height);if(this._follow){width=this.width/2;height=this.height/2;var fx=this._follow.x-
this.followOffset.x,fy=this._follow.y-this.followOffset.y;this.midPoint.set(fx,fy);this.scrollX=fx-width;this.scrollY=fy-height}CenterOn(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(duration,red,green,blue,callback,context){return this.fadeEffect.start(!1,duration,red,green,blue,!0,callback,context)},fadeOut:function(duration,red,green,blue,callback,context){return this.fadeEffect.start(!0,duration,red,green,blue,!0,callback,context)},fadeFrom:function(duration,red,
green,blue,force,callback,context){return this.fadeEffect.start(!1,duration,red,green,blue,force,callback,context)},fade:function(duration,red,green,blue,force,callback,context){return this.fadeEffect.start(!0,duration,red,green,blue,force,callback,context)},flash:function(duration,red,green,blue,force,callback,context){return this.flashEffect.start(duration,red,green,blue,force,callback,context)},shake:function(duration,intensity,force,callback,context){return this.shakeEffect.start(duration,intensity,
force,callback,context)},pan:function(x,y,duration,ease,force,callback,context){return this.panEffect.start(x,y,duration,ease,force,callback,context)},rotateTo:function(radians,shortestPath,duration,ease,force,callback,context){return this.rotateToEffect.start(radians,shortestPath,duration,ease,force,callback,context)},zoomTo:function(zoom,duration,ease,force,callback,context){return this.zoomEffect.start(zoom,duration,ease,force,callback,context)},preRender:function(){this.renderList.length=0;var width=
this.width,height=this.height,halfWidth=.5*width,halfHeight=.5*height,zoom=this.zoom,matrix=this.matrix,originX=width*this.originX,originY=height*this.originY,follow=this._follow,deadzone=this.deadzone,sx=this.scrollX,sy=this.scrollY;deadzone&&CenterOn(deadzone,this.midPoint.x,this.midPoint.y);var emitFollowEvent=!1;if(follow&&!this.panEffect.isRunning){emitFollowEvent=follow.x-this.followOffset.x;var fy=follow.y-this.followOffset.y;deadzone?(emitFollowEvent<deadzone.x?sx=Linear(sx,sx-(deadzone.x-
emitFollowEvent),this.lerp.x):emitFollowEvent>deadzone.right&&(sx=Linear(sx,sx+(emitFollowEvent-deadzone.right),this.lerp.x)),fy<deadzone.y?sy=Linear(sy,sy-(deadzone.y-fy),this.lerp.y):fy>deadzone.bottom&&(sy=Linear(sy,sy+(fy-deadzone.bottom),this.lerp.y))):(sx=Linear(sx,emitFollowEvent-originX,this.lerp.x),sy=Linear(sy,fy-originY,this.lerp.y));emitFollowEvent=!0}this.useBounds&&(sx=this.clampX(sx),sy=this.clampY(sy));this.roundPixels&&(originX=Math.round(originX),originY=Math.round(originY),sx=Math.round(sx),
sy=Math.round(sy));this.scrollX=sx;this.scrollY=sy;halfWidth=sx+halfWidth;halfHeight=sy+halfHeight;this.midPoint.set(halfWidth,halfHeight);width/=zoom;height/=zoom;sy=halfWidth-width/2;halfHeight-=height/2;this.roundPixels&&(sy=Math.round(sy),halfHeight=Math.round(halfHeight));this.worldView.setTo(sy,halfHeight,width,height);matrix.applyITRS(this.x+originX,this.y+originY,this.rotation,zoom,zoom);matrix.translate(-originX,-originY);this.shakeEffect.preRender();emitFollowEvent&&this.emit(Events.FOLLOW_UPDATE,
this,follow)},setLerp:function(x,y){void 0===x&&(x=1);void 0===y&&(y=x);this.lerp.set(x,y);return this},setFollowOffset:function(x,y){void 0===x&&(x=0);void 0===y&&(y=0);this.followOffset.set(x,y);return this},startFollow:function(target,roundPixels,lerpX,lerpY,offsetX,offsetY){void 0===roundPixels&&(roundPixels=!1);void 0===lerpX&&(lerpX=1);void 0===lerpY&&(lerpY=lerpX);void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=offsetX);this._follow=target;this.roundPixels=roundPixels;lerpX=Clamp(lerpX,
0,1);lerpY=Clamp(lerpY,0,1);this.lerp.set(lerpX,lerpY);this.followOffset.set(offsetX,offsetY);roundPixels=this.width/2;lerpX=this.height/2;offsetX=target.x-offsetX;target=target.y-offsetY;this.midPoint.set(offsetX,target);this.scrollX=offsetX-roundPixels;this.scrollY=target-lerpX;this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY));return this},stopFollow:function(){this._follow=null;return this},resetFX:function(){this.rotateToEffect.reset();this.panEffect.reset();
this.shakeEffect.reset();this.flashEffect.reset();this.fadeEffect.reset();return this},update:function(time,delta){this.visible&&(this.rotateToEffect.update(time,delta),this.panEffect.update(time,delta),this.zoomEffect.update(time,delta),this.shakeEffect.update(time,delta),this.flashEffect.update(time,delta),this.fadeEffect.update(time,delta))},destroy:function(){this.resetFX();BaseCamera.prototype.destroy.call(this);this.deadzone=this._follow=null}});module.exports=__webpack_require__},function(module,
exports,__webpack_require__){var Color=__webpack_require__(37);module.exports=function(hex){var color=new Color;hex=hex.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(m,r,g,b){return r+r+g+g+b+b});var result=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);if(result){hex=parseInt(result[1],16);var g$jscomp$0=parseInt(result[2],16);result=parseInt(result[3],16);color.setTo(hex,g$jscomp$0,result)}return color}},function(module,exports){module.exports=function(red,green,blue,
alpha){return alpha<<24|red<<16|green<<8|blue}},function(module,exports){module.exports=function(r,g,b,out){void 0===out&&(out={h:0,s:0,v:0});r/=255;g/=255;b/=255;var min=Math.min(r,g,b),max=Math.max(r,g,b),d=max-min,h=0,s=0===max?0:d/max;max!==min&&(max===r?h=(g-b)/d+(g<b?6:0):max===g?h=(b-r)/d+2:max===b&&(h=(r-g)/d+4),h/=6);out.hasOwnProperty("_h")?(out._h=h,out._s=s,out._v=max):(out.h=h,out.s=s,out.v=max);return out}},function(module,exports){module.exports=function(color){return 16777215<color?
{a:color>>>24,r:color>>16&255,g:color>>8&255,b:color&255}:{a:255,r:color>>16&255,g:color>>8&255,b:color&255}}},function(module,exports,__webpack_require__){var Color=__webpack_require__(37);module.exports=function(input){return new Color(input.r,input.g,input.b,input.a)}},function(module,exports,__webpack_require__){var Color=__webpack_require__(37);module.exports=function(rgb){var color=new Color,result=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(rgb.toLowerCase());
if(result){rgb=parseInt(result[1],10);var g=parseInt(result[2],10),b=parseInt(result[3],10);result=void 0!==result[4]?parseFloat(result[4]):1;color.setTo(rgb,g,b,255*result)}return color}},function(module,exports,__webpack_require__){module.exports={Fade:__webpack_require__(737),Flash:__webpack_require__(738),Pan:__webpack_require__(739),Shake:__webpack_require__(772),RotateTo:__webpack_require__(773),Zoom:__webpack_require__(774)}},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(740),
Out:__webpack_require__(741),InOut:__webpack_require__(742)}},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(743),Out:__webpack_require__(744),InOut:__webpack_require__(745)}},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(746),Out:__webpack_require__(747),InOut:__webpack_require__(748)}},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(749),Out:__webpack_require__(750),InOut:__webpack_require__(751)}},
function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(752),Out:__webpack_require__(753),InOut:__webpack_require__(754)}},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(755),Out:__webpack_require__(756),InOut:__webpack_require__(757)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(758)},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(759),Out:__webpack_require__(760),
InOut:__webpack_require__(761)}},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(762),Out:__webpack_require__(763),InOut:__webpack_require__(764)}},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(765),Out:__webpack_require__(766),InOut:__webpack_require__(767)}},function(module,exports,__webpack_require__){module.exports={In:__webpack_require__(768),Out:__webpack_require__(769),InOut:__webpack_require__(770)}},function(module,
exports,__webpack_require__){module.exports=__webpack_require__(771)},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(32),Device=__webpack_require__(341),GetFastValue=__webpack_require__(2),GetValue=__webpack_require__(6),IsPlainObject=__webpack_require__(7),PhaserMath=__webpack_require__(190),NOOP=__webpack_require__(1),DefaultPlugins=__webpack_require__(194),ValueToColor=__webpack_require__(184);__webpack_require__=new exports({initialize:function(config){void 0===
config&&(config={});this.width=GetValue(config,"width",1024);this.height=GetValue(config,"height",768);this.zoom=GetValue(config,"zoom",1);this.parent=GetValue(config,"parent",void 0);this.scaleMode=GetValue(config,"scaleMode",0);this.expandParent=GetValue(config,"expandParent",!0);this.autoRound=GetValue(config,"autoRound",!1);this.autoCenter=GetValue(config,"autoCenter",0);this.resizeInterval=GetValue(config,"resizeInterval",500);this.fullscreenTarget=GetValue(config,"fullscreenTarget",null);this.minWidth=
GetValue(config,"minWidth",0);this.maxWidth=GetValue(config,"maxWidth",0);this.minHeight=GetValue(config,"minHeight",0);this.maxHeight=GetValue(config,"maxHeight",0);var scaleConfig=GetValue(config,"scale",null);scaleConfig&&(this.width=GetValue(scaleConfig,"width",this.width),this.height=GetValue(scaleConfig,"height",this.height),this.zoom=GetValue(scaleConfig,"zoom",this.zoom),this.parent=GetValue(scaleConfig,"parent",this.parent),this.scaleMode=GetValue(scaleConfig,"mode",this.scaleMode),this.expandParent=
GetValue(scaleConfig,"expandParent",this.expandParent),this.autoRound=GetValue(scaleConfig,"autoRound",this.autoRound),this.autoCenter=GetValue(scaleConfig,"autoCenter",this.autoCenter),this.resizeInterval=GetValue(scaleConfig,"resizeInterval",this.resizeInterval),this.fullscreenTarget=GetValue(scaleConfig,"fullscreenTarget",this.fullscreenTarget),this.minWidth=GetValue(scaleConfig,"min.width",this.minWidth),this.maxWidth=GetValue(scaleConfig,"max.width",this.maxWidth),this.minHeight=GetValue(scaleConfig,
"min.height",this.minHeight),this.maxHeight=GetValue(scaleConfig,"max.height",this.maxHeight));this.renderType=GetValue(config,"type",CONST.AUTO);this.canvas=GetValue(config,"canvas",null);this.context=GetValue(config,"context",null);this.canvasStyle=GetValue(config,"canvasStyle",null);this.customEnvironment=GetValue(config,"customEnvironment",!1);this.sceneConfig=GetValue(config,"scene",null);this.seed=GetValue(config,"seed",[(Date.now()*Math.random()).toString()]);PhaserMath.RND=new PhaserMath.RandomDataGenerator(this.seed);
this.gameTitle=GetValue(config,"title","");this.gameURL=GetValue(config,"url","https://phaser.io");this.gameVersion=GetValue(config,"version","");this.autoFocus=GetValue(config,"autoFocus",!0);this.domCreateContainer=GetValue(config,"dom.createContainer",!1);this.domBehindCanvas=GetValue(config,"dom.behindCanvas",!1);this.inputKeyboard=GetValue(config,"input.keyboard",!0);this.inputKeyboardEventTarget=GetValue(config,"input.keyboard.target",window);this.inputKeyboardCapture=GetValue(config,"input.keyboard.capture",
[]);this.inputMouse=GetValue(config,"input.mouse",!0);this.inputMouseEventTarget=GetValue(config,"input.mouse.target",null);this.inputMousePreventDefaultDown=GetValue(config,"input.mouse.preventDefaultDown",!0);this.inputMousePreventDefaultUp=GetValue(config,"input.mouse.preventDefaultUp",!0);this.inputMousePreventDefaultMove=GetValue(config,"input.mouse.preventDefaultMove",!0);this.inputMousePreventDefaultWheel=GetValue(config,"input.mouse.preventDefaultWheel",!0);this.inputTouch=GetValue(config,
"input.touch",Device.input.touch);this.inputTouchEventTarget=GetValue(config,"input.touch.target",null);this.inputTouchCapture=GetValue(config,"input.touch.capture",!0);this.inputActivePointers=GetValue(config,"input.activePointers",1);this.inputSmoothFactor=GetValue(config,"input.smoothFactor",0);this.inputWindowEvents=GetValue(config,"input.windowEvents",!0);this.inputGamepad=GetValue(config,"input.gamepad",!1);this.inputGamepadEventTarget=GetValue(config,"input.gamepad.target",window);this.disableContextMenu=
GetValue(config,"disableContextMenu",!1);this.audio=GetValue(config,"audio",{});this.hideBanner=!1===GetValue(config,"banner",null);this.hidePhaser=GetValue(config,"banner.hidePhaser",!1);this.bannerTextColor=GetValue(config,"banner.text","#ffffff");this.bannerBackgroundColor=GetValue(config,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]);""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0);this.fps=GetValue(config,"fps",null);scaleConfig=GetValue(config,"render",config);
this.pipeline=GetValue(scaleConfig,"pipeline",null);this.antialias=GetValue(scaleConfig,"antialias",!0);this.antialiasGL=GetValue(scaleConfig,"antialiasGL",!0);this.mipmapFilter=GetValue(scaleConfig,"mipmapFilter","LINEAR");this.desynchronized=GetValue(scaleConfig,"desynchronized",!1);this.roundPixels=GetValue(scaleConfig,"roundPixels",!1);if(this.pixelArt=GetValue(scaleConfig,"pixelArt",1!==this.zoom))this.antialiasGL=this.antialias=!1,this.roundPixels=!0;this.transparent=GetValue(scaleConfig,"transparent",
!1);this.clearBeforeRender=GetValue(scaleConfig,"clearBeforeRender",!0);this.premultipliedAlpha=GetValue(scaleConfig,"premultipliedAlpha",!0);this.failIfMajorPerformanceCaveat=GetValue(scaleConfig,"failIfMajorPerformanceCaveat",!1);this.powerPreference=GetValue(scaleConfig,"powerPreference","default");this.batchSize=GetValue(scaleConfig,"batchSize",4096);this.maxTextures=GetValue(scaleConfig,"maxTextures",-1);this.maxLights=GetValue(scaleConfig,"maxLights",10);scaleConfig=GetValue(config,"backgroundColor",
0);this.backgroundColor=ValueToColor(scaleConfig);this.transparent&&(this.backgroundColor=ValueToColor(0),this.backgroundColor.alpha=0);this.preBoot=GetValue(config,"callbacks.preBoot",NOOP);this.postBoot=GetValue(config,"callbacks.postBoot",NOOP);this.physics=GetValue(config,"physics",{});this.defaultPhysicsSystem=GetValue(this.physics,"default",!1);this.loaderBaseURL=GetValue(config,"loader.baseURL","");this.loaderPath=GetValue(config,"loader.path","");this.loaderMaxParallelDownloads=GetValue(config,
"loader.maxParallelDownloads",Device.os.android?6:32);this.loaderCrossOrigin=GetValue(config,"loader.crossOrigin",void 0);this.loaderResponseType=GetValue(config,"loader.responseType","");this.loaderAsync=GetValue(config,"loader.async",!0);this.loaderUser=GetValue(config,"loader.user","");this.loaderPassword=GetValue(config,"loader.password","");this.loaderTimeout=GetValue(config,"loader.timeout",0);this.loaderWithCredentials=GetValue(config,"loader.withCredentials",!1);this.installGlobalPlugins=
[];this.installScenePlugins=[];scaleConfig=GetValue(config,"plugins",null);var defaultPlugins=DefaultPlugins.DefaultScene;scaleConfig&&(Array.isArray(scaleConfig)?this.defaultPlugins=scaleConfig:IsPlainObject(scaleConfig)&&(this.installGlobalPlugins=GetFastValue(scaleConfig,"global",[]),this.installScenePlugins=GetFastValue(scaleConfig,"scene",[]),Array.isArray(scaleConfig.default)?defaultPlugins=scaleConfig.default:Array.isArray(scaleConfig.defaultMerge)&&(defaultPlugins=defaultPlugins.concat(scaleConfig.defaultMerge))));
this.defaultPlugins=defaultPlugins;this.defaultImage=GetValue(config,"images.default","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg\x3d\x3d");this.missingImage=GetValue(config,"images.missing","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg\x3d\x3d");
this.whiteImage=GetValue(config,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC");window&&(window.FORCE_WEBGL?this.renderType=CONST.WEBGL:window.FORCE_CANVAS&&(this.renderType=CONST.CANVAS))}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={os:__webpack_require__(102),browser:__webpack_require__(134),features:__webpack_require__(188),
input:__webpack_require__(805),audio:__webpack_require__(806),video:__webpack_require__(807),fullscreen:__webpack_require__(808),canvasFeatures:__webpack_require__(342)}},function(module,exports,__webpack_require__){function checkBlendMode(){var magenta=new Image;magenta.onload=function(){var yellow=new Image;yellow.onload=function(){var context=CanvasPool.create(yellow,6,1).getContext("2d");context.globalCompositeOperation="multiply";context.drawImage(magenta,0,0);context.drawImage(yellow,2,0);if(!context.getImageData(2,
0,1,1))return!1;context=context.getImageData(2,0,1,1).data;CanvasPool.remove(yellow);CanvasFeatures.supportNewBlendModes=255===context[0]&&0===context[1]&&0===context[2]};yellow.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX//wCKxvRFAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg\x3d\x3d"};magenta.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/AP804Oa6AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg\x3d\x3d";return!1}function checkInverseAlpha(){var context=
CanvasPool.create(this,2,1).getContext("2d");context.fillStyle="rgba(10, 20, 30, 0.5)";context.fillRect(0,0,1,1);var s1=context.getImageData(0,0,1,1);if(null===s1)return!1;context.putImageData(s1,1,0);context=context.getImageData(1,0,1,1);return context.data[0]===s1.data[0]&&context.data[1]===s1.data[1]&&context.data[2]===s1.data[2]&&context.data[3]===s1.data[3]}var CanvasPool=__webpack_require__(31),CanvasFeatures={supportInverseAlpha:!1,supportNewBlendModes:!1};void 0!==document&&(CanvasFeatures.supportNewBlendModes=
checkBlendMode(),CanvasFeatures.supportInverseAlpha=checkInverseAlpha());module.exports=CanvasFeatures},function(module,exports){module.exports=function(x1,y1,x2,y2){return Math.atan2(y2-y1,x2-x1)}},function(module,exports){module.exports=function(point1,point2){return Math.atan2(point2.y-point1.y,point2.x-point1.x)}},function(module,exports){module.exports=function(angle){angle%=2*Math.PI;return 0<=angle?angle:angle+2*Math.PI}},function(module,exports){module.exports=function(a,b){var dx=a.x-b.x;
a=a.y-b.y;return Math.sqrt(dx*dx+a*a)}},function(module,exports){module.exports=function(x1,y1,x2,y2){x1-=x2;y1-=y2;return x1*x1+y1*y1}},function(module,exports){module.exports=function(a,b,epsilon){void 0===epsilon&&(epsilon=1E-4);return a>b-epsilon}},function(module,exports){module.exports=function(a,b,epsilon){void 0===epsilon&&(epsilon=1E-4);return a<b+epsilon}},function(module,exports,__webpack_require__){var Factorial=__webpack_require__(351);module.exports=function(n,i){return Factorial(n)/
Factorial(i)/Factorial(n-i)}},function(module,exports){module.exports=function(value){if(0===value)return 1;for(var res=value;--value;)res*=value;return res}},function(module,exports){module.exports=function(t,p0,p1,p2,p3){var k=1-t,k$jscomp$0=1-t;return k*k*k*p0+3*k$jscomp$0*k$jscomp$0*t*p1+3*(1-t)*t*t*p2+t*t*t*p3}},function(module,exports){module.exports=function(t,p0,p1,p2){var k=1-t;return k*k*p0+2*(1-t)*t*p1+t*t*p2}},function(module,exports,__webpack_require__){var SmoothStep=__webpack_require__(181);
module.exports=function(t,min,max){return min+(max-min)*SmoothStep(t,0,1)}},function(module,exports){module.exports=function(value){return 1<<Math.ceil(Math.log(value)/.6931471805599453)}},function(module,exports){module.exports=function(point,angle){var x=point.x,y=point.y;point.x=x*Math.cos(angle)-y*Math.sin(angle);point.y=x*Math.sin(angle)+y*Math.cos(angle);return point}},function(module,exports){module.exports=function(value){return 0<value?Math.ceil(value):Math.floor(value)}},function(module,
exports,__webpack_require__){var Matrix3=new (__webpack_require__(0))({initialize:function(m){this.val=new Float32Array(9);m?this.copy(m):this.identity()},clone:function(){return new Matrix3(this)},set:function(src){return this.copy(src)},copy:function(src){var out=this.val;src=src.val;out[0]=src[0];out[1]=src[1];out[2]=src[2];out[3]=src[3];out[4]=src[4];out[5]=src[5];out[6]=src[6];out[7]=src[7];out[8]=src[8];return this},fromMat4:function(m){m=m.val;var out=this.val;out[0]=m[0];out[1]=m[1];out[2]=
m[2];out[3]=m[4];out[4]=m[5];out[5]=m[6];out[6]=m[8];out[7]=m[9];out[8]=m[10];return this},fromArray:function(a){var out=this.val;out[0]=a[0];out[1]=a[1];out[2]=a[2];out[3]=a[3];out[4]=a[4];out[5]=a[5];out[6]=a[6];out[7]=a[7];out[8]=a[8];return this},identity:function(){var out=this.val;out[0]=1;out[1]=0;out[2]=0;out[3]=0;out[4]=1;out[5]=0;out[6]=0;out[7]=0;out[8]=1;return this},transpose:function(){var a=this.val,a01=a[1],a02=a[2],a12=a[5];a[1]=a[3];a[2]=a[6];a[3]=a01;a[5]=a[7];a[6]=a02;a[7]=a12;
return this},invert:function(){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;if(!det)return null;det=1/det;a[0]=b01*det;a[1]=(-a22*a01+a02*a21)*det;a[2]=(a12*a01-a02*a11)*det;a[3]=b11*det;a[4]=(a22*a00-a02*a20)*det;a[5]=(-a12*a00+a02*a10)*det;a[6]=b21*det;a[7]=(-a21*a00+a01*a20)*det;a[8]=(a11*a00-a01*a10)*det;return this},adjoint:function(){var a=this.val,a00=
a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];a[0]=a11*a22-a12*a21;a[1]=a02*a21-a01*a22;a[2]=a01*a12-a02*a11;a[3]=a12*a20-a10*a22;a[4]=a00*a22-a02*a20;a[5]=a02*a10-a00*a12;a[6]=a10*a21-a11*a20;a[7]=a01*a20-a00*a21;a[8]=a00*a11-a01*a10;return this},determinant:function(){var a=this.val,a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a[0]*(a22*a11-a12*a21)+a[1]*(-a22*a10+a12*a20)+a[2]*(a21*a10-a11*a20)},multiply:function(src){var a=this.val,a00=a[0],a01=a[1],
a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b=src.val;src=b[0];var b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7];b=b[8];a[0]=src*a00+b01*a10+b02*a20;a[1]=src*a01+b01*a11+b02*a21;a[2]=src*a02+b01*a12+b02*a22;a[3]=b10*a00+b11*a10+b12*a20;a[4]=b10*a01+b11*a11+b12*a21;a[5]=b10*a02+b11*a12+b12*a22;a[6]=b20*a00+b21*a10+b*a20;a[7]=b20*a01+b21*a11+b*a21;a[8]=b20*a02+b21*a12+b*a22;return this},translate:function(v){var a=this.val,x=v.x;v=v.y;a[6]=x*a[0]+v*a[3]+a[6];a[7]=
x*a[1]+v*a[4]+a[7];a[8]=x*a[2]+v*a[5]+a[8];return this},rotate:function(rad){var a=this.val,a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],s=Math.sin(rad);rad=Math.cos(rad);a[0]=rad*a00+s*a10;a[1]=rad*a01+s*a11;a[2]=rad*a02+s*a12;a[3]=rad*a10-s*a00;a[4]=rad*a11-s*a01;a[5]=rad*a12-s*a02;return this},scale:function(v){var a=this.val,x=v.x;v=v.y;a[0]*=x;a[1]*=x;a[2]*=x;a[3]*=v;a[4]*=v;a[5]*=v;return this},fromQuat:function(q){var x=q.x,y=q.y,z=q.z,w=q.w,x2=x+x,y2=y+y,z2=z+z;q=x*x2;var xy=x*y2;
x*=z2;var yy=y*y2;y*=z2;z*=z2;x2*=w;y2*=w;w*=z2;z2=this.val;z2[0]=1-(yy+z);z2[3]=xy+w;z2[6]=x-y2;z2[1]=xy-w;z2[4]=1-(q+z);z2[7]=y+x2;z2[2]=x+y2;z2[5]=y-x2;z2[8]=1-(q+yy);return this},normalFromMat4:function(m){var a=m.val;m=this.val;var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14];a=a[15];var b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-
a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30;a20=a20*a-a23*a30;var b09=a21*a32-a22*a31;a21=a21*a-a23*a31;a22=a22*a-a23*a32;a23=b00*a22-b01*a21+b02*b09+b03*a20-b04*b07+b05*b06;if(!a23)return null;a23=1/a23;m[0]=(a11*a22-a12*a21+a13*b09)*a23;m[1]=(a12*a20-a10*a22-a13*b07)*a23;m[2]=(a10*a21-a11*a20+a13*b06)*a23;m[3]=(a02*a21-a01*a22-a03*b09)*a23;m[4]=(a00*a22-a02*a20+a03*b07)*a23;m[5]=(a01*a20-a00*a21-a03*b06)*a23;m[6]=(a31*b05-a32*b04+a*b03)*a23;m[7]=(a32*b02-a30*b05-a*b01)*a23;m[8]=(a30*b04-a31*
b02+a*b00)*a23;return this}});module.exports=Matrix3},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Matrix3=__webpack_require__(358),NOOP=__webpack_require__(1);__webpack_require__=__webpack_require__(38);var siNext=new Int8Array([1,2,0]),tmp=new Float32Array([0,0,0]),xUnitVec3=new __webpack_require__(1,0,0),yUnitVec3=new __webpack_require__(0,1,0),tmpvec=new __webpack_require__,tmpMat3=new Matrix3;__webpack_require__=new exports({initialize:function(x,y,z,w){this.onChangeCallback=
NOOP;this.set(x,y,z,w)},x:{get:function(){return this._x},set:function(value){this._x=value;this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(value){this._y=value;this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(value){this._z=value;this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(value){this._w=value;this.onChangeCallback(this)}},copy:function(src){return this.set(src)},set:function(x,y,z,w,update){void 0===update&&
(update=!0);"object"===typeof x?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=y||0,this._z=z||0,this._w=w||0);if(update)this.onChangeCallback(this);return this},add:function(v){this._x+=v.x;this._y+=v.y;this._z+=v.z;this._w+=v.w;this.onChangeCallback(this);return this},subtract:function(v){this._x-=v.x;this._y-=v.y;this._z-=v.z;this._w-=v.w;this.onChangeCallback(this);return this},scale:function(scale){this._x*=scale;this._y*=scale;this._z*=scale;this._w*=scale;
this.onChangeCallback(this);return this},length:function(){var x=this.x,y=this.y,z=this.z,w=this.w;return Math.sqrt(x*x+y*y+z*z+w*w)},lengthSq:function(){var x=this.x,y=this.y,z=this.z,w=this.w;return x*x+y*y+z*z+w*w},normalize:function(){var x=this.x,y=this.y,z=this.z,w=this.w,len=x*x+y*y+z*z+w*w;0<len&&(len=1/Math.sqrt(len),this._x=x*len,this._y=y*len,this._z=z*len,this._w=w*len);this.onChangeCallback(this);return this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,
t){void 0===t&&(t=0);var ax=this.x,ay=this.y,az=this.z,aw=this.w;return this.set(ax+t*(v.x-ax),ay+t*(v.y-ay),az+t*(v.z-az),aw+t*(v.w-aw))},rotationTo:function(a,b){var dot=a.x*b.x+a.y*b.y+a.z*b.z;if(-.999999>dot)return 1E-6>tmpvec.copy(xUnitVec3).cross(a).length()&&tmpvec.copy(yUnitVec3).cross(a),tmpvec.normalize(),this.setAxisAngle(tmpvec,Math.PI);if(.999999<dot)return this.set(0,0,0,1);tmpvec.copy(a).cross(b);this._x=tmpvec.x;this._y=tmpvec.y;this._z=tmpvec.z;this._w=1+dot;return this.normalize()},
setAxes:function(view,right,up){var m=tmpMat3.val;m[0]=right.x;m[3]=right.y;m[6]=right.z;m[1]=up.x;m[4]=up.y;m[7]=up.z;m[2]=-view.x;m[5]=-view.y;m[8]=-view.z;return this.fromMat3(tmpMat3).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(axis,rad){rad*=.5;var s=Math.sin(rad);return this.set(s*axis.x,s*axis.y,s*axis.z,Math.cos(rad))},multiply:function(b){var ax=this.x,ay=this.y,az=this.z,aw=this.w,bx=b.x,by=b.y,bz=b.z;b=b.w;return this.set(ax*b+aw*bx+ay*bz-az*by,ay*b+
aw*by+az*bx-ax*bz,az*b+aw*bz+ax*by-ay*bx,aw*b-ax*bx-ay*by-az*bz)},slerp:function(b,t){var ax=this.x,ay=this.y,az=this.z,aw=this.w,bx=b.x,by=b.y,bz=b.z;b=b.w;var cosom=ax*bx+ay*by+az*bz+aw*b;0>cosom&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,b=-b);var scale0=1-t,scale1=t;1E-6<1-cosom&&(cosom=Math.acos(cosom),scale1=Math.sin(cosom),scale0=Math.sin((1-t)*cosom)/scale1,scale1=Math.sin(t*cosom)/scale1);return this.set(scale0*ax+scale1*bx,scale0*ay+scale1*by,scale0*az+scale1*bz,scale0*aw+scale1*b)},invert:function(){var a0=
this.x,a1=this.y,a2=this.z,a3=this.w,dot=a0*a0+a1*a1+a2*a2+a3*a3;dot=dot?1/dot:0;return this.set(-a0*dot,-a1*dot,-a2*dot,a3*dot)},conjugate:function(){this._x=-this.x;this._y=-this.y;this._z=-this.z;this.onChangeCallback(this);return this},rotateX:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,bx=Math.sin(rad);rad=Math.cos(rad);return this.set(ax*rad+aw*bx,ay*rad+az*bx,az*rad-ay*bx,aw*rad-ax*bx)},rotateY:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,by=Math.sin(rad);
rad=Math.cos(rad);return this.set(ax*rad-az*by,ay*rad+aw*by,az*rad+ax*by,aw*rad-ay*by)},rotateZ:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,bz=Math.sin(rad);rad=Math.cos(rad);return this.set(ax*rad+ay*bz,ay*rad-ax*bz,az*rad+aw*bz,aw*rad-az*bz)},calculateW:function(){var x=this.x,y=this.y,z=this.z;this.w=-Math.sqrt(1-x*x-y*y-z*z);return this},setFromEuler:function(euler,update){var x=euler.x/2,y=euler.y/2,z=euler.z/2,c1=Math.cos(x),c2=Math.cos(y),c3=Math.cos(z);x=Math.sin(x);
y=Math.sin(y);z=Math.sin(z);switch(euler.order){case "XYZ":this.set(x*c2*c3+c1*y*z,c1*y*c3-x*c2*z,c1*c2*z+x*y*c3,c1*c2*c3-x*y*z,update);break;case "YXZ":this.set(x*c2*c3+c1*y*z,c1*y*c3-x*c2*z,c1*c2*z-x*y*c3,c1*c2*c3+x*y*z,update);break;case "ZXY":this.set(x*c2*c3-c1*y*z,c1*y*c3+x*c2*z,c1*c2*z+x*y*c3,c1*c2*c3-x*y*z,update);break;case "ZYX":this.set(x*c2*c3-c1*y*z,c1*y*c3+x*c2*z,c1*c2*z-x*y*c3,c1*c2*c3+x*y*z,update);break;case "YZX":this.set(x*c2*c3+c1*y*z,c1*y*c3+x*c2*z,c1*c2*z-x*y*c3,c1*c2*c3-x*y*
z,update);break;case "XZY":this.set(x*c2*c3-c1*y*z,c1*y*c3-x*c2*z,c1*c2*z+x*y*c3,c1*c2*c3+x*y*z,update)}return this},setFromRotationMatrix:function(mat4){var m=mat4.val,m11=m[0];mat4=m[4];var m13=m[8],m21=m[1],m22=m[5],m23=m[9],m31=m[2],m32=m[6];m=m[10];var trace=m11+m22+m;0<trace?(m11=.5/Math.sqrt(trace+1),this.set((m32-m23)*m11,(m13-m31)*m11,(m21-mat4)*m11,.25/m11)):m11>m22&&m11>m?(m11=2*Math.sqrt(1+m11-m22-m),this.set(.25*m11,(mat4+m21)/m11,(m13+m31)/m11,(m32-m23)/m11)):m22>m?(m11=2*Math.sqrt(1+
m22-m11-m),this.set((mat4+m21)/m11,.25*m11,(m23+m32)/m11,(m13-m31)/m11)):(m11=2*Math.sqrt(1+m-m11-m22),this.set((m13+m31)/m11,(m23+m32)/m11,.25*m11,(m21-mat4)/m11));return this},fromMat3:function(mat){mat=mat.val;var fTrace=mat[0]+mat[4]+mat[8];if(0<fTrace)fTrace=Math.sqrt(fTrace+1),this.w=.5*fTrace,fTrace=.5/fTrace,this._x=(mat[7]-mat[5])*fTrace,this._y=(mat[2]-mat[6])*fTrace,this._z=(mat[3]-mat[1])*fTrace;else{var i=0;mat[4]>mat[0]&&(i=1);mat[8]>mat[3*i+i]&&(i=2);var j=siNext[i],k=siNext[j];fTrace=
Math.sqrt(mat[3*i+i]-mat[3*j+j]-mat[3*k+k]+1);tmp[i]=.5*fTrace;fTrace=.5/fTrace;tmp[j]=(mat[3*j+i]+mat[3*i+j])*fTrace;tmp[k]=(mat[3*k+i]+mat[3*i+k])*fTrace;this._x=tmp[0];this._y=tmp[1];this._z=tmp[2];this._w=(mat[3*k+j]-mat[3*j+k])*fTrace}this.onChangeCallback(this);return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CanvasInterpolation=__webpack_require__(361),CanvasPool=__webpack_require__(31),CONST=__webpack_require__(32),Features=__webpack_require__(188);
module.exports=function(game){var config=game.config;if((config.customEnvironment||config.canvas)&&config.renderType===CONST.AUTO)throw Error("Must set explicit renderType in custom environment");if(!config.customEnvironment&&!config.canvas&&config.renderType!==CONST.HEADLESS)if(config.renderType===CONST.CANVAS||config.renderType!==CONST.CANVAS&&!Features.webGL)if(Features.canvas)config.renderType=CONST.CANVAS;else throw Error("Cannot create Canvas or WebGL context, aborting.");else config.renderType=
CONST.WEBGL;config.antialias||CanvasPool.disableSmoothing();var baseSize=game.scale.baseSize,width=baseSize.width;baseSize=baseSize.height;config.canvas?(game.canvas=config.canvas,game.canvas.width=width,game.canvas.height=baseSize):game.canvas=CanvasPool.create(game,width,baseSize,config.renderType);config.canvasStyle&&(game.canvas.style=config.canvasStyle);config.antialias||CanvasInterpolation.setCrisp(game.canvas);config.renderType!==CONST.HEADLESS&&(width=__webpack_require__(362),baseSize=__webpack_require__(365),
config.renderType===CONST.WEBGL?game.renderer=new baseSize(game):(game.renderer=new width(game),game.context=game.renderer.gameContext))}},function(module,exports){module.exports={setCrisp:function(canvas){"optimizeSpeed -moz-crisp-edges -o-crisp-edges -webkit-optimize-contrast optimize-contrast crisp-edges pixelated".split(" ").forEach(function(type){canvas.style["image-rendering"]=type});canvas.style.msInterpolationMode="nearest-neighbor";return canvas},setBicubic:function(canvas){canvas.style["image-rendering"]=
"auto";canvas.style.msInterpolationMode="bicubic";return canvas}}},function(module,exports,__webpack_require__){var CameraEvents=__webpack_require__(36),CanvasSnapshot=__webpack_require__(363);exports=__webpack_require__(0);var CONST=__webpack_require__(32),EventEmitter=__webpack_require__(9),Events=__webpack_require__(88),GetBlendModes=__webpack_require__(364),ScaleEvents=__webpack_require__(101),TextureEvents=__webpack_require__(103),TransformMatrix=__webpack_require__(25);__webpack_require__=new exports({Extends:EventEmitter,
initialize:function(game){EventEmitter.call(this);var gameConfig=game.config;this.config={clearBeforeRender:gameConfig.clearBeforeRender,backgroundColor:gameConfig.backgroundColor,antialias:gameConfig.antialias,roundPixels:gameConfig.roundPixels};this.game=game;this.type=CONST.CANVAS;this.height=this.width=this.drawCount=0;this.gameCanvas=game.canvas;var contextOptions={alpha:game.config.transparent,desynchronized:game.config.desynchronized};this.currentContext=this.gameContext=gameConfig.context?
gameConfig.context:this.gameCanvas.getContext("2d",contextOptions);this.antialias=game.config.antialias;this.blendModes=GetBlendModes();this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92};this._tempMatrix1=new TransformMatrix;this._tempMatrix2=new TransformMatrix;this._tempMatrix3=new TransformMatrix;this.isBooted=!1;this.init()},init:function(){this.game.textures.once(TextureEvents.READY,this.boot,this)},boot:function(){var game=this.game,baseSize=
game.scale.baseSize;this.width=baseSize.width;this.height=baseSize.height;this.isBooted=!0;game.scale.on(ScaleEvents.RESIZE,this.onResize,this);this.resize(baseSize.width,baseSize.height)},onResize:function(gameSize,baseSize){baseSize.width===this.width&&baseSize.height===this.height||this.resize(baseSize.width,baseSize.height)},resize:function(width,height){this.width=width;this.height=height;this.emit(Events.RESIZE,width,height)},resetTransform:function(){this.currentContext.setTransform(1,0,0,
1,0,0)},setBlendMode:function(blendMode){this.currentContext.globalCompositeOperation=blendMode;return this},setContext:function(ctx){this.currentContext=ctx?ctx:this.gameContext;return this},setAlpha:function(alpha){this.currentContext.globalAlpha=alpha;return this},preRender:function(){var ctx=this.gameContext,config=this.config,width=this.width,height=this.height;ctx.globalAlpha=1;ctx.globalCompositeOperation="source-over";ctx.setTransform(1,0,0,1,0,0);config.clearBeforeRender&&ctx.clearRect(0,
0,width,height);config.transparent||(ctx.fillStyle=config.backgroundColor.rgba,ctx.fillRect(0,0,width,height));ctx.save();this.drawCount=0;this.emit(Events.PRE_RENDER)},render:function(scene,children,camera){var childCount=children.length;this.emit(Events.RENDER,scene,camera);var cx=camera.x,cy=camera.y,cw=camera.width,ch=camera.height,ctx=camera.renderToTexture?camera.context:scene.sys.context;ctx.save();this.game.scene.customViewports&&(ctx.beginPath(),ctx.rect(cx,cy,cw,ch),ctx.clip());this.currentContext=
ctx;var mask=camera.mask;mask&&mask.preRenderCanvas(this,null,camera._maskCamera);camera.transparent||(ctx.fillStyle=camera.backgroundColor.rgba,ctx.fillRect(cx,cy,cw,ch));ctx.globalAlpha=camera.alpha;ctx.globalCompositeOperation="source-over";this.drawCount+=childCount;camera.renderToTexture&&camera.emit(CameraEvents.PRE_RENDER,camera);camera.matrix.copyToContext(ctx);for(cw=0;cw<childCount;cw++)ch=children[cw],ch.mask&&ch.mask.preRenderCanvas(this,ch,camera),ch.renderCanvas(this,ch,camera),ch.mask&&
ch.mask.postRenderCanvas(this,ch,camera);ctx.setTransform(1,0,0,1,0,0);ctx.globalCompositeOperation="source-over";ctx.globalAlpha=1;camera.flashEffect.postRenderCanvas(ctx);camera.fadeEffect.postRenderCanvas(ctx);camera.dirty=!1;mask&&mask.postRenderCanvas(this);ctx.restore();camera.renderToTexture&&(camera.emit(CameraEvents.POST_RENDER,camera),camera.renderToGame&&scene.sys.context.drawImage(camera.canvas,cx,cy))},postRender:function(){this.gameContext.restore();this.emit(Events.POST_RENDER);var state=
this.snapshotState;state.callback&&(CanvasSnapshot(this.gameCanvas,state),state.callback=null)},snapshotCanvas:function(canvas,callback,getPixel,x,y,width,height,type,encoderOptions){void 0===getPixel&&(getPixel=!1);this.snapshotArea(x,y,width,height,callback,type,encoderOptions);canvas=this.snapshotState;canvas.getPixel=getPixel;CanvasSnapshot(this.canvas,canvas);canvas.callback=null;return this},snapshot:function(callback,type,encoderOptions){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,
callback,type,encoderOptions)},snapshotArea:function(x,y,width,height,callback,type,encoderOptions){var state=this.snapshotState;state.callback=callback;state.type=type;state.encoder=encoderOptions;state.getPixel=!1;state.x=x;state.y=y;state.width=Math.min(width,this.gameCanvas.width);state.height=Math.min(height,this.gameCanvas.height);return this},snapshotPixel:function(x,y,callback){this.snapshotArea(x,y,1,1,callback);this.snapshotState.getPixel=!0;return this},batchSprite:function(sprite,frame,
camera,parentTransformMatrix){var alpha=camera.alpha*sprite.alpha;if(0!==alpha){var ctx=this.currentContext,camMatrix=this._tempMatrix1,spriteMatrix=this._tempMatrix2,cd=frame.canvasData,frameX=cd.x;cd=cd.y;var frameWidth=frame.cutWidth,frameHeight=frame.cutHeight,customPivot=frame.customPivot,res=frame.source.resolution,displayOriginX=sprite.displayOriginX,displayOriginY=sprite.displayOriginY,x=-displayOriginX+frame.x,y=-displayOriginY+frame.y;sprite.isCropped&&(y=sprite._crop,y.flipX===sprite.flipX&&
y.flipY===sprite.flipY||frame.updateCropUVs(y,sprite.flipX,sprite.flipY),frameWidth=y.cw,frameHeight=y.ch,frameX=y.cx,cd=y.cy,x=-displayOriginX+y.x,y=-displayOriginY+y.y,sprite.flipX&&(0<=x?x=-(x+frameWidth):0>x&&(x=Math.abs(x)-frameWidth)),sprite.flipY&&(0<=y?y=-(y+frameHeight):0>y&&(y=Math.abs(y)-frameHeight)));var flipX=1,flipY=1;sprite.flipX&&(customPivot||(x+=-frame.realWidth+2*displayOriginX),flipX=-1);sprite.flipY&&(customPivot||(y+=-frame.realHeight+2*displayOriginY),flipY=-1);spriteMatrix.applyITRS(sprite.x,
sprite.y,sprite.rotation,sprite.scaleX*flipX,sprite.scaleY*flipY);camMatrix.copyFrom(camera.matrix);parentTransformMatrix?(camMatrix.multiplyWithOffset(parentTransformMatrix,-camera.scrollX*sprite.scrollFactorX,-camera.scrollY*sprite.scrollFactorY),spriteMatrix.e=sprite.x,spriteMatrix.f=sprite.y):(spriteMatrix.e-=camera.scrollX*sprite.scrollFactorX,spriteMatrix.f-=camera.scrollY*sprite.scrollFactorY);camMatrix.multiply(spriteMatrix);ctx.save();camMatrix.setToContext(ctx);ctx.globalCompositeOperation=
this.blendModes[sprite.blendMode];ctx.globalAlpha=alpha;ctx.imageSmoothingEnabled=!(!this.antialias||frame.source.scaleMode);sprite.mask&&sprite.mask.preRenderCanvas(this,sprite,camera);ctx.drawImage(frame.source.image,frameX,cd,frameWidth,frameHeight,x,y,frameWidth/res,frameHeight/res);sprite.mask&&sprite.mask.postRenderCanvas(this,sprite,camera);ctx.restore()}},destroy:function(){this.removeAllListeners();this.gameContext=this.gameCanvas=this.game=null}});module.exports=__webpack_require__},function(module,
exports,__webpack_require__){var CanvasPool=__webpack_require__(31),Color=__webpack_require__(37),GetFastValue=__webpack_require__(2);module.exports=function(canvas,config){var callback=GetFastValue(config,"callback"),type=GetFastValue(config,"type","image/png"),encoderOptions=GetFastValue(config,"encoder",.92),x=Math.abs(Math.round(GetFastValue(config,"x",0))),y=Math.abs(Math.round(GetFastValue(config,"y",0))),width=GetFastValue(config,"width",canvas.width),height=GetFastValue(config,"height",canvas.height);
if(GetFastValue(config,"getPixel",!1))canvas=canvas.getContext("2d").getImageData(x,y,1,1).data,callback.call(null,new Color(canvas[0],canvas[1],canvas[2],canvas[3]/255));else if(0!==x||0!==y||width!==canvas.width||height!==canvas.height){var copyCanvas=CanvasPool.createWebGL(this,width,height);copyCanvas.getContext("2d").drawImage(canvas,x,y,width,height,0,0,width,height);var image1=new Image;image1.onerror=function(){callback.call(null);CanvasPool.remove(copyCanvas)};image1.onload=function(){callback.call(null,
image1);CanvasPool.remove(copyCanvas)};image1.src=copyCanvas.toDataURL(type,encoderOptions)}else{var image2=new Image;image2.onerror=function(){callback.call(null)};image2.onload=function(){callback.call(null,image2)};image2.src=canvas.toDataURL(type,encoderOptions)}}},function(module,exports,__webpack_require__){var modes=__webpack_require__(34),CanvasFeatures=__webpack_require__(342);module.exports=function(){var output=[],useNew=CanvasFeatures.supportNewBlendModes;output[modes.NORMAL]="source-over";
output[modes.ADD]="lighter";output[modes.MULTIPLY]=useNew?"multiply":"source-over";output[modes.SCREEN]=useNew?"screen":"source-over";output[modes.OVERLAY]=useNew?"overlay":"source-over";output[modes.DARKEN]=useNew?"darken":"source-over";output[modes.LIGHTEN]=useNew?"lighten":"source-over";output[modes.COLOR_DODGE]=useNew?"color-dodge":"source-over";output[modes.COLOR_BURN]=useNew?"color-burn":"source-over";output[modes.HARD_LIGHT]=useNew?"hard-light":"source-over";output[modes.SOFT_LIGHT]=useNew?
"soft-light":"source-over";output[modes.DIFFERENCE]=useNew?"difference":"source-over";output[modes.EXCLUSION]=useNew?"exclusion":"source-over";output[modes.HUE]=useNew?"hue":"source-over";output[modes.SATURATION]=useNew?"saturation":"source-over";output[modes.COLOR]=useNew?"color":"source-over";output[modes.LUMINOSITY]=useNew?"luminosity":"source-over";output[modes.ERASE]="destination-out";output[modes.SOURCE_IN]="source-in";output[modes.SOURCE_OUT]="source-out";output[modes.SOURCE_ATOP]="source-atop";
output[modes.DESTINATION_OVER]="destination-over";output[modes.DESTINATION_IN]="destination-in";output[modes.DESTINATION_OUT]="destination-out";output[modes.DESTINATION_ATOP]="destination-atop";output[modes.LIGHTER]="lighter";output[modes.COPY]="copy";output[modes.XOR]="xor";return output}},function(module,exports,__webpack_require__){var ArrayRemove=__webpack_require__(89),CameraEvents=__webpack_require__(36);exports=__webpack_require__(0);var CONST=__webpack_require__(32),EventEmitter=__webpack_require__(9),
Events=__webpack_require__(88),GameEvents=__webpack_require__(22),IsSizePowerOfTwo=__webpack_require__(136),Matrix4=__webpack_require__(67),NOOP=__webpack_require__(1),PipelineManager=__webpack_require__(366),RenderTarget=__webpack_require__(139),ScaleEvents=__webpack_require__(101),TextureEvents=__webpack_require__(103),Utils=__webpack_require__(12),WebGLSnapshot=__webpack_require__(377);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(game){EventEmitter.call(this);var gameConfig=
game.config;this.config={clearBeforeRender:gameConfig.clearBeforeRender,antialias:gameConfig.antialias,backgroundColor:gameConfig.backgroundColor,contextCreation:{alpha:gameConfig.transparent,desynchronized:gameConfig.desynchronized,depth:!1,antialias:gameConfig.antialiasGL,premultipliedAlpha:gameConfig.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:gameConfig.failIfMajorPerformanceCaveat,powerPreference:gameConfig.powerPreference},roundPixels:gameConfig.roundPixels,maxTextures:gameConfig.maxTextures,
maxTextureSize:gameConfig.maxTextureSize,batchSize:gameConfig.batchSize,maxLights:gameConfig.maxLights,mipmapFilter:gameConfig.mipmapFilter};this.game=game;this.type=CONST.WEBGL;this.pipelines=null;this.height=this.width=0;this.canvas=game.canvas;this.blendModes=[];this.contextLost=!1;this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0};this.maxTextures=this.startActiveTexture=this.currentActiveTexture=0;
this.currentFramebuffer=null;this.fboStack=[];this.currentProgram=null;this.currentBlendMode=Infinity;this.currentScissorEnabled=!1;this.currentScissor=null;this.scissorStack=[];this.contextRestoredHandler=this.contextLostHandler=NOOP;this.vaoExtension=this.instancedArraysExtension=this.supportedExtensions=this.gl=null;this.extensions={};this.glFormats=[];this.compression={ETC1:!1,PVRTC:!1,S3TC:!1};this.drawingBufferHeight=0;this.whiteTexture=this.blankTexture=null;this.maskCount=0;this.maskStack=
[];this.currentMask={mask:null,camera:null};this.currentCameraMask={mask:null,camera:null};this.glFuncMap=null;this.currentType="";this.finalType=this.nextTypeMatch=this.newType=!1;this.mipmapFilter=null;this.textureFlush=0;this.isTextureClean=!1;this.defaultScissor=[0,0,0,0];this.isBooted=!1;this.renderTarget=null;this.projectionHeight=this.projectionWidth=0;this.init(this.config)},init:function(config){var game=this.game,canvas=this.canvas,clearColor=config.backgroundColor;var gl=game.config.context?
game.config.context:canvas.getContext("webgl",config.contextCreation)||canvas.getContext("experimental-webgl",config.contextCreation);if(!gl||gl.isContextLost())throw this.contextLost=!0,Error("WebGL unsupported");this.gl=gl;var _this=this;this.contextLostHandler=function(event){_this.contextLost=!0;_this.game.events.emit(GameEvents.CONTEXT_LOST,_this);event.preventDefault()};this.contextRestoredHandler=function(){_this.contextLost=!1;_this.init(_this.config);_this.game.events.emit(GameEvents.CONTEXT_RESTORED,
_this)};canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1);canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1);game.context=gl;for(canvas=0;27>=canvas;canvas++)this.blendModes.push({func:[gl.ONE,gl.ONE_MINUS_SRC_ALPHA],equation:gl.FUNC_ADD});this.blendModes[1].func=[gl.ONE,gl.DST_ALPHA];this.blendModes[2].func=[gl.DST_COLOR,gl.ONE_MINUS_SRC_ALPHA];this.blendModes[3].func=[gl.ONE,gl.ONE_MINUS_SRC_COLOR];this.blendModes[17]={func:[gl.ZERO,gl.ONE_MINUS_SRC_ALPHA],
equation:gl.FUNC_REVERSE_SUBTRACT};this.glFormats[0]=gl.BYTE;this.glFormats[1]=gl.SHORT;this.glFormats[2]=gl.UNSIGNED_BYTE;this.glFormats[3]=gl.UNSIGNED_SHORT;this.glFormats[4]=gl.FLOAT;this.glFuncMap={mat2:{func:gl.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:gl.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:gl.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:gl.uniform1f,length:1},"1fv":{func:gl.uniform1fv,length:1},"1i":{func:gl.uniform1i,length:1},"1iv":{func:gl.uniform1iv,length:1},"2f":{func:gl.uniform2f,
length:2},"2fv":{func:gl.uniform2fv,length:1},"2i":{func:gl.uniform2i,length:2},"2iv":{func:gl.uniform2iv,length:1},"3f":{func:gl.uniform3f,length:3},"3fv":{func:gl.uniform3fv,length:1},"3i":{func:gl.uniform3i,length:3},"3iv":{func:gl.uniform3iv,length:1},"4f":{func:gl.uniform4f,length:4},"4fv":{func:gl.uniform4fv,length:1},"4i":{func:gl.uniform4i,length:4},"4iv":{func:gl.uniform4iv,length:1}};var exts=gl.getSupportedExtensions();config.maxTextures&&-1!==config.maxTextures||(config.maxTextures=gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));
config.maxTextureSize||(config.maxTextureSize=gl.getParameter(gl.MAX_TEXTURE_SIZE));this.compression.ETC1=gl.getExtension("WEBGL_compressed_texture_etc1")||gl.getExtension("WEBKIT_WEBGL_compressed_texture_etc1");this.compression.PVRTC=gl.getExtension("WEBGL_compressed_texture_pvrtc")||gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");this.compression.S3TC=gl.getExtension("WEBGL_compressed_texture_s3tc")||gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");this.supportedExtensions=exts;
this.instancedArraysExtension=-1<exts.indexOf("ANGLE_instanced_arrays")?gl.getExtension("ANGLE_instanced_arrays"):null;this.vaoExtension=-1<exts.indexOf("OES_vertex_array_object")?gl.getExtension("OES_vertex_array_object"):null;gl.disable(gl.DEPTH_TEST);gl.disable(gl.CULL_FACE);gl.enable(gl.BLEND);gl.clearColor(clearColor.redGL,clearColor.greenGL,clearColor.blueGL,clearColor.alphaGL);this.mipmapFilter=gl[config.mipmapFilter];this.maxTextures=Utils.checkShaderMax(gl,config.maxTextures);this.textureIndexes=
[];config=this.tempTextures;if(Array.isArray(config))for(clearColor=0;canvas<this.maxTextures;clearColor++)gl.deleteTexture(config[clearColor]);else config=Array(this.maxTextures);for(canvas=0;canvas<this.maxTextures;canvas++)clearColor=gl.createTexture(),gl.activeTexture(gl.TEXTURE0+canvas),gl.bindTexture(gl.TEXTURE_2D,clearColor),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,1,1,0,gl.RGBA,gl.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),config[canvas]=clearColor,this.textureIndexes.push(canvas);this.tempTextures=
config;this.currentActiveTexture=1;this.startActiveTexture++;gl.activeTexture(gl.TEXTURE1);this.pipelines=new PipelineManager(this);this.setBlendMode(CONST.BlendModes.NORMAL);this.projectionMatrix=(new Matrix4).identity();game.textures.once(TextureEvents.READY,this.boot,this);return this},boot:function(){var game=this.game,pipelineManager=this.pipelines,baseSize=game.scale.baseSize;this.width=baseSize.width;this.height=baseSize.height;this.isBooted=!0;this.renderTarget=new RenderTarget(this,this.width,
this.height,1,0,!0,!0);pipelineManager.boot(game.config.pipeline);this.blankTexture=game.textures.getFrame("__DEFAULT");this.whiteTexture=game.textures.getFrame("__WHITE");pipelineManager=this.gl;pipelineManager.bindFramebuffer(pipelineManager.FRAMEBUFFER,null);pipelineManager.enable(pipelineManager.SCISSOR_TEST);game.scale.on(ScaleEvents.RESIZE,this.onResize,this);this.resize(baseSize.width,baseSize.height)},onResize:function(gameSize,baseSize){baseSize.width===this.width&&baseSize.height===this.height||
this.resize(baseSize.width,baseSize.height)},beginCapture:function(width,height){void 0===width&&(width=this.width);void 0===height&&(height=this.height);this.renderTarget.bind(!0,width,height);this.setProjectionMatrix(width,height);this.resetTextures()},endCapture:function(){this.renderTarget.unbind(!0);this.resetProjectionMatrix();return this.renderTarget},resize:function(width,height){var gl=this.gl;this.width=width;this.height=height;this.setProjectionMatrix(width,height);gl.viewport(0,0,width,
height);this.drawingBufferHeight=gl.drawingBufferHeight;gl.scissor(0,gl.drawingBufferHeight-height,width,height);this.defaultScissor[2]=width;this.defaultScissor[3]=height;this.emit(Events.RESIZE,width,height);return this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(width,height){if(width!==this.projectionWidth||height!==this.projectionHeight)this.projectionWidth=width,this.projectionHeight=height,this.projectionMatrix.ortho(0,width,height,0,-1E3,1E3);return this},
resetProjectionMatrix:function(){this.projectionWidth=this.width;this.projectionHeight=this.height;this.projectionMatrix.ortho(0,this.width,this.height,0,-1E3,1E3)},hasExtension:function(extensionName){return this.supportedExtensions?this.supportedExtensions.indexOf(extensionName):!1},getExtension:function(extensionName){if(!this.hasExtension(extensionName))return null;extensionName in this.extensions||(this.extensions[extensionName]=this.gl.getExtension(extensionName));return this.extensions[extensionName]},
flush:function(){this.pipelines.flush()},pushScissor:function(x,y,width,height,drawingBufferHeight){void 0===drawingBufferHeight&&(drawingBufferHeight=this.drawingBufferHeight);var scissor=[x,y,width,height];this.scissorStack.push(scissor);this.setScissor(x,y,width,height,drawingBufferHeight);return this.currentScissor=scissor},setScissor:function(x,y,width,height,drawingBufferHeight){void 0===drawingBufferHeight&&(drawingBufferHeight=this.drawingBufferHeight);var gl=this.gl,current=this.currentScissor,
setScissor=0<width&&0<height;if(current&&setScissor){setScissor=current[1];var cw=current[2],ch=current[3];setScissor=current[0]!==x||setScissor!==y||cw!==width||ch!==height}setScissor&&(this.flush(),gl.scissor(x,drawingBufferHeight-y-height,width,height))},resetScissor:function(){var gl=this.gl;gl.enable(gl.SCISSOR_TEST);var current=this.currentScissor;if(current){var x=current[0],y=current[1],width=current[2];current=current[3];0<width&&0<current&&gl.scissor(x,this.drawingBufferHeight-y-current,
width,current)}},popScissor:function(){var scissorStack=this.scissorStack;scissorStack.pop();(scissorStack=scissorStack[scissorStack.length-1])&&this.setScissor(scissorStack[0],scissorStack[1],scissorStack[2],scissorStack[3]);this.currentScissor=scissorStack},hasActiveStencilMask:function(){var mask=this.currentMask.mask,camMask=this.currentCameraMask.mask;return mask&&mask.isStencil||camMask&&camMask.isStencil},resetViewport:function(){var gl=this.gl;gl.viewport(0,0,this.width,this.height);this.drawingBufferHeight=
gl.drawingBufferHeight},setBlendMode:function(blendModeId,force){void 0===force&&(force=!1);var gl=this.gl,blendMode=this.blendModes[blendModeId];return force||blendModeId!==CONST.BlendModes.SKIP_CHECK&&this.currentBlendMode!==blendModeId?(this.flush(),gl.enable(gl.BLEND),gl.blendEquation(blendMode.equation),2<blendMode.func.length?gl.blendFuncSeparate(blendMode.func[0],blendMode.func[1],blendMode.func[2],blendMode.func[3]):gl.blendFunc(blendMode.func[0],blendMode.func[1]),this.currentBlendMode=blendModeId,
!0):!1},addBlendMode:function(func,equation){return this.blendModes.push({func:func,equation:equation})-1},updateBlendMode:function(index,func,equation){this.blendModes[index]&&(this.blendModes[index].func=func,equation&&(this.blendModes[index].equation=equation));return this},removeBlendMode:function(index){17<index&&this.blendModes[index]&&this.blendModes.splice(index,1);return this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(textureSource){if(this.pipelines.forceZero())return this.setTextureZero(textureSource.glTexture,
!0),0;var gl=this.gl,currentActiveTexture=this.currentActiveTexture;textureSource.glIndexCounter<this.startActiveTexture&&(textureSource.glIndexCounter=this.startActiveTexture,currentActiveTexture<this.maxTextures?(textureSource.glIndex=currentActiveTexture,gl.activeTexture(gl.TEXTURE0+currentActiveTexture),gl.bindTexture(gl.TEXTURE_2D,textureSource.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,textureSource.glIndexCounter=this.startActiveTexture,
textureSource.glIndex=1,gl.activeTexture(gl.TEXTURE1),gl.bindTexture(gl.TEXTURE_2D,textureSource.glTexture),this.currentActiveTexture=2));this.isTextureClean=!1;return textureSource.glIndex},isNewNormalMap:function(texture,normalMap){return this.textureZero!==texture||this.normalTexture!==normalMap},setTextureZero:function(texture,flush){this.textureZero!==texture&&(flush&&this.flush(),flush=this.gl,flush.activeTexture(flush.TEXTURE0),flush.bindTexture(flush.TEXTURE_2D,texture),this.textureZero=texture)},
clearTextureZero:function(){this.textureZero=null},setNormalMap:function(texture){if(this.normalTexture!==texture){var gl=this.gl;gl.activeTexture(gl.TEXTURE1);gl.bindTexture(gl.TEXTURE_2D,texture);this.normalTexture=texture;1===this.currentActiveTexture&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null;this.startActiveTexture++;this.currentActiveTexture=1;this.textureFlush++},unbindTextures:function(){for(var gl=this.gl,temp=this.tempTextures,i=0;i<temp.length;i++)gl.activeTexture(gl.TEXTURE0+
i),gl.bindTexture(gl.TEXTURE_2D,null);this.textureZero=this.normalTexture=null;this.currentActiveTexture=1;this.startActiveTexture++;this.textureFlush++},resetTextures:function(all){void 0===all&&(all=!1);if(!this.isTextureClean){this.flush();var gl=this.gl,temp=this.tempTextures;if(all){for(all=0;all<temp.length;all++)gl.activeTexture(gl.TEXTURE0+all),gl.bindTexture(gl.TEXTURE_2D,temp[all]);gl.activeTexture(gl.TEXTURE1);gl.bindTexture(gl.TEXTURE_2D,temp[1]);this.isTextureClean=!0}else gl.activeTexture(gl.TEXTURE0),
gl.bindTexture(gl.TEXTURE_2D,temp[0]),gl.activeTexture(gl.TEXTURE1),gl.bindTexture(gl.TEXTURE_2D,temp[1]);this.textureZero=this.normalTexture=null;this.currentActiveTexture=1;this.startActiveTexture++;this.textureFlush++}},setTexture2D:function(texture){if(this.pipelines.forceZero())return this.setTextureZero(texture,!0),0;var gl=this.gl,currentActiveTexture=this.currentActiveTexture;texture.glIndexCounter<this.startActiveTexture&&(texture.glIndexCounter=this.startActiveTexture,currentActiveTexture<
this.maxTextures?(texture.glIndex=currentActiveTexture,gl.activeTexture(gl.TEXTURE0+currentActiveTexture),gl.bindTexture(gl.TEXTURE_2D,texture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,texture.glIndexCounter=this.startActiveTexture,texture.glIndex=1,gl.activeTexture(gl.TEXTURE1),gl.bindTexture(gl.TEXTURE_2D,texture),this.currentActiveTexture=2));this.isTextureClean=!1;return texture.glIndex},pushFramebuffer:function(framebuffer,updateScissor,resetTextures,
setViewport){if(framebuffer===this.currentFramebuffer)return this;this.fboStack.push(framebuffer);return this.setFramebuffer(framebuffer,updateScissor,resetTextures,setViewport)},setFramebuffer:function(framebuffer,updateScissor,resetTextures,setViewport){void 0===updateScissor&&(updateScissor=!1);void 0===resetTextures&&(resetTextures=!1);void 0===setViewport&&(setViewport=!0);if(framebuffer===this.currentFramebuffer)return this;var gl=this.gl,width=this.width,height=this.height;framebuffer&&framebuffer.renderTexture&&
setViewport?(width=framebuffer.renderTexture.width,height=framebuffer.renderTexture.height):this.flush();gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffer);setViewport&&gl.viewport(0,0,width,height);updateScissor&&(framebuffer?(this.drawingBufferHeight=height,this.pushScissor(0,0,width,height)):(this.drawingBufferHeight=this.height,this.popScissor()));this.currentFramebuffer=framebuffer;resetTextures&&this.resetTextures();return this},popFramebuffer:function(updateScissor,resetTextures,setViewport){void 0===
updateScissor&&(updateScissor=!1);void 0===resetTextures&&(resetTextures=!1);void 0===setViewport&&(setViewport=!0);var fboStack=this.fboStack;fboStack.pop();(fboStack=fboStack[fboStack.length-1])||(fboStack=null);this.setFramebuffer(fboStack,updateScissor,resetTextures,setViewport);return fboStack},setProgram:function(program){return program!==this.currentProgram?(this.flush(),this.gl.useProgram(program),this.currentProgram=program,!0):!1},resetProgram:function(){this.gl.useProgram(this.currentProgram);
return this},createTextureFromSource:function(source,width,height,scaleMode){var gl=this.gl,minFilter=gl.NEAREST,magFilter=gl.NEAREST,wrap=gl.CLAMP_TO_EDGE;width=source?source.width:width;height=source?source.height:height;var pow=IsSizePowerOfTwo(width,height);pow&&(wrap=gl.REPEAT);scaleMode===CONST.ScaleModes.LINEAR&&this.config.antialias&&(minFilter=pow?this.mipmapFilter:gl.LINEAR,magFilter=gl.LINEAR);return source||"number"!==typeof width||"number"!==typeof height?this.createTexture2D(0,minFilter,
magFilter,wrap,wrap,gl.RGBA,source):this.createTexture2D(0,minFilter,magFilter,wrap,wrap,gl.RGBA,null,width,height)},createTexture2D:function(mipLevel,minFilter,magFilter,wrapT,wrapS,format,pixels,width,height,pma,forceSize,flipY){pma=void 0===pma||null===pma?!0:pma;void 0===forceSize&&(forceSize=!1);void 0===flipY&&(flipY=!1);var gl=this.gl,texture=gl.createTexture();gl.activeTexture(gl.TEXTURE0);var currentTexture=gl.getParameter(gl.TEXTURE_BINDING_2D);gl.bindTexture(gl.TEXTURE_2D,texture);gl.texParameteri(gl.TEXTURE_2D,
gl.TEXTURE_MIN_FILTER,minFilter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,wrapS);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,wrapT);gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pma);gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,flipY);null===pixels||void 0===pixels?gl.texImage2D(gl.TEXTURE_2D,mipLevel,format,width,height,0,format,gl.UNSIGNED_BYTE,null):(forceSize||(width=pixels.width,height=pixels.height),gl.texImage2D(gl.TEXTURE_2D,
mipLevel,format,format,gl.UNSIGNED_BYTE,pixels));IsSizePowerOfTwo(width,height)&&gl.generateMipmap(gl.TEXTURE_2D);currentTexture&&gl.bindTexture(gl.TEXTURE_2D,currentTexture);texture.isAlphaPremultiplied=pma;texture.isRenderTexture=!1;texture.width=width;texture.height=height;texture.glIndex=0;texture.glIndexCounter=-1;return texture},createFramebuffer:function(width,height,renderTexture,addDepthStencilBuffer){var gl=this.gl,framebuffer=gl.createFramebuffer();this.setFramebuffer(framebuffer);addDepthStencilBuffer&&
(addDepthStencilBuffer=gl.createRenderbuffer(),gl.bindRenderbuffer(gl.RENDERBUFFER,addDepthStencilBuffer),gl.renderbufferStorage(gl.RENDERBUFFER,gl.DEPTH_STENCIL,width,height),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_STENCIL_ATTACHMENT,gl.RENDERBUFFER,addDepthStencilBuffer));renderTexture.isRenderTexture=!0;renderTexture.isAlphaPremultiplied=!1;gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,renderTexture,0);width=gl.checkFramebufferStatus(gl.FRAMEBUFFER);if(width!==
gl.FRAMEBUFFER_COMPLETE)throw Error("Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[width]);framebuffer.renderTexture=renderTexture;this.setFramebuffer(null);this.resetTextures();return framebuffer},createProgram:function(vertexShader,fragmentShader){var gl=this.gl,program=gl.createProgram(),vs=gl.createShader(gl.VERTEX_SHADER),fs=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(vs,vertexShader);gl.shaderSource(fs,
fragmentShader);gl.compileShader(vs);gl.compileShader(fs);if(!gl.getShaderParameter(vs,gl.COMPILE_STATUS))throw Error("Vertex Shader failed:\n"+gl.getShaderInfoLog(vs));if(!gl.getShaderParameter(fs,gl.COMPILE_STATUS))throw Error("Fragment Shader failed:\n"+gl.getShaderInfoLog(fs));gl.attachShader(program,vs);gl.attachShader(program,fs);gl.linkProgram(program);if(!gl.getProgramParameter(program,gl.LINK_STATUS))throw Error("Link Program failed:\n"+gl.getProgramInfoLog(program));gl.useProgram(program);
return program},createVertexBuffer:function(initialDataOrSize,bufferUsage){var gl=this.gl,vertexBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffer);gl.bufferData(gl.ARRAY_BUFFER,initialDataOrSize,bufferUsage);gl.bindBuffer(gl.ARRAY_BUFFER,null);return vertexBuffer},createIndexBuffer:function(initialDataOrSize,bufferUsage){var gl=this.gl,indexBuffer=gl.createBuffer();gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuffer);gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,initialDataOrSize,bufferUsage);
gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,null);return indexBuffer},deleteTexture:function(texture,reset){texture&&this.gl.deleteTexture(texture);reset&&this.resetTextures();return this},deleteFramebuffer:function(framebuffer){framebuffer&&(this.gl.deleteFramebuffer(framebuffer),ArrayRemove(this.fboStack,framebuffer),this.currentFramebuffer===framebuffer&&(this.currentFramebuffer=null));return this},deleteProgram:function(program){program&&this.gl.deleteProgram(program);return this},deleteBuffer:function(buffer){this.gl.deleteBuffer(buffer);
return this},preRenderCamera:function(camera){var cx=camera.x,cy=camera.y,cw=camera.width,ch=camera.height,color=camera.backgroundColor;camera.emit(CameraEvents.PRE_RENDER,camera);this.pipelines.preBatchCamera(camera);this.pushScissor(cx,cy,cw,ch);camera.mask&&(this.currentCameraMask.mask=camera.mask,this.currentCameraMask.camera=camera._maskCamera,camera.mask.preRenderWebGL(this,camera,camera._maskCamera));0<color.alphaGL&&this.pipelines.setMulti().drawFillRect(cx,cy,cw,ch,Utils.getTintFromFloats(color.blueGL,
color.greenGL,color.redGL,1),color.alphaGL)},getCurrentStencilMask:function(){var prev=null,stack=this.maskStack,cameraMask=this.currentCameraMask;0<stack.length?prev=stack[stack.length-1]:cameraMask.mask&&cameraMask.mask.isStencil&&(prev=cameraMask);return prev},postRenderCamera:function(camera){var flashEffect=camera.flashEffect,fadeEffect=camera.fadeEffect;if(flashEffect.isRunning||fadeEffect.isRunning||fadeEffect.isComplete){var pipeline=this.pipelines.setMulti();flashEffect.postRenderWebGL(pipeline,
Utils.getTintFromFloats);fadeEffect.postRenderWebGL(pipeline,Utils.getTintFromFloats)}camera.dirty=!1;this.popScissor();camera.mask&&(this.currentCameraMask.mask=null,camera.mask.postRenderWebGL(this,camera._maskCamera));this.pipelines.postBatchCamera(camera);camera.emit(CameraEvents.POST_RENDER,camera)},preRender:function(){if(!this.contextLost){var gl=this.gl;gl.bindFramebuffer(gl.FRAMEBUFFER,null);if(this.config.clearBeforeRender){var clearColor=this.config.backgroundColor;gl.clearColor(clearColor.redGL,
clearColor.greenGL,clearColor.blueGL,clearColor.alphaGL);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT|gl.STENCIL_BUFFER_BIT)}gl.enable(gl.SCISSOR_TEST);this.currentScissor=this.defaultScissor;this.scissorStack.length=0;this.scissorStack.push(this.currentScissor);this.game.scene.customViewports&&gl.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height);this.currentMask.mask=null;this.currentCameraMask.mask=null;this.textureFlush=this.maskStack.length=0;this.emit(Events.PRE_RENDER)}},
render:function(scene,children,camera){if(!this.contextLost){var childCount=children.length;this.emit(Events.RENDER,scene,camera);this.preRenderCamera(camera);if(0!==childCount){this.currentType="";for(scene=0;scene<childCount;scene++){this.finalType=scene===childCount-1;var child=children[scene],mask=child.mask;var current=this.currentMask;current.mask&&current.mask!==mask&&current.mask.postRenderWebGL(this,current.camera);mask&&current.mask!==mask&&mask.preRenderWebGL(this,child,camera);child.blendMode!==
this.currentBlendMode&&this.setBlendMode(child.blendMode);current=child.type;current!==this.currentType&&(this.newType=!0,this.currentType=current);this.nextTypeMatch=this.finalType?!1:children[scene+1].type===this.currentType;child.renderWebGL(this,child,camera);this.newType=!1}current=this.currentMask;current.mask&&current.mask.postRenderWebGL(this,current.camera)}this.setBlendMode(CONST.BlendModes.NORMAL);this.postRenderCamera(camera)}},postRender:function(){if(!this.contextLost){this.flush();
this.emit(Events.POST_RENDER);var state=this.snapshotState;state.callback&&(WebGLSnapshot(this.canvas,state),state.callback=null);0<this.textureFlush&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(callback,type,encoderOptions){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,callback,type,encoderOptions)},snapshotArea:function(x,y,width,height,callback,type,encoderOptions){var state=this.snapshotState;state.callback=callback;state.type=
type;state.encoder=encoderOptions;state.getPixel=!1;state.x=x;state.y=y;state.width=Math.min(width,this.gl.drawingBufferWidth);state.height=Math.min(height,this.gl.drawingBufferHeight);return this},snapshotPixel:function(x,y,callback){this.snapshotArea(x,y,1,1,callback);this.snapshotState.getPixel=!0;return this},snapshotFramebuffer:function(framebuffer,bufferWidth,bufferHeight,callback,getPixel,x,y,width,height,type,encoderOptions){void 0===getPixel&&(getPixel=!1);void 0===x&&(x=0);void 0===y&&(y=
0);void 0===width&&(width=bufferWidth);void 0===height&&(height=bufferHeight);var currentFramebuffer=this.currentFramebuffer;this.snapshotArea(x,y,width,height,callback,type,encoderOptions);callback=this.snapshotState;callback.getPixel=getPixel;callback.isFramebuffer=!0;callback.bufferWidth=bufferWidth;callback.bufferHeight=bufferHeight;this.setFramebuffer(framebuffer);WebGLSnapshot(this.canvas,callback);this.setFramebuffer(currentFramebuffer);callback.callback=null;callback.isFramebuffer=!1;return this},
canvasToTexture:function(srcCanvas,dstTexture,noRepeat,flipY){void 0===noRepeat&&(noRepeat=!1);void 0===flipY&&(flipY=!1);return dstTexture?this.updateCanvasTexture(srcCanvas,dstTexture,flipY):this.createCanvasTexture(srcCanvas,noRepeat,flipY)},createCanvasTexture:function(srcCanvas,noRepeat,flipY){void 0===noRepeat&&(noRepeat=!1);void 0===flipY&&(flipY=!1);var gl=this.gl,minFilter=gl.NEAREST,magFilter=gl.NEAREST,width=srcCanvas.width,height=srcCanvas.height,wrapping=gl.CLAMP_TO_EDGE,pow=IsSizePowerOfTwo(width,
height);!noRepeat&&pow&&(wrapping=gl.REPEAT);this.config.antialias&&(minFilter=pow?this.mipmapFilter:gl.LINEAR,magFilter=gl.LINEAR);return this.createTexture2D(0,minFilter,magFilter,wrapping,wrapping,gl.RGBA,srcCanvas,width,height,!0,!1,flipY)},updateCanvasTexture:function(srcCanvas,dstTexture,flipY){void 0===flipY&&(flipY=!1);var gl=this.gl,width=srcCanvas.width,height=srcCanvas.height;if(0<width&&0<height){gl.activeTexture(gl.TEXTURE0);var currentTexture=gl.getParameter(gl.TEXTURE_BINDING_2D);gl.bindTexture(gl.TEXTURE_2D,
dstTexture);gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,flipY);gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,srcCanvas);dstTexture.width=width;dstTexture.height=height;currentTexture&&gl.bindTexture(gl.TEXTURE_2D,currentTexture)}return dstTexture},createVideoTexture:function(srcVideo,noRepeat,flipY){void 0===noRepeat&&(noRepeat=!1);void 0===flipY&&(flipY=!1);var gl=this.gl,minFilter=gl.NEAREST,magFilter=gl.NEAREST,width=srcVideo.videoWidth,
height=srcVideo.videoHeight,wrapping=gl.CLAMP_TO_EDGE,pow=IsSizePowerOfTwo(width,height);!noRepeat&&pow&&(wrapping=gl.REPEAT);this.config.antialias&&(minFilter=pow?this.mipmapFilter:gl.LINEAR,magFilter=gl.LINEAR);return this.createTexture2D(0,minFilter,magFilter,wrapping,wrapping,gl.RGBA,srcVideo,width,height,!0,!0,flipY)},updateVideoTexture:function(srcVideo,dstTexture,flipY){void 0===flipY&&(flipY=!1);var gl=this.gl,width=srcVideo.videoWidth,height=srcVideo.videoHeight;if(0<width&&0<height){gl.activeTexture(gl.TEXTURE0);
var currentTexture=gl.getParameter(gl.TEXTURE_BINDING_2D);gl.bindTexture(gl.TEXTURE_2D,dstTexture);gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,flipY);gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,srcVideo);dstTexture.width=width;dstTexture.height=height;currentTexture&&gl.bindTexture(gl.TEXTURE_2D,currentTexture)}return dstTexture},setTextureFilter:function(texture,filter){var gl=this.gl;filter=[gl.LINEAR,gl.NEAREST][filter];gl.activeTexture(gl.TEXTURE0);var currentTexture=gl.getParameter(gl.TEXTURE_BINDING_2D);
gl.bindTexture(gl.TEXTURE_2D,texture);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,filter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,filter);currentTexture&&gl.bindTexture(gl.TEXTURE_2D,currentTexture);return this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1);this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var gl=this.gl,
temp=this.tempTextures,i=0;i<temp.length;i++)gl.deleteTexture(temp[i]);this.pipelines.destroy();this.removeAllListeners();this.fboStack=[];this.maskStack=[];this.extensions={};this.textureIndexes=[];this.canvas=this.game=this.gl=null;this.contextLost=!0;this.currentCameraMask=this.currentMask=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(65),CustomMap=__webpack_require__(99),BitmapMaskPipeline=
__webpack_require__(367),GraphicsPipeline=__webpack_require__(370),LightPipeline=__webpack_require__(371),MultiPipeline=__webpack_require__(105),PointLightPipeline=__webpack_require__(372),RopePipeline=__webpack_require__(373),SinglePipeline=__webpack_require__(374),UtilityPipeline=__webpack_require__(375);__webpack_require__=new exports({initialize:function(renderer){this.game=renderer.game;this.renderer=renderer;this.classes=new CustomMap([[CONST.UTILITY_PIPELINE,UtilityPipeline],[CONST.MULTI_PIPELINE,
MultiPipeline],[CONST.BITMAPMASK_PIPELINE,BitmapMaskPipeline],[CONST.SINGLE_PIPELINE,SinglePipeline],[CONST.ROPE_PIPELINE,RopePipeline],[CONST.LIGHT_PIPELINE,LightPipeline],[CONST.POINTLIGHT_PIPELINE,PointLightPipeline],[CONST.GRAPHICS_PIPELINE,GraphicsPipeline]]);this.postPipelineClasses=new CustomMap;this.pipelines=new CustomMap;this.UTILITY_PIPELINE=this.BITMAPMASK_PIPELINE=this.MULTI_PIPELINE=this.previous=this.current=null},boot:function(pipelineConfig){var pipelineName,_this=this,game=this.game;
this.classes.each(function(pipelineName,pipeline){instance=_this.add(pipelineName,new pipeline({game:game}));pipelineName===CONST.UTILITY_PIPELINE&&(_this.UTILITY_PIPELINE=instance,_this.fullFrame1=instance.fullFrame1,_this.fullFrame2=instance.fullFrame2,_this.halfFrame1=instance.halfFrame1,_this.halfFrame2=instance.halfFrame2)});this.MULTI_PIPELINE=this.get(CONST.MULTI_PIPELINE);this.BITMAPMASK_PIPELINE=this.get(CONST.BITMAPMASK_PIPELINE);if(pipelineConfig)for(pipelineName in pipelineConfig){var pipelineClass=
pipelineConfig[pipelineName];var instance=new pipelineClass(game);instance.isPostFX?this.postPipelineClasses.set(pipelineName,pipelineClass):this.has(pipelineName)||(this.classes.set(pipelineName,pipelineClass),this.add(pipelineName,instance))}},add:function(name,pipeline){if(pipeline.isPostFX)console.warn(name+" is a Post Pipeline. Use `addPostPipeline` instead");else{var pipelines=this.pipelines,renderer=this.renderer;pipelines.has(name)?console.warn("Pipeline exists: "+name):(pipeline.name=name,
pipeline.manager=this,pipelines.set(name,pipeline));pipeline.hasBooted||pipeline.boot();0!==renderer.width&&0!==renderer.height&&pipeline.resize(renderer.width,renderer.height);return pipeline}},addPostPipeline:function(name,pipeline){this.postPipelineClasses.has(name)||this.postPipelineClasses.set(name,pipeline)},flush:function(){this.current&&this.current.flush()},has:function(pipeline){var pipelines=this.pipelines;return"string"===typeof pipeline?pipelines.has(pipeline):pipelines.contains(pipeline)?
!0:!1},get:function(pipeline){var pipelines=this.pipelines;if("string"===typeof pipeline)return pipelines.get(pipeline);if(pipelines.contains(pipeline))return pipeline},getPostPipeline:function(pipeline,gameObject){var pipelineClasses=this.postPipelineClasses,instance;"string"===typeof pipeline?instance=pipelineClasses.get(pipeline):"function"===typeof pipeline?pipelineClasses.contains(pipeline)&&(instance=pipeline):"object"===typeof pipeline&&(instance=pipelineClasses.get(pipeline.name));if(instance)return pipeline=
new instance(this.game),gameObject&&(pipeline.gameObject=gameObject),pipeline},remove:function(name,removeClass,removePostPipelineClass){void 0===removeClass&&(removeClass=!0);void 0===removePostPipelineClass&&(removePostPipelineClass=!0);this.pipelines.delete(name);removeClass&&this.classes.delete(name);removePostPipelineClass&&this.postPipelineClasses.delete(name)},set:function(pipeline,gameObject,currentShader){if(!pipeline.isPostFX)return this.isCurrent(pipeline,currentShader)||(this.flush(),
this.current&&this.current.unbind(),this.current=pipeline,pipeline.bind(currentShader)),pipeline.updateProjectionMatrix(),pipeline.onBind(gameObject),pipeline},preBatch:function(gameObject){if(gameObject.hasPostPipeline){this.flush();for(var pipelines=gameObject.postPipelines,i=pipelines.length-1;0<=i;i--){var pipeline=pipelines[i];pipeline.active&&pipeline.preBatch(gameObject)}}},postBatch:function(gameObject){if(gameObject.hasPostPipeline){this.flush();for(var pipelines=gameObject.postPipelines,
i=0;i<pipelines.length;i++){var pipeline=pipelines[i];pipeline.active&&pipeline.postBatch(gameObject)}}},preBatchCamera:function(camera){if(camera.hasPostPipeline){this.flush();for(var pipelines=camera.postPipelines,i=pipelines.length-1;0<=i;i--){var pipeline=pipelines[i];pipeline.active&&pipeline.preBatch(camera)}}},postBatchCamera:function(camera){if(camera.hasPostPipeline){this.flush();for(var pipelines=camera.postPipelines,i=0;i<pipelines.length;i++){var pipeline=pipelines[i];pipeline.active&&
pipeline.postBatch(camera)}}},isCurrent:function(pipeline,currentShader){var renderer=this.renderer,current=this.current;current&&!currentShader&&(currentShader=current.currentShader);return!(current!==pipeline||currentShader.program!==renderer.currentProgram)},copyFrame:function(source,target,brightness,clear,clearAlpha){this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(source,target,brightness,clear,clearAlpha);return this},copyToGame:function(source){this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(source);
return this},drawFrame:function(source,target,clearAlpha,colorMatrix){this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(source,target,clearAlpha,colorMatrix);return this},blendFrames:function(source1,source2,target,strength,clearAlpha){this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(source1,source2,target,strength,clearAlpha);return this},blendFramesAdditive:function(source1,source2,target,strength,clearAlpha){this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(source1,
source2,target,strength,clearAlpha);return this},clearFrame:function(target,clearAlpha){this.UTILITY_PIPELINE.clearFrame(target,clearAlpha);return this},blitFrame:function(source,target,brightness,clear,clearAlpha,eraseMode){this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(source,target,brightness,clear,clearAlpha,eraseMode);return this},copyFrameRect:function(source,target,x,y,width,height,clear,clearAlpha){this.UTILITY_PIPELINE.copyFrameRect(source,target,x,y,width,height,clear,clearAlpha);
return this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(currentShader){return this.UTILITY_PIPELINE.bind(currentShader)},rebind:function(pipeline){void 0===pipeline&&this.previous&&(pipeline=this.previous);var renderer=this.renderer,gl=renderer.gl;gl.disable(gl.DEPTH_TEST);gl.disable(gl.CULL_FACE);renderer.hasActiveStencilMask()?gl.clear(gl.DEPTH_BUFFER_BIT):(gl.disable(gl.STENCIL_TEST),gl.clear(gl.DEPTH_BUFFER_BIT|
gl.STENCIL_BUFFER_BIT));gl.viewport(0,0,renderer.width,renderer.height);renderer.currentProgram=null;renderer.setBlendMode(0,!0);pipeline&&(this.current=pipeline,pipeline.rebind());renderer.resetTextures()},clear:function(){var renderer=this.renderer;this.flush();this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null;renderer.currentProgram=null;renderer.setBlendMode(0,!0)},destroy:function(){this.flush();this.classes.clear();this.postPipelineClasses.clear();
this.pipelines.clear();this.previous=this.current=this.pipelines=this.postPipelineClasses=this.classes=this.game=this.renderer=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetFastValue=__webpack_require__(2),ShaderSourceFS=__webpack_require__(862),ShaderSourceVS=__webpack_require__(863),WEBGL_CONST=__webpack_require__(104),WebGLPipeline=__webpack_require__(57);__webpack_require__=new exports({Extends:WebGLPipeline,initialize:function(config){config.fragShader=
GetFastValue(config,"fragShader",ShaderSourceFS);config.vertShader=GetFastValue(config,"vertShader",ShaderSourceVS);config.batchSize=GetFastValue(config,"batchSize",1);config.vertices=GetFastValue(config,"vertices",[-1,1,-1,-7,7,1]);config.attributes=GetFastValue(config,"attributes",[{name:"inPosition",size:2,type:WEBGL_CONST.FLOAT}]);WebGLPipeline.call(this,config)},boot:function(){WebGLPipeline.prototype.boot.call(this);this.set1i("uMainSampler",0);this.set1i("uMaskSampler",1)},resize:function(width,
height){WebGLPipeline.prototype.resize.call(this,width,height);this.set2f("uResolution",width,height)},beginMask:function(mask,maskedObject,camera){maskedObject=this.gl;if(mask.bitmapMask&&maskedObject){var renderer=this.renderer;renderer.flush();renderer.pushFramebuffer(mask.mainFramebuffer);maskedObject.disable(maskedObject.STENCIL_TEST);maskedObject.clearColor(0,0,0,0);maskedObject.clear(maskedObject.COLOR_BUFFER_BIT);renderer.currentCameraMask.mask!==mask&&(renderer.currentMask.mask=mask,renderer.currentMask.camera=
camera)}},endMask:function(mask,camera){var gl=this.gl,renderer=this.renderer,bitmapMask=mask.bitmapMask;bitmapMask&&gl&&(renderer.flush(),renderer.pushFramebuffer(mask.maskFramebuffer),gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT),renderer.setBlendMode(0,!0),bitmapMask.renderWebGL(renderer,bitmapMask,camera),renderer.flush(),renderer.popFramebuffer(),renderer.popFramebuffer(),(camera=renderer.getCurrentStencilMask())?(gl.enable(gl.STENCIL_TEST),camera.mask.applyStencil(renderer,camera.camera,
!0)):renderer.currentMask.mask=null,renderer.pipelines.set(this),gl.activeTexture(gl.TEXTURE1),gl.bindTexture(gl.TEXTURE_2D,mask.maskTexture),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,mask.mainTexture),this.set1i("uInvertMaskAlpha",mask.invertAlpha),gl.drawArrays(this.topology,0,3),renderer.resetTextures())}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={AFTER_FLUSH:__webpack_require__(864),BEFORE_FLUSH:__webpack_require__(865),
BIND:__webpack_require__(866),BOOT:__webpack_require__(867),DESTROY:__webpack_require__(868),REBIND:__webpack_require__(869),RESIZE:__webpack_require__(870)}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetFastValue=__webpack_require__(2),WEBGL_CONST=__webpack_require__(104);__webpack_require__=new exports({initialize:function(pipeline,name,vertexShader,fragmentShader,attributes){this.pipeline=pipeline;this.name=name;this.renderer=pipeline.renderer;this.gl=this.renderer.gl;
this.program=this.renderer.createProgram(vertexShader,fragmentShader);this.vertexSize=this.vertexComponentCount=0;this.uniforms={};this.createAttributes(attributes);this.createUniforms()},createAttributes:function(attributes){for(var count=0,offset=0,result=[],i=this.vertexComponentCount=0;i<attributes.length;i++){var element=attributes[i],name=element.name,size=GetFastValue(element,"size",1),glType=GetFastValue(element,"type",WEBGL_CONST.FLOAT),typeSize=glType.size;result.push({name:name,size:size,
type:glType.enum,normalized:element.normalized?!0:!1,offset:offset,enabled:!1,location:-1});4===typeSize?count+=size:count++;offset+=size*typeSize}this.vertexSize=offset;this.vertexComponentCount=count;this.attributes=result},bind:function(setAttributes,flush){void 0===setAttributes&&(setAttributes=!1);void 0===flush&&(flush=!1);flush&&this.pipeline.flush();this.renderer.setProgram(this.program);setAttributes&&this.setAttribPointers();return this},rebind:function(){this.renderer.setProgram(this.program);
this.setAttribPointers(!0);return this},setAttribPointers:function(reset){void 0===reset&&(reset=!1);for(var gl=this.gl,vertexSize=this.vertexSize,attributes=this.attributes,program=this.program,i=0;i<attributes.length;i++){var element=attributes[i],size=element.size,type=element.type,offset=element.offset,enabled=element.enabled,location=element.location,normalized=element.normalized?!0:!1;reset?(enabled=gl.getAttribLocation(program,element.name),0<=enabled?(gl.enableVertexAttribArray(enabled),gl.vertexAttribPointer(enabled,
size,type,normalized,vertexSize,offset),element.enabled=!0,element.location=enabled):-1!==enabled&&gl.disableVertexAttribArray(enabled)):enabled?gl.vertexAttribPointer(location,size,type,normalized,vertexSize,offset):!enabled&&-1<location&&(gl.disableVertexAttribArray(location),element.location=-1)}return this},createUniforms:function(){var gl=this.gl,program=this.program,uniforms=this.uniforms,i,name,totalUniforms=gl.getProgramParameter(program,gl.ACTIVE_UNIFORMS);for(i=0;i<totalUniforms;i++)if(name=
gl.getActiveUniform(program,i)){name=name.name;var location=gl.getUniformLocation(program,name);null!==location&&(uniforms[name]={name:name,location:location,value1:null,value2:null,value3:null,value4:null});location=name.indexOf("[");0<location&&(name=name.substr(0,location),uniforms.hasOwnProperty(name)||(location=gl.getUniformLocation(program,name),null!==location&&(uniforms[name]={name:name,location:location,value1:null,value2:null,value3:null,value4:null})))}return this},hasUniform:function(name){return this.uniforms.hasOwnProperty(name)},
resetUniform:function(name){if(name=this.uniforms[name])name.value1=null,name.value2=null,name.value3=null,name.value4=null;return this},setUniform1:function(setter,name,value1){name=this.uniforms[name];if(!name)return this;name.value1!==value1&&(name.value1=value1,this.renderer.setProgram(this.program),setter.call(this.gl,name.location,value1),this.pipeline.currentShader=this);return this},setUniform2:function(setter,name,value1,value2){name=this.uniforms[name];if(!name)return this;if(name.value1!==
value1||name.value2!==value2)name.value1=value1,name.value2=value2,this.renderer.setProgram(this.program),setter.call(this.gl,name.location,value1,value2),this.pipeline.currentShader=this;return this},setUniform3:function(setter,name,value1,value2,value3){name=this.uniforms[name];if(!name)return this;if(name.value1!==value1||name.value2!==value2||name.value3!==value3)name.value1=value1,name.value2=value2,name.value3=value3,this.renderer.setProgram(this.program),setter.call(this.gl,name.location,value1,
value2,value3),this.pipeline.currentShader=this;return this},setUniform4:function(setter,name,value1,value2,value3,value4){name=this.uniforms[name];if(!name)return this;if(name.value1!==value1||name.value2!==value2||name.value3!==value3||name.value4!==value4)name.value1=value1,name.value2=value2,name.value3=value3,name.value4=value4,this.renderer.setProgram(this.program),setter.call(this.gl,name.location,value1,value2,value3,value4),this.pipeline.currentShader=this;return this},set1f:function(name,
x){return this.setUniform1(this.gl.uniform1f,name,x)},set2f:function(name,x,y){return this.setUniform2(this.gl.uniform2f,name,x,y)},set3f:function(name,x,y,z){return this.setUniform3(this.gl.uniform3f,name,x,y,z)},set4f:function(name,x,y,z,w){return this.setUniform4(this.gl.uniform4f,name,x,y,z,w)},set1fv:function(name,arr){return this.setUniform1(this.gl.uniform1fv,name,arr)},set2fv:function(name,arr){return this.setUniform1(this.gl.uniform2fv,name,arr)},set3fv:function(name,arr){return this.setUniform1(this.gl.uniform3fv,
name,arr)},set4fv:function(name,arr){return this.setUniform1(this.gl.uniform4fv,name,arr)},set1iv:function(name,arr){return this.setUniform1(this.gl.uniform1iv,name,arr)},set2iv:function(name,arr){return this.setUniform1(this.gl.uniform2iv,name,arr)},set3iv:function(name,arr){return this.setUniform1(this.gl.uniform3iv,name,arr)},set4iv:function(name,arr){return this.setUniform1(this.gl.uniform4iv,name,arr)},set1i:function(name,x){return this.setUniform1(this.gl.uniform1i,name,x)},set2i:function(name,
x,y){return this.setUniform2(this.gl.uniform2i,name,x,y)},set3i:function(name,x,y,z){return this.setUniform3(this.gl.uniform3i,name,x,y,z)},set4i:function(name,x,y,z,w){return this.setUniform4(this.gl.uniform4i,name,x,y,z,w)},setMatrix2fv:function(name,transpose,matrix){return this.setUniform2(this.gl.uniformMatrix2fv,name,transpose,matrix)},setMatrix3fv:function(name,transpose,matrix){return this.setUniform2(this.gl.uniformMatrix3fv,name,transpose,matrix)},setMatrix4fv:function(name,transpose,matrix){return this.setUniform2(this.gl.uniformMatrix4fv,
name,transpose,matrix)},destroy:function(){this.gl.deleteProgram(this.program);this.uniforms=this.attributes=this.program=this.gl=this.renderer=this.pipeline=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Earcut=__webpack_require__(68),GetFastValue=__webpack_require__(2),ShaderSourceFS=__webpack_require__(871),ShaderSourceVS=__webpack_require__(872),TransformMatrix=__webpack_require__(25),WEBGL_CONST=__webpack_require__(104),
WebGLPipeline=__webpack_require__(57);__webpack_require__=new exports({Extends:WebGLPipeline,initialize:function(config){config.fragShader=GetFastValue(config,"fragShader",ShaderSourceFS);config.vertShader=GetFastValue(config,"vertShader",ShaderSourceVS);config.attributes=GetFastValue(config,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:WEBGL_CONST.UNSIGNED_BYTE,normalized:!0}]);WebGLPipeline.call(this,config);this.calcMatrix=new TransformMatrix;this.tempTriangle=[{x:0,y:0,
width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}];this.strokeTint={TL:0,TR:0,BL:0,BR:0};this.fillTint={TL:0,TR:0,BL:0,BR:0};this.currentFrame={u0:0,v0:0,u1:1,v1:1};this.firstQuad=[0,0,0,0,0];this.prevQuad=[0,0,0,0,0];this.polygonCache=[]},batchFillRect:function(x,y,width,height,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);var calcMatrix=this.calcMatrix;parentMatrix&&parentMatrix.multiply(currentMatrix,calcMatrix);parentMatrix=x+width;var yh=y+height;height=calcMatrix.getX(x,
y);width=calcMatrix.getY(x,y);currentMatrix=calcMatrix.getX(x,yh);x=calcMatrix.getY(x,yh);var x2=calcMatrix.getX(parentMatrix,yh);yh=calcMatrix.getY(parentMatrix,yh);var x3=calcMatrix.getX(parentMatrix,y);y=calcMatrix.getY(parentMatrix,y);calcMatrix=this.fillTint;this.batchQuad(height,width,currentMatrix,x,x2,yh,x3,y,calcMatrix.TL,calcMatrix.TR,calcMatrix.BL,calcMatrix.BR)},batchFillTriangle:function(x0,y0,x1,y1,x2,y2,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);var calcMatrix=this.calcMatrix;
parentMatrix&&parentMatrix.multiply(currentMatrix,calcMatrix);currentMatrix=calcMatrix.getX(x0,y0);x0=calcMatrix.getY(x0,y0);y0=calcMatrix.getX(x1,y1);x1=calcMatrix.getY(x1,y1);y1=calcMatrix.getX(x2,y2);x2=calcMatrix.getY(x2,y2);y2=this.fillTint;this.batchTri(currentMatrix,x0,y0,x1,y1,x2,y2.TL,y2.TR,y2.BL)},batchStrokeTriangle:function(x0,y0,x1,y1,x2,y2,lineWidth,currentMatrix,parentMatrix){var tempTriangle=this.tempTriangle;tempTriangle[0].x=x0;tempTriangle[0].y=y0;tempTriangle[0].width=lineWidth;
tempTriangle[1].x=x1;tempTriangle[1].y=y1;tempTriangle[1].width=lineWidth;tempTriangle[2].x=x2;tempTriangle[2].y=y2;tempTriangle[2].width=lineWidth;tempTriangle[3].x=x0;tempTriangle[3].y=y0;tempTriangle[3].width=lineWidth;this.batchStrokePath(tempTriangle,lineWidth,!1,currentMatrix,parentMatrix)},batchFillPath:function(path,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);var calcMatrix=this.calcMatrix;parentMatrix&&parentMatrix.multiply(currentMatrix,calcMatrix);currentMatrix=path.length;
parentMatrix=this.polygonCache;for(var point,tintTL=this.fillTint.TL,tintTR=this.fillTint.TR,tintBL=this.fillTint.BL,pathIndex=0;pathIndex<currentMatrix;++pathIndex)point=path[pathIndex],parentMatrix.push(point.x,point.y);path=Earcut(parentMatrix);currentMatrix=path.length;for(point=0;point<currentMatrix;point+=3){var p0=2*path[point+0];pathIndex=2*path[point+1];var p2=2*path[point+2],x0=parentMatrix[p0+0],y0=parentMatrix[p0+1];p0=parentMatrix[pathIndex+0];var y1=parentMatrix[pathIndex+1];pathIndex=
parentMatrix[p2+0];var y2=parentMatrix[p2+1];p2=calcMatrix.getX(x0,y0);x0=calcMatrix.getY(x0,y0);y0=calcMatrix.getX(p0,y1);p0=calcMatrix.getY(p0,y1);y1=calcMatrix.getX(pathIndex,y2);pathIndex=calcMatrix.getY(pathIndex,y2);this.batchTri(p2,x0,y0,p0,y1,pathIndex,tintTL,tintTR,tintBL)}parentMatrix.length=0},batchStrokePath:function(path,lineWidth,pathOpen,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);this.prevQuad[4]=0;this.firstQuad[4]=0;for(var pathLength=path.length-1,pathIndex=0;pathIndex<
pathLength;pathIndex++){var point0=path[pathIndex],point1=path[pathIndex+1];this.batchLine(point0.x,point0.y,point1.x,point1.y,point0.width/2,point1.width/2,lineWidth,pathIndex,!pathOpen&&pathIndex===pathLength-1,currentMatrix,parentMatrix)}},batchLine:function(ax,ay,bx,by,aLineWidth,bLineWidth,lineWidth,index,closePath,currentMatrix,parentMatrix){this.renderer.pipelines.set(this);var calcMatrix=this.calcMatrix;parentMatrix&&parentMatrix.multiply(currentMatrix,calcMatrix);currentMatrix=bx-ax;parentMatrix=
by-ay;var len=Math.sqrt(currentMatrix*currentMatrix+parentMatrix*parentMatrix);currentMatrix=aLineWidth*(by-ay)/len;parentMatrix=aLineWidth*(ax-bx)/len;var bl0=bLineWidth*(by-ay)/len,bl1=bLineWidth*(ax-bx)/len;len=bx-bl0;var ly0=by-bl1;bLineWidth=ax-currentMatrix;aLineWidth=ay-parentMatrix;bx+=bl0;bl0=by+bl1;currentMatrix=ax+currentMatrix;bl1=ay+parentMatrix;ay=calcMatrix.getX(len,ly0);ax=calcMatrix.getY(len,ly0);by=calcMatrix.getX(bLineWidth,aLineWidth);bLineWidth=calcMatrix.getY(bLineWidth,aLineWidth);
aLineWidth=calcMatrix.getX(bx,bl0);bx=calcMatrix.getY(bx,bl0);parentMatrix=calcMatrix.getX(currentMatrix,bl1);calcMatrix=calcMatrix.getY(currentMatrix,bl1);bl0=this.strokeTint;currentMatrix=bl0.TL;len=bl0.TR;ly0=bl0.BL;bl0=bl0.BR;this.batchQuad(parentMatrix,calcMatrix,by,bLineWidth,ay,ax,aLineWidth,bx,currentMatrix,len,ly0,bl0);2>=lineWidth||(lineWidth=this.prevQuad,bl1=this.firstQuad,0<index&&lineWidth[4]?this.batchQuad(parentMatrix,calcMatrix,by,bLineWidth,lineWidth[0],lineWidth[1],lineWidth[2],
lineWidth[3],currentMatrix,len,ly0,bl0):(bl1[0]=parentMatrix,bl1[1]=calcMatrix,bl1[2]=by,bl1[3]=bLineWidth,bl1[4]=1),closePath&&bl1[4]?this.batchQuad(ay,ax,aLineWidth,bx,bl1[0],bl1[1],bl1[2],bl1[3],currentMatrix,len,ly0,bl0):(lineWidth[0]=ay,lineWidth[1]=ax,lineWidth[2]=aLineWidth,lineWidth[3]=bx,lineWidth[4]=1))},batchVert:function(x,y,tint){var vertexViewF32=this.vertexViewF32,vertexViewU32=this.vertexViewU32,vertexOffset=this.vertexCount*this.currentShader.vertexComponentCount-1;vertexViewF32[++vertexOffset]=
x;vertexViewF32[++vertexOffset]=y;vertexViewU32[++vertexOffset]=tint;this.vertexCount++},batchQuad:function(x0,y0,x1,y1,x2,y2,x3,y3,tintTL,tintTR,tintBL,tintBR){var hasFlushed=!1;this.shouldFlush(6)&&(this.flush(),hasFlushed=!0);this.batchVert(x0,y0,tintTL);this.batchVert(x1,y1,tintBL);this.batchVert(x2,y2,tintBR);this.batchVert(x0,y0,tintTL);this.batchVert(x2,y2,tintBR);this.batchVert(x3,y3,tintTR);return hasFlushed},batchTri:function(x0,y0,x1,y1,x2,y2,tintTL,tintTR,tintBL){var hasFlushed=!1;this.shouldFlush(3)&&
(this.flush(),hasFlushed=!0);this.batchVert(x0,y0,tintTL);this.batchVert(x1,y1,tintTR);this.batchVert(x2,y2,tintBL);return hasFlushed},destroy:function(){WebGLPipeline.prototype.destroy.call(this);this.polygonCache=null;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetFastValue=__webpack_require__(2),LightShaderSourceFS=__webpack_require__(873),MultiPipeline=__webpack_require__(105),Vec2=__webpack_require__(3),WebGLPipeline=
__webpack_require__(57),LIGHT_COUNT=10,tempVec2=new Vec2;__webpack_require__=new exports({Extends:MultiPipeline,initialize:function(config){LIGHT_COUNT=config.game.renderer.config.maxLights;for(var fragShader=GetFastValue(config,"fragShader",LightShaderSourceFS),shaders=[],i=1;i<=LIGHT_COUNT;i++)shaders.push({name:"lights"+i,fragShader:fragShader.replace("%LIGHT_COUNT%",i.toString())});config.shaders=shaders;MultiPipeline.call(this,config);this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,
0,0,1])},boot:function(){WebGLPipeline.prototype.boot.call(this);var gl=this.gl,tempTexture=gl.createTexture();gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,tempTexture);gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,1,1,0,gl.RGBA,gl.UNSIGNED_BYTE,new Uint8Array([127,127,255,255]));this.defaultNormalMap={glTexture:tempTexture};for(gl=0;gl<this.shaders.length;gl++)this["lightShader"+(gl+1)]=this.shaders[gl]},onRender:function(scene,camera){var lightManager=scene.sys.lights;if(lightManager&&lightManager.active){scene=
lightManager.getLights(camera);var lightsCount=scene.length;if(0!==lightsCount){this.setShader(this["lightShader"+lightsCount],!0);var height=this.renderer.height,cameraMatrix=camera.matrix;this.set1i("uMainSampler",0);this.set1i("uNormSampler",1);this.set2f("uResolution",this.width/2,this.height/2);this.set4f("uCamera",camera.x,camera.y,camera.rotation,camera.zoom);this.set3f("uAmbientLightColor",lightManager.ambientColor.r,lightManager.ambientColor.g,lightManager.ambientColor.b);for(lightManager=
0;lightManager<lightsCount;lightManager++){var light=scene[lightManager].light,color=light.color,lightName="uLights["+lightManager+"].";cameraMatrix.transformPoint(light.x,light.y,tempVec2);this.set2f(lightName+"position",tempVec2.x-camera.scrollX*light.scrollFactorX*camera.zoom,height-(tempVec2.y-camera.scrollY*light.scrollFactorY*camera.zoom));this.set3f(lightName+"color",color.r,color.g,color.b);this.set1f(lightName+"intensity",light.intensity);this.set1f(lightName+"radius",light.radius)}this.currentNormalMapRotation=
null}}},setNormalMapRotation:function(rotation){if(rotation!==this.currentNormalMapRotation||0===this.vertexCount){0<this.vertexCount&&this.flush();var inverseRotationMatrix=this.inverseRotationMatrix;if(rotation){var rot=-rotation,c=Math.cos(rot);rot=Math.sin(rot);inverseRotationMatrix[1]=rot;inverseRotationMatrix[3]=-rot;inverseRotationMatrix[0]=inverseRotationMatrix[4]=c}else inverseRotationMatrix[0]=inverseRotationMatrix[4]=1,inverseRotationMatrix[1]=inverseRotationMatrix[3]=0;this.setMatrix3fv("uInverseRotationMatrix",
!1,inverseRotationMatrix);this.currentNormalMapRotation=rotation}},setTexture2D:function(texture,gameObject){var renderer=this.renderer;void 0===texture&&(texture=renderer.tempTextures[0]);var normalTexture=this.getNormalMap(gameObject);renderer.isNewNormalMap(texture,normalTexture)&&(this.flush(),renderer.setTextureZero(texture),renderer.setNormalMap(normalTexture));this.setNormalMapRotation(gameObject?gameObject.rotation:0);return this.currentUnit=0},setGameObject:function(gameObject,frame){void 0===
frame&&(frame=gameObject.frame);var renderer=this.renderer;frame=frame.glTexture;var normalTexture=this.getNormalMap(gameObject);renderer.isNewNormalMap()&&(this.flush(),renderer.setTextureZero(frame),renderer.setNormalMap(normalTexture));this.setNormalMapRotation(gameObject.rotation);return this.currentUnit=0},getNormalMap:function(gameObject){var normalTexture;gameObject?gameObject.displayTexture?normalTexture=gameObject.displayTexture.dataSource[gameObject.displayFrame.sourceIndex]:gameObject.texture?
normalTexture=gameObject.texture.dataSource[gameObject.frame.sourceIndex]:gameObject.tileset&&(normalTexture=Array.isArray(gameObject.tileset)?gameObject.tileset[0].image.dataSource[0]:gameObject.tileset.image.dataSource[0]):normalTexture=this.defaultNormalMap;normalTexture||(normalTexture=this.defaultNormalMap);return normalTexture.glTexture}});__webpack_require__.LIGHT_COUNT=LIGHT_COUNT;module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var GetFastValue=__webpack_require__(2),PointLightShaderSourceFS=__webpack_require__(876),PointLightShaderSourceVS=__webpack_require__(877),WebGLPipeline=__webpack_require__(57);__webpack_require__=new exports({Extends:WebGLPipeline,initialize:function(config){config.vertShader=GetFastValue(config,"vertShader",PointLightShaderSourceVS);config.fragShader=GetFastValue(config,"fragShader",PointLightShaderSourceFS);config.attributes=GetFastValue(config,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",
size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]);WebGLPipeline.call(this,config)},onRender:function(scene,camera){this.set2f("uResolution",this.width,this.height);this.set1f("uCameraZoom",camera.zoom)},batchPointLight:function(light,camera,x0,y0,x1,y1,x2,y2,x3,y3,lightX,lightY){var color=light.color,intensity=light.intensity,radius=light.radius,attenuation=light.attenuation,r=color.r*intensity,g=color.g*intensity;color=color.b*intensity;light=camera.alpha*
light.alpha;this.shouldFlush(6)&&this.flush();this.batchLightVert(x0,y0,lightX,lightY,radius,attenuation,r,g,color,light);this.batchLightVert(x1,y1,lightX,lightY,radius,attenuation,r,g,color,light);this.batchLightVert(x2,y2,lightX,lightY,radius,attenuation,r,g,color,light);this.batchLightVert(x0,y0,lightX,lightY,radius,attenuation,r,g,color,light);this.batchLightVert(x2,y2,lightX,lightY,radius,attenuation,r,g,color,light);this.batchLightVert(x3,y3,lightX,lightY,radius,attenuation,r,g,color,light)},
batchLightVert:function(x,y,lightX,lightY,radius,attenuation,r,g,b,a){var vertexViewF32=this.vertexViewF32,vertexOffset=this.vertexCount*this.currentShader.vertexComponentCount-1;vertexViewF32[++vertexOffset]=x;vertexViewF32[++vertexOffset]=y;vertexViewF32[++vertexOffset]=lightX;vertexViewF32[++vertexOffset]=lightY;vertexViewF32[++vertexOffset]=radius;vertexViewF32[++vertexOffset]=attenuation;vertexViewF32[++vertexOffset]=r;vertexViewF32[++vertexOffset]=g;vertexViewF32[++vertexOffset]=b;vertexViewF32[++vertexOffset]=
a;this.vertexCount++}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetFastValue=__webpack_require__(2),MultiPipeline=__webpack_require__(105);__webpack_require__=new exports({Extends:MultiPipeline,initialize:function(config){config.topology=5;config.batchSize=GetFastValue(config,"batchSize",256);MultiPipeline.call(this,config)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var GetFastValue=__webpack_require__(2),MultiPipeline=__webpack_require__(105),ShaderSourceFS=__webpack_require__(878),ShaderSourceVS=__webpack_require__(879),WebGLPipeline=__webpack_require__(57);__webpack_require__=new exports({Extends:MultiPipeline,initialize:function(config){config.fragShader=GetFastValue(config,"fragShader",ShaderSourceFS);config.vertShader=GetFastValue(config,"vertShader",ShaderSourceVS);config.forceZero=!0;MultiPipeline.call(this,config)},boot:function(){WebGLPipeline.prototype.boot.call(this);
this.set1i("uMainSampler",0)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var AddBlendFS=__webpack_require__(880),BlendModes=__webpack_require__(34);exports=__webpack_require__(0);var ColorMatrix=__webpack_require__(195),ColorMatrixFS=__webpack_require__(881),CopyFS=__webpack_require__(882),GetFastValue=__webpack_require__(2),LinearBlendFS=__webpack_require__(883),QuadVS=__webpack_require__(376),WebGLPipeline=__webpack_require__(57);__webpack_require__=new exports({Extends:WebGLPipeline,
initialize:function(config){config.renderTarget=GetFastValue(config,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]);config.vertShader=GetFastValue(config,"vertShader",QuadVS);config.shaders=GetFastValue(config,"shaders",[{name:"Copy",fragShader:CopyFS},{name:"AddBlend",fragShader:AddBlendFS},{name:"LinearBlend",fragShader:LinearBlendFS},{name:"ColorMatrix",fragShader:ColorMatrixFS}]);config.attributes=GetFastValue(config,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]);
config.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0];config.batchSize=1;WebGLPipeline.call(this,config);this.colorMatrix=new ColorMatrix},boot:function(){WebGLPipeline.prototype.boot.call(this);var shaders=this.shaders,targets=this.renderTargets;this.copyShader=shaders[0];this.addShader=shaders[1];this.linearShader=shaders[2];this.colorMatrixShader=shaders[3];this.fullFrame1=targets[0];this.fullFrame2=targets[1];this.halfFrame1=targets[2];this.halfFrame2=targets[3]},copyFrame:function(source,
target,brightness,clear,clearAlpha){void 0===brightness&&(brightness=1);void 0===clear&&(clear=!0);void 0===clearAlpha&&(clearAlpha=!0);var gl=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",brightness);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,source.texture);target?(gl.viewport(0,0,target.width,target.height),gl.bindFramebuffer(gl.FRAMEBUFFER,target.framebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,
target.texture,0)):gl.viewport(0,0,source.width,source.height);clear&&(clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT));gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW);gl.drawArrays(gl.TRIANGLES,0,6);gl.bindFramebuffer(gl.FRAMEBUFFER,null);gl.bindTexture(gl.TEXTURE_2D,null)},blitFrame:function(source,target,brightness,clear,clearAlpha,eraseMode){void 0===brightness&&(brightness=1);void 0===clear&&(clear=!0);void 0===clearAlpha&&(clearAlpha=!0);
void 0===eraseMode&&(eraseMode=!1);var gl=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",brightness);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,source.texture);source.height>target.height?(gl.viewport(0,0,source.width,source.height),this.setTargetUVs(source,target)):gl.viewport(0,target.height-source.height,source.width,source.height);gl.bindFramebuffer(gl.FRAMEBUFFER,target.framebuffer);gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,
gl.TEXTURE_2D,target.texture,0);clear&&(clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT));if(eraseMode){var blendMode=this.renderer.currentBlendMode;this.renderer.setBlendMode(BlendModes.ERASE)}gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW);gl.drawArrays(gl.TRIANGLES,0,6);eraseMode&&this.renderer.setBlendMode(blendMode);gl.bindFramebuffer(gl.FRAMEBUFFER,null);gl.bindTexture(gl.TEXTURE_2D,null);this.resetUVs()},copyFrameRect:function(source,target,
x,y,width,height,clear,clearAlpha){void 0===clear&&(clear=!0);void 0===clearAlpha&&(clearAlpha=!0);var gl=this.gl;gl.bindFramebuffer(gl.FRAMEBUFFER,source.framebuffer);gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,source.texture,0);clear&&(clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT));gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,target.texture);gl.copyTexSubImage2D(gl.TEXTURE_2D,0,0,0,x,y,width,height);gl.bindFramebuffer(gl.FRAMEBUFFER,
null);gl.bindTexture(gl.TEXTURE_2D,null)},copyToGame:function(source){var gl=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",1);this.renderer.popFramebuffer();gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,source.texture);gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW);gl.drawArrays(gl.TRIANGLES,0,6);this.renderer.resetTextures()},drawFrame:function(source,target,clearAlpha,colorMatrix){void 0===clearAlpha&&(clearAlpha=!0);void 0===
colorMatrix&&(colorMatrix=this.colorMatrix);var gl=this.gl;this.setShader(this.colorMatrixShader);this.set1i("uMainSampler",0);this.set1fv("uColorMatrix",colorMatrix.getData());this.set1f("uAlpha",colorMatrix.alpha);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,source.texture);target?(gl.viewport(0,0,target.width,target.height),gl.bindFramebuffer(gl.FRAMEBUFFER,target.framebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target.texture,0)):gl.viewport(0,
0,source.width,source.height);clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1);gl.clear(gl.COLOR_BUFFER_BIT);gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW);gl.drawArrays(gl.TRIANGLES,0,6);gl.bindFramebuffer(gl.FRAMEBUFFER,null);gl.bindTexture(gl.TEXTURE_2D,null)},blendFrames:function(source1,source2,target,strength,clearAlpha,blendShader){void 0===strength&&(strength=1);void 0===clearAlpha&&(clearAlpha=!0);void 0===blendShader&&(blendShader=this.linearShader);var gl=this.gl;
this.setShader(blendShader);this.set1i("uMainSampler1",0);this.set1i("uMainSampler2",1);this.set1f("uStrength",strength);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,source1.texture);gl.activeTexture(gl.TEXTURE1);gl.bindTexture(gl.TEXTURE_2D,source2.texture);target?(gl.bindFramebuffer(gl.FRAMEBUFFER,target.framebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target.texture,0),gl.viewport(0,0,target.width,target.height)):gl.viewport(0,0,source1.width,
source1.height);clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1);gl.clear(gl.COLOR_BUFFER_BIT);gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW);gl.drawArrays(gl.TRIANGLES,0,6);gl.bindFramebuffer(gl.FRAMEBUFFER,null);gl.bindTexture(gl.TEXTURE_2D,null)},blendFramesAdditive:function(source1,source2,target,strength,clearAlpha){this.blendFrames(source1,source2,target,strength,clearAlpha,this.addShader)},clearFrame:function(target,clearAlpha){void 0===clearAlpha&&(clearAlpha=!0);var gl=
this.gl;gl.viewport(0,0,target.width,target.height);gl.bindFramebuffer(gl.FRAMEBUFFER,target.framebuffer);clearAlpha?gl.clearColor(0,0,0,0):gl.clearColor(0,0,0,1);gl.clear(gl.COLOR_BUFFER_BIT);gl.bindFramebuffer(gl.FRAMEBUFFER,this.renderer.currentFramebuffer)},setUVs:function(uA,vA,uB,vB,uC,vC,uD,vD){var vertexViewF32=this.vertexViewF32;vertexViewF32[2]=uA;vertexViewF32[3]=vA;vertexViewF32[6]=uB;vertexViewF32[7]=vB;vertexViewF32[10]=uC;vertexViewF32[11]=vC;vertexViewF32[14]=uA;vertexViewF32[15]=
vA;vertexViewF32[18]=uC;vertexViewF32[19]=vC;vertexViewF32[22]=uD;vertexViewF32[23]=vD},setTargetUVs:function(source,target){source=target.height/source.height;source=.5<source?.5-(source-.5):.5+(.5-source);this.setUVs(0,source,0,1+source,1,1+source,1,source)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});module.exports=__webpack_require__},function(module,exports){module.exports="#define SHADER_NAME PHASER_QUAD_VS\n\nprecision mediump float;\n\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\n\nvarying vec2 outFragCoord;\nvarying vec2 outTexCoord;\n\nvoid main ()\n{\n    outFragCoord \x3d inPosition.xy * 0.5 + 0.5;\n    outTexCoord \x3d inTexCoord;\n\n    gl_Position \x3d vec4(inPosition, 0, 1);\n}\n"},
function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(31),Color=__webpack_require__(37),GetFastValue=__webpack_require__(2);module.exports=function(sourceCanvas,config){var gl=sourceCanvas.getContext("experimental-webgl"),callback=GetFastValue(config,"callback");sourceCanvas=GetFastValue(config,"type","image/png");var encoderOptions=GetFastValue(config,"encoder",.92),x=GetFastValue(config,"x",0),y=GetFastValue(config,"y",0),getPixel=GetFastValue(config,"getPixel",!1),isFramebuffer=
GetFastValue(config,"isFramebuffer",!1),bufferWidth=isFramebuffer?GetFastValue(config,"bufferWidth",1):gl.drawingBufferWidth,bufferHeight=isFramebuffer?GetFastValue(config,"bufferHeight",1):gl.drawingBufferHeight;if(getPixel)sourceCanvas=new Uint8Array(4),gl.readPixels(x,isFramebuffer?y:bufferHeight-y,1,1,gl.RGBA,gl.UNSIGNED_BYTE,sourceCanvas),callback.call(null,new Color(sourceCanvas[0],sourceCanvas[1],sourceCanvas[2],sourceCanvas[3]/255));else{isFramebuffer=GetFastValue(config,"width",bufferWidth);
config=GetFastValue(config,"height",bufferHeight);getPixel=new Uint8Array(isFramebuffer*config*4);gl.readPixels(x,bufferHeight-y-config,isFramebuffer,config,gl.RGBA,gl.UNSIGNED_BYTE,getPixel);var canvas=CanvasPool.createWebGL(this,isFramebuffer,config);gl=canvas.getContext("2d");x=gl.getImageData(0,0,isFramebuffer,config);y=x.data;for(bufferHeight=0;bufferHeight<config;bufferHeight++)for(bufferWidth=0;bufferWidth<isFramebuffer;bufferWidth++){var sourceIndex=4*((config-bufferHeight-1)*isFramebuffer+
bufferWidth),destIndex=4*(bufferHeight*isFramebuffer+bufferWidth);y[destIndex+0]=getPixel[sourceIndex+0];y[destIndex+1]=getPixel[sourceIndex+1];y[destIndex+2]=getPixel[sourceIndex+2];y[destIndex+3]=getPixel[sourceIndex+3]}gl.putImageData(x,0,0);var image=new Image;image.onerror=function(){callback.call(null);CanvasPool.remove(canvas)};image.onload=function(){callback.call(null,image);CanvasPool.remove(canvas)};image.src=canvas.toDataURL(sourceCanvas,encoderOptions)}}},function(module,exports,__webpack_require__){var CONST=
__webpack_require__(32);module.exports=function(game){var config=game.config;if(!config.hideBanner){var renderType="WebGL";config.renderType===CONST.CANVAS?renderType="Canvas":config.renderType===CONST.HEADLESS&&(renderType="Headless");var audioConfig=config.audio,deviceAudio=game.device.audio;audioConfig=deviceAudio.webAudio&&!audioConfig.disableWebAudio?"Web Audio":audioConfig.noAudio||!deviceAudio.webAudio&&!deviceAudio.audioData?"No Audio":"HTML5 Audio";if(game.device.browser.ie)window.console&&
console.log("Phaser v"+CONST.VERSION+" / https://phaser.io");else{var c="",args=[c];if(Array.isArray(config.bannerBackgroundColor)){var lastColor;config.bannerBackgroundColor.forEach(function(color){c=c.concat("%c ");args.push("background: "+color);lastColor=color});args[args.length-1]="color: "+config.bannerTextColor+"; background: "+lastColor}else c=c.concat("%c "),args.push("color: "+config.bannerTextColor+"; background: "+config.bannerBackgroundColor);args.push("background: transparent");config.gameTitle&&
(c=c.concat(config.gameTitle),config.gameVersion&&(c=c.concat(" v"+config.gameVersion)),config.hidePhaser||(c=c.concat(" / ")));config.hidePhaser||(c=c.concat("Phaser v"+CONST.VERSION+" ("+renderType+" | "+audioConfig+")"));c=c.concat(" %c "+config.gameURL);args[0]=c;console.log.apply(console,args)}}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetValue=__webpack_require__(6),NOOP=__webpack_require__(1),RequestAnimationFrame=__webpack_require__(380);__webpack_require__=
new exports({initialize:function(game,config){this.game=game;this.raf=new RequestAnimationFrame;this.running=this.started=!1;this.minFps=GetValue(config,"min",5);this.targetFps=GetValue(config,"target",60);this._min=1E3/this.minFps;this._target=1E3/this.targetFps;this.actualFps=this.targetFps;this.framesThisSecond=this.nextFpsUpdate=0;this.callback=NOOP;this.forceSetTimeOut=GetValue(config,"forceSetTimeOut",!1);this.frame=this.lastTime=this.startTime=this.time=0;this.inFocus=!0;this.deltaIndex=this.delta=
this._coolDown=this._pauseTime=0;this.deltaHistory=[];this.deltaSmoothingMax=GetValue(config,"deltaHistory",10);this.panicMax=GetValue(config,"panicMax",120);this.now=this.rawDelta=0;this.smoothStep=GetValue(config,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0;this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta();this.startTime+=this.time-this._pauseTime},resetDelta:function(){var now=window.performance.now();
this.lastTime=this.time=now;this.nextFpsUpdate=now+1E3;for(now=this.framesThisSecond=0;now<this.deltaSmoothingMax;now++)this.deltaHistory[now]=Math.min(this._target,this.deltaHistory[now]);this.deltaIndex=this.delta=0;this._coolDown=this.panicMax},start:function(callback){if(this.started)return this;this.running=this.started=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta();this.startTime=window.performance.now();this.callback=callback;this.raf.start(this.step.bind(this),
this.forceSetTimeOut,this._target)},step:function(){var time=window.performance.now();this.now=time;var before=time-this.lastTime;0>before&&(before=0);this.rawDelta=before;var idx=this.deltaIndex,history=this.deltaHistory,max=this.deltaSmoothingMax,dt=before;if(this.smoothStep){if(0<this._coolDown||!this.inFocus)this._coolDown--,dt=Math.min(dt,this._target);dt>this._min&&(dt=history[idx],dt=Math.min(dt,this._min));history[idx]=dt;this.deltaIndex++;this.deltaIndex>max&&(this.deltaIndex=0);for(idx=
before=0;idx<max;idx++)before+=history[idx];before/=max}this.delta=before;this.time+=this.rawDelta;time>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=time+1E3,this.framesThisSecond=0);this.framesThisSecond++;this.callback(time,before,before/this._target);this.lastTime=time;this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(seamless){this.running||(seamless&&(this.startTime+=
-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1E3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){this.started=this.running=!1;this.raf.stop();return this},destroy:function(){this.stop();this.callback=NOOP;this.game=this.raf=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var NOOP=__webpack_require__(1);__webpack_require__=new exports({initialize:function(){this.isRunning=!1;this.callback=NOOP;this.tick=0;this.isSetTimeOut=!1;this.timeOutID=null;this.target=this.lastTime=0;var _this=this;this.step=function step(){var timestamp=window.performance.now();_this.lastTime=_this.tick;_this.tick=timestamp;_this.callback(timestamp);_this.timeOutID=window.requestAnimationFrame(step)};this.stepTimeout=function stepTimeout(){var d=Date.now(),delay=Math.min(Math.max(2*
_this.target+_this.tick-d,0),_this.target);_this.lastTime=_this.tick;_this.tick=d;_this.callback(d);_this.timeOutID=window.setTimeout(stepTimeout,delay)}},start:function(callback,forceSetTimeOut,targetFPS){this.isRunning||(this.callback=callback,this.isSetTimeOut=forceSetTimeOut,this.target=targetFPS,this.isRunning=!0,this.timeOutID=forceSetTimeOut?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1;this.isSetTimeOut?clearTimeout(this.timeOutID):
window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop();this.callback=NOOP}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Events=__webpack_require__(22);module.exports=function(game){var hiddenVar,eventEmitter=game.events;void 0!==document.hidden?hiddenVar="visibilitychange":["webkit","moz","ms"].forEach(function(prefix){void 0!==document[prefix+"Hidden"]&&(document.hidden=function(){return document[prefix+"Hidden"]},hiddenVar=prefix+"visibilitychange")});
var onChange=function(event){document.hidden||"pause"===event.type?eventEmitter.emit(Events.HIDDEN):eventEmitter.emit(Events.VISIBLE)};hiddenVar&&document.addEventListener(hiddenVar,onChange,!1);window.onblur=function(){eventEmitter.emit(Events.BLUR)};window.onfocus=function(){eventEmitter.emit(Events.FOCUS)};window.focus&&game.config.autoFocus&&window.focus()}},function(module,exports,__webpack_require__){var Arne16=__webpack_require__(383),CanvasPool=__webpack_require__(31),GetValue=__webpack_require__(6);
module.exports=function(config){var data=GetValue(config,"data",[]),canvas=GetValue(config,"canvas",null),palette=GetValue(config,"palette",Arne16),pixelWidth=GetValue(config,"pixelWidth",1),pixelHeight=GetValue(config,"pixelHeight",pixelWidth),resizeCanvas=GetValue(config,"resizeCanvas",!0),clearCanvas=GetValue(config,"clearCanvas",!0),preRender=GetValue(config,"preRender",null);config=GetValue(config,"postRender",null);var width=Math.floor(Math.abs(data[0].length*pixelWidth)),height=Math.floor(Math.abs(data.length*
pixelHeight));canvas||(canvas=CanvasPool.create2D(this,width,height),clearCanvas=resizeCanvas=!1);resizeCanvas&&(canvas.width=width,canvas.height=height);resizeCanvas=canvas.getContext("2d");clearCanvas&&resizeCanvas.clearRect(0,0,width,height);preRender&&preRender(canvas,resizeCanvas);for(clearCanvas=0;clearCanvas<data.length;clearCanvas++)for(preRender=data[clearCanvas],width=0;width<preRender.length;width++)height=preRender[width],"."!==height&&" "!==height&&(resizeCanvas.fillStyle=palette[height],
resizeCanvas.fillRect(width*pixelWidth,clearCanvas*pixelHeight,pixelWidth,pixelHeight));config&&config(canvas,resizeCanvas);return canvas}},function(module,exports){module.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CubicBezier=__webpack_require__(352),Curve=__webpack_require__(90),
Vector2=__webpack_require__(3),CubicBezierCurve=new exports({Extends:Curve,initialize:function(p0,p1,p2,p3){Curve.call(this,"CubicBezierCurve");Array.isArray(p0)&&(p3=new Vector2(p0[6],p0[7]),p2=new Vector2(p0[4],p0[5]),p1=new Vector2(p0[2],p0[3]),p0=new Vector2(p0[0],p0[1]));this.p0=p0;this.p1=p1;this.p2=p2;this.p3=p3},getStartPoint:function(out){void 0===out&&(out=new Vector2);return out.copy(this.p0)},getResolution:function(divisions){return divisions},getPoint:function(t,out){void 0===out&&(out=
new Vector2);var p0=this.p0,p1=this.p1,p2=this.p2,p3=this.p3;return out.set(CubicBezier(t,p0.x,p1.x,p2.x,p3.x),CubicBezier(t,p0.y,p1.y,p2.y,p3.y))},draw:function(graphics,pointsTotal){void 0===pointsTotal&&(pointsTotal=32);pointsTotal=this.getPoints(pointsTotal);graphics.beginPath();graphics.moveTo(this.p0.x,this.p0.y);for(var i=1;i<pointsTotal.length;i++)graphics.lineTo(pointsTotal[i].x,pointsTotal[i].y);graphics.strokePath();return graphics},toJSON:function(){return{type:this.type,points:[this.p0.x,
this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});CubicBezierCurve.fromJSON=function(data){var points=data.points;data=new Vector2(points[0],points[1]);var p1=new Vector2(points[2],points[3]),p2=new Vector2(points[4],points[5]);points=new Vector2(points[6],points[7]);return new CubicBezierCurve(data,p1,p2,points)};module.exports=CubicBezierCurve},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Curve=__webpack_require__(90),DegToRad=__webpack_require__(35),
GetValue=__webpack_require__(6),RadToDeg=__webpack_require__(193),Vector2=__webpack_require__(3),EllipseCurve=new exports({Extends:Curve,initialize:function(x,y,xRadius,yRadius,startAngle,endAngle,clockwise,rotation){"object"===typeof x?(rotation=x,x=GetValue(rotation,"x",0),y=GetValue(rotation,"y",0),xRadius=GetValue(rotation,"xRadius",0),yRadius=GetValue(rotation,"yRadius",xRadius),startAngle=GetValue(rotation,"startAngle",0),endAngle=GetValue(rotation,"endAngle",360),clockwise=GetValue(rotation,
"clockwise",!1),rotation=GetValue(rotation,"rotation",0)):(void 0===yRadius&&(yRadius=xRadius),void 0===startAngle&&(startAngle=0),void 0===endAngle&&(endAngle=360),void 0===clockwise&&(clockwise=!1),void 0===rotation&&(rotation=0));Curve.call(this,"EllipseCurve");this.p0=new Vector2(x,y);this._xRadius=xRadius;this._yRadius=yRadius;this._startAngle=DegToRad(startAngle);this._endAngle=DegToRad(endAngle);this._clockwise=clockwise;this._rotation=DegToRad(rotation)},getStartPoint:function(out){void 0===
out&&(out=new Vector2);return this.getPoint(0,out)},getResolution:function(divisions){return 2*divisions},getPoint:function(t,out){void 0===out&&(out=new Vector2);for(var twoPi=2*Math.PI,deltaAngle=this._endAngle-this._startAngle,samePoints=Math.abs(deltaAngle)<Number.EPSILON;0>deltaAngle;)deltaAngle+=twoPi;for(;deltaAngle>twoPi;)deltaAngle-=twoPi;deltaAngle<Number.EPSILON&&(deltaAngle=samePoints?0:twoPi);this._clockwise&&!samePoints&&(deltaAngle=deltaAngle===twoPi?-twoPi:deltaAngle-twoPi);twoPi=
this._startAngle+t*deltaAngle;t=this.p0.x+this._xRadius*Math.cos(twoPi);var y=this.p0.y+this._yRadius*Math.sin(twoPi);0!==this._rotation&&(twoPi=Math.cos(this._rotation),deltaAngle=Math.sin(this._rotation),samePoints=t-this.p0.x,y-=this.p0.y,t=samePoints*twoPi-y*deltaAngle+this.p0.x,y=samePoints*deltaAngle+y*twoPi+this.p0.y);return out.set(t,y)},setXRadius:function(value){this.xRadius=value;return this},setYRadius:function(value){this.yRadius=value;return this},setWidth:function(value){this.xRadius=
value/2;return this},setHeight:function(value){this.yRadius=value/2;return this},setStartAngle:function(value){this.startAngle=value;return this},setEndAngle:function(value){this.endAngle=value;return this},setClockwise:function(value){this.clockwise=value;return this},setRotation:function(value){this.rotation=value;return this},x:{get:function(){return this.p0.x},set:function(value){this.p0.x=value}},y:{get:function(){return this.p0.y},set:function(value){this.p0.y=value}},xRadius:{get:function(){return this._xRadius},
set:function(value){this._xRadius=value}},yRadius:{get:function(){return this._yRadius},set:function(value){this._yRadius=value}},startAngle:{get:function(){return RadToDeg(this._startAngle)},set:function(value){this._startAngle=DegToRad(value)}},endAngle:{get:function(){return RadToDeg(this._endAngle)},set:function(value){this._endAngle=DegToRad(value)}},clockwise:{get:function(){return this._clockwise},set:function(value){this._clockwise=value}},angle:{get:function(){return RadToDeg(this._rotation)},
set:function(value){this._rotation=DegToRad(value)}},rotation:{get:function(){return this._rotation},set:function(value){this._rotation=value}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:RadToDeg(this._startAngle),endAngle:RadToDeg(this._endAngle),clockwise:this._clockwise,rotation:RadToDeg(this._rotation)}}});EllipseCurve.fromJSON=function(data){return new EllipseCurve(data)};module.exports=EllipseCurve},function(module,
exports,__webpack_require__){exports=__webpack_require__(0);var Curve=__webpack_require__(90),FromPoints=__webpack_require__(196),Rectangle=__webpack_require__(10),Vector2=__webpack_require__(3),tmpVec2=new Vector2,LineCurve=new exports({Extends:Curve,initialize:function(p0,p1){Curve.call(this,"LineCurve");Array.isArray(p0)&&(p1=new Vector2(p0[2],p0[3]),p0=new Vector2(p0[0],p0[1]));this.p0=p0;this.p1=p1;this.arcLengthDivisions=1},getBounds:function(out){void 0===out&&(out=new Rectangle);return FromPoints([this.p0,
this.p1],out)},getStartPoint:function(out){void 0===out&&(out=new Vector2);return out.copy(this.p0)},getResolution:function(divisions){void 0===divisions&&(divisions=1);return divisions},getPoint:function(t,out){void 0===out&&(out=new Vector2);if(1===t)return out.copy(this.p1);out.copy(this.p1).subtract(this.p0).scale(t).add(this.p0);return out},getPointAt:function(u,out){return this.getPoint(u,out)},getTangent:function(){return tmpVec2.copy(this.p1).subtract(this.p0).normalize()},getUtoTmapping:function(u,
distance,divisions){distance?(u=this.getLengths(divisions),u=u[u.length-1],distance=Math.min(distance,u)/u):distance=u;return distance},draw:function(graphics){graphics.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y);return graphics},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});LineCurve.fromJSON=function(data){var points=data.points;data=new Vector2(points[0],points[1]);points=new Vector2(points[2],points[3]);return new LineCurve(data,points)};
module.exports=LineCurve},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(x,y){this.active=!1;this.p0=new Vector2(x,y)},getPoint:function(t,out){void 0===out&&(out=new Vector2);return out.copy(this.p0)},getPointAt:function(u,out){return this.getPoint(u,out)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});
module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Curve=__webpack_require__(90),QuadraticBezierInterpolation=__webpack_require__(353),Vector2=__webpack_require__(3),QuadraticBezier=new exports({Extends:Curve,initialize:function(p0,p1,p2){Curve.call(this,"QuadraticBezier");Array.isArray(p0)&&(p2=new Vector2(p0[4],p0[5]),p1=new Vector2(p0[2],p0[3]),p0=new Vector2(p0[0],p0[1]));this.p0=p0;this.p1=p1;this.p2=p2},getStartPoint:function(out){void 0===
out&&(out=new Vector2);return out.copy(this.p0)},getResolution:function(divisions){return divisions},getPoint:function(t,out){void 0===out&&(out=new Vector2);var p0=this.p0,p1=this.p1,p2=this.p2;return out.set(QuadraticBezierInterpolation(t,p0.x,p1.x,p2.x),QuadraticBezierInterpolation(t,p0.y,p1.y,p2.y))},draw:function(graphics,pointsTotal){void 0===pointsTotal&&(pointsTotal=32);pointsTotal=this.getPoints(pointsTotal);graphics.beginPath();graphics.moveTo(this.p0.x,this.p0.y);for(var i=1;i<pointsTotal.length;i++)graphics.lineTo(pointsTotal[i].x,
pointsTotal[i].y);graphics.strokePath();return graphics},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});QuadraticBezier.fromJSON=function(data){var points=data.points;data=new Vector2(points[0],points[1]);var p1=new Vector2(points[2],points[3]);points=new Vector2(points[4],points[5]);return new QuadraticBezier(data,p1,points)};module.exports=QuadraticBezier},function(module,exports,__webpack_require__){var CatmullRom=__webpack_require__(191);
exports=__webpack_require__(0);var Curve=__webpack_require__(90),Vector2=__webpack_require__(3),SplineCurve=new exports({Extends:Curve,initialize:function(points){void 0===points&&(points=[]);Curve.call(this,"SplineCurve");this.points=[];this.addPoints(points)},addPoints:function(points){for(var i=0;i<points.length;i++){var p=new Vector2;"number"===typeof points[i]?(p.x=points[i],p.y=points[i+1],i++):Array.isArray(points[i])?(p.x=points[i][0],p.y=points[i][1]):(p.x=points[i].x,p.y=points[i].y);this.points.push(p)}return this},
addPoint:function(x,y){x=new Vector2(x,y);this.points.push(x);return x},getStartPoint:function(out){void 0===out&&(out=new Vector2);return out.copy(this.points[0])},getResolution:function(divisions){return divisions*this.points.length},getPoint:function(t,out){void 0===out&&(out=new Vector2);var points=this.points,point=(points.length-1)*t;t=Math.floor(point);point-=t;var p0=points[0===t?t:t-1],p1=points[t],p2=points[t>points.length-2?points.length-1:t+1];points=points[t>points.length-3?points.length-
1:t+2];return out.set(CatmullRom(point,p0.x,p1.x,p2.x,points.x),CatmullRom(point,p0.y,p1.y,p2.y,points.y))},toJSON:function(){for(var points=[],i=0;i<this.points.length;i++)points.push(this.points[i].x),points.push(this.points[i].y);return{type:this.type,points:points}}});SplineCurve.fromJSON=function(data){return new SplineCurve(data.points)};module.exports=SplineCurve},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(key,fragmentSrc,vertexSrc,
uniforms){fragmentSrc&&""!==fragmentSrc||(fragmentSrc="precision mediump float;\nuniform vec2 resolution;\nvarying vec2 fragCoord;\nvoid main () {\n    vec2 uv \x3d fragCoord / resolution.xy;\n    gl_FragColor \x3d vec4(uv.xyx, 1.0);\n}");vertexSrc&&""!==vertexSrc||(vertexSrc="precision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nvarying vec2 fragCoord;\nvarying vec2 outTexCoord;\nvoid main () {\n   gl_Position \x3d uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);\n   fragCoord \x3d vec2(inPosition.x, uResolution.y - inPosition.y);\n   outTexCoord \x3d vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);\n}");
void 0===uniforms&&(uniforms=null);this.key=key;this.fragmentSrc=fragmentSrc;this.vertexSrc=vertexSrc;this.uniforms=uniforms}});module.exports=exports},function(module,exports,__webpack_require__){exports=__webpack_require__(37);exports.ColorSpectrum=__webpack_require__(905);exports.ColorToRGBA=__webpack_require__(906);exports.ComponentToHex=__webpack_require__(392);exports.GetColor=__webpack_require__(100);exports.GetColor32=__webpack_require__(322);exports.HexStringToColor=__webpack_require__(321);
exports.HSLToColor=__webpack_require__(907);exports.HSVColorWheel=__webpack_require__(908);exports.HSVToRGB=__webpack_require__(185);exports.HueToComponent=__webpack_require__(393);exports.IntegerToColor=__webpack_require__(186);exports.IntegerToRGB=__webpack_require__(324);exports.Interpolate=__webpack_require__(909);exports.ObjectToColor=__webpack_require__(325);exports.RandomRGB=__webpack_require__(910);exports.RGBStringToColor=__webpack_require__(326);exports.RGBToHSV=__webpack_require__(323);
exports.RGBToString=__webpack_require__(911);exports.ValueToColor=__webpack_require__(184);module.exports=exports},function(module,exports){module.exports=function(color){color=color.toString(16);return 1===color.length?"0"+color:color}},function(module,exports){module.exports=function(p,q,t){0>t&&(t+=1);1<t&&--t;return t<1/6?p+6*(q-p)*t:.5>t?q:t<2/3?p+(q-p)*(2/3-t)*6:p}},function(module,exports,__webpack_require__){var OS=__webpack_require__(102);module.exports=function(callback){if("complete"===
document.readyState||"interactive"===document.readyState)callback();else{var check=function(){document.removeEventListener("deviceready",check,!0);document.removeEventListener("DOMContentLoaded",check,!0);window.removeEventListener("load",check,!0);callback()};document.body?OS.cordova?document.addEventListener("deviceready",check,!1):(document.addEventListener("DOMContentLoaded",check,!0),window.addEventListener("load",check,!0)):window.setTimeout(check,20)}}},function(module,exports){module.exports=
function(iOS){if(!iOS)return window.innerHeight;var axis=Math.abs(window.orientation),ruler=document.createElement("div");ruler.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0");document.documentElement.appendChild(ruler);iOS=90===axis?ruler.offsetHeight:window.innerWidth;axis=90===axis?window.innerWidth:ruler.offsetHeight;document.documentElement.removeChild(ruler);return 90!==Math.abs(window.orientation)?axis:iOS}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(198);
module.exports=function(width,height){var screen=window.screen;if((screen=screen?screen.orientation||screen.mozOrientation||screen.msOrientation:!1)&&"string"===typeof screen.type)return screen.type;if("string"===typeof screen)return screen;if("number"===typeof window.orientation)return 0===window.orientation||180===window.orientation?CONST.ORIENTATION.PORTRAIT:CONST.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return CONST.ORIENTATION.PORTRAIT;
if(window.matchMedia("(orientation: landscape)").matches)return CONST.ORIENTATION.LANDSCAPE}else return height>width?CONST.ORIENTATION.PORTRAIT:CONST.ORIENTATION.LANDSCAPE}},function(module,exports){module.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(module,exports){module.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(module,exports){module.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},
function(module,exports){module.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(module,exports){module.exports=function(element){var target;""!==element&&("string"===typeof element?target=document.getElementById(element):element&&1===element.nodeType&&(target=element));target||(target=document.body);return target}},function(module,exports){module.exports=function(data){var xml="";try{window.DOMParser?xml=(new DOMParser).parseFromString(data,"text/xml"):(xml=new ActiveXObject("Microsoft.XMLDOM"),
xml.loadXML(data))}catch(e){xml=null}return xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length?xml:null}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(200),EventEmitter=__webpack_require__(9),Events=__webpack_require__(49),GameEvents=__webpack_require__(22),Keyboard=__webpack_require__(404),Mouse=__webpack_require__(405),Pointer=__webpack_require__(406),Touch=__webpack_require__(407),TransformMatrix=__webpack_require__(25),
TransformXY=__webpack_require__(174);__webpack_require__=new exports({initialize:function(game,config){this.game=game;this.config=config;this.enabled=!0;this.events=new EventEmitter;this.isOver=!0;this.defaultCursor="";this.keyboard=config.inputKeyboard?new Keyboard(this):null;this.mouse=config.inputMouse?new Mouse(this):null;this.touch=config.inputTouch?new Touch(this):null;this.pointers=[];this.pointersTotal=config.inputActivePointers;config.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=
2);for(var i=0;i<=this.pointersTotal;i++){var pointer=new Pointer(this,i);pointer.smoothFactor=config.inputSmoothFactor;this.pointers.push(pointer)}this.mousePointer=config.inputMouse?this.pointers[0]:null;this.activePointer=this.pointers[0];this.globalTopOnly=!0;this.time=0;this._tempPoint={x:0,y:0};this._tempHitTest=[];this._tempMatrix=new TransformMatrix;this._tempMatrix2=new TransformMatrix;this._tempSkip=!1;this.mousePointerContainer=[this.mousePointer];game.events.once(GameEvents.BOOT,this.boot,
this)},boot:function(){this.canvas=this.game.canvas;this.scaleManager=this.game.scale;this.events.emit(Events.MANAGER_BOOT);this.game.events.on(GameEvents.PRE_RENDER,this.preRender,this);this.game.events.once(GameEvents.DESTROY,this.destroy,this)},setCanvasOver:function(event){this.isOver=!0;this.events.emit(Events.GAME_OVER,event)},setCanvasOut:function(event){this.isOver=!1;this.events.emit(Events.GAME_OUT,event)},preRender:function(){var time=this.game.loop.now,delta=this.game.loop.delta,scenes=
this.game.scene.getScenes(!0,!0);this.time=time;this.events.emit(Events.MANAGER_UPDATE);for(var i=0;i<scenes.length;i++){var scene=scenes[i];if(scene.sys.input&&scene.sys.input.updatePoll(time,delta)&&this.globalTopOnly)break}},setDefaultCursor:function(cursor){this.defaultCursor=cursor;this.canvas.style.cursor!==cursor&&(this.canvas.style.cursor=cursor)},setCursor:function(interactiveObject){interactiveObject.cursor&&(this.canvas.style.cursor=interactiveObject.cursor)},resetCursor:function(interactiveObject){interactiveObject.cursor&&
this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(quantity){void 0===quantity&&(quantity=1);var output=[];10<this.pointersTotal+quantity&&(quantity=10-this.pointersTotal);for(var i=0;i<quantity;i++){var pointer=new Pointer(this,this.pointers.length);pointer.smoothFactor=this.config.inputSmoothFactor;this.pointers.push(pointer);this.pointersTotal++;output.push(pointer)}return output},updateInputPlugins:function(type,pointers){var scenes=this.game.scene.getScenes(!0,!0);
this._tempSkip=!1;for(var i=0;i<scenes.length;i++){var scene=scenes[i];if(scene.sys.input&&(scene.sys.input.update(type,pointers)&&this.globalTopOnly||this._tempSkip))break}},onTouchStart:function(event){for(var pointers=this.pointers,changed=[],c=0;c<event.changedTouches.length;c++)for(var changedTouch=event.changedTouches[c],i=1;i<this.pointersTotal;i++){var pointer=pointers[i];if(!pointer.active){pointer.touchstart(changedTouch,event);this.activePointer=pointer;changed.push(pointer);break}}this.updateInputPlugins(CONST.TOUCH_START,
changed)},onTouchMove:function(event){for(var pointers=this.pointers,changed=[],c=0;c<event.changedTouches.length;c++)for(var changedTouch=event.changedTouches[c],i=1;i<this.pointersTotal;i++){var pointer=pointers[i];if(pointer.active&&pointer.identifier===changedTouch.identifier){pointer.touchmove(changedTouch,event);this.activePointer=pointer;changed.push(pointer);break}}this.updateInputPlugins(CONST.TOUCH_MOVE,changed)},onTouchEnd:function(event){for(var pointers=this.pointers,changed=[],c=0;c<
event.changedTouches.length;c++)for(var changedTouch=event.changedTouches[c],i=1;i<this.pointersTotal;i++){var pointer=pointers[i];if(pointer.active&&pointer.identifier===changedTouch.identifier){pointer.touchend(changedTouch,event);changed.push(pointer);break}}this.updateInputPlugins(CONST.TOUCH_END,changed)},onTouchCancel:function(event){for(var pointers=this.pointers,changed=[],c=0;c<event.changedTouches.length;c++)for(var changedTouch=event.changedTouches[c],i=1;i<this.pointersTotal;i++){var pointer=
pointers[i];if(pointer.active&&pointer.identifier===changedTouch.identifier){pointer.touchcancel(changedTouch,event);changed.push(pointer);break}}this.updateInputPlugins(CONST.TOUCH_CANCEL,changed)},onMouseDown:function(event){var mousePointer=this.mousePointer;mousePointer.down(event);mousePointer.updateMotion();this.activePointer=mousePointer;this.updateInputPlugins(CONST.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(event){var mousePointer=this.mousePointer;mousePointer.move(event);
mousePointer.updateMotion();this.activePointer=mousePointer;this.updateInputPlugins(CONST.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(event){var mousePointer=this.mousePointer;mousePointer.up(event);mousePointer.updateMotion();this.activePointer=mousePointer;this.updateInputPlugins(CONST.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(event){var mousePointer=this.mousePointer;mousePointer.wheel(event);this.activePointer=mousePointer;this.updateInputPlugins(CONST.MOUSE_WHEEL,
this.mousePointerContainer)},onPointerLockChange:function(event){var isLocked=this.mouse.locked;this.mousePointer.locked=isLocked;this.events.emit(Events.POINTERLOCK_CHANGE,event,isLocked)},inputCandidate:function(gameObject,camera){var input=gameObject.input;if(!input||!input.enabled||!input.alwaysEnabled&&!gameObject.willRender(camera))return!1;input=!0;if(gameObject=gameObject.parentContainer){do{if(!gameObject.willRender(camera)){input=!1;break}gameObject=gameObject.parentContainer}while(gameObject)
}return input},hitTest:function(pointer,gameObjects,camera,output){void 0===output&&(output=this._tempHitTest);var tempPoint=this._tempPoint,csx=camera.scrollX,csy=camera.scrollY;output.length=0;camera.getWorldPoint(pointer.x,pointer.y,tempPoint);pointer.worldX=tempPoint.x;pointer.worldY=tempPoint.y;pointer={x:0,y:0};for(var matrix=this._tempMatrix,parentMatrix=this._tempMatrix2,i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];if(this.inputCandidate(gameObject,camera)){var px=tempPoint.x+
csx*gameObject.scrollFactorX-csx,py=tempPoint.y+csy*gameObject.scrollFactorY-csy;gameObject.parentContainer?(gameObject.getWorldTransformMatrix(matrix,parentMatrix),matrix.applyInverse(px,py,pointer)):TransformXY(px,py,gameObject.x,gameObject.y,gameObject.rotation,gameObject.scaleX,gameObject.scaleY,pointer);this.pointWithinHitArea(gameObject,pointer.x,pointer.y)&&output.push(gameObject)}}return output},pointWithinHitArea:function(gameObject,x,y){x+=gameObject.displayOriginX;y+=gameObject.displayOriginY;
var input=gameObject.input;return input&&input.hitAreaCallback(input.hitArea,x,y,gameObject)?(input.localX=x,input.localY=y,!0):!1},pointWithinInteractiveObject:function(object,x,y){if(!object.hitArea)return!1;x+=object.gameObject.displayOriginX;y+=object.gameObject.displayOriginY;object.localX=x;object.localY=y;return object.hitAreaCallback(object.hitArea,x,y,object)},transformPointer:function(pointer,pageX,pageY,wasMove){var p0=pointer.position,p1=pointer.prevPosition;p1.x=p0.x;p1.y=p0.y;pageX=
this.scaleManager.transformX(pageX);pageY=this.scaleManager.transformY(pageY);pointer=pointer.smoothFactor;wasMove&&0!==pointer?(p0.x=pageX*pointer+p1.x*(1-pointer),p0.y=pageY*pointer+p1.y*(1-pointer)):(p0.x=pageX,p0.y=pageY)},destroy:function(){this.events.removeAllListeners();this.game.events.off(GameEvents.PRE_RENDER);this.keyboard&&this.keyboard.destroy();this.mouse&&this.mouse.destroy();this.touch&&this.touch.destroy();for(var i=0;i<this.pointers.length;i++)this.pointers[i].destroy();this.pointers=
[];this._tempHitTest=[];this._tempMatrix.destroy();this.game=this.canvas=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var ArrayRemove=__webpack_require__(89);exports=__webpack_require__(0);var GameEvents=__webpack_require__(22),InputEvents=__webpack_require__(49),KeyCodes=__webpack_require__(141),NOOP=__webpack_require__(1);__webpack_require__=new exports({initialize:function(inputManager){this.manager=inputManager;this.queue=[];this.preventDefault=!0;this.captures=
[];this.enabled=!1;this.onKeyUp=this.onKeyDown=NOOP;inputManager.events.once(InputEvents.MANAGER_BOOT,this.boot,this)},boot:function(){var config=this.manager.config;this.enabled=config.inputKeyboard;this.target=config.inputKeyboardEventTarget;this.addCapture(config.inputKeyboardCapture);!this.target&&window&&(this.target=window);this.enabled&&this.target&&this.startListeners();this.manager.game.events.on(GameEvents.POST_STEP,this.postUpdate,this)},startListeners:function(){var _this=this;this.onKeyDown=
function(event){if(!event.defaultPrevented&&_this.enabled&&_this.manager){_this.queue.push(event);_this.manager.events.emit(InputEvents.MANAGER_PROCESS);var modified=event.altKey||event.ctrlKey||event.shiftKey||event.metaKey;_this.preventDefault&&!modified&&-1<_this.captures.indexOf(event.keyCode)&&event.preventDefault()}};this.onKeyUp=function(event){if(!event.defaultPrevented&&_this.enabled&&_this.manager){_this.queue.push(event);_this.manager.events.emit(InputEvents.MANAGER_PROCESS);var modified=
event.altKey||event.ctrlKey||event.shiftKey||event.metaKey;_this.preventDefault&&!modified&&-1<_this.captures.indexOf(event.keyCode)&&event.preventDefault()}};var target=this.target;target&&(target.addEventListener("keydown",this.onKeyDown,!1),target.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var target=this.target;target.removeEventListener("keydown",this.onKeyDown,!1);target.removeEventListener("keyup",this.onKeyUp,!1);this.enabled=!1},postUpdate:function(){this.queue=
[]},addCapture:function(keycode){"string"===typeof keycode&&(keycode=keycode.split(","));Array.isArray(keycode)||(keycode=[keycode]);for(var captures=this.captures,i=0;i<keycode.length;i++){var code=keycode[i];"string"===typeof code&&(code=KeyCodes[code.trim().toUpperCase()]);-1===captures.indexOf(code)&&captures.push(code)}this.preventDefault=0<captures.length},removeCapture:function(keycode){"string"===typeof keycode&&(keycode=keycode.split(","));Array.isArray(keycode)||(keycode=[keycode]);for(var captures=
this.captures,i=0;i<keycode.length;i++){var code=keycode[i];"string"===typeof code&&(code=KeyCodes[code.toUpperCase()]);ArrayRemove(captures,code)}this.preventDefault=0<captures.length},clearCaptures:function(){this.captures=[];this.preventDefault=!1},destroy:function(){this.stopListeners();this.clearCaptures();this.queue=[];this.manager.game.events.off(GameEvents.POST_RENDER,this.postUpdate,this);this.target=null;this.enabled=!1;this.manager=null}});module.exports=__webpack_require__},function(module,
exports,__webpack_require__){exports=__webpack_require__(0);var Features=__webpack_require__(188),InputEvents=__webpack_require__(49),NOOP=__webpack_require__(1);__webpack_require__=new exports({initialize:function(inputManager){this.manager=inputManager;this.preventDefaultMove=this.preventDefaultUp=this.preventDefaultDown=!0;this.locked=this.enabled=this.preventDefaultWheel=!1;this.pointerLockChange=this.onMouseWheel=this.onMouseOut=this.onMouseOver=this.onMouseUpWindow=this.onMouseDownWindow=this.onMouseUp=
this.onMouseDown=this.onMouseMove=NOOP;this.isTop=!0;inputManager.events.once(InputEvents.MANAGER_BOOT,this.boot,this)},boot:function(){var config=this.manager.config;this.enabled=config.inputMouse;this.target=config.inputMouseEventTarget;this.passive=config.inputMousePassive;this.preventDefaultDown=config.inputMousePreventDefaultDown;this.preventDefaultUp=config.inputMousePreventDefaultUp;this.preventDefaultMove=config.inputMousePreventDefaultMove;this.preventDefaultWheel=config.inputMousePreventDefaultWheel;
this.target?"string"===typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas;config.disableContextMenu&&this.disableContextMenu();this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){document.body.addEventListener("contextmenu",function(event){event.preventDefault();return!1});return this},requestPointerLock:function(){if(Features.pointerLock){var element=this.target;element.requestPointerLock=element.requestPointerLock||
element.mozRequestPointerLock||element.webkitRequestPointerLock;element.requestPointerLock()}},releasePointerLock:function(){Features.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var target=this.target;if(target){var _this=this,manager=this.manager,canvas=manager.canvas,autoFocus=window&&window.focus&&manager.game.config.autoFocus;this.onMouseMove=function(event){!event.defaultPrevented&&
_this.enabled&&manager&&manager.enabled&&(manager.onMouseMove(event),_this.preventDefaultMove&&event.preventDefault())};this.onMouseDown=function(event){autoFocus&&window.focus();!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onMouseDown(event),_this.preventDefaultDown&&event.target===canvas&&event.preventDefault())};this.onMouseDownWindow=function(event){if(!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&event.target!==canvas)manager.onMouseDown(event)};
this.onMouseUp=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&(manager.onMouseUp(event),_this.preventDefaultUp&&event.target===canvas&&event.preventDefault())};this.onMouseUpWindow=function(event){if(!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&event.target!==canvas)manager.onMouseUp(event)};this.onMouseOver=function(event){!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled&&manager.setCanvasOver(event)};this.onMouseOut=function(event){!event.defaultPrevented&&
_this.enabled&&manager&&manager.enabled&&manager.setCanvasOut(event)};this.onMouseWheel=function(event){if(!event.defaultPrevented&&_this.enabled&&manager&&manager.enabled)manager.onMouseWheel(event);_this.preventDefaultWheel&&event.target===canvas&&event.preventDefault()};var passive={passive:!0};target.addEventListener("mousemove",this.onMouseMove);target.addEventListener("mousedown",this.onMouseDown);target.addEventListener("mouseup",this.onMouseUp);target.addEventListener("mouseover",this.onMouseOver,
passive);target.addEventListener("mouseout",this.onMouseOut,passive);this.preventDefaultWheel?target.addEventListener("wheel",this.onMouseWheel,{passive:!1}):target.addEventListener("wheel",this.onMouseWheel,passive);if(window&&manager.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,passive),window.top.addEventListener("mouseup",this.onMouseUpWindow,passive)}catch(exception){window.addEventListener("mousedown",this.onMouseDownWindow,passive),window.addEventListener("mouseup",
this.onMouseUpWindow,passive),this.isTop=!1}Features.pointerLock&&(this.pointerLockChange=function(event){var element=_this.target;_this.locked=document.pointerLockElement===element||document.mozPointerLockElement===element||document.webkitPointerLockElement===element?!0:!1;manager.onPointerLockChange(event)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",
this.pointerLockChange,!0));this.enabled=!0}},stopListeners:function(){var target=this.target;target.removeEventListener("mousemove",this.onMouseMove);target.removeEventListener("mousedown",this.onMouseDown);target.removeEventListener("mouseup",this.onMouseUp);target.removeEventListener("mouseover",this.onMouseOver);target.removeEventListener("mouseout",this.onMouseOut);window&&(target=this.isTop?window.top:window,target.removeEventListener("mousedown",this.onMouseDownWindow),target.removeEventListener("mouseup",
this.onMouseUpWindow));Features.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners();this.target=null;this.enabled=!1;this.manager=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Angle=__webpack_require__(343);exports=
__webpack_require__(0);var Distance=__webpack_require__(48),FuzzyEqual=__webpack_require__(123),SmoothStepInterpolation=__webpack_require__(354),Vector2=__webpack_require__(3),OS=__webpack_require__(102);__webpack_require__=new exports({initialize:function(manager,id){this.manager=manager;this.id=id;this.camera=null;this.buttons=this.button=0;this.position=new Vector2;this.prevPosition=new Vector2;this.midPoint=new Vector2(-1,-1);this.velocity=new Vector2;this.smoothFactor=this.distance=this.angle=
0;this.motionFactor=.2;this.upTime=this.upY=this.upX=this.downTime=this.downY=this.downX=this.moveTime=this.worldY=this.worldX=0;this.wasCanceled=this.wasTouch=this.isDown=this.primaryDown=!1;this.identifier=this.movementY=this.movementX=0;this.pointerId=null;this.active=0===id?!0:!1;this.locked=!1;this.deltaZ=this.deltaY=this.deltaX=0},updateWorldPoint:function(camera){camera=camera.getWorldPoint(this.x,this.y);this.worldX=camera.x;this.worldY=camera.y;return this},positionToCamera:function(camera,
output){return camera.getWorldPoint(this.x,this.y,output)},updateMotion:function(){var cx=this.position.x,cy=this.position.y,mx=this.midPoint.x,my=this.midPoint.y;if(cx!==mx||cy!==my){mx=SmoothStepInterpolation(this.motionFactor,mx,cx);my=SmoothStepInterpolation(this.motionFactor,my,cy);FuzzyEqual(mx,cx,.1)&&(mx=cx);FuzzyEqual(my,cy,.1)&&(my=cy);this.midPoint.set(mx,my);var dx=cx-mx,dy=cy-my;this.velocity.set(dx,dy);this.angle=Angle(mx,my,cx,cy);this.distance=Math.sqrt(dx*dx+dy*dy)}},up:function(event){"buttons"in
event&&(this.buttons=event.buttons);this.event=event;this.button=event.button;this.upElement=event.target;this.manager.transformPointer(this,event.pageX,event.pageY,!1);0===event.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y);0===this.buttons&&(this.isDown=!1,this.upTime=event.timeStamp,this.wasTouch=!1)},down:function(event){"buttons"in event&&(this.buttons=event.buttons);this.event=event;this.button=event.button;this.downElement=event.target;this.manager.transformPointer(this,event.pageX,
event.pageY,!1);0===event.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y);OS.macOS&&event.ctrlKey&&(this.buttons=2,this.primaryDown=!1);this.isDown||(this.isDown=!0,this.downTime=event.timeStamp);this.wasTouch=!1},move:function(event){"buttons"in event&&(this.buttons=event.buttons);this.event=event;this.manager.transformPointer(this,event.pageX,event.pageY,!0);this.locked&&(this.movementX=event.movementX||event.mozMovementX||event.webkitMovementX||0,this.movementY=event.movementY||
event.mozMovementY||event.webkitMovementY||0);this.moveTime=event.timeStamp;this.wasTouch=!1},wheel:function(event){"buttons"in event&&(this.buttons=event.buttons);this.event=event;this.manager.transformPointer(this,event.pageX,event.pageY,!1);this.deltaX=event.deltaX;this.deltaY=event.deltaY;this.deltaZ=event.deltaZ;this.wasTouch=!1},touchstart:function(touch,event){touch.pointerId&&(this.pointerId=touch.pointerId);this.identifier=touch.identifier;this.target=touch.target;this.active=!0;this.buttons=
1;this.event=event;this.downElement=touch.target;this.manager.transformPointer(this,touch.pageX,touch.pageY,!1);this.primaryDown=!0;this.downX=this.x;this.downY=this.y;this.downTime=event.timeStamp;this.wasTouch=this.isDown=!0;this.wasCanceled=!1;this.updateMotion()},touchmove:function(touch,event){this.event=event;this.manager.transformPointer(this,touch.pageX,touch.pageY,!0);this.moveTime=event.timeStamp;this.wasTouch=!0;this.updateMotion()},touchend:function(touch,event){this.buttons=0;this.event=
event;this.upElement=touch.target;this.manager.transformPointer(this,touch.pageX,touch.pageY,!1);this.primaryDown=!1;this.upX=this.x;this.upY=this.y;this.upTime=event.timeStamp;this.isDown=!1;this.wasTouch=!0;this.active=this.wasCanceled=!1;this.updateMotion()},touchcancel:function(touch,event){this.buttons=0;this.event=event;this.upElement=touch.target;this.manager.transformPointer(this,touch.pageX,touch.pageY,!1);this.primaryDown=!1;this.upX=this.x;this.upY=this.y;this.upTime=event.timeStamp;this.isDown=
!1;this.wasCanceled=this.wasTouch=!0;this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return this.buttons&1?!0:!1},rightButtonDown:function(){return this.buttons&2?!0:!1},middleButtonDown:function(){return this.buttons&4?!0:!1},backButtonDown:function(){return this.buttons&8?!0:!1},forwardButtonDown:function(){return this.buttons&16?!0:!1},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&
!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?Distance(this.downX,this.downY,this.x,this.y):Distance(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?
Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?Angle(this.downX,this.downY,this.x,this.y):Angle(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(steps,out){void 0===steps&&(steps=10);void 0===out&&(out=[]);for(var prevX=this.prevPosition.x,prevY=this.prevPosition.y,curX=this.position.x,curY=this.position.y,i=0;i<steps;i++){var t=
1/steps*i;out[i]={x:SmoothStepInterpolation(t,prevX,curX),y:SmoothStepInterpolation(t,prevY,curY)}}return out},destroy:function(){this.position=this.manager=this.camera=null},x:{get:function(){return this.position.x},set:function(value){this.position.x=value}},y:{get:function(){return this.position.y},set:function(value){this.position.y=value}},time:{get:function(){return this.event?this.event.timeStamp:0}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var InputEvents=__webpack_require__(49),NOOP=__webpack_require__(1);__webpack_require__=new exports({initialize:function(inputManager){this.manager=inputManager;this.capture=!0;this.enabled=!1;this.onTouchOut=this.onTouchOver=this.onTouchCancelWindow=this.onTouchCancel=this.onTouchEndWindow=this.onTouchEnd=this.onTouchMove=this.onTouchStartWindow=this.onTouchStart=NOOP;inputManager.events.once(InputEvents.MANAGER_BOOT,this.boot,this)},boot:function(){var config=this.manager.config;
this.enabled=config.inputTouch;this.target=config.inputTouchEventTarget;this.capture=config.inputTouchCapture;this.target||(this.target=this.manager.game.canvas);config.disableContextMenu&&this.disableContextMenu();this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){document.body.addEventListener("contextmenu",function(event){event.preventDefault();return!1});return this},startListeners:function(){var _this=this,canvas=this.manager.canvas,autoFocus=window&&window.focus&&
this.manager.game.config.autoFocus;this.onTouchStart=function(event){autoFocus&&window.focus();!event.defaultPrevented&&_this.enabled&&_this.manager&&_this.manager.enabled&&(_this.manager.onTouchStart(event),_this.capture&&event.cancelable&&event.target===canvas&&event.preventDefault())};this.onTouchStartWindow=function(event){if(!event.defaultPrevented&&_this.enabled&&_this.manager&&_this.manager.enabled&&event.target!==canvas)_this.manager.onTouchStart(event)};this.onTouchMove=function(event){!event.defaultPrevented&&
_this.enabled&&_this.manager&&_this.manager.enabled&&(_this.manager.onTouchMove(event),_this.capture&&event.cancelable&&event.preventDefault())};this.onTouchEnd=function(event){!event.defaultPrevented&&_this.enabled&&_this.manager&&_this.manager.enabled&&(_this.manager.onTouchEnd(event),_this.capture&&event.cancelable&&event.target===canvas&&event.preventDefault())};this.onTouchEndWindow=function(event){if(!event.defaultPrevented&&_this.enabled&&_this.manager&&_this.manager.enabled&&event.target!==
canvas)_this.manager.onTouchEnd(event)};this.onTouchCancel=function(event){!event.defaultPrevented&&_this.enabled&&_this.manager&&_this.manager.enabled&&(_this.manager.onTouchCancel(event),_this.capture&&event.preventDefault())};this.onTouchCancelWindow=function(event){if(!event.defaultPrevented&&_this.enabled&&_this.manager&&_this.manager.enabled)_this.manager.onTouchCancel(event)};this.onTouchOver=function(event){!event.defaultPrevented&&_this.enabled&&_this.manager&&_this.manager.enabled&&_this.manager.setCanvasOver(event)};
this.onTouchOut=function(event){!event.defaultPrevented&&_this.enabled&&_this.manager&&_this.manager.enabled&&_this.manager.setCanvasOut(event)};var target=this.target;if(target){var passive={passive:!0},nonPassive={passive:!1};target.addEventListener("touchstart",this.onTouchStart,this.capture?nonPassive:passive);target.addEventListener("touchmove",this.onTouchMove,this.capture?nonPassive:passive);target.addEventListener("touchend",this.onTouchEnd,this.capture?nonPassive:passive);target.addEventListener("touchcancel",
this.onTouchCancel,this.capture?nonPassive:passive);target.addEventListener("touchover",this.onTouchOver,this.capture?nonPassive:passive);target.addEventListener("touchout",this.onTouchOut,this.capture?nonPassive:passive);window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,nonPassive),window.addEventListener("touchend",this.onTouchEndWindow,nonPassive),window.addEventListener("touchcancel",this.onTouchCancelWindow,nonPassive));this.enabled=
!0}},stopListeners:function(){var target=this.target;target.removeEventListener("touchstart",this.onTouchStart);target.removeEventListener("touchmove",this.onTouchMove);target.removeEventListener("touchend",this.onTouchEnd);target.removeEventListener("touchcancel",this.onTouchCancel);target.removeEventListener("touchover",this.onTouchOver);target.removeEventListener("touchout",this.onTouchOut);window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",
this.onTouchEndWindow))},destroy:function(){this.stopListeners();this.target=null;this.enabled=!1;this.manager=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GameEvents=__webpack_require__(22),EventEmitter=__webpack_require__(9),FileTypesManager=__webpack_require__(8),GameObjectCreator=__webpack_require__(16),GameObjectFactory=__webpack_require__(5),GetFastValue=__webpack_require__(2),PluginCache=__webpack_require__(24),
Remove=__webpack_require__(89);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(game){EventEmitter.call(this);this.game=game;this.plugins=[];this.scenePlugins=[];this._pendingGlobal=[];this._pendingScene=[];if(game.isBooted)this.boot();else game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){var i,config=this.game.config,list=config.installGlobalPlugins;list=list.concat(this._pendingGlobal);for(i=0;i<list.length;i++){var entry=list[i];var key=GetFastValue(entry,
"key",null);var plugin=GetFastValue(entry,"plugin",null);var start=GetFastValue(entry,"start",!1);var mapping=GetFastValue(entry,"mapping",null);entry=GetFastValue(entry,"data",null);key&&(plugin?this.install(key,plugin,start,mapping,entry):console.warn("Missing `plugin` for key: "+key))}list=config.installScenePlugins;list=list.concat(this._pendingScene);for(i=0;i<list.length;i++)entry=list[i],key=GetFastValue(entry,"key",null),plugin=GetFastValue(entry,"plugin",null),mapping=GetFastValue(entry,
"mapping",null),key&&(plugin?this.installScenePlugin(key,plugin,mapping):console.warn("Missing `plugin` for key: "+key));this._pendingGlobal=[];this._pendingScene=[];this.game.events.once(GameEvents.DESTROY,this.destroy,this)},addToScene:function(sys,globalPlugins,scenePlugins){var i,game=this.game,scene=sys.scene,map=sys.settings.map,isBooted=sys.settings.isBooted;for(i=0;i<globalPlugins.length;i++){var pluginKey=globalPlugins[i];game[pluginKey]?(sys[pluginKey]=game[pluginKey],map.hasOwnProperty(pluginKey)&&
(scene[map[pluginKey]]=sys[pluginKey])):"game"===pluginKey&&map.hasOwnProperty(pluginKey)&&(scene[map[pluginKey]]=game)}for(game=0;game<scenePlugins.length;game++)for(globalPlugins=scenePlugins[game],i=0;i<globalPlugins.length;i++)if(pluginKey=globalPlugins[i],PluginCache.hasCore(pluginKey)){pluginKey=PluginCache.getCore(pluginKey);var plugin=new pluginKey.plugin(scene,this);sys[pluginKey.mapping]=plugin;pluginKey.custom?scene[pluginKey.mapping]=plugin:map.hasOwnProperty(pluginKey.mapping)&&(scene[map[pluginKey.mapping]]=
plugin);isBooted&&plugin.boot()}globalPlugins=this.plugins;for(i=0;i<globalPlugins.length;i++)sys=globalPlugins[i],sys.mapping&&(scene[sys.mapping]=sys.plugin)},getDefaultScenePlugins:function(){var list=this.game.config.defaultPlugins;return list=list.concat(this.scenePlugins)},installScenePlugin:function(key,plugin,mapping,addToScene,fromLoader){void 0===fromLoader&&(fromLoader=!1);if("function"!==typeof plugin)console.warn("Invalid Scene Plugin: "+key);else{if(!PluginCache.hasCore(key))PluginCache.register(key,
plugin,mapping,!0),this.scenePlugins.push(key);else if(!fromLoader&&PluginCache.hasCore(key)){console.warn("Scene Plugin key in use: "+key);return}addToScene&&(plugin=new plugin(addToScene,this),addToScene.sys[key]=plugin,mapping&&""!==mapping&&(addToScene[mapping]=plugin),plugin.boot())}},install:function(key,plugin,start,mapping,data){void 0===start&&(start=!1);void 0===mapping&&(mapping=null);void 0===data&&(data=null);if("function"!==typeof plugin)return console.warn("Invalid Plugin: "+key),null;
if(PluginCache.hasCustom(key))return console.warn("Plugin key in use: "+key),null;null!==mapping&&(start=!0);if(this.game.isBooted){if(PluginCache.registerCustom(key,plugin,mapping,data),start)return this.start(key)}else this._pendingGlobal.push({key:key,plugin:plugin,start:start,mapping:mapping,data:data});return null},getIndex:function(key){for(var list=this.plugins,i=0;i<list.length;i++)if(list[i].key===key)return i;return-1},getEntry:function(key){key=this.getIndex(key);if(-1!==key)return this.plugins[key]},
isActive:function(key){return(key=this.getEntry(key))&&key.active},start:function(key,runAs){void 0===runAs&&(runAs=key);var entry=this.getEntry(runAs);entry&&!entry.active?(entry.active=!0,entry.plugin.start()):entry||(entry=this.createEntry(key,runAs));return entry?entry.plugin:null},createEntry:function(key,runAs){if(key=PluginCache.getCustom(key)){var instance=new key.plugin(this);key={key:runAs,plugin:instance,active:!0,mapping:key.mapping,data:key.data};this.plugins.push(key);instance.init(key.data);
instance.start()}return key},stop:function(key){(key=this.getEntry(key))&&key.active&&(key.active=!1,key.plugin.stop());return this},get:function(key,autoStart){void 0===autoStart&&(autoStart=!0);var entry=this.getEntry(key);return entry?entry.plugin:(entry=this.getClass(key))&&autoStart?(entry=this.createEntry(key,key))?entry.plugin:null:entry?entry:null},getClass:function(key){return PluginCache.getCustomClass(key)},removeGlobalPlugin:function(key){var entry=this.getEntry(key);entry&&Remove(this.plugins,
entry);PluginCache.removeCustom(key)},removeScenePlugin:function(key){Remove(this.scenePlugins,key);PluginCache.remove(key)},registerGameObject:function(key,factoryCallback,creatorCallback){factoryCallback&&GameObjectFactory.register(key,factoryCallback);creatorCallback&&GameObjectCreator.register(key,creatorCallback);return this},removeGameObject:function(key,removeFromFactory,removeFromCreator){void 0===removeFromFactory&&(removeFromFactory=!0);void 0===removeFromCreator&&(removeFromCreator=!0);
removeFromFactory&&GameObjectFactory.remove(key);removeFromCreator&&GameObjectCreator.remove(key);return this},registerFileType:function(key,callback,addToScene){FileTypesManager.register(key,callback);addToScene&&addToScene.sys.load&&(addToScene.sys.load[key]=callback)},destroy:function(){for(var i=0;i<this.plugins.length;i++)this.plugins[i].plugin.destroy();PluginCache.destroyCustomPlugins();this.game.noReturn&&PluginCache.destroyCorePlugins();this.game=null;this.plugins=[];this.scenePlugins=[]}});
module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CONST=__webpack_require__(198);exports=__webpack_require__(0);var EventEmitter=__webpack_require__(9),Events=__webpack_require__(101),GameEvents=__webpack_require__(22),GetInnerHeight=__webpack_require__(395),GetTarget=__webpack_require__(401),GetScreenOrientation=__webpack_require__(396),NOOP=__webpack_require__(1),Rectangle=__webpack_require__(10),Size=__webpack_require__(410),SnapFloor=__webpack_require__(76),
Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(game){EventEmitter.call(this);this.game=game;this.canvasBounds=new Rectangle;this.parent=null;this.parentIsWindow=!1;this.parentSize=new Size;this.gameSize=new Size;this.baseSize=new Size;this.displaySize=new Size;this.scaleMode=CONST.SCALE_MODE.NONE;this.zoom=1;this._resetZoom=!1;this.displayScale=new Vector2(1,1);this.autoRound=!1;this.autoCenter=CONST.CENTER.NO_CENTER;this.orientation=CONST.ORIENTATION.LANDSCAPE;
this.fullscreenTarget=null;this.dirty=this._createdFullscreenTarget=!1;this.resizeInterval=500;this._lastCheck=0;this._checkOrientation=!1;this.listeners={orientationChange:NOOP,windowResize:NOOP,fullScreenChange:NOOP,fullScreenError:NOOP}},preBoot:function(){this.parseConfig(this.game.config);this.game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){var game=this.game;this.canvas=game.canvas;this.fullscreen=game.device.fullscreen;this.scaleMode!==CONST.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode);
this.scaleMode===CONST.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),0<this.parentSize.width&&0<this.parentSize.height&&this.displaySize.setParent(this.parentSize),this.refresh());game.events.on(GameEvents.PRE_STEP,this.step,this);game.events.once(GameEvents.READY,this.refresh,this);game.events.once(GameEvents.DESTROY,this.destroy,this);this.startListeners()},parseConfig:function(config){this.getParent(config);this.getParentBounds();var width=config.width,height=config.height,
scaleMode=config.scaleMode,zoom=config.zoom,autoRound=config.autoRound;if("string"===typeof width){var parentWidth=this.parentSize.width;0===parentWidth&&(parentWidth=window.innerWidth);width=parseInt(width,10)/100;width=Math.floor(parentWidth*width)}"string"===typeof height&&(parentWidth=this.parentSize.height,0===parentWidth&&(parentWidth=window.innerHeight),height=parseInt(height,10)/100,height=Math.floor(parentWidth*height));this.scaleMode=scaleMode;this.autoRound=autoRound;this.autoCenter=config.autoCenter;
this.resizeInterval=config.resizeInterval;autoRound&&(width=Math.floor(width),height=Math.floor(height));this.gameSize.setSize(width,height);zoom===CONST.ZOOM.MAX_ZOOM&&(zoom=this.getMaxZoom());this.zoom=zoom;1!==zoom&&(this._resetZoom=!0);this.baseSize.setSize(width,height);autoRound&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height));0<config.minWidth&&this.displaySize.setMin(config.minWidth*zoom,config.minHeight*zoom);0<config.maxWidth&&
this.displaySize.setMax(config.maxWidth*zoom,config.maxHeight*zoom);this.displaySize.setSize(width,height);this.orientation=GetScreenOrientation(width,height)},getParent:function(config){var parent=config.parent;null!==parent&&(this.parent=GetTarget(parent),this.parentIsWindow=this.parent===document.body,config.expandParent&&config.scaleMode!==CONST.SCALE_MODE.NONE&&(parent=this.parent.getBoundingClientRect(),this.parentIsWindow||0===parent.height)&&(document.documentElement.style.height="100%",document.body.style.height=
"100%",parent=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==parent.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%")),config.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=GetTarget(config.fullscreenTarget)))},getParentBounds:function(){if(!this.parent)return!1;var parentSize=this.parentSize,DOMRect=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(DOMRect.height=GetInnerHeight(!0));
var newWidth=DOMRect.width;DOMRect=DOMRect.height;return parentSize.width!==newWidth||parentSize.height!==DOMRect?(parentSize.setSize(newWidth,DOMRect),!0):!1},lockOrientation:function(orientation){var lock=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return lock?lock.call(screen,orientation):!1},setParentSize:function(width,height){this.parentSize.setSize(width,height);return this.refresh()},setGameSize:function(width,height){var autoRound=this.autoRound;autoRound&&
(width=Math.floor(width),height=Math.floor(height));var previousWidth=this.width,previousHeight=this.height;this.gameSize.resize(width,height);this.baseSize.resize(width,height);autoRound&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height));this.displaySize.setAspectRatio(width/height);this.canvas.width=this.baseSize.width;this.canvas.height=this.baseSize.height;return this.refresh(previousWidth,previousHeight)},resize:function(width,height){var zoom=
this.zoom,autoRound=this.autoRound;autoRound&&(width=Math.floor(width),height=Math.floor(height));var previousWidth=this.width,previousHeight=this.height;this.gameSize.resize(width,height);this.baseSize.resize(width,height);autoRound&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height));this.displaySize.setSize(width*zoom,height*zoom);this.canvas.width=this.baseSize.width;this.canvas.height=this.baseSize.height;var style=this.canvas.style,styleWidth=
width*zoom;zoom*=height;autoRound&&(styleWidth=Math.floor(styleWidth),zoom=Math.floor(zoom));if(styleWidth!==width||zoom!==height)style.width=styleWidth+"px",style.height=zoom+"px";return this.refresh(previousWidth,previousHeight)},setZoom:function(value){this.zoom=value;this._resetZoom=!0;return this.refresh()},setMaxZoom:function(){this.zoom=this.getMaxZoom();this._resetZoom=!0;return this.refresh()},refresh:function(previousWidth,previousHeight){void 0===previousWidth&&(previousWidth=this.width);
void 0===previousHeight&&(previousHeight=this.height);this.updateScale();this.updateBounds();this.updateOrientation();this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var domContainer=this.game.domContainer;if(domContainer){this.baseSize.setCSS(domContainer);var canvasStyle=this.canvas.style;domContainer=domContainer.style;domContainer.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+
")";domContainer.marginLeft=canvasStyle.marginLeft;domContainer.marginTop=canvasStyle.marginTop}this.emit(Events.RESIZE,this.gameSize,this.baseSize,this.displaySize,previousWidth,previousHeight);return this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var newOrientation=GetScreenOrientation(this.width,this.height);newOrientation!==this.orientation&&(this.orientation=newOrientation,this.emit(Events.ORIENTATION_CHANGE,newOrientation))}},updateScale:function(){var style=
this.canvas.style,width=this.gameSize.width,height=this.gameSize.height,zoom=this.zoom,autoRound=this.autoRound;this.scaleMode===CONST.SCALE_MODE.NONE?(this.displaySize.setSize(width*zoom,height*zoom),width=this.displaySize.width,height=this.displaySize.height,autoRound&&(width=Math.floor(width),height=Math.floor(height)),this._resetZoom&&(style.width=width+"px",style.height=height+"px",this._resetZoom=!1)):this.scaleMode===CONST.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),
this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),width=this.displaySize.width,height=this.displaySize.height,autoRound&&(width=Math.floor(width),height=Math.floor(height)),this.canvas.width=width,this.canvas.height=height):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),width=this.displaySize.width,height=this.displaySize.height,autoRound&&(width=Math.floor(width),height=Math.floor(height)),
style.width=width+"px",style.height=height+"px");this.getParentBounds();this.updateCenter()},getMaxZoom:function(){var zoomH=SnapFloor(this.parentSize.width,this.gameSize.width,0,!0),zoomV=SnapFloor(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(zoomH,zoomV),1)},updateCenter:function(){var autoCenter=this.autoCenter;if(autoCenter!==CONST.CENTER.NO_CENTER){var canvas=this.canvas,style=canvas.style,bounds=canvas.getBoundingClientRect();canvas=Math.floor((this.parentSize.width-
bounds.width)/2);bounds=Math.floor((this.parentSize.height-bounds.height)/2);autoCenter===CONST.CENTER.CENTER_HORIZONTALLY?bounds=0:autoCenter===CONST.CENTER.CENTER_VERTICALLY&&(canvas=0);style.marginLeft=canvas+"px";style.marginTop=bounds+"px"}},updateBounds:function(){var bounds=this.canvasBounds,clientRect=this.canvas.getBoundingClientRect();bounds.x=clientRect.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0);bounds.y=clientRect.top+(window.pageYOffset||0)-(document.documentElement.clientTop||
0);bounds.width=clientRect.width;bounds.height=clientRect.height},transformX:function(pageX){return(pageX-this.canvasBounds.left)*this.displayScale.x},transformY:function(pageY){return(pageY-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(fullscreenOptions){void 0===fullscreenOptions&&(fullscreenOptions={navigationUI:"hide"});var fullscreen=this.fullscreen;if(!fullscreen.available)this.emit(Events.FULLSCREEN_UNSUPPORTED);else if(!fullscreen.active){var fsTarget=this.getFullscreenTarget();
if(fullscreen.keyboard)fsTarget[fullscreen.request](Element.ALLOW_KEYBOARD_INPUT);else fsTarget[fullscreen.request](fullscreenOptions)}},fullscreenSuccessHandler:function(){this.getParentBounds();this.refresh();this.emit(Events.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(error){this.removeFullscreenTarget();this.emit(Events.FULLSCREEN_FAILED,error)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var fsTarget=document.createElement("div");fsTarget.style.margin="0";fsTarget.style.padding=
"0";fsTarget.style.width="100%";fsTarget.style.height="100%";this.fullscreenTarget=fsTarget;this._createdFullscreenTarget=!0}this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas));return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var fsTarget=this.fullscreenTarget;if(fsTarget&&fsTarget.parentNode){var parent=fsTarget.parentNode;parent.insertBefore(this.canvas,
fsTarget);parent.removeChild(fsTarget)}}},stopFullscreen:function(){var fullscreen=this.fullscreen;if(!fullscreen.available)return this.emit(Events.FULLSCREEN_UNSUPPORTED),!1;if(fullscreen.active)document[fullscreen.cancel]();this.removeFullscreenTarget();this.getParentBounds();this.emit(Events.LEAVE_FULLSCREEN);this.refresh()},toggleFullscreen:function(fullscreenOptions){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(fullscreenOptions)},startListeners:function(){var _this=this,
listeners=this.listeners;listeners.orientationChange=function(){_this.updateBounds();_this._checkOrientation=!0;_this.dirty=!0};listeners.windowResize=function(){_this.updateBounds();_this.dirty=!0};window.addEventListener("orientationchange",listeners.orientationChange,!1);window.addEventListener("resize",listeners.windowResize,!1);this.fullscreen.available&&(listeners.fullScreenChange=function(event){return _this.onFullScreenChange(event)},listeners.fullScreenError=function(event){return _this.onFullScreenError(event)},
["webkit","moz",""].forEach(function(prefix){document.addEventListener(prefix+"fullscreenchange",listeners.fullScreenChange,!1);document.addEventListener(prefix+"fullscreenerror",listeners.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",listeners.fullScreenChange,!1),document.addEventListener("MSFullscreenError",listeners.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?
this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(time,delta){this.parent&&(this._lastCheck+=delta,this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0)},stopListeners:function(){var listeners=this.listeners;window.removeEventListener("orientationchange",listeners.orientationChange,!1);window.removeEventListener("resize",listeners.windowResize,!1);["webkit",
"moz",""].forEach(function(prefix){document.removeEventListener(prefix+"fullscreenchange",listeners.fullScreenChange,!1);document.removeEventListener(prefix+"fullscreenerror",listeners.fullScreenError,!1)});document.removeEventListener("MSFullscreenChange",listeners.fullScreenChange,!1);document.removeEventListener("MSFullscreenError",listeners.fullScreenError,!1)},destroy:function(){this.removeAllListeners();this.stopListeners();this.fullscreenTarget=this.parent=this.canvasBounds=this.canvas=this.game=
null;this.parentSize.destroy();this.gameSize.destroy();this.baseSize.destroy();this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===CONST.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===CONST.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},
isGameLandscape:{get:function(){return this.width>this.height}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var SnapFloor=__webpack_require__(76),Vector2=__webpack_require__(3),Size=new exports({initialize:function(width,height,aspectMode,parent){void 0===width&&(width=0);void 0===height&&(height=width);void 0===aspectMode&&(aspectMode=0);void 0===parent&&(parent=null);this._width=width;this._height=
height;this._parent=parent;this.aspectMode=aspectMode;this.aspectRatio=0===height?1:width/height;this.minHeight=this.minWidth=0;this.maxHeight=this.maxWidth=Number.MAX_VALUE;this.snapTo=new Vector2},setAspectMode:function(value){void 0===value&&(value=0);this.aspectMode=value;return this.setSize(this._width,this._height)},setSnap:function(snapWidth,snapHeight){void 0===snapWidth&&(snapWidth=0);void 0===snapHeight&&(snapHeight=snapWidth);this.snapTo.set(snapWidth,snapHeight);return this.setSize(this._width,
this._height)},setParent:function(parent){this._parent=parent;return this.setSize(this._width,this._height)},setMin:function(width,height){void 0===width&&(width=0);void 0===height&&(height=width);this.minWidth=Clamp(width,0,this.maxWidth);this.minHeight=Clamp(height,0,this.maxHeight);return this.setSize(this._width,this._height)},setMax:function(width,height){void 0===width&&(width=Number.MAX_VALUE);void 0===height&&(height=width);this.maxWidth=Clamp(width,this.minWidth,Number.MAX_VALUE);this.maxHeight=
Clamp(height,this.minHeight,Number.MAX_VALUE);return this.setSize(this._width,this._height)},setSize:function(width,height){void 0===width&&(width=0);void 0===height&&(height=width);switch(this.aspectMode){case Size.NONE:this._width=this.getNewWidth(SnapFloor(width,this.snapTo.x));this._height=this.getNewHeight(SnapFloor(height,this.snapTo.y));this.aspectRatio=0===this._height?1:this._width/this._height;break;case Size.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(SnapFloor(width,this.snapTo.x));
this._height=this.getNewHeight(1/this.aspectRatio*this._width,!1);break;case Size.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(SnapFloor(height,this.snapTo.y));this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case Size.FIT:this.constrain(width,height,!0);break;case Size.ENVELOP:this.constrain(width,height,!1)}return this},setAspectRatio:function(ratio){this.aspectRatio=ratio;return this.setSize(this._width,this._height)},resize:function(width,height){this._width=this.getNewWidth(SnapFloor(width,
this.snapTo.x));this._height=this.getNewHeight(SnapFloor(height,this.snapTo.y));this.aspectRatio=0===this._height?1:this._width/this._height;return this},getNewWidth:function(value,checkParent){void 0===checkParent&&(checkParent=!0);value=Clamp(value,this.minWidth,this.maxWidth);checkParent&&this._parent&&value>this._parent.width&&(value=Math.max(this.minWidth,this._parent.width));return value},getNewHeight:function(value,checkParent){void 0===checkParent&&(checkParent=!0);value=Clamp(value,this.minHeight,
this.maxHeight);checkParent&&this._parent&&value>this._parent.height&&(value=Math.max(this.minHeight,this._parent.height));return value},constrain:function(width,height,fit){void 0===width&&(width=0);void 0===height&&(height=width);void 0===fit&&(fit=!0);width=this.getNewWidth(width);height=this.getNewHeight(height);var snap=this.snapTo,newRatio=0===height?1:width/height;if(fit&&this.aspectRatio>newRatio||!fit&&this.aspectRatio<newRatio)width=SnapFloor(width,snap.x),height=width/this.aspectRatio,
0<snap.y&&(height=SnapFloor(height,snap.y),width=height*this.aspectRatio);else if(fit&&this.aspectRatio<newRatio||!fit&&this.aspectRatio>newRatio)height=SnapFloor(height,snap.y),width=height*this.aspectRatio,0<snap.x&&(width=SnapFloor(width,snap.x),height=1/this.aspectRatio*width);this._width=width;this._height=height;return this},fitTo:function(width,height){return this.constrain(width,height,!0)},envelop:function(width,height){return this.constrain(width,height,!1)},setWidth:function(value){return this.setSize(value,
this._height)},setHeight:function(value){return this.setSize(this._width,value)},toString:function(){return"[{ Size (width\x3d"+this._width+" height\x3d"+this._height+" aspectRatio\x3d"+this.aspectRatio+" aspectMode\x3d"+this.aspectMode+") }]"},setCSS:function(element){element&&element.style&&(element.style.width=this._width+"px",element.style.height=this._height+"px")},copy:function(destination){destination.setAspectMode(this.aspectMode);destination.aspectRatio=this.aspectRatio;return destination.setSize(this.width,
this.height)},destroy:function(){this.snapTo=this._parent=null},width:{get:function(){return this._width},set:function(value){this.setSize(value,this._height)}},height:{get:function(){return this._height},set:function(value){this.setSize(this._width,value)}}});Size.NONE=0;Size.WIDTH_CONTROLS_HEIGHT=1;Size.HEIGHT_CONTROLS_WIDTH=2;Size.FIT=3;Size.ENVELOP=4;module.exports=Size},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(142),Events=__webpack_require__(21),
GameEvents=__webpack_require__(22),GetValue=__webpack_require__(6),LoaderEvents=__webpack_require__(91),NOOP=__webpack_require__(1),Scene=__webpack_require__(412),Systems=__webpack_require__(201);__webpack_require__=new exports({initialize:function(game,sceneConfig){this.game=game;this.keys={};this.scenes=[];this._pending=[];this._start=[];this._queue=[];this._data={};this.isBooted=this.isProcessing=!1;this.customViewports=0;if(sceneConfig){Array.isArray(sceneConfig)||(sceneConfig=[sceneConfig]);
for(var i=0;i<sceneConfig.length;i++)this._pending.push({key:"default",scene:sceneConfig[i],autoStart:0===i,data:{}})}game.events.once(GameEvents.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var i;for(i=0;i<this._pending.length;i++){var entry=this._pending[i];var key=entry.key;var sceneConfig=entry.scene;var newScene;sceneConfig instanceof Scene?newScene=this.createSceneFromInstance(key,sceneConfig):"object"===typeof sceneConfig?newScene=this.createSceneFromObject(key,sceneConfig):
"function"===typeof sceneConfig&&(newScene=this.createSceneFromFunction(key,sceneConfig));key=newScene.sys.settings.key;this.keys[key]=newScene;this.scenes.push(newScene);this._data[key]&&(newScene.sys.settings.data=this._data[key].data,this._data[key].autoStart&&(entry.autoStart=!0));(entry.autoStart||newScene.sys.settings.active)&&this._start.push(key)}this._pending.length=0;this._data={};this.isBooted=!0;for(i=0;i<this._start.length;i++)entry=this._start[i],this.start(entry);this._start.length=
0}},processQueue:function(){var pendingLength=this._pending.length,queueLength=this._queue.length;if(0!==pendingLength||0!==queueLength)if(pendingLength){for(queueLength=0;queueLength<pendingLength;queueLength++){var entry=this._pending[queueLength];this.add(entry.key,entry.scene,entry.autoStart,entry.data)}for(queueLength=0;queueLength<this._start.length;queueLength++)entry=this._start[queueLength],this.start(entry);this._start.length=0;this._pending.length=0}else{for(queueLength=0;queueLength<this._queue.length;queueLength++)entry=
this._queue[queueLength],this[entry.op](entry.keyA,entry.keyB);this._queue.length=0}},add:function(key,sceneConfig,autoStart,data){void 0===autoStart&&(autoStart=!1);void 0===data&&(data={});if(this.isProcessing||!this.isBooted)return this._pending.push({key:key,scene:sceneConfig,autoStart:autoStart,data:data}),this.isBooted||(this._data[key]={data:data}),null;key=this.getKey(key,sceneConfig);if(sceneConfig instanceof Scene)var newScene=this.createSceneFromInstance(key,sceneConfig);else"object"===
typeof sceneConfig?(sceneConfig.key=key,newScene=this.createSceneFromObject(key,sceneConfig)):"function"===typeof sceneConfig&&(newScene=this.createSceneFromFunction(key,sceneConfig));newScene.sys.settings.data=data;key=newScene.sys.settings.key;this.keys[key]=newScene;this.scenes.push(newScene);if(autoStart||newScene.sys.settings.active)this._pending.length?this._start.push(key):this.start(key);return newScene},remove:function(key){if(this.isProcessing)this._queue.push({op:"remove",keyA:key,keyB:null});
else{key=this.getScene(key);if(!key||key.sys.isTransitioning())return this;var index=this.scenes.indexOf(key),sceneKey=key.sys.settings.key;-1<index&&(delete this.keys[sceneKey],this.scenes.splice(index,1),-1<this._start.indexOf(sceneKey)&&(index=this._start.indexOf(sceneKey),this._start.splice(index,1)),key.sys.destroy())}return this},bootScene:function(scene){var sys=scene.sys,settings=sys.settings;sys.sceneUpdate=NOOP;scene.init&&(scene.init.call(scene,settings.data),settings.status=CONST.INIT,
settings.isTransition&&sys.events.emit(Events.TRANSITION_INIT,settings.transitionFrom,settings.transitionDuration));if(sys.load){var loader=sys.load;loader.reset()}loader&&scene.preload?(scene.preload.call(scene),0===loader.list.size?this.create(scene):(settings.status=CONST.LOADING,loader.once(LoaderEvents.COMPLETE,this.loadComplete,this),loader.start())):this.create(scene)},loadComplete:function(loader){loader=loader.scene;this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock();
this.create(loader)},payloadComplete:function(loader){this.bootScene(loader.scene)},update:function(time,delta){this.processQueue();this.isProcessing=!0;for(var i=this.scenes.length-1;0<=i;i--){var sys=this.scenes[i].sys;sys.settings.status>CONST.START&&sys.settings.status<=CONST.RUNNING&&sys.step(time,delta)}},render:function(renderer){for(var i=0;i<this.scenes.length;i++){var sys=this.scenes[i].sys;sys.settings.visible&&sys.settings.status>=CONST.LOADING&&sys.settings.status<CONST.SLEEPING&&sys.render(renderer)}this.isProcessing=
!1},create:function(scene){var sys=scene.sys,settings=sys.settings;if(scene.create&&(settings.status=CONST.CREATING,scene.create.call(scene,settings.data),settings.status===CONST.DESTROYED))return;settings.isTransition&&sys.events.emit(Events.TRANSITION_START,settings.transitionFrom,settings.transitionDuration);scene.update&&(sys.sceneUpdate=scene.update);settings.status=CONST.RUNNING;sys.events.emit(Events.CREATE,scene)},createSceneFromFunction:function(key,scene){scene=new scene;if(scene instanceof
Scene){var configKey=scene.sys.settings.key;""!==configKey&&(key=configKey);if(this.keys.hasOwnProperty(key))throw Error("Cannot add a Scene with duplicate key: "+key);return this.createSceneFromInstance(key,scene)}scene.sys=new Systems(scene);scene.sys.settings.key=key;scene.sys.init(this.game);return scene},createSceneFromInstance:function(key,newScene){""===newScene.sys.settings.key&&(newScene.sys.settings.key=key);newScene.sys.init(this.game);return newScene},createSceneFromObject:function(key,
sceneConfig){var newScene=new Scene(sceneConfig);""===newScene.sys.settings.key&&(newScene.sys.settings.key=key);newScene.sys.init(this.game);key=["init","preload","create","update","render"];for(var i=0;i<key.length;i++){var sceneCallback=GetValue(sceneConfig,key[i],null);sceneCallback&&(newScene[key[i]]=sceneCallback)}if(sceneConfig.hasOwnProperty("extend"))for(var propertyKey in sceneConfig.extend)sceneConfig.extend.hasOwnProperty(propertyKey)&&(key=sceneConfig.extend[propertyKey],"data"===propertyKey&&
newScene.hasOwnProperty("data")&&"object"===typeof key?newScene.data.merge(key):"sys"!==propertyKey&&(newScene[propertyKey]=key));return newScene},getKey:function(key,sceneConfig){key||(key="default");if("function"===typeof sceneConfig)return key;sceneConfig instanceof Scene?key=sceneConfig.sys.settings.key:"object"===typeof sceneConfig&&sceneConfig.hasOwnProperty("key")&&(key=sceneConfig.key);if(this.keys.hasOwnProperty(key))throw Error("Cannot add a Scene with duplicate key: "+key);return key},
getScenes:function(isActive,inReverse){void 0===isActive&&(isActive=!0);void 0===inReverse&&(inReverse=!1);for(var out=[],scenes=this.scenes,i=0;i<scenes.length;i++){var scene=scenes[i];scene&&(!isActive||isActive&&scene.sys.isActive())&&out.push(scene)}return inReverse?out.reverse():out},getScene:function(key){if("string"===typeof key){if(this.keys[key])return this.keys[key]}else for(var i=0;i<this.scenes.length;i++)if(key===this.scenes[i])return key;return null},isActive:function(key){return(key=
this.getScene(key))?key.sys.isActive():null},isPaused:function(key){return(key=this.getScene(key))?key.sys.isPaused():null},isVisible:function(key){return(key=this.getScene(key))?key.sys.isVisible():null},isSleeping:function(key){return(key=this.getScene(key))?key.sys.isSleeping():null},pause:function(key,data){(key=this.getScene(key))&&key.sys.pause(data);return this},resume:function(key,data){(key=this.getScene(key))&&key.sys.resume(data);return this},sleep:function(key,data){(key=this.getScene(key))&&
!key.sys.isTransitioning()&&key.sys.sleep(data);return this},wake:function(key,data){(key=this.getScene(key))&&key.sys.wake(data);return this},run:function(key,data){var scene=this.getScene(key);if(!scene){for(scene=0;scene<this._pending.length;scene++)if(this._pending[scene].key===key){this.queueOp("start",key,data);break}return this}scene.sys.isSleeping()?scene.sys.wake(data):scene.sys.isPaused()?scene.sys.resume(data):this.start(key,data)},start:function(key,data){if(!this.isBooted)return this._data[key]=
{autoStart:!0,data:data},this;if(key=this.getScene(key)){var sys=key.sys;if(sys.isActive()||sys.isPaused())sys.shutdown(),sys.sceneUpdate=NOOP,sys.start(data);else{sys.sceneUpdate=NOOP;sys.start(data);if(sys.load)var loader=sys.load;if(loader&&sys.settings.hasOwnProperty("pack")&&(loader.reset(),loader.addPack({payload:sys.settings.pack})))return sys.settings.status=CONST.LOADING,loader.once(LoaderEvents.COMPLETE,this.payloadComplete,this),loader.start(),this}this.bootScene(key)}return this},stop:function(key,
data){(key=this.getScene(key))&&!key.sys.isTransitioning()&&key.sys.shutdown(data);return this},switch:function(from,to){var sceneA=this.getScene(from),sceneB=this.getScene(to);sceneA&&sceneB&&sceneA!==sceneB&&(this.sleep(from),this.isSleeping(to)?this.wake(to):this.start(to));return this},getAt:function(index){return this.scenes[index]},getIndex:function(key){key=this.getScene(key);return this.scenes.indexOf(key)},bringToTop:function(key){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:key,
keyB:null});else{var index=this.getIndex(key);-1!==index&&index<this.scenes.length&&(key=this.getScene(key),this.scenes.splice(index,1),this.scenes.push(key))}return this},sendToBack:function(key){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:key,keyB:null});else{var index=this.getIndex(key);-1!==index&&0<index&&(key=this.getScene(key),this.scenes.splice(index,1),this.scenes.unshift(key))}return this},moveDown:function(key){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:key,
keyB:null});else{var indexA=this.getIndex(key);if(0<indexA){var indexB=indexA-1;key=this.getScene(key);var sceneB=this.getAt(indexB);this.scenes[indexA]=sceneB;this.scenes[indexB]=key}}return this},moveUp:function(key){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:key,keyB:null});else{var indexA=this.getIndex(key);if(indexA<this.scenes.length-1){var indexB=indexA+1;key=this.getScene(key);var sceneB=this.getAt(indexB);this.scenes[indexA]=sceneB;this.scenes[indexB]=key}}return this},moveAbove:function(keyA,
keyB){if(keyA===keyB)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:keyA,keyB:keyB});else if(keyA=this.getIndex(keyA),keyB=this.getIndex(keyB),-1!==keyA&&-1!==keyB){var tempScene=this.getAt(keyB);this.scenes.splice(keyB,1);this.scenes.splice(keyA+1,0,tempScene)}return this},moveBelow:function(keyA,keyB){if(keyA===keyB)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:keyA,keyB:keyB});else if(keyA=this.getIndex(keyA),keyB=this.getIndex(keyB),-1!==keyA&&
-1!==keyB){var tempScene=this.getAt(keyB);this.scenes.splice(keyB,1);0===keyA?this.scenes.unshift(tempScene):this.scenes.splice(keyA,0,tempScene)}return this},queueOp:function(op,keyA,keyB){this._queue.push({op:op,keyA:keyA,keyB:keyB});return this},swapPosition:function(keyA,keyB){if(keyA===keyB)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:keyA,keyB:keyB});else if(keyA=this.getIndex(keyA),keyB=this.getIndex(keyB),keyA!==keyB&&-1!==keyA&&-1!==keyB){var tempScene=this.getAt(keyA);
this.scenes[keyA]=this.scenes[keyB];this.scenes[keyB]=tempScene}return this},dump:function(){for(var out=[],map="pending init start loading creating running paused sleeping shutdown destroyed".split(" "),i=0;i<this.scenes.length;i++){var sys=this.scenes[i].sys,key=!sys.settings.visible||sys.settings.status!==CONST.RUNNING&&sys.settings.status!==CONST.PAUSED?"[-] ":"[*] ";key+=sys.settings.key+" ("+map[sys.settings.status]+")";out.push(key)}console.log(out.join("\n"))},destroy:function(){for(var i=
0;i<this.scenes.length;i++)this.scenes[i].sys.destroy();this.update=NOOP;this.scenes=[];this._pending=[];this._start=[];this._queue=[];this.game=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Systems=__webpack_require__(201);__webpack_require__=new exports({initialize:function(config){this.sys=new Systems(this,config)},update:function(){}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var GetFastValue=
__webpack_require__(2),UppercaseFirst=__webpack_require__(202);module.exports=function(sys){var defaultSystem=sys.game.config.defaultPhysicsSystem;sys=GetFastValue(sys.settings,"physics",!1);if(defaultSystem||sys){var output=[];defaultSystem&&output.push(UppercaseFirst(defaultSystem+"Physics"));if(sys)for(var key in sys)key=UppercaseFirst(key.concat("Physics")),-1===output.indexOf(key)&&output.push(key);return output}}},function(module,exports,__webpack_require__){var GetFastValue=__webpack_require__(2);
module.exports=function(sys){var defaultPlugins=sys.plugins.getDefaultScenePlugins();sys=GetFastValue(sys.settings,"plugins",!1);return Array.isArray(sys)?sys:defaultPlugins?defaultPlugins:[]}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(142),GetValue=__webpack_require__(6),Merge=__webpack_require__(143),InjectionMap=__webpack_require__(974);module.exports={create:function(config){"string"===typeof config?config={key:config}:void 0===config&&(config={});return{status:CONST.PENDING,
key:GetValue(config,"key",""),active:GetValue(config,"active",!1),visible:GetValue(config,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:GetValue(config,"pack",!1),cameras:GetValue(config,"cameras",null),map:GetValue(config,"map",Merge(InjectionMap,GetValue(config,"mapAdd",{}))),physics:GetValue(config,"physics",{}),loader:GetValue(config,"loader",{}),plugins:GetValue(config,"plugins",!1),input:GetValue(config,"input",{})}}}},
function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(31),CanvasTexture=__webpack_require__(417);exports=__webpack_require__(0);var Color=__webpack_require__(37),CONST=__webpack_require__(32),EventEmitter=__webpack_require__(9),Events=__webpack_require__(103),GameEvents=__webpack_require__(22),GenerateTexture=__webpack_require__(382),GetValue=__webpack_require__(6),Parser=__webpack_require__(419),Texture=__webpack_require__(203);__webpack_require__=new exports({Extends:EventEmitter,
initialize:function(game){EventEmitter.call(this);this.game=game;this.name="TextureManager";this.list={};this._tempCanvas=CanvasPool.create2D(this,1,1);this._tempContext=this._tempCanvas.getContext("2d");this._pending=0;game.events.once(GameEvents.BOOT,this.boot,this)},boot:function(){this.on(Events.LOAD,this.updatePending,this);this.on(Events.ERROR,this.updatePending,this);var config=this.game.config;this.addBase64("__DEFAULT",config.defaultImage);this.addBase64("__MISSING",config.missingImage);
this.addBase64("__WHITE",config.whiteImage);this._pending=3;this.game.events.once(GameEvents.DESTROY,this.destroy,this)},updatePending:function(){this._pending--;0===this._pending&&(this.off(Events.LOAD),this.off(Events.ERROR),this.emit(Events.READY))},checkKey:function(key){return this.exists(key)?(console.error("Texture key already in use: "+key),!1):!0},remove:function(key){if("string"===typeof key)if(this.exists(key))key=this.get(key);else return console.warn("No texture found matching key: "+
key),this;this.list.hasOwnProperty(key.key)&&(key.destroy(),this.emit(Events.REMOVE,key.key));return this},removeKey:function(key){this.list.hasOwnProperty(key)&&delete this.list[key];return this},addBase64:function(key,data){if(this.checkKey(key)){var _this=this,image=new Image;image.onerror=function(){_this.emit(Events.ERROR,key)};image.onload=function(){var texture=_this.create(key,image);Parser.Image(texture,0);_this.emit(Events.ADD,key,texture);_this.emit(Events.LOAD,key,texture)};image.src=
data}return this},getBase64:function(key,frame,type,encoderOptions){void 0===type&&(type="image/png");void 0===encoderOptions&&(encoderOptions=.92);var data="";(key=this.getFrame(key,frame))&&(key.source.isRenderTexture||key.source.isGLTexture)?console.warn("Cannot getBase64 from WebGL Texture"):key&&(data=key.canvasData,frame=CanvasPool.create2D(this,data.width,data.height),frame.getContext("2d").drawImage(key.source.image,data.x,data.y,data.width,data.height,0,0,data.width,data.height),data=frame.toDataURL(type,
encoderOptions),CanvasPool.remove(frame));return data},addImage:function(key,source,dataSource){var texture=null;this.checkKey(key)&&(texture=this.create(key,source),Parser.Image(texture,0),dataSource&&texture.setDataSource(dataSource),this.emit(Events.ADD,key,texture));return texture},addGLTexture:function(key,glTexture,width,height){var texture=null;this.checkKey(key)&&(void 0===width&&(width=glTexture.width),void 0===height&&(height=glTexture.height),texture=this.create(key,glTexture,width,height),
texture.add("__BASE",0,0,0,width,height),this.emit(Events.ADD,key,texture));return texture},addRenderTexture:function(key,renderTexture){var texture=null;this.checkKey(key)&&(texture=this.create(key,renderTexture),texture.add("__BASE",0,0,0,renderTexture.width,renderTexture.height),this.emit(Events.ADD,key,texture));return texture},generate:function(key,config){if(this.checkKey(key)){var canvas=CanvasPool.create(this,1,1);config.canvas=canvas;GenerateTexture(config);return this.addCanvas(key,canvas)}return null},
createCanvas:function(key,width,height){void 0===width&&(width=256);void 0===height&&(height=256);return this.checkKey(key)?(width=CanvasPool.create(this,width,height,CONST.CANVAS,!0),this.addCanvas(key,width)):null},addCanvas:function(key,source,skipCache){void 0===skipCache&&(skipCache=!1);var texture=null;skipCache?texture=new CanvasTexture(this,key,source,source.width,source.height):this.checkKey(key)&&(texture=new CanvasTexture(this,key,source,source.width,source.height),this.list[key]=texture,
this.emit(Events.ADD,key,texture));return texture},addAtlas:function(key,source,data,dataSource){return Array.isArray(data.textures)||Array.isArray(data.frames)?this.addAtlasJSONArray(key,source,data,dataSource):this.addAtlasJSONHash(key,source,data,dataSource)},addAtlasJSONArray:function(key,source,data,dataSource){var texture=null;if(this.checkKey(key)){texture=this.create(key,source);if(Array.isArray(data)){source=1===data.length;for(var i=0;i<texture.source.length;i++)Parser.JSONArray(texture,
i,source?data[0]:data[i])}else Parser.JSONArray(texture,0,data);dataSource&&texture.setDataSource(dataSource);this.emit(Events.ADD,key,texture)}return texture},addAtlasJSONHash:function(key,source,data,dataSource){var texture=null;if(this.checkKey(key)){texture=this.create(key,source);if(Array.isArray(data))for(source=0;source<data.length;source++)Parser.JSONHash(texture,source,data[source]);else Parser.JSONHash(texture,0,data);dataSource&&texture.setDataSource(dataSource);this.emit(Events.ADD,key,
texture)}return texture},addAtlasXML:function(key,source,data,dataSource){var texture=null;this.checkKey(key)&&(texture=this.create(key,source),Parser.AtlasXML(texture,0,data),dataSource&&texture.setDataSource(dataSource),this.emit(Events.ADD,key,texture));return texture},addUnityAtlas:function(key,source,data,dataSource){var texture=null;this.checkKey(key)&&(texture=this.create(key,source),Parser.UnityYAML(texture,0,data),dataSource&&texture.setDataSource(dataSource),this.emit(Events.ADD,key,texture));
return texture},addSpriteSheet:function(key,source,config){var texture=null;this.checkKey(key)&&(texture=this.create(key,source),Parser.SpriteSheet(texture,0,0,0,texture.source[0].width,texture.source[0].height,config),this.emit(Events.ADD,key,texture));return texture},addSpriteSheetFromAtlas:function(key,config){if(!this.checkKey(key))return null;var atlasKey=GetValue(config,"atlas",null),atlasFrame=GetValue(config,"frame",null);if(atlasKey&&atlasFrame&&(atlasKey=this.get(atlasKey).get(atlasFrame)))return atlasFrame=
this.create(key,atlasKey.source.image),atlasKey.trimmed?Parser.SpriteSheetFromAtlas(atlasFrame,atlasKey,config):Parser.SpriteSheet(atlasFrame,0,atlasKey.cutX,atlasKey.cutY,atlasKey.cutWidth,atlasKey.cutHeight,config),this.emit(Events.ADD,key,atlasFrame),atlasFrame},create:function(key,source,width,height){var texture=null;this.checkKey(key)&&(texture=new Texture(this,key,source,width,height),this.list[key]=texture);return texture},exists:function(key){return this.list.hasOwnProperty(key)},get:function(key){void 0===
key&&(key="__DEFAULT");return this.list[key]?this.list[key]:key instanceof Texture?key:this.list.__MISSING},cloneFrame:function(key,frame){if(this.list[key])return this.list[key].get(frame).clone()},getFrame:function(key,frame){if(this.list[key])return this.list[key].get(frame)},getTextureKeys:function(){var output=[],key;for(key in this.list)"__DEFAULT"!==key&&"__MISSING"!==key&&output.push(key);return output},getPixel:function(x,y,key,frame){if(key=this.getFrame(key,frame))if(x-=key.x,y-=key.y,
frame=key.data.cut,x+=frame.x,y+=frame.y,x>=frame.x&&x<frame.r&&y>=frame.y&&y<frame.b)return frame=this._tempContext,frame.clearRect(0,0,1,1),frame.drawImage(key.source.image,x,y,1,1,0,0,1,1),x=frame.getImageData(0,0,1,1),new Color(x.data[0],x.data[1],x.data[2],x.data[3]);return null},getPixelAlpha:function(x,y,key,frame){if(key=this.getFrame(key,frame))if(x-=key.x,y-=key.y,frame=key.data.cut,x+=frame.x,y+=frame.y,x>=frame.x&&x<frame.r&&y>=frame.y&&y<frame.b)return frame=this._tempContext,frame.clearRect(0,
0,1,1),frame.drawImage(key.source.image,x,y,1,1,0,0,1,1),frame.getImageData(0,0,1,1).data[3];return null},setTexture:function(gameObject,key,frame){this.list[key]&&(gameObject.texture=this.list[key],gameObject.frame=gameObject.texture.get(frame));return gameObject},renameTexture:function(currentKey,newKey){var texture=this.get(currentKey);return texture&&currentKey!==newKey?(texture.key=newKey,this.list[newKey]=texture,delete this.list[currentKey],!0):!1},each:function(callback,scope){for(var args=
[null],i=1;i<arguments.length;i++)args.push(arguments[i]);for(var texture in this.list)args[0]=this.list[texture],callback.apply(scope,args)},destroy:function(){for(var texture in this.list)this.list[texture].destroy();this.list={};this.game=null;CanvasPool.remove(this._tempCanvas)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Clamp=__webpack_require__(18),Color=__webpack_require__(37),CONST=__webpack_require__(32),IsSizePowerOfTwo=
__webpack_require__(136),Texture=__webpack_require__(203);__webpack_require__=new exports({Extends:Texture,initialize:function(manager,key,source,width,height){Texture.call(this,manager,key,source,width,height);this.add("__BASE",0,0,0,width,height);this._source=this.frames.__BASE.source;this.canvas=this._source.image;this.context=this.canvas.getContext("2d");this.width=width;this.height=height;this.imageData=this.context.getImageData(0,0,width,height);this.data=null;this.imageData&&(this.data=this.imageData.data);
this.pixels=null;this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){this.imageData=this.context.getImageData(0,0,this.width,this.height);this.data=this.imageData.data;this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):
window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data;this.manager.game.config.renderType===CONST.WEBGL&&this.refresh();return this},draw:function(x,y,source){this.context.drawImage(source,x,y);return this.update()},drawFrame:function(key,frame,x,y){void 0===x&&(x=0);void 0===y&&(y=0);if(key=this.manager.getFrame(key,frame)){frame=key.canvasData;var width=key.cutWidth,height=key.cutHeight,res=key.source.resolution;
this.context.drawImage(key.source.image,frame.x,frame.y,width,height,x,y,width/res,height/res);return this.update()}return this},setPixel:function(x,y,red,green,blue,alpha){void 0===alpha&&(alpha=255);x=Math.abs(Math.floor(x));y=Math.abs(Math.floor(y));if(-1<this.getIndex(x,y)){var imageData=this.context.getImageData(x,y,1,1);imageData.data[0]=red;imageData.data[1]=green;imageData.data[2]=blue;imageData.data[3]=alpha;this.context.putImageData(imageData,x,y)}return this},putData:function(imageData,
x,y,dirtyX,dirtyY,dirtyWidth,dirtyHeight){void 0===dirtyX&&(dirtyX=0);void 0===dirtyY&&(dirtyY=0);void 0===dirtyWidth&&(dirtyWidth=imageData.width);void 0===dirtyHeight&&(dirtyHeight=imageData.height);this.context.putImageData(imageData,x,y,dirtyX,dirtyY,dirtyWidth,dirtyHeight);return this},getData:function(x,y,width,height){x=Clamp(Math.floor(x),0,this.width-1);y=Clamp(Math.floor(y),0,this.height-1);width=Clamp(width,1,this.width-x);height=Clamp(height,1,this.height-y);return this.context.getImageData(x,
y,width,height)},getPixel:function(x,y,out){out||(out=new Color);x=this.getIndex(x,y);-1<x&&(y=this.data,out.setTo(y[x+0],y[x+1],y[x+2],y[x+3]));return out},getPixels:function(x,y,width,height){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=this.width);void 0===height&&(height=width);x=Math.abs(Math.round(x));y=Math.abs(Math.round(y));var left=Clamp(x,0,this.width);x=Clamp(x+width,0,this.width);var top=Clamp(y,0,this.height);y=Clamp(y+height,0,this.height);height=new Color;for(width=[];top<
y;top++){for(var row=[],px=left;px<x;px++)height=this.getPixel(px,top,height),row.push({x:px,y:top,color:height.color,alpha:height.alphaGL});width.push(row)}return width},getIndex:function(x,y){x=Math.abs(Math.round(x));y=Math.abs(Math.round(y));return x<this.width&&y<this.height?4*(x+y*this.width):-1},refresh:function(){this._source.update();return this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(x,y,width,height){void 0===x&&(x=0);void 0===
y&&(y=0);void 0===width&&(width=this.width);void 0===height&&(height=this.height);this.context.clearRect(x,y,width,height);return this.update()},setSize:function(width,height){void 0===height&&(height=width);if(width!==this.width||height!==this.height)this.canvas.width=width,this.canvas.height=height,this._source.width=width,this._source.height=height,this._source.isPowerOf2=IsSizePowerOfTwo(width,height),this.frames.__BASE.setSize(width,height,0,0),this.width=width,this.height=height,this.refresh();
return this},destroy:function(){Texture.prototype.destroy.call(this);this.buffer=this.pixels=this.data=this.imageData=this.context=this.canvas=this._source=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(31);exports=__webpack_require__(0);var IsSizePowerOfTwo=__webpack_require__(136),ScaleModes=__webpack_require__(164);__webpack_require__=new exports({initialize:function(texture,source,width,height,flipY){void 0===flipY&&
(flipY=!1);var game=texture.manager.game;this.renderer=game.renderer;this.texture=texture;this.image=this.source=source;this.compressionAlgorithm=null;this.resolution=1;this.width=width||source.naturalWidth||source.videoWidth||source.width||0;this.height=height||source.naturalHeight||source.videoHeight||source.height||0;this.scaleMode=ScaleModes.DEFAULT;this.isCanvas=source instanceof HTMLCanvasElement;this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&source instanceof HTMLVideoElement;this.isRenderTexture=
"RenderTexture"===source.type;this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&source instanceof WebGLTexture;this.isPowerOf2=IsSizePowerOfTwo(this.width,this.height);this.glTexture=null;this.glIndex=0;this.glIndexCounter=-1;this.flipY=flipY;this.init(game)},init:function(game){var renderer=this.renderer;renderer&&(renderer.gl?this.isCanvas?this.glTexture=renderer.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=renderer.createVideoTexture(this.image,!1,this.flipY):
this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.glTexture=this.isGLTexture?this.source:renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas));game.config.antialias||this.setFilter(1)},setFilter:function(filterMode){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,filterMode);this.scaleMode=filterMode},
setFlipY:function(value){void 0===value&&(value=!0);this.flipY=value;return this},update:function(){var gl=this.renderer.gl;gl&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):gl&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!1);this.isCanvas&&CanvasPool.remove(this.image);this.glTexture=this.image=this.source=
this.texture=this.renderer=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={AtlasXML:__webpack_require__(975),Canvas:__webpack_require__(976),Image:__webpack_require__(977),JSONArray:__webpack_require__(978),JSONHash:__webpack_require__(979),SpriteSheet:__webpack_require__(980),SpriteSheetFromAtlas:__webpack_require__(981),UnityYAML:__webpack_require__(982)}},function(module,exports,__webpack_require__){var HTML5AudioSoundManager=__webpack_require__(421),
NoAudioSoundManager=__webpack_require__(424),WebAudioSoundManager=__webpack_require__(426);module.exports={create:function(game){var audioConfig=game.config.audio,deviceAudio=game.device.audio;return audioConfig.noAudio||!deviceAudio.webAudio&&!deviceAudio.audioData?new NoAudioSoundManager(game):deviceAudio.webAudio&&!audioConfig.disableWebAudio?new WebAudioSoundManager(game):new HTML5AudioSoundManager(game)}}},function(module,exports,__webpack_require__){var BaseSoundManager=__webpack_require__(144);
exports=__webpack_require__(0);var Events=__webpack_require__(69),HTML5AudioSound=__webpack_require__(423);__webpack_require__=new exports({Extends:BaseSoundManager,initialize:function(game){this.override=!0;this.audioPlayDelay=.1;this.loopEndOffset=.05;this.onBlurPausedSounds=[];this.lockedActionsQueue=(this.locked="ontouchstart"in window)?[]:null;this._mute=!1;this._volume=1;BaseSoundManager.call(this,game)},add:function(key,config){key=new HTML5AudioSound(this,key,config);this.sounds.push(key);
return key},unlock:function(){this.locked=!1;var _this=this;this.game.cache.audio.entries.each(function(key,tags){for(key=0;key<tags.length;key++)if("true"===tags[key].dataset.locked)return _this.locked=!0,!1;return!0});if(this.locked){var moved=!1,detectMove=function(){moved=!0},unlock=function(){if(moved)moved=!1;else{document.body.removeEventListener("touchmove",detectMove);document.body.removeEventListener("touchend",unlock);var lockedTags=[];_this.game.cache.audio.entries.each(function(key,tags){for(key=
0;key<tags.length;key++){var tag=tags[key];"true"===tag.dataset.locked&&lockedTags.push(tag)}return!0});if(0!==lockedTags.length){var lastTag=lockedTags[lockedTags.length-1];lastTag.oncanplaythrough=function(){lastTag.oncanplaythrough=null;lockedTags.forEach(function(tag){tag.dataset.locked="false"});_this.unlocked=!0};lockedTags.forEach(function(tag){tag.load()})}}};this.once(Events.UNLOCKED,function(){for(this.forEachActiveSound(function(sound){null===sound.currentMarker&&0===sound.duration&&(sound.duration=
sound.tags[0].duration);sound.totalDuration=sound.tags[0].duration});this.lockedActionsQueue.length;){var lockedAction=this.lockedActionsQueue.shift();lockedAction.sound[lockedAction.prop].apply?lockedAction.sound[lockedAction.prop].apply(lockedAction.sound,lockedAction.value||[]):lockedAction.sound[lockedAction.prop]=lockedAction.value}},this);document.body.addEventListener("touchmove",detectMove,!1);document.body.addEventListener("touchend",unlock,!1)}},onBlur:function(){this.forEachActiveSound(function(sound){sound.isPlaying&&
(this.onBlurPausedSounds.push(sound),sound.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(sound){sound.onFocus()});this.onBlurPausedSounds.length=0},destroy:function(){BaseSoundManager.prototype.destroy.call(this);this.onBlurPausedSounds.length=0;this.onBlurPausedSounds=null},isLocked:function(sound,prop,value){return"true"===sound.tags[0].dataset.locked?(this.lockedActionsQueue.push({sound:sound,prop:prop,value:value}),!0):!1},setMute:function(value){this.mute=value;return this},
mute:{get:function(){return this._mute},set:function(value){this._mute=value;this.forEachActiveSound(function(sound){sound.updateMute()});this.emit(Events.GLOBAL_MUTE,this,value)}},setVolume:function(value){this.volume=value;return this},volume:{get:function(){return this._volume},set:function(value){this._volume=value;this.forEachActiveSound(function(sound){sound.updateVolume()});this.emit(Events.GLOBAL_VOLUME,this,value)}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var SafeRange=
__webpack_require__(78);module.exports=function(array,property,value,startIndex,endIndex){void 0===startIndex&&(startIndex=0);void 0===endIndex&&(endIndex=array.length);if(SafeRange(array,startIndex,endIndex))for(;startIndex<endIndex;startIndex++){var child=array[startIndex];if(!property||property&&void 0===value&&child.hasOwnProperty(property)||property&&void 0!==value&&child[property]===value)return child}return null}},function(module,exports,__webpack_require__){var BaseSound=__webpack_require__(145);
exports=__webpack_require__(0);var Events=__webpack_require__(69),Clamp=__webpack_require__(18);__webpack_require__=new exports({Extends:BaseSound,initialize:function(manager,key,config){void 0===config&&(config={});this.tags=manager.game.cache.audio.get(key);if(!this.tags)throw Error('There is no audio asset with key "'+key+'" in the audio cache');this.audio=null;this.previousTime=this.startTime=0;this.duration=this.tags[0].duration;this.totalDuration=this.tags[0].duration;BaseSound.call(this,manager,
key,config)},play:function(markerName,config){if(this.manager.isLocked(this,"play",[markerName,config])||!BaseSound.prototype.play.call(this,markerName,config)||!this.pickAndPlayAudioTag())return!1;this.emit(Events.PLAY,this);return!0},pause:function(){if(this.manager.isLocked(this,"pause")||0<this.startTime||!BaseSound.prototype.pause.call(this))return!1;this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0);this.stopAndReleaseAudioTag();this.emit(Events.PAUSE,
this);return!0},resume:function(){if(this.manager.isLocked(this,"resume")||0<this.startTime||!BaseSound.prototype.resume.call(this)||!this.pickAndPlayAudioTag())return!1;this.emit(Events.RESUME,this);return!0},stop:function(){if(this.manager.isLocked(this,"stop")||!BaseSound.prototype.stop.call(this))return!1;this.stopAndReleaseAudioTag();this.emit(Events.STOP,this);return!0},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var delay=this.currentConfig.delay,offset=(this.currentMarker?
this.currentMarker.start:0)+this.currentConfig.seek;this.previousTime=offset;this.audio.currentTime=offset;this.applyConfig();0===delay?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1E3*delay,this.audio.paused||this.audio.pause());this.resetConfig();return!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var audio=this.tags[i];if("false"===audio.dataset.used)return audio.dataset.used="true",this.audio=audio,
!0}if(!this.manager.override)return!1;var otherSounds=[];this.manager.forEachActiveSound(function(sound){sound.key===this.key&&sound.audio&&otherSounds.push(sound)},this);otherSounds.sort(function(a1,a2){return a1.loop===a2.loop?a2.seek/a2.duration-a1.seek/a1.duration:a1.loop?1:-1});i=otherSounds[0];this.audio=i.audio;i.reset();i.audio=null;i.startTime=0;i.previousTime=0;return!0},playCatchPromise:function(){var playPromise=this.audio.play();playPromise&&playPromise.catch(function(reason){console.warn(reason)})},
stopAndReleaseAudioTag:function(){this.previousTime=this.startTime=0;this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){BaseSound.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1;this.isPaused=!0;this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0);this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1E3);this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=
!0;this.isPaused=!1;this.pickAndPlayAudioTag()},update:function(time){if(this.isPlaying)if(0<this.startTime)this.startTime<time-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,time-this.startTime)/1E3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{time=this.currentMarker?this.currentMarker.start:0;var endTime=time+this.duration,currentTime=this.audio.currentTime;if(this.currentConfig.loop)currentTime>=endTime-this.manager.loopEndOffset?(this.audio.currentTime=
time+Math.max(0,currentTime-endTime),currentTime=this.audio.currentTime):currentTime<time&&(this.audio.currentTime+=time,currentTime=this.audio.currentTime),currentTime<this.previousTime&&this.emit(Events.LOOPED,this);else if(currentTime>=endTime){this.reset();this.stopAndReleaseAudioTag();this.emit(Events.COMPLETE,this);return}this.previousTime=currentTime}},destroy:function(){BaseSound.prototype.destroy.call(this);this.tags=null;this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&
(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=Clamp(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){BaseSound.prototype.calculateRate.call(this);this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(value){this.currentConfig.mute=value;this.manager.isLocked(this,"mute",value)||(this.updateMute(),this.emit(Events.MUTE,this,value))}},
setMute:function(value){this.mute=value;return this},volume:{get:function(){return this.currentConfig.volume},set:function(value){this.currentConfig.volume=value;this.manager.isLocked(this,"volume",value)||(this.updateVolume(),this.emit(Events.VOLUME,this,value))}},setVolume:function(value){this.volume=value;return this},rate:{get:function(){return this.currentConfig.rate},set:function(value){this.currentConfig.rate=value;this.manager.isLocked(this,Events.RATE,value)||(this.calculateRate(),this.emit(Events.RATE,
this,value))}},setRate:function(value){this.rate=value;return this},detune:{get:function(){return this.currentConfig.detune},set:function(value){this.currentConfig.detune=value;this.manager.isLocked(this,Events.DETUNE,value)||(this.calculateRate(),this.emit(Events.DETUNE,this,value))}},setDetune:function(value){this.detune=value;return this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(value){this.manager.isLocked(this,
"seek",value)||0<this.startTime||!this.isPlaying&&!this.isPaused||(value=Math.min(Math.max(0,value),this.duration),this.isPlaying?(this.previousTime=value,this.audio.currentTime=value):this.isPaused&&(this.currentConfig.seek=value),this.emit(Events.SEEK,this,value))}},setSeek:function(value){this.seek=value;return this},loop:{get:function(){return this.currentConfig.loop},set:function(value){this.currentConfig.loop=value;this.manager.isLocked(this,"loop",value)||(this.audio&&(this.audio.loop=value),
this.emit(Events.LOOP,this,value))}},setLoop:function(value){this.loop=value;return this},pan:{get:function(){return this.currentConfig.pan},set:function(value){this.currentConfig.pan=value;this.emit(Events.PAN,this,value)}},setPan:function(value){this.pan=value;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var BaseSoundManager=__webpack_require__(144);exports=__webpack_require__(0);var EventEmitter=__webpack_require__(9),NoAudioSound=__webpack_require__(425);
__webpack_require__=__webpack_require__(1);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(game){EventEmitter.call(this);this.game=game;this.sounds=[];this.mute=!1;this.rate=this.volume=1;this.detune=0;this.pauseOnBlur=!0;this.locked=!1},add:function(key,config){key=new NoAudioSound(this,key,config);this.sounds.push(key);return key},addAudioSprite:function(key,config){key=this.add(key,config);key.spritemap={};return key},play:function(key,extra){return!1},playAudioSprite:function(key,
spriteName,config){return!1},remove:function(sound){return BaseSoundManager.prototype.remove.call(this,sound)},removeByKey:function(key){return BaseSoundManager.prototype.removeByKey.call(this,key)},pauseAll:__webpack_require__,resumeAll:__webpack_require__,stopAll:__webpack_require__,update:__webpack_require__,setRate:__webpack_require__,setDetune:__webpack_require__,setMute:__webpack_require__,setVolume:__webpack_require__,forEachActiveSound:function(callbackfn,scope){BaseSoundManager.prototype.forEachActiveSound.call(this,
callbackfn,scope)},destroy:function(){BaseSoundManager.prototype.destroy.call(this)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var BaseSound=__webpack_require__(145);exports=__webpack_require__(0);var EventEmitter=__webpack_require__(9),Extend=__webpack_require__(17);__webpack_require__=function(){return!1};var returnThis=function(){return this};exports=new exports({Extends:EventEmitter,initialize:function(manager,key,config){void 0===config&&(config={});EventEmitter.call(this);
this.manager=manager;this.key=key;this.isPaused=this.isPlaying=!1;this.totalRate=1;this.totalDuration=this.duration=0;this.currentConfig=this.config=Extend({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},config);this.mute=!1;this.rate=this.volume=1;this.seek=this.detune=0;this.loop=!1;this.pan=0;this.markers={};this.currentMarker=null;this.pendingRemove=!1},addMarker:__webpack_require__,updateMarker:__webpack_require__,removeMarker:function(){return null},play:__webpack_require__,
pause:__webpack_require__,resume:__webpack_require__,stop:__webpack_require__,destroy:function(){BaseSound.prototype.destroy.call(this)},setMute:returnThis,setVolume:returnThis,setRate:returnThis,setDetune:returnThis,setSeek:returnThis,setLoop:returnThis,setPan:returnThis});module.exports=exports},function(module,exports,__webpack_require__){var Base64ToArrayBuffer=__webpack_require__(427),BaseSoundManager=__webpack_require__(144);exports=__webpack_require__(0);var Events=__webpack_require__(69),
GameEvents=__webpack_require__(22),WebAudioSound=__webpack_require__(428);__webpack_require__=new exports({Extends:BaseSoundManager,initialize:function(game){this.context=this.createAudioContext(game);this.masterMuteNode=this.context.createGain();this.masterVolumeNode=this.context.createGain();this.masterMuteNode.connect(this.masterVolumeNode);this.masterVolumeNode.connect(this.context.destination);this.destination=this.masterMuteNode;this.locked="suspended"===this.context.state&&("ontouchstart"in
window||"onclick"in window);BaseSoundManager.call(this,game);if(this.locked&&game.isBooted)this.unlock();else game.events.once(GameEvents.BOOT,this.unlock,this)},createAudioContext:function(game){game=game.config.audio;return game.context?(game.context.resume(),game.context):new AudioContext},setAudioContext:function(context){this.context&&this.context.close();this.masterMuteNode&&this.masterMuteNode.disconnect();this.masterVolumeNode&&this.masterVolumeNode.disconnect();this.context=context;this.masterMuteNode=
context.createGain();this.masterVolumeNode=context.createGain();this.masterMuteNode.connect(this.masterVolumeNode);this.masterVolumeNode.connect(context.destination);this.destination=this.masterMuteNode;return this},add:function(key,config){key=new WebAudioSound(this,key,config);this.sounds.push(key);return key},decodeAudio:function(audioKey,audioData){audioKey=Array.isArray(audioKey)?audioKey:[{key:audioKey,data:audioData}];var cache=this.game.cache.audio,remaining=audioKey.length;for(audioData=
0;audioData<audioKey.length;audioData++){var entry=audioKey[audioData],key$jscomp$0=entry.key;entry=entry.data;"string"===typeof entry&&(entry=Base64ToArrayBuffer(entry));var success=function(key,audioBuffer){cache.add(key,audioBuffer);this.emit(Events.DECODED,key);remaining--;0===remaining&&this.emit(Events.DECODED_ALL)}.bind(this,key$jscomp$0);key$jscomp$0=function(key,error){console.error("Error decoding audio: "+key+" - ",error?error.message:"");remaining--;0===remaining&&this.emit(Events.DECODED_ALL)}.bind(this,
key$jscomp$0);this.context.decodeAudioData(entry,success,key$jscomp$0)}},unlock:function(){var _this=this,body=document.body,unlockHandler=function unlockHandler(){_this.context&&_this.context.resume().then(function(){body.removeEventListener("touchstart",unlockHandler);body.removeEventListener("touchend",unlockHandler);body.removeEventListener("click",unlockHandler);body.removeEventListener("keydown",unlockHandler);_this.unlocked=!0},function(){body.removeEventListener("touchstart",unlockHandler);
body.removeEventListener("touchend",unlockHandler);body.removeEventListener("click",unlockHandler);body.removeEventListener("keydown",unlockHandler)})};body&&(body.addEventListener("touchstart",unlockHandler,!1),body.addEventListener("touchend",unlockHandler,!1),body.addEventListener("click",unlockHandler,!1),body.addEventListener("keydown",unlockHandler,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){this.destination=
null;this.masterVolumeNode.disconnect();this.masterVolumeNode=null;this.masterMuteNode.disconnect();this.masterMuteNode=null;if(this.game.config.audio.context)this.context.suspend();else{var _this=this;this.context.close().then(function(){_this.context=null})}BaseSoundManager.prototype.destroy.call(this)},setMute:function(value){this.mute=value;return this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(value){this.masterMuteNode.gain.setValueAtTime(value?0:1,0);this.emit(Events.GLOBAL_MUTE,
this,value)}},setVolume:function(value){this.volume=value;return this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(value){this.masterVolumeNode.gain.setValueAtTime(value,0);this.emit(Events.GLOBAL_VOLUME,this,value)}}});module.exports=__webpack_require__},function(module,exports){var lookup=new Uint8Array(256);for(exports=0;64>exports;exports++)lookup["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(exports)]=exports;module.exports=function(base64){base64=
base64.substr(base64.indexOf(",")+1);var len=base64.length,bufferLength=.75*len,p=0;"\x3d"===base64[len-1]&&(bufferLength--,"\x3d"===base64[len-2]&&bufferLength--);for(var arrayBuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arrayBuffer),i=0;i<len;i+=4){bufferLength=lookup[base64.charCodeAt(i)];var encoded2=lookup[base64.charCodeAt(i+1)];var encoded3=lookup[base64.charCodeAt(i+2)];var encoded4=lookup[base64.charCodeAt(i+3)];bytes[p++]=bufferLength<<2|encoded2>>4;bytes[p++]=(encoded2&15)<<
4|encoded3>>2;bytes[p++]=(encoded3&3)<<6|encoded4&63}return arrayBuffer}},function(module,exports,__webpack_require__){var BaseSound=__webpack_require__(145);exports=__webpack_require__(0);var Events=__webpack_require__(69);__webpack_require__=new exports({Extends:BaseSound,initialize:function(manager,key,config){void 0===config&&(config={});this.audioBuffer=manager.game.cache.audio.get(key);if(!this.audioBuffer)throw Error('Audio key "'+key+'" missing from cache');this.loopSource=this.source=null;
this.muteNode=manager.context.createGain();this.volumeNode=manager.context.createGain();this.pannerNode=null;this.loopTime=this.startTime=this.playTime=0;this.rateUpdates=[];this.hasLooped=this.hasEnded=!1;this.muteNode.connect(this.volumeNode);manager.context.createStereoPanner?(this.pannerNode=manager.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(manager.destination)):this.volumeNode.connect(manager.destination);this.totalDuration=this.duration=this.audioBuffer.duration;
BaseSound.call(this,manager,key,config)},play:function(markerName,config){if(!BaseSound.prototype.play.call(this,markerName,config))return!1;this.stopAndRemoveBufferSource();this.createAndStartBufferSource();this.emit(Events.PLAY,this);return!0},pause:function(){if(this.manager.context.currentTime<this.startTime||!BaseSound.prototype.pause.call(this))return!1;this.currentConfig.seek=this.getCurrentTime();this.stopAndRemoveBufferSource();this.emit(Events.PAUSE,this);return!0},resume:function(){if(this.manager.context.currentTime<
this.startTime||!BaseSound.prototype.resume.call(this))return!1;this.createAndStartBufferSource();this.emit(Events.RESUME,this);return!0},stop:function(){if(!BaseSound.prototype.stop.call(this))return!1;this.stopAndRemoveBufferSource();this.emit(Events.STOP,this);return!0},createAndStartBufferSource:function(){var seek=this.currentConfig.seek,when=this.manager.context.currentTime+this.currentConfig.delay,offset=(this.currentMarker?this.currentMarker.start:0)+seek,duration=this.duration-seek;this.playTime=
when-seek;this.startTime=when;this.source=this.createBufferSource();this.applyConfig();this.source.start(Math.max(0,when),Math.max(0,offset),Math.max(0,duration));this.resetConfig()},createAndStartLoopBufferSource:function(){var when=this.getLoopTime(),offset=this.currentMarker?this.currentMarker.start:0,duration=this.duration;this.loopTime=when;this.loopSource=this.createBufferSource();this.loopSource.playbackRate.setValueAtTime(this.totalRate,0);this.loopSource.start(Math.max(0,when),Math.max(0,
offset),Math.max(0,duration))},createBufferSource:function(){var _this=this,source=this.manager.context.createBufferSource();source.buffer=this.audioBuffer;source.connect(this.muteNode);source.onended=function(ev){ev.target===_this.source&&(_this.currentConfig.loop?_this.hasLooped=!0:_this.hasEnded=!0)};return source},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null);this.startTime=this.playTime=0;this.stopAndRemoveLoopBufferSource()},
stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null);this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0;this.rateUpdates.push({time:0,rate:1});BaseSound.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,BaseSound.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(Events.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=
null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(Events.LOOPED,this))},destroy:function(){BaseSound.prototype.destroy.call(this);this.audioBuffer=null;this.stopAndRemoveBufferSource();this.muteNode.disconnect();this.muteNode=null;this.volumeNode.disconnect();this.volumeNode=null;this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null);this.rateUpdates.length=0;this.rateUpdates=
null},calculateRate:function(){BaseSound.prototype.calculateRate.call(this);var now=this.manager.context.currentTime;this.source&&"number"===typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,now);this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,now)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var currentTime=0,i=0;i<this.rateUpdates.length;i++)currentTime+=
((i<this.rateUpdates.length-1?this.rateUpdates[i+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[i].time)*this.rateUpdates[i].rate;return currentTime},getLoopTime:function(){for(var lastRateUpdateCurrentTime=0,i=0;i<this.rateUpdates.length-1;i++)lastRateUpdateCurrentTime+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-lastRateUpdateCurrentTime)/i.rate},
rate:{get:function(){return this.currentConfig.rate},set:function(value){this.currentConfig.rate=value;this.calculateRate();this.emit(Events.RATE,this,value)}},setRate:function(value){this.rate=value;return this},detune:{get:function(){return this.currentConfig.detune},set:function(value){this.currentConfig.detune=value;this.calculateRate();this.emit(Events.DETUNE,this,value)}},setDetune:function(value){this.detune=value;return this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(value){this.currentConfig.mute=
value;this.muteNode.gain.setValueAtTime(value?0:1,0);this.emit(Events.MUTE,this,value)}},setMute:function(value){this.mute=value;return this},volume:{get:function(){return this.volumeNode.gain.value},set:function(value){this.currentConfig.volume=value;this.volumeNode.gain.setValueAtTime(value,0);this.emit(Events.VOLUME,this,value)}},setVolume:function(value){this.volume=value;return this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:
this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(value){this.manager.context.currentTime<this.startTime||!this.isPlaying&&!this.isPaused||(value=Math.min(Math.max(0,value),this.duration),this.currentConfig.seek=value,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(Events.SEEK,this,value))}},setSeek:function(value){this.seek=value;return this},loop:{get:function(){return this.currentConfig.loop},set:function(value){this.currentConfig.loop=
value;this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),value&&this.createAndStartLoopBufferSource());this.emit(Events.LOOP,this,value)}},setLoop:function(value){this.loop=value;return this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(value){this.currentConfig.pan=value;this.pannerNode&&this.pannerNode.pan.setValueAtTime(value,this.manager.context.currentTime);this.emit(Events.PAN,this,value)}},setPan:function(value){this.pan=value;return this}});module.exports=
__webpack_require__},function(module,exports){module.exports=function(array){for(var sourceRowCount=array.length,sourceColCount=array[0].length,result=Array(sourceColCount),i=0;i<sourceColCount;i++){result[i]=Array(sourceRowCount);for(var j=sourceRowCount-1;-1<j;j--)result[i][j]=array[j][i]}return result}},function(module,exports){function swap(arr,i,j){var tmp=arr[i];arr[i]=arr[j];arr[j]=tmp}function defaultCompare(a,b){return a<b?-1:a>b?1:0}var QuickSelect=function(arr,k,left,right,compare){void 0===
left&&(left=0);void 0===right&&(right=arr.length-1);for(void 0===compare&&(compare=defaultCompare);right>left;){if(600<right-left){var n=right-left+1,m=k-left+1,z=Math.log(n),s=.5*Math.exp(2*z/3);z=.5*Math.sqrt(z*s*(n-s)/n)*(0>m-n/2?-1:1);QuickSelect(arr,k,Math.max(left,Math.floor(k-m*s/n+z)),Math.min(right,Math.floor(k+(n-m)*s/n+z)),compare)}n=arr[k];m=left;s=right;swap(arr,left,k);for(0<compare(arr[right],n)&&swap(arr,left,right);m<s;){swap(arr,m,s);m++;for(s--;0>compare(arr[m],n);)m++;for(;0<compare(arr[s],
n);)s--}0===compare(arr[left],n)?swap(arr,left,s):(s++,swap(arr,s,right));s<=k&&(left=s+1);k<=s&&(right=s-1)}};module.exports=QuickSelect},function(module,exports,__webpack_require__){var GetValue=__webpack_require__(6),Shuffle=__webpack_require__(129);module.exports=function(a,b$jscomp$0,options){var max=GetValue(options,"max",0),qty=GetValue(options,"qty",1),random=GetValue(options,"random",!1),randomB=GetValue(options,"randomB",!1),repeat=GetValue(options,"repeat",0);options=GetValue(options,"yoyo",
!1);var out=[];randomB&&Shuffle(b$jscomp$0);-1===repeat&&(0===max?repeat=0:(repeat=a.length*b$jscomp$0.length*qty,options&&(repeat*=2),repeat=Math.ceil(max/repeat)));for(randomB=0;randomB<=repeat;randomB++){var chunk=a;for(var b=b$jscomp$0,qty$jscomp$0=qty,out$jscomp$0=[],aIndex=0;aIndex<chunk.length;aIndex++)for(var bIndex=0;bIndex<b.length;bIndex++)for(var i=0;i<qty$jscomp$0;i++)out$jscomp$0.push({a:chunk[aIndex],b:b[bIndex]});chunk=out$jscomp$0;random&&Shuffle(chunk);out=out.concat(chunk);options&&
(chunk.reverse(),out=out.concat(chunk))}max&&out.splice(max);return out}},function(module,exports,__webpack_require__){module.exports={PROCESS_QUEUE_ADD:__webpack_require__(1035),PROCESS_QUEUE_REMOVE:__webpack_require__(1036)}},function(module,exports,__webpack_require__){var GetAdvancedValue=__webpack_require__(13);module.exports=function(sprite,config){var animConfig=GetAdvancedValue(config,"anims",null);if(null===animConfig)return sprite;if("string"===typeof animConfig)sprite.anims.play(animConfig);
else if("object"===typeof animConfig){config=sprite.anims;var key=GetAdvancedValue(animConfig,"key",void 0);if(key){var startFrame=GetAdvancedValue(animConfig,"startFrame",void 0),delay=GetAdvancedValue(animConfig,"delay",0),repeat=GetAdvancedValue(animConfig,"repeat",0),repeatDelay=GetAdvancedValue(animConfig,"repeatDelay",0),yoyo=GetAdvancedValue(animConfig,"yoyo",!1),play=GetAdvancedValue(animConfig,"play",!1);animConfig=GetAdvancedValue(animConfig,"delayedPlay",0);key={key:key,delay:delay,repeat:repeat,
repeatDelay:repeatDelay,yoyo:yoyo,startFrame:startFrame};play?config.play(key):0<animConfig?config.playAfterDelay(key,animConfig):config.load(key)}}return sprite}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Frame=__webpack_require__(106);__webpack_require__=new exports({initialize:function(blitter,x,y,frame,visible){this.parent=blitter;this.x=x;this.y=y;this.frame=frame;this.data={};this.tint=16777215;this._visible=visible;this._alpha=1;this.flipY=this.flipX=!1},
setFrame:function(frame){this.frame=void 0===frame?this.parent.frame:frame instanceof Frame&&frame.texture===this.parent.texture?frame:this.parent.texture.get(frame);return this},resetFlip:function(){this.flipY=this.flipX=!1;return this},reset:function(x,y,frame){this.x=x;this.y=y;this.flipY=this.flipX=!1;this._alpha=1;this._visible=!0;this.parent.dirty=!0;frame&&this.setFrame(frame);return this},setPosition:function(x,y){this.x=x;this.y=y;return this},setFlipX:function(value){this.flipX=value;return this},
setFlipY:function(value){this.flipY=value;return this},setFlip:function(x,y){this.flipX=x;this.flipY=y;return this},setVisible:function(value){this.visible=value;return this},setAlpha:function(value){this.alpha=value;return this},setTint:function(value){this.tint=value;return this},destroy:function(){this.parent.dirty=!0;this.parent.children.remove(this);this.data=this.frame=this.parent=void 0},visible:{get:function(){return this._visible},set:function(value){this.parent.dirty|=this._visible!==value;
this._visible=value}},alpha:{get:function(){return this._alpha},set:function(value){this.parent.dirty|=0<this._alpha!==0<value;this._alpha=value}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10);module.exports=function(rectA,rectB,out){void 0===out&&(out=new Rectangle);var x=Math.min(rectA.x,rectB.x),y=Math.min(rectA.y,rectB.y);return out.setTo(x,y,Math.max(rectA.right,rectB.right)-x,Math.max(rectA.bottom,rectB.bottom)-y)}},
function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),DOMElementRender=__webpack_require__(1049),GameObject=__webpack_require__(15),IsPlainObject=__webpack_require__(7),RemoveFromDOM=__webpack_require__(199),SCENE_EVENTS=__webpack_require__(21),Vector4=__webpack_require__(138);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.AlphaSingle,Components.BlendMode,Components.Depth,Components.Origin,Components.ScrollFactor,
Components.Transform,Components.Visible,DOMElementRender],initialize:function(scene,x,y,element,style,innerText){GameObject.call(this,scene,"DOMElement");this.parent=scene.sys.game.domContainer;this.cache=scene.sys.cache.html;this.transformOnly=!1;this.skewY=this.skewX=0;this.rotate3d=new Vector4;this.rotate3dAngle="deg";this.displayHeight=this.displayWidth=this.height=this.width=0;this.handler=this.dispatchNativeEvent.bind(this);this.setPosition(x,y);"string"===typeof element?"#"===element[0]?this.setElement(element.substr(1),
style,innerText):this.createElement(element,style,innerText):element&&this.setElement(element,style,innerText);scene.sys.events.on(SCENE_EVENTS.SLEEP,this.handleSceneEvent,this);scene.sys.events.on(SCENE_EVENTS.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(sys){var node=this.node,style=node.style;node&&(style.display=sys.settings.visible?"block":"none")},setSkew:function(x,
y){void 0===x&&(x=0);void 0===y&&(y=x);this.skewX=x;this.skewY=y;return this},setPerspective:function(value){this.parent.style.perspective=value+"px";return this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(value){this.parent.style.perspective=value+"px"}},addListener:function(events){if(this.node){events=events.split(" ");for(var i=0;i<events.length;i++)this.node.addEventListener(events[i],this.handler,!1)}return this},removeListener:function(events){if(this.node){events=
events.split(" ");for(var i=0;i<events.length;i++)this.node.removeEventListener(events[i],this.handler)}return this},dispatchNativeEvent:function(event){this.emit(event.type,event)},createElement:function(tagName,style,innerText){return this.setElement(document.createElement(tagName),style,innerText)},setElement:function(element,style,innerText){this.removeElement();if("string"===typeof element){"#"===element[0]&&(element=element.substr(1));var target=document.getElementById(element)}else"object"===
typeof element&&1===element.nodeType&&(target=element);if(!target)return this;this.node=target;if(style&&IsPlainObject(style))for(var key in style)target.style[key]=style[key];else"string"===typeof style&&(target.style=style);target.style.zIndex="0";target.style.display="inline";target.style.position="absolute";target.phaser=this;this.parent&&this.parent.appendChild(target);innerText&&(target.innerText=innerText);return this.updateSize()},createFromCache:function(key,tagName){(key=this.cache.get(key))&&
this.createFromHTML(key,tagName);return this},createFromHTML:function(html,tagName){void 0===tagName&&(tagName="div");this.removeElement();this.node=tagName=document.createElement(tagName);tagName.style.zIndex="0";tagName.style.display="inline";tagName.style.position="absolute";tagName.phaser=this;this.parent&&this.parent.appendChild(tagName);tagName.innerHTML=html;return this.updateSize()},removeElement:function(){this.node&&(RemoveFromDOM(this.node),this.node=null);return this},updateSize:function(){var node=
this.node,nodeBounds=node.getBoundingClientRect();this.width=node.clientWidth;this.height=node.clientHeight;this.displayWidth=nodeBounds.width||0;this.displayHeight=nodeBounds.height||0;return this},getChildByProperty:function(property,value){if(this.node)for(var children=this.node.querySelectorAll("*"),i=0;i<children.length;i++)if(children[i][property]===value)return children[i];return null},getChildByID:function(id){return this.getChildByProperty("id",id)},getChildByName:function(name){return this.getChildByProperty("name",
name)},setClassName:function(className){this.node&&(this.node.className=className,this.updateSize());return this},setText:function(text){this.node&&(this.node.innerText=text,this.updateSize());return this},setHTML:function(html){this.node&&(this.node.innerHTML=html,this.updateSize());return this},preUpdate:function(){var parent=this.parentContainer,node=this.node;node&&parent&&!parent.willRender()&&(node.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement();
this.scene.sys.events.off(SCENE_EVENTS.SLEEP,this.handleSceneEvent,this);this.scene.sys.events.off(SCENE_EVENTS.WAKE,this.handleSceneEvent,this)}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CSSBlendModes=__webpack_require__(1050),GameObject=__webpack_require__(15);exports=__webpack_require__(25);var tempMatrix1=new exports,tempMatrix2=new exports,tempMatrix3=new exports;module.exports=function(renderer,src,camera,parentMatrix){var node=src.node;renderer=
node.style;var settings=src.scene.sys.settings;if(!node||!renderer||!settings.visible||GameObject.RENDER_MASK!==src.renderFlags||0!==src.cameraFilter&&src.cameraFilter&camera.id||src.parentContainer&&!src.parentContainer.willRender())node&&(renderer.display="none");else{settings=src.parentContainer;node=camera.alpha*src.alpha;settings&&(node*=settings.alpha);var tx="0%",ty="0%";if(parentMatrix){settings=src.width*src.scaleX*src.originX;var dy=src.height*src.scaleY*src.originY;tempMatrix2.applyITRS(src.x-
settings,src.y-dy,src.rotation,src.scaleX,src.scaleY);tempMatrix1.copyFrom(camera.matrix);tempMatrix1.multiplyWithOffset(parentMatrix,-camera.scrollX*src.scrollFactorX,-camera.scrollY*src.scrollFactorY);tempMatrix2.e=src.x-settings;tempMatrix2.f=src.y-dy}else settings=src.width*src.originX,dy=src.height*src.originY,tempMatrix2.applyITRS(src.x-settings,src.y-dy,src.rotation,src.scaleX,src.scaleY),tempMatrix1.copyFrom(camera.matrix),tx=100*src.originX+"%",ty=100*src.originY+"%",tempMatrix2.e-=camera.scrollX*
src.scrollFactorX,tempMatrix2.f-=camera.scrollY*src.scrollFactorY;tempMatrix1.multiply(tempMatrix2,tempMatrix3);src.transformOnly||(renderer.display="block",renderer.opacity=node,renderer.zIndex=src._depth,renderer.pointerEvents="auto",renderer.mixBlendMode=CSSBlendModes[src._blendMode]);renderer.transform=tempMatrix3.getCSSMatrix()+" skew("+src.skewX+"rad, "+src.skewY+"rad) rotate3d("+src.rotate3d.x+","+src.rotate3d.y+","+src.rotate3d.z+","+src.rotate3d.w+src.rotate3dAngle+")";renderer.transformOrigin=
tx+" "+ty}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15);__webpack_require__=__webpack_require__(1054);__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Depth,Components.Flip,Components.Origin,Components.ScrollFactor,Components.Size,Components.Texture,Components.Tint,Components.Transform,Components.Visible,__webpack_require__],initialize:function(scene){GameObject.call(this,
scene,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CircumferencePoint=__webpack_require__(215),FromPercent=__webpack_require__(95),MATH_CONST=__webpack_require__(14),Point=__webpack_require__(4);module.exports=function(ellipse,position,out){void 0===out&&(out=new Point);position=
FromPercent(position,0,MATH_CONST.PI2);return CircumferencePoint(ellipse,position,out)}},function(module,exports,__webpack_require__){var Circumference=__webpack_require__(441),CircumferencePoint=__webpack_require__(215),FromPercent=__webpack_require__(95),MATH_CONST=__webpack_require__(14);module.exports=function(ellipse,quantity,stepRate,out){void 0===out&&(out=[]);!quantity&&0<stepRate&&(quantity=Circumference(ellipse)/stepRate);for(stepRate=0;stepRate<quantity;stepRate++){var angle=FromPercent(stepRate/
quantity,0,MATH_CONST.PI2);out.push(CircumferencePoint(ellipse,angle))}return out}},function(module,exports){module.exports=function(ellipse){var rx=ellipse.width/2;ellipse=ellipse.height/2;var h=Math.pow(rx-ellipse,2)/Math.pow(rx+ellipse,2);return Math.PI*(rx+ellipse)*(1+3*h/(10+Math.sqrt(4-3*h)))}},function(module,exports,__webpack_require__){var Commands=__webpack_require__(214),SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix,renderTargetCtx,allowClip){var commandBuffer=
src.commandBuffer,commandBufferLength=commandBuffer.length;renderTargetCtx=renderTargetCtx||renderer.currentContext;if(0!==commandBufferLength&&SetTransform(renderer,renderTargetCtx,src,camera,parentMatrix)){camera.addToRenderList(src);renderTargetCtx.beginPath();for(camera=0;camera<commandBufferLength;++camera)switch(commandBuffer[camera]){case Commands.ARC:renderTargetCtx.arc(commandBuffer[camera+1],commandBuffer[camera+2],commandBuffer[camera+3],commandBuffer[camera+4],commandBuffer[camera+5],
commandBuffer[camera+6]);camera+=7;break;case Commands.LINE_STYLE:var fillColor=commandBuffer[camera+1];var lineColor=commandBuffer[camera+2];parentMatrix=commandBuffer[camera+3];renderer=(lineColor&16711680)>>>16;src=(lineColor&65280)>>>8;lineColor&=255;renderTargetCtx.strokeStyle="rgba("+renderer+","+src+","+lineColor+","+parentMatrix+")";renderTargetCtx.lineWidth=fillColor;camera+=3;break;case Commands.FILL_STYLE:fillColor=commandBuffer[camera+1];parentMatrix=commandBuffer[camera+2];renderer=(fillColor&
16711680)>>>16;src=(fillColor&65280)>>>8;lineColor=fillColor&255;renderTargetCtx.fillStyle="rgba("+renderer+","+src+","+lineColor+","+parentMatrix+")";camera+=2;break;case Commands.BEGIN_PATH:renderTargetCtx.beginPath();break;case Commands.CLOSE_PATH:renderTargetCtx.closePath();break;case Commands.FILL_PATH:allowClip||renderTargetCtx.fill();break;case Commands.STROKE_PATH:allowClip||renderTargetCtx.stroke();break;case Commands.FILL_RECT:allowClip?renderTargetCtx.rect(commandBuffer[camera+1],commandBuffer[camera+
2],commandBuffer[camera+3],commandBuffer[camera+4]):renderTargetCtx.fillRect(commandBuffer[camera+1],commandBuffer[camera+2],commandBuffer[camera+3],commandBuffer[camera+4]);camera+=4;break;case Commands.FILL_TRIANGLE:renderTargetCtx.beginPath();renderTargetCtx.moveTo(commandBuffer[camera+1],commandBuffer[camera+2]);renderTargetCtx.lineTo(commandBuffer[camera+3],commandBuffer[camera+4]);renderTargetCtx.lineTo(commandBuffer[camera+5],commandBuffer[camera+6]);renderTargetCtx.closePath();allowClip||
renderTargetCtx.fill();camera+=6;break;case Commands.STROKE_TRIANGLE:renderTargetCtx.beginPath();renderTargetCtx.moveTo(commandBuffer[camera+1],commandBuffer[camera+2]);renderTargetCtx.lineTo(commandBuffer[camera+3],commandBuffer[camera+4]);renderTargetCtx.lineTo(commandBuffer[camera+5],commandBuffer[camera+6]);renderTargetCtx.closePath();allowClip||renderTargetCtx.stroke();camera+=6;break;case Commands.LINE_TO:renderTargetCtx.lineTo(commandBuffer[camera+1],commandBuffer[camera+2]);camera+=2;break;
case Commands.MOVE_TO:renderTargetCtx.moveTo(commandBuffer[camera+1],commandBuffer[camera+2]);camera+=2;break;case Commands.LINE_FX_TO:renderTargetCtx.lineTo(commandBuffer[camera+1],commandBuffer[camera+2]);camera+=5;break;case Commands.MOVE_FX_TO:renderTargetCtx.moveTo(commandBuffer[camera+1],commandBuffer[camera+2]);camera+=5;break;case Commands.SAVE:renderTargetCtx.save();break;case Commands.RESTORE:renderTargetCtx.restore();break;case Commands.TRANSLATE:renderTargetCtx.translate(commandBuffer[camera+
1],commandBuffer[camera+2]);camera+=2;break;case Commands.SCALE:renderTargetCtx.scale(commandBuffer[camera+1],commandBuffer[camera+2]);camera+=2;break;case Commands.ROTATE:renderTargetCtx.rotate(commandBuffer[camera+1]);camera+=1;break;case Commands.GRADIENT_FILL_STYLE:camera+=5;break;case Commands.GRADIENT_LINE_STYLE:camera+=6}renderTargetCtx.restore()}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FloatBetween=__webpack_require__(135),GetEaseFunction=__webpack_require__(80),
GetFastValue=__webpack_require__(2),Wrap=__webpack_require__(66);__webpack_require__=new exports({initialize:function(config,key,defaultValue,emitOnly){void 0===emitOnly&&(emitOnly=!1);this.propertyKey=key;this.defaultValue=this.propertyValue=defaultValue;this.end=this.start=this.counter=this.steps=0;this.emitOnly=emitOnly;this.onEmit=this.defaultEmit;this.onUpdate=this.defaultUpdate;this.loadConfig(config)},loadConfig:function(config,newKey){void 0===config&&(config={});newKey&&(this.propertyKey=
newKey);this.propertyValue=GetFastValue(config,this.propertyKey,this.defaultValue);this.setMethods();this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(value){this.propertyValue=value;return this.setMethods()},setMethods:function(){var value=this.propertyValue,t=typeof value;this.onEmit=this.defaultEmit;this.onUpdate=this.defaultUpdate;if("number"===t)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(value))this.onEmit=
this.randomStaticValueEmit;else if("function"===t)this.emitOnly?this.onEmit=value:this.onUpdate=value;else if("object"===t&&this.hasBoth(value,"start","end")){this.start=value.start;this.end=value.end;if(t=this.has(value,"random"))this.onEmit=this.randomRangedValueEmit;if(this.has(value,"steps"))this.steps=value.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var easeType=this.has(value,"ease")?value.ease:"Linear";this.ease=GetEaseFunction(easeType,value.easeParams);t||(this.onEmit=
this.easedValueEmit);this.onUpdate=this.easeValueUpdate}}else"object"===t&&this.hasBoth(value,"min","max")?(this.start=value.min,this.end=value.max,this.onEmit=this.randomRangedValueEmit):"object"===t&&this.has(value,"random")?(value=value.random,Array.isArray(value)&&(this.start=value[0],this.end=value[1]),this.onEmit=this.randomRangedValueEmit):"object"===t&&this.hasEither(value,"onEmit","onUpdate")&&(this.has(value,"onEmit")&&(this.onEmit=value.onEmit),this.has(value,"onUpdate")&&(this.onUpdate=
value.onUpdate));return this},has:function(object,key){return object.hasOwnProperty(key)},hasBoth:function(object,key1,key2){return object.hasOwnProperty(key1)&&object.hasOwnProperty(key2)},hasEither:function(object,key1,key2){return object.hasOwnProperty(key1)||object.hasOwnProperty(key2)},defaultEmit:function(particle,key,value){return value},defaultUpdate:function(particle,key,t,value){return value},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},
randomStaticValueEmit:function(){return this.propertyValue[Math.floor(Math.random()*this.propertyValue.length)]},randomRangedValueEmit:function(particle,key){var value=FloatBetween(this.start,this.end);particle&&particle.data[key]&&(particle.data[key].min=value);return value},steppedEmit:function(){var current=this.counter;this.counter=Wrap(this.counter+(this.end-this.start)/this.steps,this.start,this.end);return current},easedValueEmit:function(particle,key){particle&&particle.data[key]&&(particle=
particle.data[key],particle.min=this.start,particle.max=this.end);return this.start},easeValueUpdate:function(particle,key,t){particle=particle.data[key];return(particle.max-particle.min)*this.ease(t)+particle.min}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetFastValue=__webpack_require__(2);__webpack_require__=new exports({initialize:function(x,y,power,epsilon,gravity){"object"===typeof x?(gravity=x,x=GetFastValue(gravity,
"x",0),y=GetFastValue(gravity,"y",0),power=GetFastValue(gravity,"power",0),epsilon=GetFastValue(gravity,"epsilon",100),gravity=GetFastValue(gravity,"gravity",50)):(void 0===x&&(x=0),void 0===y&&(y=0),void 0===power&&(power=0),void 0===epsilon&&(epsilon=100),void 0===gravity&&(gravity=50));this.x=x;this.y=y;this.active=!0;this._gravity=gravity;this._epsilon=this._power=0;this.power=power;this.epsilon=epsilon},update:function(particle,delta){var x=this.x-particle.x,y=this.y-particle.y,dSq=x*x+y*y;if(0!==
dSq){var d=Math.sqrt(dSq);dSq<this._epsilon&&(dSq=this._epsilon);delta=this._power*delta/(dSq*d)*100;particle.velocityX+=x*delta;particle.velocityY+=y*delta}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(value){this._epsilon=value*value}},power:{get:function(){return this._power/this._gravity},set:function(value){this._power=value*this._gravity}},gravity:{get:function(){return this._gravity},set:function(value){var pwr=this.power;this._gravity=value;this.power=pwr}}});module.exports=
__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var DegToRad=__webpack_require__(35),DistanceBetween=__webpack_require__(48);__webpack_require__=new exports({initialize:function(emitter){this.emitter=emitter;this.frame=null;this.accelerationY=this.accelerationX=this.velocityY=this.velocityX=this.y=this.x=0;this.maxVelocityY=this.maxVelocityX=1E4;this.bounce=0;this.alpha=this.scaleY=this.scaleX=1;this.rotation=this.angle=0;this.tint=16777215;this.lifeCurrent=
this.life=1E3;this.lifeT=this.delayCurrent=0;this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return 0<this.lifeCurrent},resetPosition:function(){this.y=this.x=0},fire:function(x,y){var emitter=this.emitter;this.frame=emitter.getFrame();emitter.emitZone&&emitter.emitZone.getPoint(this);this.x=void 0===x?this.x+emitter.x.onEmit(this,"x"):this.x+x;this.y=void 0===y?this.y+emitter.y.onEmit(this,
"y"):this.y+y;this.lifeCurrent=this.life=emitter.lifespan.onEmit(this,"lifespan");this.lifeT=0;x=emitter.speedX.onEmit(this,"speedX");y=emitter.speedY?emitter.speedY.onEmit(this,"speedY"):x;if(emitter.radial){var rad=DegToRad(emitter.angle.onEmit(this,"angle"));this.velocityX=Math.cos(rad)*Math.abs(x);this.velocityY=Math.sin(rad)*Math.abs(y)}else emitter.moveTo?(y=emitter.moveToX.onEmit(this,"moveToX"),rad=emitter.moveToY?emitter.moveToY.onEmit(this,"moveToY"):y,x=Math.atan2(rad-this.y,y-this.x),
y=DistanceBetween(this.x,this.y,y,rad)/(this.life/1E3),this.velocityX=Math.cos(x)*y,this.velocityY=Math.sin(x)*y):(this.velocityX=x,this.velocityY=y);emitter.acceleration&&(this.accelerationX=emitter.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=emitter.accelerationY.onEmit(this,"accelerationY"));this.maxVelocityX=emitter.maxVelocityX.onEmit(this,"maxVelocityX");this.maxVelocityY=emitter.maxVelocityY.onEmit(this,"maxVelocityY");this.delayCurrent=emitter.delay.onEmit(this,"delay");
this.scaleX=emitter.scaleX.onEmit(this,"scaleX");this.scaleY=emitter.scaleY?emitter.scaleY.onEmit(this,"scaleY"):this.scaleX;this.angle=emitter.rotate.onEmit(this,"rotate");this.rotation=DegToRad(this.angle);this.bounce=emitter.bounce.onEmit(this,"bounce");this.alpha=emitter.alpha.onEmit(this,"alpha");this.tint=emitter.tint.onEmit(this,"tint")},computeVelocity:function(emitter,delta,step,processors){var vx=this.velocityX,vy=this.velocityY,ax=this.accelerationX,ay=this.accelerationY,mx=this.maxVelocityX,
my=this.maxVelocityY;vx+=emitter.gravityX*step;vy+=emitter.gravityY*step;ax&&(vx+=ax*step);ay&&(vy+=ay*step);vx>mx?vx=mx:vx<-mx&&(vx=-mx);vy>my?vy=my:vy<-my&&(vy=-my);this.velocityX=vx;this.velocityY=vy;for(emitter=0;emitter<processors.length;emitter++)processors[emitter].update(this,delta,step)},checkBounds:function(emitter){var bounds=emitter.bounds,bounce=-this.bounce;this.x<bounds.x&&emitter.collideLeft?(this.x=bounds.x,this.velocityX*=bounce):this.x>bounds.right&&emitter.collideRight&&(this.x=
bounds.right,this.velocityX*=bounce);this.y<bounds.y&&emitter.collideTop?(this.y=bounds.y,this.velocityY*=bounce):this.y>bounds.bottom&&emitter.collideBottom&&(this.y=bounds.bottom,this.velocityY*=bounce)},update:function(delta,step,processors){if(0<this.delayCurrent)return this.delayCurrent-=delta,!1;var emitter=this.emitter,t=1-this.lifeCurrent/this.life;this.lifeT=t;this.computeVelocity(emitter,delta,step,processors);this.x+=this.velocityX*step;this.y+=this.velocityY*step;emitter.bounds&&this.checkBounds(emitter);
if(emitter.deathZone&&emitter.deathZone.willKill(this))return this.lifeCurrent=0,!0;this.scaleX=emitter.scaleX.onUpdate(this,"scaleX",t,this.scaleX);this.scaleY=emitter.scaleY?emitter.scaleY.onUpdate(this,"scaleY",t,this.scaleY):this.scaleX;this.angle=emitter.rotate.onUpdate(this,"rotate",t,this.angle);this.rotation=DegToRad(this.angle);this.alpha=emitter.alpha.onUpdate(this,"alpha",t,this.alpha);this.tint=emitter.tint.onUpdate(this,"tint",t,this.tint);this.lifeCurrent-=delta;return 0>=this.lifeCurrent}});
module.exports=__webpack_require__},function(module,exports,__webpack_require__){var BlendModes=__webpack_require__(34);exports=__webpack_require__(0);var Components=__webpack_require__(11),DeathZone=__webpack_require__(447),EdgeZone=__webpack_require__(448),EmitterOp=__webpack_require__(443),GetFastValue=__webpack_require__(2),GetRandom=__webpack_require__(207),HasAny=__webpack_require__(449),HasValue=__webpack_require__(125),Particle=__webpack_require__(445),RandomZone=__webpack_require__(450),
Rectangle=__webpack_require__(10),StableSort=__webpack_require__(79),Vector2=__webpack_require__(3),Wrap=__webpack_require__(66);__webpack_require__=new exports({Mixins:[Components.BlendMode,Components.Mask,Components.ScrollFactor,Components.Visible],initialize:function(manager,config){this.manager=manager;this.texture=manager.texture;this.frames=[manager.defaultFrame];this.defaultFrame=manager.defaultFrame;this.configFastMap="active blendMode collideBottom collideLeft collideRight collideTop deathCallback deathCallbackScope emitCallback emitCallbackScope follow frequency gravityX gravityY maxParticles name on particleBringToTop particleClass radial timeScale trackVisible visible".split(" ");
this.configOpMap="accelerationX accelerationY angle alpha bounce delay lifespan maxVelocityX maxVelocityY moveToX moveToY quantity rotate scaleX scaleY speedX speedY tint x y".split(" ");this.name="";this.particleClass=Particle;this.x=new EmitterOp(config,"x",0,!0);this.y=new EmitterOp(config,"y",0,!0);this.radial=!0;this.gravityY=this.gravityX=0;this.acceleration=!1;this.accelerationX=new EmitterOp(config,"accelerationX",0,!0);this.accelerationY=new EmitterOp(config,"accelerationY",0,!0);this.maxVelocityX=
new EmitterOp(config,"maxVelocityX",1E4,!0);this.maxVelocityY=new EmitterOp(config,"maxVelocityY",1E4,!0);this.speedX=new EmitterOp(config,"speedX",0,!0);this.speedY=new EmitterOp(config,"speedY",0,!0);this.moveTo=!1;this.moveToX=new EmitterOp(config,"moveToX",0,!0);this.moveToY=new EmitterOp(config,"moveToY",0,!0);this.bounce=new EmitterOp(config,"bounce",0,!0);this.scaleX=new EmitterOp(config,"scaleX",1);this.scaleY=new EmitterOp(config,"scaleY",1);this.tint=new EmitterOp(config,"tint",16777215);
this.alpha=new EmitterOp(config,"alpha",1);this.lifespan=new EmitterOp(config,"lifespan",1E3,!0);this.angle=new EmitterOp(config,"angle",{min:0,max:360},!0);this.rotate=new EmitterOp(config,"rotate",0);this.deathCallbackScope=this.deathCallback=this.emitCallbackScope=this.emitCallback=null;this.maxParticles=0;this.quantity=new EmitterOp(config,"quantity",1,!0);this.delay=new EmitterOp(config,"delay",0,!0);this.frequency=0;this.particleBringToTop=this.on=!0;this.timeScale=1;this.bounds=this.deathZone=
this.emitZone=null;this.visible=this.active=this.collideBottom=this.collideTop=this.collideRight=this.collideLeft=!0;this.blendMode=BlendModes.NORMAL;this.follow=null;this.followOffset=new Vector2;this.trackVisible=!1;this.currentFrame=0;this.randomFrame=!0;this.frameQuantity=1;this.dead=[];this.alive=[];this._frameCounter=this._counter=0;config&&this.fromJSON(config)},fromJSON:function(config){if(!config)return this;var i;for(i=0;i<this.configFastMap.length;i++){var key=this.configFastMap[i];HasValue(config,
key)&&(this[key]=GetFastValue(config,key))}for(i=0;i<this.configOpMap.length;i++)key=this.configOpMap[i],HasValue(config,key)&&this[key].loadConfig(config);this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue;this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue;HasValue(config,"speed")&&(this.speedX.loadConfig(config,"speed"),this.speedY=null);if(HasAny(config,["speedX","speedY"])||this.moveTo)this.radial=!1;HasValue(config,"scale")&&(this.scaleX.loadConfig(config,
"scale"),this.scaleY=null);HasValue(config,"callbackScope")&&(this.deathCallbackScope=this.emitCallbackScope=i=GetFastValue(config,"callbackScope",null));HasValue(config,"emitZone")&&this.setEmitZone(config.emitZone);HasValue(config,"deathZone")&&this.setDeathZone(config.deathZone);HasValue(config,"bounds")&&this.setBounds(config.bounds);HasValue(config,"followOffset")&&this.followOffset.setFromObject(GetFastValue(config,"followOffset",0));HasValue(config,"frame")&&this.setFrame(config.frame);HasValue(config,
"reserve")&&this.reserve(config.reserve);return this},toJSON:function(output){void 0===output&&(output={});var i;for(i=0;i<this.configFastMap.length;i++){var key=this.configFastMap[i];output[key]=this[key]}for(i=0;i<this.configOpMap.length;i++)key=this.configOpMap[i],this[key]&&(output[key]=this[key].toJSON());this.speedY||(delete output.speedX,output.speed=this.speedX.toJSON());this.scaleY||(delete output.scaleX,output.scale=this.scaleX.toJSON());return output},startFollow:function(target,offsetX,
offsetY,trackVisible){void 0===offsetX&&(offsetX=0);void 0===offsetY&&(offsetY=0);void 0===trackVisible&&(trackVisible=!1);this.follow=target;this.followOffset.set(offsetX,offsetY);this.trackVisible=trackVisible;return this},stopFollow:function(){this.follow=null;this.followOffset.set(0,0);this.trackVisible=!1;return this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return GetRandom(this.frames);var frame=this.frames[this.currentFrame];this._frameCounter++;
this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=Wrap(this.currentFrame+1,0,this._frameLength));return frame},setFrame:function(frames,pickRandom,quantity){void 0===pickRandom&&(pickRandom=!0);void 0===quantity&&(quantity=1);this.randomFrame=pickRandom;this.frameQuantity=quantity;this._frameCounter=this.currentFrame=0;pickRandom=typeof frames;Array.isArray(frames)||"string"===pickRandom||"number"===pickRandom?this.manager.setEmitterFrames(frames,this):"object"===pickRandom&&
(pickRandom=frames,(frames=GetFastValue(pickRandom,"frames",null))&&this.manager.setEmitterFrames(frames,this),this.randomFrame=GetFastValue(pickRandom,"cycle",!1)?!1:!0,this.frameQuantity=GetFastValue(pickRandom,"quantity",quantity));this._frameLength=this.frames.length;1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1);return this},setRadial:function(value){void 0===value&&(value=!0);this.radial=value;return this},setPosition:function(x,y){this.x.onChange(x);this.y.onChange(y);return this},
setBounds:function(x,y,width,height){"object"===typeof x&&(height=x,x=height.x,y=height.y,width=HasValue(height,"w")?height.w:height.width,height=HasValue(height,"h")?height.h:height.height);this.bounds?this.bounds.setTo(x,y,width,height):this.bounds=new Rectangle(x,y,width,height);return this},setSpeedX:function(value){this.speedX.onChange(value);this.radial=!1;return this},setSpeedY:function(value){this.speedY&&(this.speedY.onChange(value),this.radial=!1);return this},setSpeed:function(value){this.speedX.onChange(value);
this.speedY=null;this.radial=!0;return this},setScaleX:function(value){this.scaleX.onChange(value);return this},setScaleY:function(value){this.scaleY.onChange(value);return this},setScale:function(value){this.scaleX.onChange(value);this.scaleY=null;return this},setGravityX:function(value){this.gravityX=value;return this},setGravityY:function(value){this.gravityY=value;return this},setGravity:function(x,y){this.gravityX=x;this.gravityY=y;return this},setAlpha:function(value){this.alpha.onChange(value);
return this},setTint:function(value){this.tint.onChange(value);return this},setEmitterAngle:function(value){this.angle.onChange(value);return this},setAngle:function(value){this.angle.onChange(value);return this},setLifespan:function(value){this.lifespan.onChange(value);return this},setQuantity:function(quantity){this.quantity.onChange(quantity);return this},setFrequency:function(frequency,quantity){this.frequency=frequency;this._counter=0;if(quantity)this.quantity.onChange(quantity);return this},
setEmitZone:function(zoneConfig){if(void 0===zoneConfig)this.emitZone=null;else{var type=GetFastValue(zoneConfig,"type","random"),source=GetFastValue(zoneConfig,"source",null);switch(type){case "random":this.emitZone=new RandomZone(source);break;case "edge":type=GetFastValue(zoneConfig,"quantity",1);var stepRate=GetFastValue(zoneConfig,"stepRate",0),yoyo=GetFastValue(zoneConfig,"yoyo",!1);zoneConfig=GetFastValue(zoneConfig,"seamless",!0);this.emitZone=new EdgeZone(source,type,stepRate,yoyo,zoneConfig)}}return this},
setDeathZone:function(zoneConfig){if(void 0===zoneConfig)this.deathZone=null;else{var type=GetFastValue(zoneConfig,"type","onEnter");(zoneConfig=GetFastValue(zoneConfig,"source",null))&&"function"===typeof zoneConfig.contains&&(this.deathZone=new DeathZone(zoneConfig,"onEnter"===type?!0:!1))}return this},reserve:function(particleCount){for(var dead=this.dead,i=0;i<particleCount;i++)dead.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},
getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return 0<this.maxParticles&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(callback,context){void 0===callback?this.emitCallbackScope=this.emitCallback=null:"function"===typeof callback&&(this.emitCallback=callback,context&&(this.emitCallbackScope=context));return this},onParticleDeath:function(callback,context){void 0===callback?this.deathCallbackScope=this.deathCallback=
null:"function"===typeof callback&&(this.deathCallback=callback,context&&(this.deathCallbackScope=context));return this},killAll:function(){for(var dead=this.dead,alive=this.alive;0<alive.length;)dead.push(alive.pop());return this},forEachAlive:function(callback,context){for(var alive=this.alive,length=alive.length,index=0;index<length;++index)callback.call(context,alive[index],this);return this},forEachDead:function(callback,context){for(var dead=this.dead,length=dead.length,index=0;index<length;++index)callback.call(context,
dead[index],this);return this},start:function(){this.on=!0;this._counter=0;return this},stop:function(){this.on=!1;return this},pause:function(){this.active=!1;return this},resume:function(){this.active=!0;return this},remove:function(){this.manager.removeEmitter(this);return this},depthSort:function(){StableSort(this.alive,this.depthSortCallback);return this},flow:function(frequency,count){void 0===count&&(count=1);this.frequency=frequency;this.quantity.onChange(count);return this.start()},explode:function(count,
x,y){this.frequency=-1;return this.emitParticle(count,x,y)},emitParticleAt:function(x,y,count){return this.emitParticle(count,x,y)},emitParticle:function(count,x,y){if(!this.atLimit()){void 0===count&&(count=this.quantity.onEmit());var dead=this.dead;x=this.follow?this.follow.x+this.followOffset.x:x;y=this.follow?this.follow.y+this.followOffset.y:y;for(var i=0;i<count;i++){var particle=dead.pop();particle||(particle=new this.particleClass(this));particle.fire(x,y);this.particleBringToTop?this.alive.push(particle):
this.alive.unshift(particle);this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,particle,this);if(this.atLimit())break}return particle}},preUpdate:function(time,delta){delta*=this.timeScale;var step=delta/1E3;this.trackVisible&&(this.visible=this.follow.visible);var processors=this.manager.getProcessors();time=this.alive;var dead=this.dead,i,rip=[],length=time.length;for(i=0;i<length;i++){var particle=time[i];particle.update(delta,step,processors)&&rip.push({index:i,particle:particle})}length=
rip.length;if(0<length)for(step=this.deathCallback,processors=this.deathCallbackScope,i=length-1;0<=i;i--)length=rip[i],time.splice(length.index,1),dead.push(length.particle),step&&step.call(processors,length.particle),length.particle.resetPosition();this.on&&(0===this.frequency?this.emitParticle():0<this.frequency&&(this._counter-=delta,0>=this._counter&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(a,b){return a.y-b.y}});module.exports=
__webpack_require__},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(source,killOnEnter){this.source=source;this.killOnEnter=killOnEnter},willKill:function(particle){return(particle=this.source.contains(particle.x,particle.y))&&this.killOnEnter||!particle&&!this.killOnEnter}});module.exports=exports},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(source,quantity,stepRate,yoyo,seamless){void 0===
yoyo&&(yoyo=!1);void 0===seamless&&(seamless=!0);this.source=source;this.points=[];this.quantity=quantity;this.stepRate=stepRate;this.yoyo=yoyo;this.counter=-1;this.seamless=seamless;this._direction=this._length=0;this.updateSource()},updateSource:function(){this.points=this.source.getPoints(this.quantity,this.stepRate);if(this.seamless){var a=this.points[0],b=this.points[this.points.length-1];a.x===b.x&&a.y===b.y&&this.points.pop()}a=this._length;this._length=this.points.length;this._length<a&&this.counter>
this._length&&(this.counter=this._length-1);return this},changeSource:function(source){this.source=source;return this.updateSource()},getPoint:function(particle){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.counter=this.yoyo?this._direction=0:this._length-1));var point=this.points[this.counter];point&&(particle.x=point.x,particle.y=point.y)}});module.exports=exports},
function(module,exports){module.exports=function(source,keys){for(var i=0;i<keys.length;i++)if(source.hasOwnProperty(keys[i]))return!0;return!1}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(source){this.source=source;this._tempVec=new Vector2},getPoint:function(particle){var vec=this._tempVec;this.source.getRandomPoint(vec);particle.x=vec.x;particle.y=vec.y}});module.exports=__webpack_require__},
function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),Sprite=__webpack_require__(73);__webpack_require__=new exports({Extends:Sprite,Mixins:[Components.PathFollower],initialize:function(scene,path,x,y,texture,frame){Sprite.call(this,scene,x,y,texture,frame);this.path=path},preUpdate:function(time,delta){this.anims.update(time,delta);this.pathUpdate(time)}});module.exports=__webpack_require__},function(module,exports){module.exports=function(text,
size,lines){var canvas=text.canvas,context=text.context,style=text.style,lineWidths=[],maxLineWidth=0,drawnLines=lines.length;0<style.maxLines&&style.maxLines<lines.length&&(drawnLines=style.maxLines);style.syncFont(canvas,context);for(canvas=0;canvas<drawnLines;canvas++){var lineWidth=style.strokeThickness;lineWidth+=context.measureText(lines[canvas]).width;style.wordWrap&&(lineWidth-=context.measureText(" ").width);lineWidths[canvas]=Math.ceil(lineWidth);maxLineWidth=Math.max(maxLineWidth,lineWidths[canvas])}size=
size.fontSize+style.strokeThickness;lines=size*drawnLines;text=text.lineSpacing;1<drawnLines&&(lines+=text*(drawnLines-1));return{width:maxLineWidth,height:lines,lines:drawnLines,lineWidths:lineWidths,lineSpacing:text,lineHeight:size}}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetAdvancedValue=__webpack_require__(13),GetValue=__webpack_require__(6),MeasureText=__webpack_require__(454),propertyMap={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],
fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],
testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]};__webpack_require__=new exports({initialize:function(text,style){this.parent=text;this.setStyle(style,!1,!0);this.metrics=(text=GetValue(style,"metrics",!1))?{ascent:GetValue(text,"ascent",0),descent:GetValue(text,"descent",
0),fontSize:GetValue(text,"fontSize",0)}:MeasureText(this)},setStyle:function(style,updateText,setDefaults){void 0===updateText&&(updateText=!0);void 0===setDefaults&&(setDefaults=!1);style&&style.hasOwnProperty("fontSize")&&"number"===typeof style.fontSize&&(style.fontSize=style.fontSize.toString()+"px");for(var key in propertyMap){var value=setDefaults?propertyMap[key][1]:this[key];this[key]="wordWrapCallback"===key||"wordWrapCallbackScope"===key?GetValue(style,propertyMap[key][0],value):GetAdvancedValue(style,
propertyMap[key][0],value)}setDefaults=GetValue(style,"font",null);null!==setDefaults&&this.setFont(setDefaults,!1);this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();style=GetValue(style,"fill",null);null!==style&&(this.color=style);return updateText?this.update(!0):this.parent},syncFont:function(canvas,context){context.font=this._font},syncStyle:function(canvas,context){context.textBaseline="alphabetic";context.fillStyle=this.color;context.strokeStyle=this.stroke;context.lineWidth=
this.strokeThickness;context.lineCap="round";context.lineJoin="round"},syncShadow:function(context,enabled){enabled?(context.shadowOffsetX=this.shadowOffsetX,context.shadowOffsetY=this.shadowOffsetY,context.shadowColor=this.shadowColor,context.shadowBlur=this.shadowBlur):(context.shadowOffsetX=0,context.shadowOffsetY=0,context.shadowColor=0,context.shadowBlur=0)},update:function(recalculateMetrics){recalculateMetrics&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=
MeasureText(this));return this.parent.updateText()},setFont:function(font,updateText){void 0===updateText&&(updateText=!0);if("string"!==typeof font){var fontFamily=GetValue(font,"fontFamily","Courier");var fontSize=GetValue(font,"fontSize","16px");font=GetValue(font,"fontStyle","")}else{fontFamily=font.split(" ");var i=0;font=2<fontFamily.length?fontFamily[i++]:"";fontSize=fontFamily[i++]||"16px";fontFamily=fontFamily[i++]||"Courier"}if(fontFamily!==this.fontFamily||fontSize!==this.fontSize||font!==
this.fontStyle)this.fontFamily=fontFamily,this.fontSize=fontSize,this.fontStyle=font,updateText&&this.update(!0);return this.parent},setFontFamily:function(family){this.fontFamily!==family&&(this.fontFamily=family,this.update(!0));return this.parent},setFontStyle:function(style){this.fontStyle!==style&&(this.fontStyle=style,this.update(!0));return this.parent},setFontSize:function(size){"number"===typeof size&&(size=size.toString()+"px");this.fontSize!==size&&(this.fontSize=size,this.update(!0));
return this.parent},setTestString:function(string){this.testString=string;return this.update(!0)},setFixedSize:function(width,height){this.fixedWidth=width;this.fixedHeight=height;width&&(this.parent.width=width);height&&(this.parent.height=height);return this.update(!1)},setBackgroundColor:function(color){this.backgroundColor=color;return this.update(!1)},setFill:function(color){this.color=color;return this.update(!1)},setColor:function(color){this.color=color;return this.update(!1)},setResolution:function(value){this.resolution=
value;return this.update(!1)},setStroke:function(color,thickness){void 0===thickness&&(thickness=this.strokeThickness);if(void 0===color&&0!==this.strokeThickness)this.strokeThickness=0,this.update(!0);else if(this.stroke!==color||this.strokeThickness!==thickness)this.stroke=color,this.strokeThickness=thickness,this.update(!0);return this.parent},setShadow:function(x,y,color,blur,shadowStroke,shadowFill){void 0===x&&(x=0);void 0===y&&(y=0);void 0===color&&(color="#000");void 0===blur&&(blur=0);void 0===
shadowStroke&&(shadowStroke=!1);void 0===shadowFill&&(shadowFill=!0);this.shadowOffsetX=x;this.shadowOffsetY=y;this.shadowColor=color;this.shadowBlur=blur;this.shadowStroke=shadowStroke;this.shadowFill=shadowFill;return this.update(!1)},setShadowOffset:function(x,y){void 0===x&&(x=0);void 0===y&&(y=x);this.shadowOffsetX=x;this.shadowOffsetY=y;return this.update(!1)},setShadowColor:function(color){void 0===color&&(color="#000");this.shadowColor=color;return this.update(!1)},setShadowBlur:function(blur){void 0===
blur&&(blur=0);this.shadowBlur=blur;return this.update(!1)},setShadowStroke:function(enabled){this.shadowStroke=enabled;return this.update(!1)},setShadowFill:function(enabled){this.shadowFill=enabled;return this.update(!1)},setWordWrapWidth:function(width,useAdvancedWrap){void 0===useAdvancedWrap&&(useAdvancedWrap=!1);this.wordWrapWidth=width;this.wordWrapUseAdvanced=useAdvancedWrap;return this.update(!1)},setWordWrapCallback:function(callback,scope){void 0===scope&&(scope=null);this.wordWrapCallback=
callback;this.wordWrapCallbackScope=scope;return this.update(!1)},setAlign:function(align){void 0===align&&(align="left");this.align=align;return this.update(!1)},setMaxLines:function(max){void 0===max&&(max=0);this.maxLines=max;return this.update(!1)},getTextMetrics:function(){var metrics=this.metrics;return{ascent:metrics.ascent,descent:metrics.descent,fontSize:metrics.fontSize}},toJSON:function(){var output={},key;for(key in propertyMap)output[key]=this[key];output.metrics=this.getTextMetrics();
return output},destroy:function(){this.parent=void 0}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(31);module.exports=function(textStyle){var canvas=CanvasPool.create(this),context=canvas.getContext("2d");textStyle.syncFont(canvas,context);var metrics=context.measureText(textStyle.testString);if(metrics.hasOwnProperty("actualBoundingBoxAscent")){var ascent=metrics.actualBoundingBoxAscent;metrics=metrics.actualBoundingBoxDescent;
CanvasPool.remove(canvas);return{ascent:ascent,descent:metrics,fontSize:ascent+metrics}}var width=Math.ceil(metrics.width*textStyle.baselineX);metrics=width;ascent=2*metrics;metrics=metrics*textStyle.baselineY|0;canvas.width=width;canvas.height=ascent;context.fillStyle="#f00";context.fillRect(0,0,width,ascent);context.font=textStyle._font;context.textBaseline="alphabetic";context.fillStyle="#000";context.fillText(textStyle.testString,0,metrics);textStyle={ascent:0,descent:0,fontSize:0};if(!context.getImageData(0,
0,width,ascent))return textStyle.ascent=metrics,textStyle.descent=metrics+6,textStyle.fontSize=textStyle.ascent+textStyle.descent,CanvasPool.remove(canvas),textStyle;context=context.getImageData(0,0,width,ascent).data;var pixels=context.length;width*=4;var i,j,idx=0,stop=!1;for(i=0;i<metrics;i++){for(j=0;j<width;j+=4)if(255!==context[idx+j]){stop=!0;break}if(stop)break;else idx+=width}textStyle.ascent=metrics-i;idx=pixels-width;stop=!1;for(i=ascent;i>metrics;i--){for(j=0;j<width;j+=4)if(255!==context[idx+
j]){stop=!0;break}if(stop)break;else idx-=width}textStyle.descent=i-metrics;textStyle.fontSize=textStyle.ascent+textStyle.descent;CanvasPool.remove(canvas);return textStyle}},function(module,exports,__webpack_require__){exports=__webpack_require__(1091);var Class=__webpack_require__(0),DegToRad=__webpack_require__(35),Earcut=__webpack_require__(68),GeomCircle=__webpack_require__(62),MATH_CONST=__webpack_require__(14),Shape=__webpack_require__(33);__webpack_require__=new Class({Extends:Shape,Mixins:[exports],
initialize:function(scene,x,y,radius,startAngle,endAngle,anticlockwise,fillColor,fillAlpha){void 0===x&&(x=0);void 0===y&&(y=0);void 0===radius&&(radius=128);void 0===startAngle&&(startAngle=0);void 0===endAngle&&(endAngle=360);void 0===anticlockwise&&(anticlockwise=!1);Shape.call(this,scene,"Arc",new GeomCircle(0,0,radius));this._startAngle=startAngle;this._endAngle=endAngle;this._anticlockwise=anticlockwise;this._iterations=.01;this.setPosition(x,y);scene=2*this.geom.radius;this.setSize(scene,scene);
void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha);this.updateDisplayOrigin();this.updateData()},iterations:{get:function(){return this._iterations},set:function(value){this._iterations=value;this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(value){this.geom.radius=value;value*=2;this.setSize(value,value);this.updateDisplayOrigin();this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(value){this._startAngle=value;this.updateData()}},
endAngle:{get:function(){return this._endAngle},set:function(value){this._endAngle=value;this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(value){this._anticlockwise=value;this.updateData()}},setRadius:function(value){this.radius=value;return this},setIterations:function(value){void 0===value&&(value=.01);this.iterations=value;return this},setStartAngle:function(angle,anticlockwise){this._startAngle=angle;void 0!==anticlockwise&&(this._anticlockwise=anticlockwise);
return this.updateData()},setEndAngle:function(angle,anticlockwise){this._endAngle=angle;void 0!==anticlockwise&&(this._anticlockwise=anticlockwise);return this.updateData()},updateData:function(){var step=this._iterations,iteration=step,radius=this.geom.radius,startAngle=DegToRad(this._startAngle),endAngle=DegToRad(this._endAngle),anticlockwise=this._anticlockwise;endAngle-=startAngle;anticlockwise?endAngle<-MATH_CONST.PI2?endAngle=-MATH_CONST.PI2:0<endAngle&&(endAngle=-MATH_CONST.PI2+endAngle%MATH_CONST.PI2):
endAngle>MATH_CONST.PI2?endAngle=MATH_CONST.PI2:0>endAngle&&(endAngle=MATH_CONST.PI2+endAngle%MATH_CONST.PI2);anticlockwise=[radius+Math.cos(startAngle)*radius,radius+Math.sin(startAngle)*radius];for(var ta;1>iteration;)ta=endAngle*iteration+startAngle,anticlockwise.push(radius+Math.cos(ta)*radius,radius+Math.sin(ta)*radius),iteration+=step;ta=endAngle+startAngle;anticlockwise.push(radius+Math.cos(ta)*radius,radius+Math.sin(ta)*radius);anticlockwise.push(radius+Math.cos(startAngle)*radius,radius+
Math.sin(startAngle)*radius);this.pathIndexes=Earcut(anticlockwise);this.pathData=anticlockwise;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CurveRender=__webpack_require__(1094),Earcut=__webpack_require__(68),Rectangle=__webpack_require__(10),Shape=__webpack_require__(33);__webpack_require__=new exports({Extends:Shape,Mixins:[CurveRender],initialize:function(scene,x,y,curve,fillColor,fillAlpha){void 0===x&&(x=0);
void 0===y&&(y=0);Shape.call(this,scene,"Curve",curve);this._smoothness=32;this._curveBounds=new Rectangle;this.closePath=!1;this.setPosition(x,y);void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha);this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(value){this._smoothness=value;this.updateData()}},setSmoothness:function(value){this._smoothness=value;return this.updateData()},updateData:function(){var bounds=this._curveBounds,smoothness=this._smoothness;this.geom.getBounds(bounds,
smoothness);this.setSize(bounds.width,bounds.height);this.updateDisplayOrigin();bounds=[];smoothness=this.geom.getPoints(smoothness);for(var i=0;i<smoothness.length;i++)bounds.push(smoothness[i].x,smoothness[i].y);bounds.push(smoothness[0].x,smoothness[0].y);this.pathIndexes=Earcut(bounds);this.pathData=bounds;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Earcut=__webpack_require__(68),EllipseRender=__webpack_require__(1097),
GeomEllipse=__webpack_require__(108),Shape=__webpack_require__(33);__webpack_require__=new exports({Extends:Shape,Mixins:[EllipseRender],initialize:function(scene,x,y,width,height,fillColor,fillAlpha){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=128);void 0===height&&(height=128);Shape.call(this,scene,"Ellipse",new GeomEllipse(width/2,height/2,width,height));this._smoothness=64;this.setPosition(x,y);this.width=width;this.height=height;void 0!==fillColor&&this.setFillStyle(fillColor,
fillAlpha);this.updateDisplayOrigin();this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(value){this._smoothness=value;this.updateData()}},setSize:function(width,height){this.width=width;this.height=height;this.geom.setPosition(width/2,height/2);this.geom.setSize(width,height);return this.updateData()},setSmoothness:function(value){this._smoothness=value;return this.updateData()},updateData:function(){for(var path=[],points=this.geom.getPoints(this._smoothness),i=
0;i<points.length;i++)path.push(points[i].x,points[i].y);path.push(points[0].x,points[0].y);this.pathIndexes=Earcut(path);this.pathData=path;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Shape=__webpack_require__(33);__webpack_require__=__webpack_require__(1100);__webpack_require__=new exports({Extends:Shape,Mixins:[__webpack_require__],initialize:function(scene,x,y,width,height,cellWidth,cellHeight,fillColor,fillAlpha,
outlineFillColor,outlineFillAlpha){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=128);void 0===height&&(height=128);void 0===cellWidth&&(cellWidth=32);void 0===cellHeight&&(cellHeight=32);Shape.call(this,scene,"Grid",null);this.cellWidth=cellWidth;this.cellHeight=cellHeight;this.showCells=!0;this.outlineFillAlpha=this.outlineFillColor=0;this.showOutline=!0;this.showAltCells=!1;this.setPosition(x,y);this.setSize(width,height);this.setFillStyle(fillColor,fillAlpha);void 0!==outlineFillColor&&
this.setOutlineStyle(outlineFillColor,outlineFillAlpha);this.updateDisplayOrigin()},setFillStyle:function(fillColor,fillAlpha){void 0===fillAlpha&&(fillAlpha=1);void 0===fillColor?this.showCells=!1:(this.fillColor=fillColor,this.fillAlpha=fillAlpha,this.showCells=!0);return this},setAltFillStyle:function(fillColor,fillAlpha){void 0===fillAlpha&&(fillAlpha=1);void 0===fillColor?this.showAltCells=!1:(this.altFillColor=fillColor,this.altFillAlpha=fillAlpha,this.showAltCells=!0);return this},setOutlineStyle:function(fillColor,
fillAlpha){void 0===fillAlpha&&(fillAlpha=1);void 0===fillColor?this.showOutline=!1:(this.outlineFillColor=fillColor,this.outlineFillAlpha=fillAlpha,this.showOutline=!0);return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(1103);var Class=__webpack_require__(0),Shape=__webpack_require__(33);__webpack_require__=new Class({Extends:Shape,Mixins:[exports],initialize:function(scene,x,y,size,height,fillTop,fillLeft,fillRight){void 0===
x&&(x=0);void 0===y&&(y=0);void 0===size&&(size=48);void 0===height&&(height=32);void 0===fillTop&&(fillTop=15658734);void 0===fillLeft&&(fillLeft=10066329);void 0===fillRight&&(fillRight=13421772);Shape.call(this,scene,"IsoBox",null);this.projection=4;this.fillTop=fillTop;this.fillLeft=fillLeft;this.fillRight=fillRight;this.isFilled=this.showRight=this.showLeft=this.showTop=!0;this.setPosition(x,y);this.setSize(size,height);this.updateDisplayOrigin()},setProjection:function(value){this.projection=
value;return this},setFaces:function(showTop,showLeft,showRight){void 0===showTop&&(showTop=!0);void 0===showLeft&&(showLeft=!0);void 0===showRight&&(showRight=!0);this.showTop=showTop;this.showLeft=showLeft;this.showRight=showRight;return this},setFillStyle:function(fillTop,fillLeft,fillRight){this.fillTop=fillTop;this.fillLeft=fillLeft;this.fillRight=fillRight;this.isFilled=!0;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var IsoTriangleRender=__webpack_require__(1106),Shape=__webpack_require__(33);__webpack_require__=new exports({Extends:Shape,Mixins:[IsoTriangleRender],initialize:function(scene,x,y,size,height,reversed,fillTop,fillLeft,fillRight){void 0===x&&(x=0);void 0===y&&(y=0);void 0===size&&(size=48);void 0===height&&(height=32);void 0===reversed&&(reversed=!1);void 0===fillTop&&(fillTop=15658734);void 0===fillLeft&&(fillLeft=10066329);void 0===fillRight&&(fillRight=13421772);Shape.call(this,scene,"IsoTriangle",
null);this.projection=4;this.fillTop=fillTop;this.fillLeft=fillLeft;this.fillRight=fillRight;this.showRight=this.showLeft=this.showTop=!0;this.isReversed=reversed;this.isFilled=!0;this.setPosition(x,y);this.setSize(size,height);this.updateDisplayOrigin()},setProjection:function(value){this.projection=value;return this},setReversed:function(reversed){this.isReversed=reversed;return this},setFaces:function(showTop,showLeft,showRight){void 0===showTop&&(showTop=!0);void 0===showLeft&&(showLeft=!0);void 0===
showRight&&(showRight=!0);this.showTop=showTop;this.showLeft=showLeft;this.showRight=showRight;return this},setFillStyle:function(fillTop,fillLeft,fillRight){this.fillTop=fillTop;this.fillLeft=fillLeft;this.fillRight=fillRight;this.isFilled=!0;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Shape=__webpack_require__(33),GeomLine=__webpack_require__(45);__webpack_require__=__webpack_require__(1109);__webpack_require__=
new exports({Extends:Shape,Mixins:[__webpack_require__],initialize:function(scene,x,y,x1,y1,x2,y2,strokeColor,strokeAlpha){void 0===x&&(x=0);void 0===y&&(y=0);void 0===x1&&(x1=0);void 0===y1&&(y1=0);void 0===x2&&(x2=128);void 0===y2&&(y2=0);Shape.call(this,scene,"Line",new GeomLine(x1,y1,x2,y2));scene=Math.max(1,this.geom.right-this.geom.left);x1=Math.max(1,this.geom.bottom-this.geom.top);this._endWidth=this._startWidth=this.lineWidth=1;this.setPosition(x,y);this.setSize(scene,x1);void 0!==strokeColor&&
this.setStrokeStyle(1,strokeColor,strokeAlpha);this.updateDisplayOrigin()},setLineWidth:function(startWidth,endWidth){void 0===endWidth&&(endWidth=startWidth);this._startWidth=startWidth;this._endWidth=endWidth;this.lineWidth=startWidth;return this},setTo:function(x1,y1,x2,y2){this.geom.setTo(x1,y1,x2,y2);return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(1112);var Class=__webpack_require__(0),Earcut=__webpack_require__(68),
GetAABB=__webpack_require__(463),GeomPolygon=__webpack_require__(224),Shape=__webpack_require__(33),Smooth=__webpack_require__(466);__webpack_require__=new Class({Extends:Shape,Mixins:[exports],initialize:function(scene,x,y,points,fillColor,fillAlpha){void 0===x&&(x=0);void 0===y&&(y=0);Shape.call(this,scene,"Polygon",new GeomPolygon(points));scene=GetAABB(this.geom);this.setPosition(x,y);this.setSize(scene.width,scene.height);void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha);this.updateDisplayOrigin();
this.updateData()},smooth:function(iterations){void 0===iterations&&(iterations=1);for(var i=0;i<iterations;i++)Smooth(this.geom);return this.updateData()},updateData:function(){for(var path=[],points=this.geom.points,i=0;i<points.length;i++)path.push(points[i].x,points[i].y);path.push(points[0].x,points[0].y);this.pathIndexes=Earcut(path);this.pathData=path;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10);module.exports=
function(polygon,out){void 0===out&&(out=new Rectangle);for(var minX=Infinity,minY=Infinity,maxX=-minX,maxY=-minY,p,i=0;i<polygon.points.length;i++)p=polygon.points[i],minX=Math.min(minX,p.x),minY=Math.min(minY,p.y),maxX=Math.max(maxX,p.x),maxY=Math.max(maxY,p.y);out.x=minX;out.y=minY;out.width=maxX-minX;out.height=maxY-minY;return out}},function(module,exports,__webpack_require__){var Length=__webpack_require__(64),Line=__webpack_require__(45),Perimeter=__webpack_require__(465);module.exports=function(polygon,
quantity,stepRate,out){void 0===out&&(out=[]);var points=polygon.points;polygon=Perimeter(polygon);!quantity&&0<stepRate&&(quantity=polygon/stepRate);for(stepRate=0;stepRate<quantity;stepRate++)for(var position=stepRate/quantity*polygon,accumulatedPerimeter=0,j=0;j<points.length;j++){var pointA=points[j],pointB=points[(j+1)%points.length];pointA=new Line(pointA.x,pointA.y,pointB.x,pointB.y);pointB=Length(pointA);if(position<accumulatedPerimeter||position>accumulatedPerimeter+pointB)accumulatedPerimeter+=
pointB;else{position=pointA.getPoint((position-accumulatedPerimeter)/pointB);out.push(position);break}}return out}},function(module,exports,__webpack_require__){var Length=__webpack_require__(64),Line=__webpack_require__(45);module.exports=function(polygon){polygon=polygon.points;for(var perimeter=0,i=0;i<polygon.length;i++){var pointA=polygon[i],pointB=polygon[(i+1)%polygon.length];pointA=new Line(pointA.x,pointA.y,pointB.x,pointB.y);perimeter+=Length(pointA)}return perimeter}},function(module,exports){var copy=
function(out,a){out[0]=a[0];out[1]=a[1];return out};module.exports=function(polygon){var i,points=[],data=polygon.points;for(i=0;i<data.length;i++)points.push([data[i].x,data[i].y]);data=[];0<points.length&&data.push(copy([0,0],points[0]));for(i=0;i<points.length-1;i++){var p0=points[i],p1=points[i+1],p0x=p0[0];p0=p0[1];var p1x=p1[0];p1=p1[1];data.push([.85*p0x+.15*p1x,.85*p0+.15*p1]);data.push([.15*p0x+.85*p1x,.15*p0+.85*p1])}1<points.length&&data.push(copy([0,0],points[points.length-1]));return polygon.setTo(data)}},
function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GeomRectangle=__webpack_require__(10),Shape=__webpack_require__(33);__webpack_require__=__webpack_require__(1115);__webpack_require__=new exports({Extends:Shape,Mixins:[__webpack_require__],initialize:function(scene,x,y,width,height,fillColor,fillAlpha){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=128);void 0===height&&(height=128);Shape.call(this,scene,"Rectangle",new GeomRectangle(0,0,width,height));this.setPosition(x,
y);this.setSize(width,height);void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha);this.updateDisplayOrigin();this.updateData()},setSize:function(width,height){this.width=width;this.height=height;this.geom.setSize(width,height);this.updateData();return this},updateData:function(){var path=[],rect=this.geom,line=this._tempLine;rect.getLineA(line);path.push(line.x1,line.y1,line.x2,line.y2);rect.getLineB(line);path.push(line.x2,line.y2);rect.getLineC(line);path.push(line.x2,line.y2);rect.getLineD(line);
path.push(line.x2,line.y2);this.pathData=path;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(1118);var Class=__webpack_require__(0),Earcut=__webpack_require__(68),Shape=__webpack_require__(33);__webpack_require__=new Class({Extends:Shape,Mixins:[exports],initialize:function(scene,x,y,points,innerRadius,outerRadius,fillColor,fillAlpha){void 0===x&&(x=0);void 0===y&&(y=0);void 0===points&&(points=5);void 0===innerRadius&&(innerRadius=
32);void 0===outerRadius&&(outerRadius=64);Shape.call(this,scene,"Star",null);this._points=points;this._innerRadius=innerRadius;this._outerRadius=outerRadius;this.setPosition(x,y);this.setSize(2*outerRadius,2*outerRadius);void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha);this.updateDisplayOrigin();this.updateData()},setPoints:function(value){this._points=value;return this.updateData()},setInnerRadius:function(value){this._innerRadius=value;return this.updateData()},setOuterRadius:function(value){this._outerRadius=
value;return this.updateData()},points:{get:function(){return this._points},set:function(value){this._points=value;this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(value){this._innerRadius=value;this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(value){this._outerRadius=value;this.updateData()}},updateData:function(){var path=[],points=this._points,innerRadius=this._innerRadius,outerRadius=this._outerRadius,rot=Math.PI/2*3,
step=Math.PI/points;path.push(outerRadius,outerRadius+-outerRadius);for(var i=0;i<points;i++)path.push(outerRadius+Math.cos(rot)*outerRadius,outerRadius+Math.sin(rot)*outerRadius),rot+=step,path.push(outerRadius+Math.cos(rot)*innerRadius,outerRadius+Math.sin(rot)*innerRadius),rot+=step;path.push(outerRadius,outerRadius+-outerRadius);this.pathIndexes=Earcut(path);this.pathData=path;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var Shape=__webpack_require__(33),GeomTriangle=__webpack_require__(82);__webpack_require__=__webpack_require__(1121);__webpack_require__=new exports({Extends:Shape,Mixins:[__webpack_require__],initialize:function(scene,x,y,x1,y1,x2,y2,x3,y3,fillColor,fillAlpha){void 0===x&&(x=0);void 0===y&&(y=0);void 0===x1&&(x1=0);void 0===y1&&(y1=128);void 0===x2&&(x2=64);void 0===y2&&(y2=0);void 0===x3&&(x3=128);void 0===y3&&(y3=128);Shape.call(this,scene,"Triangle",new GeomTriangle(x1,y1,x2,y2,x3,y3));scene=
this.geom.right-this.geom.left;x1=this.geom.bottom-this.geom.top;this.setPosition(x,y);this.setSize(scene,x1);void 0!==fillColor&&this.setFillStyle(fillColor,fillAlpha);this.updateDisplayOrigin();this.updateData()},setTo:function(x1,y1,x2,y2,x3,y3){this.geom.setTo(x1,y1,x2,y2,x3,y3);return this.updateData()},updateData:function(){var path=[],tri=this.geom,line=this._tempLine;tri.getLineA(line);path.push(line.x1,line.y1,line.x2,line.y2);tri.getLineB(line);path.push(line.x2,line.y2);tri.getLineC(line);
path.push(line.x2,line.y2);this.pathData=path;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Point=__webpack_require__(4),Length=__webpack_require__(64);module.exports=function(triangle,position,out){void 0===out&&(out=new Point);var line1=triangle.getLineA(),line2=triangle.getLineB();triangle=triangle.getLineC();if(0>=position||1<=position)return out.x=line1.x1,out.y=line1.y1,out;var length1=Length(line1),length2=Length(line2),length3=Length(triangle);
position*=length1+length2+length3;position<length1?(position/=length1,out.x=line1.x1+(line1.x2-line1.x1)*position,out.y=line1.y1+(line1.y2-line1.y1)*position):position>length1+length2?(position=(position-(length1+length2))/length3,out.x=triangle.x1+(triangle.x2-triangle.x1)*position,out.y=triangle.y1+(triangle.y2-triangle.y1)*position):(position=(position-length1)/length2,out.x=line2.x1+(line2.x2-line2.x1)*position,out.y=line2.y1+(line2.y2-line2.y1)*position);return out}},function(module,exports,
__webpack_require__){var Length=__webpack_require__(64),Point=__webpack_require__(4);module.exports=function(triangle,quantity,stepRate,out){void 0===out&&(out=[]);var line1=triangle.getLineA(),line2=triangle.getLineB();triangle=triangle.getLineC();var length1=Length(line1),length2=Length(line2),length3=Length(triangle),perimeter=length1+length2+length3;!quantity&&0<stepRate&&(quantity=perimeter/stepRate);for(stepRate=0;stepRate<quantity;stepRate++){var p=stepRate/quantity*perimeter,point=new Point;
p<length1?(p/=length1,point.x=line1.x1+(line1.x2-line1.x1)*p,point.y=line1.y1+(line1.y2-line1.y1)*p):p>length1+length2?(p-=length1+length2,p/=length3,point.x=triangle.x1+(triangle.x2-triangle.x1)*p,point.y=triangle.y1+(triangle.y2-triangle.y1)*p):(p-=length1,p/=length2,point.x=line2.x1+(line2.x2-line2.x1)*p,point.y=line2.y1+(line2.y2-line2.y1)*p);out.push(point)}return out}},function(module,exports){module.exports=function(source,key,value){if(source&&"number"!==typeof source){if(source.hasOwnProperty(key))return source[key]=
value,!0;if(-1!==key.indexOf(".")){key=key.split(".");for(var parent=source,i=0;i<key.length;i++)if(parent.hasOwnProperty(key[i]))source=parent,parent=parent[key[i]];else return!1;source[key[key.length-1]]=value;return!0}}return!1}},function(module,exports,__webpack_require__){var Face=__webpack_require__(113),Vertex=__webpack_require__(115);module.exports=function(vertices,uvs,indicies,containsZ,normals,colors,alphas){void 0===containsZ&&(containsZ=!1);void 0===colors&&(colors=16777215);void 0===
alphas&&(alphas=1);if(vertices.length!==uvs.length)console.warn("GenerateVerts: vertices and uvs count not equal");else{var result={faces:[],vertices:[]},i,normalX,normalY,iInc=containsZ?3:2,isColorArray=Array.isArray(colors),isAlphaArray=Array.isArray(alphas);if(Array.isArray(indicies)&&0<indicies.length)for(i=0;i<indicies.length;i++){var alpha=indicies[i];var v=2*indicies[i];var index3=indicies[i]*iInc;var x=vertices[index3];var y=vertices[index3+1];var z=containsZ?vertices[index3+2]:0;var u=uvs[v];
v=uvs[v+1];var color=isColorArray?colors[alpha]:colors;alpha=isAlphaArray?alphas[alpha]:alphas;var normalZ=normalY=normalX=0;normals&&(normalX=normals[index3],normalY=normals[index3+1],normalZ=containsZ?normals[index3+2]:0);result.vertices.push(new Vertex(x,y,z,u,v,color,alpha,normalX,normalY,normalZ))}else for(i=index3=indicies=0;i<vertices.length;i+=iInc)x=vertices[i],y=vertices[i+1],z=containsZ?vertices[i+2]:0,u=uvs[indicies],v=uvs[indicies+1],color=isColorArray?colors[index3]:colors,alpha=isAlphaArray?
alphas[index3]:alphas,normalZ=normalY=normalX=0,normals&&(normalX=normals[i],normalY=normals[i+1],normalZ=containsZ?normals[i+2]:0),result.vertices.push(new Vertex(x,y,z,u,v,color,alpha,normalX,normalY,normalZ)),indicies+=2,index3++;for(i=0;i<result.vertices.length;i+=3)result.faces.push(new Face(result.vertices[i],result.vertices[i+1],result.vertices[i+2]));return result}}},function(module,exports,__webpack_require__){var Face=__webpack_require__(113);exports=__webpack_require__(67);var Vector3=
__webpack_require__(38),Vertex=__webpack_require__(115),tempPosition=new Vector3,tempRotation=new Vector3,tempMatrix=new exports;module.exports=function(data,mesh,scale,x,y,z,rotateX,rotateY,rotateZ,zIsUp){void 0===scale&&(scale=1);void 0===x&&(x=0);void 0===y&&(y=0);void 0===z&&(z=0);void 0===rotateX&&(rotateX=0);void 0===rotateY&&(rotateY=0);void 0===rotateZ&&(rotateZ=0);void 0===zIsUp&&(zIsUp=!0);var result={faces:[],verts:[]},materials=data.materials;tempPosition.set(x,y,z);tempRotation.set(rotateX,
rotateY,rotateZ);tempMatrix.fromRotationXYTranslation(tempRotation,tempPosition,zIsUp);for(x=0;x<data.models.length;x++)for(rotateX=data.models[x],y=rotateX.vertices,z=rotateX.textureCoords,rotateX=rotateX.faces,rotateY=0;rotateY<rotateX.length;rotateY++){var face=rotateX[rotateY],v1=face.vertices[0],v2=face.vertices[1],v3=face.vertices[2],m1=y[v1.vertexIndex];zIsUp=y[v2.vertexIndex];rotateZ=y[v3.vertexIndex];v1=v1.textureCoordsIndex;v2=v2.textureCoordsIndex;var t3=v3.textureCoordsIndex;v3=-1===v1?
{u:0,v:1}:z[v1];v1=-1===v2?{u:0,v:0}:z[v2];v2=-1===t3?{u:1,v:1}:z[t3];t3=16777215;""!==face.material&&materials[face.material]&&(t3=materials[face.material]);face=(new Vertex(m1.x*scale,m1.y*scale,m1.z*scale,v3.u,v3.v,t3)).transformMat4(tempMatrix);zIsUp=(new Vertex(zIsUp.x*scale,zIsUp.y*scale,zIsUp.z*scale,v1.u,v1.v,t3)).transformMat4(tempMatrix);rotateZ=(new Vertex(rotateZ.x*scale,rotateZ.y*scale,rotateZ.z*scale,v2.u,v2.v,t3)).transformMat4(tempMatrix);result.verts.push(face,zIsUp,rotateZ);result.faces.push(new Face(face,
zIsUp,rotateZ))}mesh&&(mesh.faces=mesh.faces.concat(result.faces),mesh.vertices=mesh.vertices.concat(result.verts));return result}},function(module,exports,__webpack_require__){var Circle=__webpack_require__(62);exports=__webpack_require__(0);var Components=__webpack_require__(11),RGB=__webpack_require__(197),Utils=__webpack_require__(12),Light=new exports({Extends:Circle,Mixins:[Components.ScrollFactor,Components.Visible],initialize:function(x,y,radius,r,g,b,intensity){Circle.call(this,x,y,radius);
this.color=new RGB(r,g,b);this.intensity=intensity;this.renderFlags=15;this.cameraFilter=0;this.setScrollFactor(1,1)},willRender:function(camera){return!(Light.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&camera.id)},setColor:function(rgb){rgb=Utils.getFloatsFromUintRGB(rgb);this.color.set(rgb[0],rgb[1],rgb[2]);return this},setIntensity:function(intensity){this.intensity=intensity;return this},setRadius:function(radius){this.radius=radius;return this}});Light.RENDER_MASK=
15;module.exports=Light},function(module,exports,__webpack_require__){var CircleToRectangle=__webpack_require__(150);exports=__webpack_require__(0);var DistanceBetween=__webpack_require__(48),Light=__webpack_require__(475),PointLight=__webpack_require__(149),RGB=__webpack_require__(197),SpliceOne=__webpack_require__(74),StableSort=__webpack_require__(79),Utils=__webpack_require__(12);__webpack_require__=new exports({initialize:function(){this.lights=[];this.ambientColor=new RGB(.1,.1,.1);this.active=
!1;this.maxLights=-1;this.visibleLights=0},addPointLight:function(x,y,color,radius,intensity){return this.systems.displayList.add(new PointLight(this.scene,x,y,color,radius,intensity))},enable:function(){-1===this.maxLights&&(this.maxLights=this.scene.sys.renderer.config.maxLights);this.active=!0;return this},disable:function(){this.active=!1;return this},getLights:function(camera){for(var lights=this.lights,worldView=camera.worldView,visibleLights=[],i=0;i<lights.length;i++){var light=lights[i];
light.willRender(camera)&&CircleToRectangle(light,worldView)&&visibleLights.push({light:light,distance:DistanceBetween(light.x,light.y,worldView.centerX,worldView.centerY)})}visibleLights.length>this.maxLights&&(StableSort(visibleLights,this.sortByDistance),visibleLights=visibleLights.slice(0,this.maxLights));this.visibleLights=visibleLights.length;return visibleLights},sortByDistance:function(a,b){return a.distance>=b.distance},setAmbientColor:function(rgb){rgb=Utils.getFloatsFromUintRGB(rgb);this.ambientColor.set(rgb[0],
rgb[1],rgb[2]);return this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(x,y,radius,rgb,intensity){void 0===x&&(x=0);void 0===y&&(y=0);void 0===radius&&(radius=128);void 0===rgb&&(rgb=16777215);void 0===intensity&&(intensity=1);rgb=Utils.getFloatsFromUintRGB(rgb);x=new Light(x,y,radius,rgb[0],rgb[1],rgb[2],intensity);this.lights.push(x);return x},removeLight:function(light){light=this.lights.indexOf(light);0<=light&&SpliceOne(this.lights,
light);return this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(55);var Extend=__webpack_require__(17);__webpack_require__={Circle:__webpack_require__(1185),Ellipse:__webpack_require__(1195),Intersects:__webpack_require__(478),Line:__webpack_require__(1215),Mesh:__webpack_require__(1237),Point:__webpack_require__(1240),Polygon:__webpack_require__(1254),Rectangle:__webpack_require__(496),
Triangle:__webpack_require__(1287)};__webpack_require__=Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={CircleToCircle:__webpack_require__(228),CircleToRectangle:__webpack_require__(150),GetCircleToCircle:__webpack_require__(1205),GetCircleToRectangle:__webpack_require__(1206),GetLineToCircle:__webpack_require__(229),GetLineToLine:__webpack_require__(479),GetLineToPoints:__webpack_require__(480),GetLineToPolygon:__webpack_require__(481),
GetLineToRectangle:__webpack_require__(231),GetRaysFromPointToPolygon:__webpack_require__(1207),GetRectangleIntersection:__webpack_require__(1208),GetRectangleToRectangle:__webpack_require__(1209),GetRectangleToTriangle:__webpack_require__(1210),GetTriangleToCircle:__webpack_require__(1211),GetTriangleToLine:__webpack_require__(486),GetTriangleToTriangle:__webpack_require__(1212),LineToCircle:__webpack_require__(230),LineToLine:__webpack_require__(92),LineToRectangle:__webpack_require__(482),PointToLine:__webpack_require__(490),
PointToLineSegment:__webpack_require__(1213),RectangleToRectangle:__webpack_require__(114),RectangleToTriangle:__webpack_require__(483),RectangleToValues:__webpack_require__(1214),TriangleToCircle:__webpack_require__(485),TriangleToLine:__webpack_require__(487),TriangleToTriangle:__webpack_require__(488)}},function(module,exports,__webpack_require__){var Vector3=__webpack_require__(38);module.exports=function(line1,line2,out){var x1=line1.x1,y1=line1.y1,x3=line2.x1,y3=line2.y1,dx1=line1.x2-x1;line1=
line1.y2-y1;var dx2=line2.x2-x3;line2=line2.y2-y3;if(0===dx1||0===line2*dx1-dx2*line1)return!1;y3=(dx1*(y3-y1)+line1*(x1-x3))/(dx2*line1-line2*dx1);x3=(x3+dx2*y3-x1)/dx1;if(0>x3||0>y3||1<y3)return null;void 0===out&&(out=new Vector3);return out.set(x1+dx1*x3,y1+line1*x3,x3)}},function(module,exports,__webpack_require__){var Vector3=__webpack_require__(38),GetLineToLine=__webpack_require__(479),segment=new (__webpack_require__(45)),tempIntersect=new Vector3;module.exports=function(line,points,out){void 0===
out&&(out=new Vector3);var closestIntersect=!1;out.set();tempIntersect.set();for(var prev=points[0],i=1;i<points.length;i++){var current=points[i];segment.setTo(prev.x,prev.y,current.x,current.y);prev=current;GetLineToLine(line,segment,tempIntersect)&&(!closestIntersect||tempIntersect.z<out.z)&&(out.copy(tempIntersect),closestIntersect=!0)}return closestIntersect?out:null}},function(module,exports,__webpack_require__){exports=__webpack_require__(38);var Vector4=__webpack_require__(138),GetLineToPoints=
__webpack_require__(480),tempIntersect=new exports;module.exports=function(line,polygons,out){void 0===out&&(out=new Vector4);Array.isArray(polygons)||(polygons=[polygons]);var closestIntersect=!1;out.set();tempIntersect.set();for(var i=0;i<polygons.length;i++)GetLineToPoints(line,polygons[i].points,tempIntersect)&&(!closestIntersect||tempIntersect.z<out.z)&&(out.set(tempIntersect.x,tempIntersect.y,tempIntersect.z,i),closestIntersect=!0);return closestIntersect?out:null}},function(module,exports){module.exports=
function(line,rect){var x1=line.x1,y1=line.y1,x2=line.x2;line=line.y2;var bx1=rect.x,by1=rect.y,bx2=rect.right;rect=rect.bottom;if(x1>=bx1&&x1<=bx2&&y1>=by1&&y1<=rect||x2>=bx1&&x2<=bx2&&line>=by1&&line<=rect)return!0;if(x1<bx1&&x2>=bx1){var t=y1+(line-y1)*(bx1-x1)/(x2-x1);if(t>by1&&t<=rect)return!0}else if(x1>bx2&&x2<=bx2&&(t=y1+(line-y1)*(bx2-x1)/(x2-x1),t>=by1&&t<=rect))return!0;if(y1<by1&&line>=by1){if(t=x1+(x2-x1)*(by1-y1)/(line-y1),t>=bx1&&t<=bx2)return!0}else if(y1>rect&&line<=rect&&(t=x1+(x2-
x1)*(rect-y1)/(line-y1),t>=bx1&&t<=bx2))return!0;return!1}},function(module,exports,__webpack_require__){var LineToLine=__webpack_require__(92),Contains=__webpack_require__(56),ContainsArray=__webpack_require__(232),Decompose=__webpack_require__(484);module.exports=function(rect,triangle){if(triangle.left>rect.right||triangle.right<rect.left||triangle.top>rect.bottom||triangle.bottom<rect.top)return!1;var triA=triangle.getLineA(),triB=triangle.getLineB(),triC=triangle.getLineC();if(Contains(rect,
triA.x1,triA.y1)||Contains(rect,triA.x2,triA.y2)||Contains(rect,triB.x1,triB.y1)||Contains(rect,triB.x2,triB.y2)||Contains(rect,triC.x1,triC.y1)||Contains(rect,triC.x2,triC.y2))return!0;var rectA=rect.getLineA(),rectB=rect.getLineB(),rectC=rect.getLineC(),rectD=rect.getLineD();if(LineToLine(triA,rectA)||LineToLine(triA,rectB)||LineToLine(triA,rectC)||LineToLine(triA,rectD)||LineToLine(triB,rectA)||LineToLine(triB,rectB)||LineToLine(triB,rectC)||LineToLine(triB,rectD)||LineToLine(triC,rectA)||LineToLine(triC,
rectB)||LineToLine(triC,rectC)||LineToLine(triC,rectD))return!0;rect=Decompose(rect);return 0<ContainsArray(triangle,rect,!0).length}},function(module,exports){module.exports=function(rect,out){void 0===out&&(out=[]);out.push({x:rect.x,y:rect.y});out.push({x:rect.right,y:rect.y});out.push({x:rect.right,y:rect.bottom});out.push({x:rect.x,y:rect.bottom});return out}},function(module,exports,__webpack_require__){var LineToCircle=__webpack_require__(230),Contains=__webpack_require__(112);module.exports=
function(triangle,circle){return triangle.left>circle.right||triangle.right<circle.left||triangle.top>circle.bottom||triangle.bottom<circle.top?!1:Contains(triangle,circle.x,circle.y)||LineToCircle(triangle.getLineA(),circle)||LineToCircle(triangle.getLineB(),circle)||LineToCircle(triangle.getLineC(),circle)?!0:!1}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4),TriangleToLine=__webpack_require__(487),LineToLine=__webpack_require__(92);module.exports=function(triangle,
line,out){void 0===out&&(out=[]);if(TriangleToLine(triangle,line)){var lineA=triangle.getLineA(),lineB=triangle.getLineB(),lineC=triangle.getLineC();triangle=[new Point,new Point,new Point];line=[LineToLine(lineA,line,triangle[0]),LineToLine(lineB,line,triangle[1]),LineToLine(lineC,line,triangle[2])];for(lineA=0;3>lineA;lineA++)line[lineA]&&out.push(triangle[lineA])}return out}},function(module,exports,__webpack_require__){var LineToLine=__webpack_require__(92);module.exports=function(triangle,line){return triangle.contains(line.x1,
line.y1)||triangle.contains(line.x2,line.y2)||LineToLine(triangle.getLineA(),line)||LineToLine(triangle.getLineB(),line)||LineToLine(triangle.getLineC(),line)?!0:!1}},function(module,exports,__webpack_require__){var ContainsArray=__webpack_require__(232),Decompose=__webpack_require__(489),LineToLine=__webpack_require__(92);module.exports=function(triangleA,triangleB){if(triangleA.left>triangleB.right||triangleA.right<triangleB.left||triangleA.top>triangleB.bottom||triangleA.bottom<triangleB.top)return!1;
var lineAA=triangleA.getLineA(),lineAB=triangleA.getLineB(),lineAC=triangleA.getLineC(),lineBA=triangleB.getLineA(),lineBB=triangleB.getLineB(),lineBC=triangleB.getLineC();if(LineToLine(lineAA,lineBA)||LineToLine(lineAA,lineBB)||LineToLine(lineAA,lineBC)||LineToLine(lineAB,lineBA)||LineToLine(lineAB,lineBB)||LineToLine(lineAB,lineBC)||LineToLine(lineAC,lineBA)||LineToLine(lineAC,lineBB)||LineToLine(lineAC,lineBC))return!0;lineAA=Decompose(triangleA);lineAA=ContainsArray(triangleB,lineAA,!0);if(0<
lineAA.length)return!0;lineAA=Decompose(triangleB);lineAA=ContainsArray(triangleA,lineAA,!0);return 0<lineAA.length?!0:!1}},function(module,exports){module.exports=function(triangle,out){void 0===out&&(out=[]);out.push({x:triangle.x1,y:triangle.y1});out.push({x:triangle.x2,y:triangle.y2});out.push({x:triangle.x3,y:triangle.y3});return out}},function(module,exports){module.exports=function(point,line,lineThickness){void 0===lineThickness&&(lineThickness=1);var x1=line.x1,y1=line.y1,x2=line.x2;line=
line.y2;var px=point.x;point=point.y;var L2=(x2-x1)*(x2-x1)+(line-y1)*(line-y1);if(0===L2)return!1;var r=((px-x1)*(x2-x1)+(point-y1)*(line-y1))/L2;return 0>r?Math.sqrt((x1-px)*(x1-px)+(y1-point)*(y1-point))<=lineThickness:0<=r&&1>=r?Math.abs(((y1-point)*(x2-x1)-(x1-px)*(line-y1))/L2)*Math.sqrt(L2)<=lineThickness:Math.sqrt((x2-px)*(x2-px)+(line-point)*(line-point))<=lineThickness}},function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(14),Wrap=__webpack_require__(66),Angle=
__webpack_require__(93);module.exports=function(line){line=Angle(line)-MATH_CONST.TAU;return Wrap(line,-Math.PI,Math.PI)}},function(module,exports){function currentModel(result){0===result.models.length&&result.models.push({faces:[],name:"untitled",textureCoords:[],vertexNormals:[],vertices:[]});currentGroup="";return result.models[result.models.length-1]}var flip=!0,currentGroup="",currentMaterial="";module.exports=function(data,flipUV){void 0===flipUV&&(flipUV=!0);flip=flipUV;flipUV={materials:{},
materialLibraries:[],models:[]};currentMaterial=currentGroup="";data=data.split("\n");for(var i=0;i<data.length;i++){var line=data[i],idx=line.indexOf("#");line=(-1<idx?line.substring(0,idx):line).replace(/\s\s+/g," ").trim().split(" ");switch(line[0].toLowerCase()){case "o":flipUV.models.push({faces:[],name:2<=line.length?line[1]:"untitled",textureCoords:[],vertexNormals:[],vertices:[]});currentGroup="";break;case "g":2===line.length&&(currentGroup=line[1]);break;case "v":var lineItems=line;line=
flipUV;var len=lineItems.length;idx=2<=len?parseFloat(lineItems[1]):0;var y=3<=len?parseFloat(lineItems[2]):0;lineItems=4<=len?parseFloat(lineItems[3]):0;currentModel(line).vertices.push({x:idx,y:y,z:lineItems});break;case "vt":lineItems=line;line=flipUV;len=lineItems.length;idx=2<=len?parseFloat(lineItems[1]):0;y=3<=len?parseFloat(lineItems[2]):0;lineItems=4<=len?parseFloat(lineItems[3]):0;isNaN(idx)&&(idx=0);isNaN(y)&&(y=0);isNaN(lineItems)&&(lineItems=0);flip&&(y=1-y);currentModel(line).textureCoords.push({u:idx,
v:y,w:lineItems});break;case "vn":lineItems=line;line=flipUV;len=lineItems.length;idx=2<=len?parseFloat(lineItems[1]):0;y=3<=len?parseFloat(lineItems[2]):0;lineItems=4<=len?parseFloat(lineItems[3]):0;currentModel(line).vertexNormals.push({x:idx,y:y,z:lineItems});break;case "f":idx=flipUV;y=line.length-1;if(!(3>y)){lineItems={group:currentGroup,material:currentMaterial,vertices:[]};for(len=0;len<y;len++){var vertexValues=line[len+1].split("/"),vvLen=vertexValues.length;if(!(1>vvLen||3<vvLen)){var textureCoordsIndex=
0,vertexNormalIndex=0;var vertexIndex=parseInt(vertexValues[0],10);1<vvLen&&""!==vertexValues[1]&&(textureCoordsIndex=parseInt(vertexValues[1],10));2<vvLen&&(vertexNormalIndex=parseInt(vertexValues[2],10));0!==vertexIndex&&(0>vertexIndex&&(vertexIndex=currentModel(idx).vertices.length+1+vertexIndex),--textureCoordsIndex,--vertexIndex,--vertexNormalIndex,lineItems.vertices.push({textureCoordsIndex:textureCoordsIndex,vertexIndex:vertexIndex,vertexNormalIndex:vertexNormalIndex}))}}currentModel(idx).faces.push(lineItems)}break;
case "mtllib":2<=line.length&&flipUV.materialLibraries.push(line[1]);break;case "usemtl":2<=line.length&&(currentMaterial=line[1])}}return flipUV}},function(module,exports,__webpack_require__){var GetColor=__webpack_require__(100);module.exports=function(mtl){var output={};mtl=mtl.split("\n");for(var currentMaterial="",i=0;i<mtl.length;i++){var line=mtl[i].trim();if(0!==line.indexOf("#")&&""!==line)switch(line=line.replace(/\s\s+/g," ").trim().split(" "),line[0].toLowerCase()){case "newmtl":currentMaterial=
line[1];break;case "kd":var r=Math.floor(255*line[1]);output[currentMaterial]=GetColor(r,2<=line.length?Math.floor(255*line[2]):r,3<=line.length?Math.floor(255*line[3]):r)}}return output}},function(module,exports){module.exports=function(point){return Math.sqrt(point.x*point.x+point.y*point.y)}},function(module,exports){module.exports=function(point){return point.x*point.x+point.y*point.y}},function(module,exports,__webpack_require__){exports=__webpack_require__(10);exports.Area=__webpack_require__(1261);
exports.Ceil=__webpack_require__(1262);exports.CeilAll=__webpack_require__(1263);exports.CenterOn=__webpack_require__(187);exports.Clone=__webpack_require__(1264);exports.Contains=__webpack_require__(56);exports.ContainsPoint=__webpack_require__(1265);exports.ContainsRect=__webpack_require__(497);exports.CopyFrom=__webpack_require__(1266);exports.Decompose=__webpack_require__(484);exports.Equals=__webpack_require__(1267);exports.FitInside=__webpack_require__(1268);exports.FitOutside=__webpack_require__(1269);
exports.Floor=__webpack_require__(1270);exports.FloorAll=__webpack_require__(1271);exports.FromPoints=__webpack_require__(196);exports.FromXY=__webpack_require__(1272);exports.GetAspectRatio=__webpack_require__(234);exports.GetCenter=__webpack_require__(1273);exports.GetPoint=__webpack_require__(167);exports.GetPoints=__webpack_require__(300);exports.GetSize=__webpack_require__(1274);exports.Inflate=__webpack_require__(1275);exports.Intersection=__webpack_require__(1276);exports.MarchingAnts=__webpack_require__(310);
exports.MergePoints=__webpack_require__(1277);exports.MergeRect=__webpack_require__(1278);exports.MergeXY=__webpack_require__(1279);exports.Offset=__webpack_require__(1280);exports.OffsetPoint=__webpack_require__(1281);exports.Overlaps=__webpack_require__(1282);exports.Perimeter=__webpack_require__(128);exports.PerimeterPoint=__webpack_require__(1283);exports.Random=__webpack_require__(170);exports.RandomOutside=__webpack_require__(1284);exports.SameDimensions=__webpack_require__(1285);exports.Scale=
__webpack_require__(1286);exports.Union=__webpack_require__(435);module.exports=exports},function(module,exports){module.exports=function(rectA,rectB){return rectB.width*rectB.height>rectA.width*rectA.height?!1:rectB.x>rectA.x&&rectB.x<rectA.right&&rectB.right>rectA.x&&rectB.right<rectA.right&&rectB.y>rectA.y&&rectB.y<rectA.bottom&&rectB.bottom>rectA.y&&rectB.bottom<rectA.bottom}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(triangle,out){void 0===
out&&(out=new Point);out.x=(triangle.x1+triangle.x2+triangle.x3)/3;out.y=(triangle.y1+triangle.y2+triangle.y3)/3;return out}},function(module,exports){module.exports=function(triangle,x,y){triangle.x1+=x;triangle.y1+=y;triangle.x2+=x;triangle.y2+=y;triangle.x3+=x;triangle.y3+=y;return triangle}},function(module,exports,__webpack_require__){function getLength(x1,y1,x2,y2){x1-=x2;y1-=y2;return Math.sqrt(x1*x1+y1*y1)}var Point=__webpack_require__(4);module.exports=function(triangle,out){void 0===out&&
(out=new Point);var x1=triangle.x1,y1=triangle.y1,x2=triangle.x2,y2=triangle.y2,x3=triangle.x3;triangle=triangle.y3;var d1=getLength(x3,triangle,x2,y2),d2=getLength(x1,y1,x3,triangle),d3=getLength(x2,y2,x1,y1),p=d1+d2+d3;out.x=(x1*d1+x2*d2+x3*d3)/p;out.y=(y1*d1+y2*d2+triangle*d3)/p;return out}},function(module,exports){module.exports=function(textureManager,alphaTolerance){return function(hitArea,x,y,gameObject){return(hitArea=textureManager.getPixelAlpha(x,y,gameObject.texture.key,gameObject.frame.name))&&
hitArea>=alphaTolerance}}},function(module,exports){module.exports=function(gameObject,hitArea,hitAreaCallback){return{gameObject:gameObject,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:hitArea,hitAreaCallback:hitAreaCallback,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(pad,
index){this.pad=pad;this.events=pad.events;this.index=index;this.value=0;this.threshold=.1},update:function(value){this.value=value},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.events=this.pad=null}});module.exports=exports},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Events=__webpack_require__(236);__webpack_require__=new exports({initialize:function(pad,index){this.pad=pad;this.events=pad.manager;this.index=
index;this.value=0;this.threshold=1;this.pressed=!1},update:function(value){this.value=value;var pad=this.pad,index=this.index;value>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(Events.BUTTON_DOWN,pad,this,value),this.pad.emit(Events.GAMEPAD_BUTTON_DOWN,index,value,this)):this.pressed&&(this.pressed=!1,this.events.emit(Events.BUTTON_UP,pad,this,value),this.pad.emit(Events.GAMEPAD_BUTTON_UP,index,value,this))},destroy:function(){this.events=this.pad=null}});module.exports=__webpack_require__},
function(module,exports,__webpack_require__){var Axis=__webpack_require__(503),Button=__webpack_require__(504);exports=__webpack_require__(0);var EventEmitter=__webpack_require__(9),Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(manager,pad){EventEmitter.call(this);this.manager=manager;this.pad=pad;this.id=pad.id;this.index=pad.index;for(var buttons=[],i=0;i<pad.buttons.length;i++)buttons.push(new Button(this,i));this.buttons=buttons;manager=
[];for(i=0;i<pad.axes.length;i++)manager.push(new Axis(this,i));this.axes=manager;this.vibration=pad.vibrationActuator;pad={value:0,pressed:!1};this._LCLeft=buttons[14]?buttons[14]:pad;this._LCRight=buttons[15]?buttons[15]:pad;this._LCTop=buttons[12]?buttons[12]:pad;this._LCBottom=buttons[13]?buttons[13]:pad;this._RCLeft=buttons[2]?buttons[2]:pad;this._RCRight=buttons[1]?buttons[1]:pad;this._RCTop=buttons[3]?buttons[3]:pad;this._RCBottom=buttons[0]?buttons[0]:pad;this._FBLeftTop=buttons[4]?buttons[4]:
pad;this._FBLeftBottom=buttons[6]?buttons[6]:pad;this._FBRightTop=buttons[5]?buttons[5]:pad;this._FBRightBottom=buttons[7]?buttons[7]:pad;pad={value:0};this._HAxisLeft=manager[0]?manager[0]:pad;this._VAxisLeft=manager[1]?manager[1]:pad;this._HAxisRight=manager[2]?manager[2]:pad;this._VAxisRight=manager[3]?manager[3]:pad;this.leftStick=new Vector2;this.rightStick=new Vector2;this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(index){return this.axes[index].getValue()},
setAxisThreshold:function(value){for(var i=0;i<this.axes.length;i++)this.axes[i].threshold=value},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(index){return this.buttons[index].value},isButtonDown:function(index){return this.buttons[index].pressed},update:function(pad){if(!(pad.timestamp<this._created)){var i,localButtons=this.buttons,gamepadButtons=pad.buttons,len=localButtons.length;for(i=0;i<len;i++)localButtons[i].update(gamepadButtons[i].value);localButtons=this.axes;
pad=pad.axes;len=localButtons.length;for(i=0;i<len;i++)localButtons[i].update(pad[i]);2<=len&&(this.leftStick.set(localButtons[0].getValue(),localButtons[1].getValue()),4<=len&&this.rightStick.set(localButtons[2].getValue(),localButtons[3].getValue()))}},destroy:function(){this.removeAllListeners();this.pad=this.manager=null;var i;for(i=0;i<this.buttons.length;i++)this.buttons[i].destroy();for(i=0;i<this.axes.length;i++)this.axes[i].destroy();this.buttons=[];this.axes=[]},connected:{get:function(){return this.pad.connected}},
timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},
L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var EventEmitter=__webpack_require__(9),Events=__webpack_require__(152);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(plugin,keyCode){EventEmitter.call(this);this.plugin=plugin;this.keyCode=keyCode;this.originalEvent=
void 0;this.enabled=!0;this.isDown=!1;this.isUp=!0;this.metaKey=this.shiftKey=this.ctrlKey=this.altKey=!1;this.timeUp=this.duration=this.timeDown=this.location=0;this.emitOnRepeat=!1;this.repeats=0;this._justUp=this._justDown=!1;this._tick=-1},setEmitOnRepeat:function(value){this.emitOnRepeat=value;return this},onDown:function(event){this.originalEvent=event;this.enabled&&(this.altKey=event.altKey,this.ctrlKey=event.ctrlKey,this.shiftKey=event.shiftKey,this.metaKey=event.metaKey,this.location=event.location,
this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(Events.DOWN,this,event):(this.isDown=!0,this.isUp=!1,this.timeDown=event.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(Events.DOWN,this,event)))},onUp:function(event){this.originalEvent=event;this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=event.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(Events.UP,this,event))},reset:function(){this.enabled=
this.preventDefault=!0;this.isDown=!1;this.isUp=!0;this.metaKey=this.shiftKey=this.ctrlKey=this.altKey=!1;this.repeats=this.timeUp=this.duration=this.timeDown=0;this._justUp=this._justDown=!1;this._tick=-1;return this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners();this.plugin=this.originalEvent=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var Events=__webpack_require__(152),GetFastValue=__webpack_require__(2),ProcessKeyCombo=__webpack_require__(508),ResetKeyCombo=__webpack_require__(510);__webpack_require__=new exports({initialize:function(keyboardPlugin,keys,config){void 0===config&&(config={});if(2>keys.length)return!1;this.manager=keyboardPlugin;this.enabled=!0;this.keyCodes=[];for(keyboardPlugin=0;keyboardPlugin<keys.length;keyboardPlugin++){var char=keys[keyboardPlugin];"string"===typeof char?this.keyCodes.push(char.toUpperCase().charCodeAt(0)):
"number"===typeof char?this.keyCodes.push(char):char.hasOwnProperty("keyCode")&&this.keyCodes.push(char.keyCode)}this.current=this.keyCodes[0];this.index=0;this.size=this.keyCodes.length;this.timeLastMatched=0;this.matched=!1;this.timeMatched=0;this.resetOnWrongKey=GetFastValue(config,"resetOnWrongKey",!0);this.maxKeyDelay=GetFastValue(config,"maxKeyDelay",0);this.resetOnMatch=GetFastValue(config,"resetOnMatch",!1);this.deleteOnMatch=GetFastValue(config,"deleteOnMatch",!1);var _this=this;this.onKeyDown=
function(event){!_this.matched&&_this.enabled&&ProcessKeyCombo(event,_this)&&(_this.manager.emit(Events.COMBO_MATCH,_this,event),_this.resetOnMatch?ResetKeyCombo(_this):_this.deleteOnMatch&&_this.destroy())};this.manager.on(Events.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1;this.keyCodes=[];this.manager.off(Events.ANY_KEY_DOWN,this.onKeyDown);this.manager=null}});module.exports=__webpack_require__},function(module,exports,
__webpack_require__){var AdvanceKeyCombo=__webpack_require__(509);module.exports=function(event,combo){if(combo.matched)return!0;var comboMatched=!1,keyMatched=!1;event.keyCode===combo.current&&(0<combo.index&&0<combo.maxKeyDelay?event.timeStamp<=combo.timeLastMatched+combo.maxKeyDelay&&(keyMatched=!0,comboMatched=AdvanceKeyCombo(event,combo)):(keyMatched=!0,comboMatched=AdvanceKeyCombo(event,combo)));!keyMatched&&combo.resetOnWrongKey&&(combo.index=0,combo.current=combo.keyCodes[0]);comboMatched&&
(combo.timeLastMatched=event.timeStamp,combo.matched=!0,combo.timeMatched=event.timeStamp);return comboMatched}},function(module,exports){module.exports=function(event,combo){combo.timeLastMatched=event.timeStamp;combo.index++;if(combo.index===combo.size)return!0;combo.current=combo.keyCodes[combo.index];return!1}},function(module,exports){module.exports=function(combo){combo.current=combo.keyCodes[0];combo.index=0;combo.timeLastMatched=0;combo.matched=!1;combo.timeMatched=0;return combo}},function(module,
exports,__webpack_require__){var MergeXHRSettings=__webpack_require__(237);module.exports=function(file,globalXHRSettings){globalXHRSettings=MergeXHRSettings(globalXHRSettings,file.xhrSettings);var xhr=new XMLHttpRequest;xhr.open("GET",file.src,globalXHRSettings.async,globalXHRSettings.user,globalXHRSettings.password);xhr.responseType=file.xhrSettings.responseType;xhr.timeout=globalXHRSettings.timeout;if(globalXHRSettings.headers)for(var key in globalXHRSettings.headers)xhr.setRequestHeader(key,globalXHRSettings.headers[key]);
globalXHRSettings.header&&globalXHRSettings.headerValue&&xhr.setRequestHeader(globalXHRSettings.header,globalXHRSettings.headerValue);globalXHRSettings.requestedWith&&xhr.setRequestHeader("X-Requested-With",globalXHRSettings.requestedWith);globalXHRSettings.overrideMimeType&&xhr.overrideMimeType(globalXHRSettings.overrideMimeType);globalXHRSettings.withCredentials&&(xhr.withCredentials=!0);xhr.onload=file.onLoad.bind(file,xhr);xhr.onerror=file.onError.bind(file,xhr);xhr.onprogress=file.onProgress.bind(file);
xhr.send();return xhr}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),HTML5AudioFile=__webpack_require__(513),IsPlainObject=__webpack_require__(7),AudioFile=new exports({Extends:File,initialize:function(loader,key,urlConfig,xhrSettings,audioContext){if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");xhrSettings=GetFastValue(config,
"xhrSettings");audioContext=GetFastValue(config,"context",audioContext)}File.call(this,loader,{type:"audio",cache:loader.cacheManager.audio,extension:urlConfig.type,responseType:"arraybuffer",key:key,url:urlConfig.url,xhrSettings:xhrSettings,config:{context:audioContext}})},onProcess:function(){this.state=CONST.FILE_PROCESSING;var _this=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(audioBuffer){_this.data=audioBuffer;_this.onProcessComplete()},function(e){console.error("Error decoding audio: "+
_this.key+" - ",e?e.message:null);_this.onProcessError()});this.config.context=null}});AudioFile.create=function(loader,key,urls,config,xhrSettings){var game=loader.systems.game,audioConfig=game.config.audio,deviceAudio=game.device.audio;IsPlainObject(key)&&(urls=GetFastValue(key,"url",[]),config=GetFastValue(key,"config",{}));return(urls=AudioFile.getAudioURL(game,urls))?deviceAudio.webAudio&&!audioConfig.disableWebAudio?new AudioFile(loader,key,urls,xhrSettings,game.sound.context):new HTML5AudioFile(loader,
key,urls,config):null};AudioFile.getAudioURL=function(game,urls){Array.isArray(urls)||(urls=[urls]);for(var i=0;i<urls.length;i++){var url=GetFastValue(urls[i],"url",urls[i]);if(0===url.indexOf("blob:")||0===url.indexOf("data:"))return{url:url,type:""};var audioType=url.match(/\.([a-zA-Z0-9]+)($|\?)/);audioType=GetFastValue(urls[i],"type",audioType?audioType[1]:"").toLowerCase();if(game.device.audio[audioType])return{url:url,type:audioType}}return null};FileTypesManager.register("audio",function(key,
urls,config,xhrSettings){var game=this.systems.game,deviceAudio=game.device.audio;if(game.config.audio.noAudio||!deviceAudio.webAudio&&!deviceAudio.audioData)return this;if(Array.isArray(key))for(config=0;config<key.length;config++)(urls=AudioFile.create(this,key[config]))&&this.addFile(urls);else(urls=AudioFile.create(this,key,urls,config,xhrSettings))&&this.addFile(urls);return this});module.exports=AudioFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Events=
__webpack_require__(91),File=__webpack_require__(23),GetFastValue=__webpack_require__(2),GetURL=__webpack_require__(153),IsPlainObject=__webpack_require__(7);__webpack_require__=new exports({Extends:File,initialize:function(loader,key,urlConfig,audioConfig){if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");audioConfig=GetFastValue(config,"config",audioConfig)}File.call(this,loader,{type:"audio",cache:loader.cacheManager.audio,extension:urlConfig.type,key:key,url:urlConfig.url,config:audioConfig});
this.locked="ontouchstart"in window;this.loaded=!1;this.filesTotal=this.filesLoaded=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var i=0;i<this.data.length;i++){var audio=this.data[i];audio.oncanplaythrough=null;audio.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(event){event=event.target;event.oncanplaythrough=null;event.onerror=null;this.filesLoaded++;this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1);this.loader.emit(Events.FILE_PROGRESS,
this,this.percentComplete);if(this.filesLoaded===this.filesTotal)this.onLoad()},load:function(){this.data=[];var instances=this.config&&this.config.instances||1;this.filesTotal=instances;for(var i=this.percentComplete=this.filesLoaded=0;i<instances;i++){var audio=new Audio;audio.dataset||(audio.dataset={});audio.dataset.name=this.key+("0"+i).slice(-2);audio.dataset.used="false";this.locked?audio.dataset.locked="true":(audio.dataset.locked="false",audio.preload="auto",audio.oncanplaythrough=this.onProgress.bind(this),
audio.onerror=this.onError.bind(this));this.data.push(audio)}for(i=0;i<this.data.length;i++)audio=this.data[i],audio.src=GetURL(this,this.loader.baseURL),this.locked||audio.load();this.locked&&setTimeout(this.onLoad.bind(this))}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),
ScriptFile=new exports({Extends:File,initialize:function(loader,key,url,xhrSettings){var extension="js";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}File.call(this,loader,{type:"script",cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings})},onProcess:function(){this.state=CONST.FILE_PROCESSING;this.data=document.createElement("script");
this.data.language="javascript";this.data.type="text/javascript";this.data.defer=!1;this.data.text=this.xhrLoader.responseText;document.head.appendChild(this.data);this.onProcessComplete()}});FileTypesManager.register("script",function(key,url,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new ScriptFile(this,key[url]));else this.addFile(new ScriptFile(this,key,url,xhrSettings));return this});module.exports=ScriptFile},function(module,exports,__webpack_require__){var ArcadeImage=
__webpack_require__(516),ArcadeSprite=__webpack_require__(155);exports=__webpack_require__(0);var CONST=__webpack_require__(60),PhysicsGroup=__webpack_require__(518),StaticPhysicsGroup=__webpack_require__(519);__webpack_require__=new exports({initialize:function(world){this.world=world;this.scene=world.scene;this.sys=world.scene.sys},collider:function(object1,object2,collideCallback,processCallback,callbackContext){return this.world.addCollider(object1,object2,collideCallback,processCallback,callbackContext)},
overlap:function(object1,object2,collideCallback,processCallback,callbackContext){return this.world.addOverlap(object1,object2,collideCallback,processCallback,callbackContext)},existing:function(gameObject,isStatic){this.world.enableBody(gameObject,isStatic?CONST.STATIC_BODY:CONST.DYNAMIC_BODY);return gameObject},staticImage:function(x,y,key,frame){x=new ArcadeImage(this.scene,x,y,key,frame);this.sys.displayList.add(x);this.world.enableBody(x,CONST.STATIC_BODY);return x},image:function(x,y,key,frame){x=
new ArcadeImage(this.scene,x,y,key,frame);this.sys.displayList.add(x);this.world.enableBody(x,CONST.DYNAMIC_BODY);return x},staticSprite:function(x,y,key,frame){x=new ArcadeSprite(this.scene,x,y,key,frame);this.sys.displayList.add(x);this.sys.updateList.add(x);this.world.enableBody(x,CONST.STATIC_BODY);return x},sprite:function(x,y,key,frame){x=new ArcadeSprite(this.scene,x,y,key,frame);this.sys.displayList.add(x);this.sys.updateList.add(x);this.world.enableBody(x,CONST.DYNAMIC_BODY);return x},staticGroup:function(children,
config){return this.sys.updateList.add(new StaticPhysicsGroup(this.world,this.world.scene,children,config))},group:function(children,config){return this.sys.updateList.add(new PhysicsGroup(this.world,this.world.scene,children,config))},destroy:function(){this.sys=this.scene=this.world=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(240),Image=__webpack_require__(124);__webpack_require__=new exports({Extends:Image,
Mixins:[Components.Acceleration,Components.Angular,Components.Bounce,Components.Debug,Components.Drag,Components.Enable,Components.Friction,Components.Gravity,Components.Immovable,Components.Mass,Components.Pushable,Components.Size,Components.Velocity],initialize:function(scene,x,y,texture,frame){Image.call(this,scene,x,y,texture,frame);this.body=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var OverlapRect=__webpack_require__(241),Circle=__webpack_require__(62),
CircleToCircle=__webpack_require__(228),CircleToRectangle=__webpack_require__(150);module.exports=function(world,x,y,radius,includeDynamic,includeStatic){world=OverlapRect(world,x-radius,y-radius,2*radius,2*radius,includeDynamic,includeStatic);if(0===world.length)return world;x=new Circle(x,y,radius);y=new Circle;radius=[];for(includeDynamic=0;includeDynamic<world.length;includeDynamic++)includeStatic=world[includeDynamic],includeStatic.isCircle?(y.setTo(includeStatic.center.x,includeStatic.center.y,
includeStatic.halfWidth),CircleToCircle(x,y)&&radius.push(includeStatic)):CircleToRectangle(x,includeStatic)&&radius.push(includeStatic);return radius}},function(module,exports,__webpack_require__){var ArcadeSprite=__webpack_require__(155);exports=__webpack_require__(0);var CONST=__webpack_require__(60),GetFastValue=__webpack_require__(2),Group=__webpack_require__(110),IsPlainObject=__webpack_require__(7);__webpack_require__=new exports({Extends:Group,initialize:function(world,scene,children,config){if(children||
config)if(IsPlainObject(children))config=children,children=null,config.internalCreateCallback=this.createCallbackHandler,config.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(children)&&IsPlainObject(children[0])){config=children[0];var _this=this;children.forEach(function(singleConfig){singleConfig.internalCreateCallback=_this.createCallbackHandler;singleConfig.internalRemoveCallback=_this.removeCallbackHandler});children=null}else config={internalCreateCallback:this.createCallbackHandler,
internalRemoveCallback:this.removeCallbackHandler};else config={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=world;config.classType=GetFastValue(config,"classType",ArcadeSprite);this.physicsType=CONST.DYNAMIC_BODY;this.defaults={setCollideWorldBounds:GetFastValue(config,"collideWorldBounds",!1),setBoundsRectangle:GetFastValue(config,"customBoundsRectangle",null),setAccelerationX:GetFastValue(config,"accelerationX",0),setAccelerationY:GetFastValue(config,
"accelerationY",0),setAllowDrag:GetFastValue(config,"allowDrag",!0),setAllowGravity:GetFastValue(config,"allowGravity",!0),setAllowRotation:GetFastValue(config,"allowRotation",!0),setBounceX:GetFastValue(config,"bounceX",0),setBounceY:GetFastValue(config,"bounceY",0),setDragX:GetFastValue(config,"dragX",0),setDragY:GetFastValue(config,"dragY",0),setEnable:GetFastValue(config,"enable",!0),setGravityX:GetFastValue(config,"gravityX",0),setGravityY:GetFastValue(config,"gravityY",0),setFrictionX:GetFastValue(config,
"frictionX",0),setFrictionY:GetFastValue(config,"frictionY",0),setMaxVelocityX:GetFastValue(config,"maxVelocityX",1E4),setMaxVelocityY:GetFastValue(config,"maxVelocityY",1E4),setVelocityX:GetFastValue(config,"velocityX",0),setVelocityY:GetFastValue(config,"velocityY",0),setAngularVelocity:GetFastValue(config,"angularVelocity",0),setAngularAcceleration:GetFastValue(config,"angularAcceleration",0),setAngularDrag:GetFastValue(config,"angularDrag",0),setMass:GetFastValue(config,"mass",1),setImmovable:GetFastValue(config,
"immovable",!1)};Group.call(this,scene,children,config);this.type="PhysicsGroup"},createCallbackHandler:function(child){child.body||this.world.enableBody(child,CONST.DYNAMIC_BODY);child=child.body;for(var key in this.defaults)child[key](this.defaults[key])},removeCallbackHandler:function(child){child.body&&this.world.disableBody(child)},setVelocity:function(x,y,step){void 0===step&&(step=0);for(var items=this.getChildren(),i=0;i<items.length;i++)items[i].body.velocity.set(x+i*step,y+i*step);return this},
setVelocityX:function(value,step){void 0===step&&(step=0);for(var items=this.getChildren(),i=0;i<items.length;i++)items[i].body.velocity.x=value+i*step;return this},setVelocityY:function(value,step){void 0===step&&(step=0);for(var items=this.getChildren(),i=0;i<items.length;i++)items[i].body.velocity.y=value+i*step;return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var ArcadeSprite=__webpack_require__(155);exports=__webpack_require__(0);var CONST=__webpack_require__(60),
GetFastValue=__webpack_require__(2),Group=__webpack_require__(110),IsPlainObject=__webpack_require__(7);__webpack_require__=new exports({Extends:Group,initialize:function(world,scene,children,config){children||config?IsPlainObject(children)?(config=children,children=null,config.internalCreateCallback=this.createCallbackHandler,config.internalRemoveCallback=this.removeCallbackHandler,config.createMultipleCallback=this.createMultipleCallbackHandler,config.classType=GetFastValue(config,"classType",ArcadeSprite)):
Array.isArray(children)&&IsPlainObject(children[0])?(config=children,children=null,config.forEach(function(singleConfig){singleConfig.internalCreateCallback=this.createCallbackHandler;singleConfig.internalRemoveCallback=this.removeCallbackHandler;singleConfig.createMultipleCallback=this.createMultipleCallbackHandler;singleConfig.classType=GetFastValue(singleConfig,"classType",ArcadeSprite)})):config={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:
config={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:ArcadeSprite};this.world=world;this.physicsType=CONST.STATIC_BODY;Group.call(this,scene,children,config);this.type="StaticPhysicsGroup"},createCallbackHandler:function(child){child.body||this.world.enableBody(child,CONST.STATIC_BODY)},removeCallbackHandler:function(child){child.body&&this.world.disableBody(child)},createMultipleCallbackHandler:function(){this.refresh()},
refresh:function(){for(var children=this.children.entries,i=0;i<children.length;i++)children[i].body.reset();return this}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var AngleBetweenPoints=__webpack_require__(344),Body=__webpack_require__(521),Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Collider=__webpack_require__(522),CONST=__webpack_require__(60),DistanceBetween=__webpack_require__(48),EventEmitter=__webpack_require__(9),Events=__webpack_require__(242),
FuzzyEqual=__webpack_require__(123),FuzzyGreaterThan=__webpack_require__(348),FuzzyLessThan=__webpack_require__(349),GetOverlapX=__webpack_require__(243),GetOverlapY=__webpack_require__(244),GetTilesWithinWorldXY=__webpack_require__(523),GetValue=__webpack_require__(6),MATH_CONST=__webpack_require__(14),ProcessQueue=__webpack_require__(208),ProcessTileCallbacks=__webpack_require__(524),Rectangle=__webpack_require__(10),RTree=__webpack_require__(525),SeparateTile=__webpack_require__(526),SeparateX=
__webpack_require__(531),SeparateY=__webpack_require__(532),Set=__webpack_require__(148),StaticBody=__webpack_require__(533),TileIntersectsBody=__webpack_require__(245),TransformMatrix=__webpack_require__(25),Vector2=__webpack_require__(3),Wrap=__webpack_require__(66);__webpack_require__=new exports({Extends:EventEmitter,initialize:function(scene,config){EventEmitter.call(this);this.scene=scene;this.bodies=new Set;this.staticBodies=new Set;this.pendingDestroy=new Set;this.colliders=new ProcessQueue;
this.gravity=new Vector2(GetValue(config,"gravity.x",0),GetValue(config,"gravity.y",0));this.bounds=new Rectangle(GetValue(config,"x",0),GetValue(config,"y",0),GetValue(config,"width",scene.sys.scale.width),GetValue(config,"height",scene.sys.scale.height));this.checkCollision={up:GetValue(config,"checkCollision.up",!0),down:GetValue(config,"checkCollision.down",!0),left:GetValue(config,"checkCollision.left",!0),right:GetValue(config,"checkCollision.right",!0)};this.fps=GetValue(config,"fps",60);this.fixedStep=
GetValue(config,"fixedStep",!0);this._elapsed=0;this._frameTime=1/this.fps;this._frameTimeMS=1E3*this._frameTime;this.stepsLastFrame=0;this.timeScale=GetValue(config,"timeScale",1);this.OVERLAP_BIAS=GetValue(config,"overlapBias",4);this.TILE_BIAS=GetValue(config,"tileBias",16);this.forceX=GetValue(config,"forceX",!1);this.isPaused=GetValue(config,"isPaused",!1);this._total=0;this.drawDebug=GetValue(config,"debug",!1);this.defaults={debugShowBody:GetValue(config,"debugShowBody",!0),debugShowStaticBody:GetValue(config,
"debugShowStaticBody",!0),debugShowVelocity:GetValue(config,"debugShowVelocity",!0),bodyDebugColor:GetValue(config,"debugBodyColor",16711935),staticBodyDebugColor:GetValue(config,"debugStaticBodyColor",255),velocityDebugColor:GetValue(config,"debugVelocityColor",65280)};this.maxEntries=GetValue(config,"maxEntries",16);this.useTree=GetValue(config,"useTree",!0);this.tree=new RTree(this.maxEntries);this.staticTree=new RTree(this.maxEntries);this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0};this._tempMatrix=
new TransformMatrix;this._tempMatrix2=new TransformMatrix;this.drawDebug&&this.createDebugGraphic()},enable:function(object,bodyType){void 0===bodyType&&(bodyType=CONST.DYNAMIC_BODY);Array.isArray(object)||(object=[object]);for(var i=0;i<object.length;i++){var entry=object[i];if(entry.isParent){entry=entry.getChildren();for(var c=0;c<entry.length;c++){var child=entry[c];child.isParent?this.enable(child,bodyType):this.enableBody(child,bodyType)}}else this.enableBody(entry,bodyType)}},enableBody:function(object,
bodyType){void 0===bodyType&&(bodyType=CONST.DYNAMIC_BODY);object.body||(bodyType===CONST.DYNAMIC_BODY?object.body=new Body(this,object):bodyType===CONST.STATIC_BODY&&(object.body=new StaticBody(this,object)));this.add(object.body);return object},add:function(body){body.physicsType===CONST.DYNAMIC_BODY?this.bodies.set(body):body.physicsType===CONST.STATIC_BODY&&(this.staticBodies.set(body),this.staticTree.insert(body));body.enable=!0;return body},disable:function(object){Array.isArray(object)||(object=
[object]);for(var i=0;i<object.length;i++){var entry=object[i];if(entry.isParent){entry=entry.getChildren();for(var c=0;c<entry.length;c++){var child=entry[c];child.isParent?this.disable(child):this.disableBody(child.body)}}else this.disableBody(entry.body)}},disableBody:function(body){this.remove(body);body.enable=!1},remove:function(body){body.physicsType===CONST.DYNAMIC_BODY?(this.tree.remove(body),this.bodies.delete(body)):body.physicsType===CONST.STATIC_BODY&&(this.staticBodies.delete(body),
this.staticTree.remove(body))},createDebugGraphic:function(){var graphic=this.scene.sys.add.graphics({x:0,y:0});graphic.setDepth(Number.MAX_VALUE);this.debugGraphic=graphic;this.drawDebug=!0;return graphic},setBounds:function(x,y,width,height,checkLeft,checkRight,checkUp,checkDown){this.bounds.setTo(x,y,width,height);void 0!==checkLeft&&this.setBoundsCollision(checkLeft,checkRight,checkUp,checkDown);return this},setBoundsCollision:function(left,right,up,down){void 0===left&&(left=!0);void 0===right&&
(right=!0);void 0===up&&(up=!0);void 0===down&&(down=!0);this.checkCollision.left=left;this.checkCollision.right=right;this.checkCollision.up=up;this.checkCollision.down=down;return this},pause:function(){this.isPaused=!0;this.emit(Events.PAUSE);return this},resume:function(){this.isPaused=!1;this.emit(Events.RESUME);return this},addCollider:function(object1,object2,collideCallback,processCallback,callbackContext){void 0===collideCallback&&(collideCallback=null);void 0===processCallback&&(processCallback=
null);void 0===callbackContext&&(callbackContext=collideCallback);object1=new Collider(this,!1,object1,object2,collideCallback,processCallback,callbackContext);this.colliders.add(object1);return object1},addOverlap:function(object1,object2,collideCallback,processCallback,callbackContext){void 0===collideCallback&&(collideCallback=null);void 0===processCallback&&(processCallback=null);void 0===callbackContext&&(callbackContext=collideCallback);object1=new Collider(this,!0,object1,object2,collideCallback,
processCallback,callbackContext);this.colliders.add(object1);return object1},removeCollider:function(collider){this.colliders.remove(collider);return this},setFPS:function(framerate){this.fps=framerate;this._frameTime=1/this.fps;this._frameTimeMS=1E3*this._frameTime;return this},update:function(time,delta){if(!this.isPaused&&0!==this.bodies.size){time=this._frameTime;var msPerFrame=this._frameTimeMS*this.timeScale;this._elapsed+=delta;var bodies=this.bodies.entries,willStep=this._elapsed>=msPerFrame;
this.fixedStep||(time=.001*delta,willStep=!0,this._elapsed=0);for(delta=0;delta<bodies.length;delta++){var body=bodies[delta];body.enable&&body.preUpdate(willStep,time)}if(willStep){this._elapsed-=msPerFrame;this.stepsLastFrame=1;this.useTree&&(this.tree.clear(),this.tree.load(bodies));bodies=this.colliders.update();for(delta=0;delta<bodies.length;delta++)willStep=bodies[delta],willStep.active&&willStep.update();this.emit(Events.WORLD_STEP,time)}for(;this._elapsed>=msPerFrame;)this._elapsed-=msPerFrame,
this.step(time)}},step:function(delta){var i,bodies=this.bodies.entries,len=bodies.length;for(i=0;i<len;i++){var body=bodies[i];body.enable&&body.update(delta)}this.useTree&&(this.tree.clear(),this.tree.load(bodies));body=this.colliders.update();for(i=0;i<body.length;i++)bodies=body[i],bodies.active&&bodies.update();this.emit(Events.WORLD_STEP,delta);this.stepsLastFrame++},postUpdate:function(){var i,bodies=this.bodies.entries,len=bodies.length,dynamic=this.bodies,staticBodies=this.staticBodies;if(this.stepsLastFrame)for(i=
this.stepsLastFrame=0;i<len;i++){var body=bodies[i];body.enable&&body.postUpdate()}if(this.drawDebug){var graphics=this.debugGraphic;graphics.clear();for(i=0;i<len;i++)body=bodies[i],body.willDrawDebug()&&body.drawDebug(graphics);bodies=staticBodies.entries;len=bodies.length;for(i=0;i<len;i++)body=bodies[i],body.willDrawDebug()&&body.drawDebug(graphics)}graphics=this.pendingDestroy;if(0<graphics.size){var dynamicTree=this.tree,staticTree=this.staticTree;bodies=graphics.entries;len=bodies.length;for(i=
0;i<len;i++)body=bodies[i],body.physicsType===CONST.DYNAMIC_BODY?(dynamicTree.remove(body),dynamic.delete(body)):body.physicsType===CONST.STATIC_BODY&&(staticTree.remove(body),staticBodies.delete(body)),body.world=void 0,body.gameObject=void 0;graphics.clear()}},updateMotion:function(body,delta){body.allowRotation&&this.computeAngularVelocity(body,delta);this.computeVelocity(body,delta)},computeAngularVelocity:function(body,delta){var velocity=body.angularVelocity,acceleration=body.angularAcceleration,
drag=body.angularDrag,max=body.maxAngular;acceleration?velocity+=acceleration*delta:body.allowDrag&&drag&&(drag*=delta,velocity=FuzzyGreaterThan(velocity-drag,0,.1)?velocity-drag:FuzzyLessThan(velocity+drag,0,.1)?velocity+drag:0);velocity=Clamp(velocity,-max,max);body.angularVelocity+=velocity-body.angularVelocity;body.rotation+=body.angularVelocity*delta},computeVelocity:function(body,delta){var velocityX=body.velocity.x,accelerationX=body.acceleration.x,dragX=body.drag.x,maxX=body.maxVelocity.x,
velocityY=body.velocity.y,accelerationY=body.acceleration.y,dragY=body.drag.y,maxY=body.maxVelocity.y,speed=body.speed,maxSpeed=body.maxSpeed,allowDrag=body.allowDrag,useDamping=body.useDamping;body.allowGravity&&(velocityX+=(this.gravity.x+body.gravity.x)*delta,velocityY+=(this.gravity.y+body.gravity.y)*delta);accelerationX?velocityX+=accelerationX*delta:allowDrag&&dragX&&(useDamping?(dragX=Math.pow(dragX,delta),velocityX*=dragX,speed=Math.sqrt(velocityX*velocityX+velocityY*velocityY),FuzzyEqual(speed,
0,.001)&&(velocityX=0)):(dragX*=delta,velocityX=FuzzyGreaterThan(velocityX-dragX,0,.01)?velocityX-dragX:FuzzyLessThan(velocityX+dragX,0,.01)?velocityX+dragX:0));accelerationY?velocityY+=accelerationY*delta:allowDrag&&dragY&&(useDamping?(dragY=Math.pow(dragY,delta),velocityY*=dragY,speed=Math.sqrt(velocityX*velocityX+velocityY*velocityY),FuzzyEqual(speed,0,.001)&&(velocityY=0)):(dragY*=delta,velocityY=FuzzyGreaterThan(velocityY-dragY,0,.01)?velocityY-dragY:FuzzyLessThan(velocityY+dragY,0,.01)?velocityY+
dragY:0));velocityX=Clamp(velocityX,-maxX,maxX);velocityY=Clamp(velocityY,-maxY,maxY);body.velocity.set(velocityX,velocityY);-1<maxSpeed&&speed>maxSpeed&&(body.velocity.normalize().scale(maxSpeed),speed=maxSpeed);body.speed=speed},separate:function(body1,body2,processCallback,callbackContext,overlapOnly,intersects){if(!intersects&&!body1.enable||!body2.enable||body1.checkCollision.none||body2.checkCollision.none||!this.intersects(body1,body2)||processCallback&&!1===processCallback.call(callbackContext,
body1.gameObject,body2.gameObject))return!1;if(body1.isCircle&&body2.isCircle)return this.separateCircle(body1,body2,overlapOnly);if(body1.isCircle!==body2.isCircle){processCallback=body1.isCircle?body2:body1;callbackContext=processCallback.x;intersects=processCallback.right;var JSCompiler_object_inline_bottom_294=processCallback.bottom,circle=(body1.isCircle?body1:body2).center;if(circle.y<processCallback.y||circle.y>JSCompiler_object_inline_bottom_294)if(circle.x<callbackContext||circle.x>intersects)return this.separateCircle(body1,
body2,overlapOnly)}callbackContext=processCallback=!1;overlapOnly?(processCallback=SeparateX(body1,body2,overlapOnly,this.OVERLAP_BIAS),callbackContext=SeparateY(body1,body2,overlapOnly,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+body1.gravity.y)<Math.abs(this.gravity.x+body1.gravity.x)?(processCallback=SeparateX(body1,body2,overlapOnly,this.OVERLAP_BIAS),this.intersects(body1,body2)&&(callbackContext=SeparateY(body1,body2,overlapOnly,this.OVERLAP_BIAS))):(callbackContext=SeparateY(body1,
body2,overlapOnly,this.OVERLAP_BIAS),this.intersects(body1,body2)&&(processCallback=SeparateX(body1,body2,overlapOnly,this.OVERLAP_BIAS)));(processCallback=processCallback||callbackContext)&&(overlapOnly?(body1.onOverlap||body2.onOverlap)&&this.emit(Events.OVERLAP,body1.gameObject,body2.gameObject,body1,body2):(body1.onCollide||body2.onCollide)&&this.emit(Events.COLLIDE,body1.gameObject,body2.gameObject,body1,body2));return processCallback},separateCircle:function(body1,body2,overlapOnly,bias){GetOverlapX(body1,
body2,!1,bias);GetOverlapY(body1,body2,!1,bias);bias=0;if(body1.isCircle!==body2.isCircle){var JSCompiler_object_inline_x_295=body2.isCircle?body1.position.x:body2.position.x,JSCompiler_object_inline_y_296=body2.isCircle?body1.position.y:body2.position.y,JSCompiler_object_inline_right_297=body2.isCircle?body1.right:body2.right,JSCompiler_object_inline_bottom_298=body2.isCircle?body1.bottom:body2.bottom,JSCompiler_object_inline_x_299=body1.isCircle?body1.center.x:body2.center.x,JSCompiler_object_inline_y_300=
body1.isCircle?body1.center.y:body2.center.y,JSCompiler_object_inline_radius_301=body1.isCircle?body1.halfWidth:body2.halfWidth;JSCompiler_object_inline_y_300<JSCompiler_object_inline_y_296?JSCompiler_object_inline_x_299<JSCompiler_object_inline_x_295?bias=DistanceBetween(JSCompiler_object_inline_x_299,JSCompiler_object_inline_y_300,JSCompiler_object_inline_x_295,JSCompiler_object_inline_y_296)-JSCompiler_object_inline_radius_301:JSCompiler_object_inline_x_299>JSCompiler_object_inline_right_297&&
(bias=DistanceBetween(JSCompiler_object_inline_x_299,JSCompiler_object_inline_y_300,JSCompiler_object_inline_right_297,JSCompiler_object_inline_y_296)-JSCompiler_object_inline_radius_301):JSCompiler_object_inline_y_300>JSCompiler_object_inline_bottom_298&&(JSCompiler_object_inline_x_299<JSCompiler_object_inline_x_295?bias=DistanceBetween(JSCompiler_object_inline_x_299,JSCompiler_object_inline_y_300,JSCompiler_object_inline_x_295,JSCompiler_object_inline_bottom_298)-JSCompiler_object_inline_radius_301:
JSCompiler_object_inline_x_299>JSCompiler_object_inline_right_297&&(bias=DistanceBetween(JSCompiler_object_inline_x_299,JSCompiler_object_inline_y_300,JSCompiler_object_inline_right_297,JSCompiler_object_inline_bottom_298)-JSCompiler_object_inline_radius_301));bias*=-1}else bias=body1.halfWidth+body2.halfWidth-DistanceBetween(body1.center.x,body1.center.y,body2.center.x,body2.center.y);body1.overlapR=bias;body2.overlapR=bias;if(overlapOnly||0===bias||body1.immovable&&body2.immovable||body1.customSeparateX||
body2.customSeparateX)return 0!==bias&&(body1.onOverlap||body2.onOverlap)&&this.emit(Events.OVERLAP,body1.gameObject,body2.gameObject,body1,body2),0!==bias;JSCompiler_object_inline_x_295=Math.sqrt(Math.pow(body1.center.x-body2.center.x,2)+Math.pow(body1.center.y-body2.center.y,2));overlapOnly=(body2.center.x-body1.center.x)/JSCompiler_object_inline_x_295||0;JSCompiler_object_inline_x_295=(body2.center.y-body1.center.y)/JSCompiler_object_inline_x_295||0;JSCompiler_object_inline_y_296=2*(body1.velocity.x*
overlapOnly+body1.velocity.y*JSCompiler_object_inline_x_295-body2.velocity.x*overlapOnly-body2.velocity.y*JSCompiler_object_inline_x_295)/(body1.mass+body2.mass);if(body1.immovable||body2.immovable)JSCompiler_object_inline_y_296*=2;body1.immovable||(body1.velocity.x-=JSCompiler_object_inline_y_296/body1.mass*overlapOnly,body1.velocity.y-=JSCompiler_object_inline_y_296/body1.mass*JSCompiler_object_inline_x_295);body2.immovable||(body2.velocity.x+=JSCompiler_object_inline_y_296/body2.mass*overlapOnly,
body2.velocity.y+=JSCompiler_object_inline_y_296/body2.mass*JSCompiler_object_inline_x_295);body1.immovable||body2.immovable||(bias/=2);JSCompiler_object_inline_x_295=AngleBetweenPoints(body1.center,body2.center);overlapOnly=(bias+MATH_CONST.EPSILON)*Math.cos(JSCompiler_object_inline_x_295);bias=(bias+MATH_CONST.EPSILON)*Math.sin(JSCompiler_object_inline_x_295);body1.immovable||(body1.x-=overlapOnly,body1.y-=bias,body1.updateCenter());body2.immovable||(body2.x+=overlapOnly,body2.y+=bias,body2.updateCenter());
body1.velocity.x*=body1.bounce.x;body1.velocity.y*=body1.bounce.y;body2.velocity.x*=body2.bounce.x;body2.velocity.y*=body2.bounce.y;(body1.onCollide||body2.onCollide)&&this.emit(Events.COLLIDE,body1.gameObject,body2.gameObject,body1,body2);return!0},intersects:function(body1,body2){return body1===body2?!1:body1.isCircle||body2.isCircle?body1.isCircle?body2.isCircle?DistanceBetween(body1.center.x,body1.center.y,body2.center.x,body2.center.y)<=body1.halfWidth+body2.halfWidth:this.circleBodyIntersects(body1,
body2):this.circleBodyIntersects(body2,body1):!(body1.right<=body2.position.x||body1.bottom<=body2.position.y||body1.position.x>=body2.right||body1.position.y>=body2.bottom)},circleBodyIntersects:function(circle,body){var x=Clamp(circle.center.x,body.left,body.right);body=Clamp(circle.center.y,body.top,body.bottom);return(circle.center.x-x)*(circle.center.x-x)+(circle.center.y-body)*(circle.center.y-body)<=circle.halfWidth*circle.halfWidth},overlap:function(object1,object2,overlapCallback,processCallback,
callbackContext){void 0===overlapCallback&&(overlapCallback=null);void 0===processCallback&&(processCallback=null);void 0===callbackContext&&(callbackContext=overlapCallback);return this.collideObjects(object1,object2,overlapCallback,processCallback,callbackContext,!0)},collide:function(object1,object2,collideCallback,processCallback,callbackContext){void 0===collideCallback&&(collideCallback=null);void 0===processCallback&&(processCallback=null);void 0===callbackContext&&(callbackContext=collideCallback);
return this.collideObjects(object1,object2,collideCallback,processCallback,callbackContext,!1)},collideObjects:function(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly){object1.isParent&&void 0===object1.physicsType&&(object1=object1.children.entries);object2&&object2.isParent&&void 0===object2.physicsType&&(object2=object2.children.entries);var i=Array.isArray(object1);var j=Array.isArray(object2);this._total=0;if(i||j)if(!i&&j)for(i=0;i<object2.length;i++)this.collideHandler(object1,
object2[i],collideCallback,processCallback,callbackContext,overlapOnly);else if(i&&!j)if(object2)for(i=0;i<object1.length;i++)this.collideHandler(object1[i],object2,collideCallback,processCallback,callbackContext,overlapOnly);else for(i=0;i<object1.length;i++)for(object2=object1[i],j=i+1;j<object1.length;j++)i!==j&&this.collideHandler(object2,object1[j],collideCallback,processCallback,callbackContext,overlapOnly);else for(i=0;i<object1.length;i++)for(j=0;j<object2.length;j++)this.collideHandler(object1[i],
object2[j],collideCallback,processCallback,callbackContext,overlapOnly);else this.collideHandler(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly);return 0<this._total},collideHandler:function(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly){if(void 0===object2&&object1.isParent)return this.collideGroupVsGroup(object1,object1,collideCallback,processCallback,callbackContext,overlapOnly);if(!object1||!object2)return!1;if(object1.body){if(object2.body)return this.collideSpriteVsSprite(object1,
object2,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isParent)return this.collideSpriteVsGroup(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isTilemap)return this.collideSpriteVsTilemapLayer(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly)}else if(object1.isParent){if(object2.body)return this.collideSpriteVsGroup(object2,object1,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isParent)return this.collideGroupVsGroup(object1,
object2,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isTilemap)return this.collideGroupVsTilemapLayer(object1,object2,collideCallback,processCallback,callbackContext,overlapOnly)}else if(object1.isTilemap){if(object2.body)return this.collideSpriteVsTilemapLayer(object2,object1,collideCallback,processCallback,callbackContext,overlapOnly);if(object2.isParent)return this.collideGroupVsTilemapLayer(object2,object1,collideCallback,processCallback,callbackContext,overlapOnly)}},
collideSpriteVsSprite:function(sprite1,sprite2,collideCallback,processCallback,callbackContext,overlapOnly){if(!sprite1.body||!sprite2.body)return!1;this.separate(sprite1.body,sprite2.body,processCallback,callbackContext,overlapOnly)&&(collideCallback&&collideCallback.call(callbackContext,sprite1,sprite2),this._total++);return!0},collideSpriteVsGroup:function(sprite,group,collideCallback,processCallback,callbackContext,overlapOnly){var bodyA=sprite.body;if(0!==group.length&&bodyA&&bodyA.enable&&!bodyA.checkCollision.none)if(this.useTree||
group.physicsType===CONST.STATIC_BODY){sprite=this.treeMinMax;sprite.minX=bodyA.left;sprite.minY=bodyA.top;sprite.maxX=bodyA.right;sprite.maxY=bodyA.bottom;var results=group.physicsType===CONST.DYNAMIC_BODY?this.tree.search(sprite):this.staticTree.search(sprite);var len=results.length;for(sprite=0;sprite<len;sprite++){var bodyB=results[sprite];bodyA!==bodyB&&bodyB.enable&&!bodyB.checkCollision.none&&group.contains(bodyB.gameObject)&&this.separate(bodyA,bodyB,processCallback,callbackContext,overlapOnly,
!0)&&(collideCallback&&collideCallback.call(callbackContext,bodyA.gameObject,bodyB.gameObject),this._total++)}}else for(results=group.getChildren(),group=group.children.entries.indexOf(sprite),len=results.length,sprite=0;sprite<len;sprite++)(bodyB=results[sprite].body)&&sprite!==group&&bodyB.enable&&this.separate(bodyA,bodyB,processCallback,callbackContext,overlapOnly)&&(collideCallback&&collideCallback.call(callbackContext,bodyA.gameObject,bodyB.gameObject),this._total++)},collideGroupVsTilemapLayer:function(group,
tilemapLayer,collideCallback,processCallback,callbackContext,overlapOnly){group=group.getChildren();if(0===group.length)return!1;for(var didCollide=!1,i=0;i<group.length;i++)group[i].body&&this.collideSpriteVsTilemapLayer(group[i],tilemapLayer,collideCallback,processCallback,callbackContext,overlapOnly)&&(didCollide=!0);return didCollide},collideTiles:function(sprite,tiles,collideCallback,processCallback,callbackContext){return sprite.body.enable&&0!==tiles.length?this.collideSpriteVsTilesHandler(sprite,
tiles,collideCallback,processCallback,callbackContext,!1,!1):!1},overlapTiles:function(sprite,tiles,collideCallback,processCallback,callbackContext){return sprite.body.enable&&0!==tiles.length?this.collideSpriteVsTilesHandler(sprite,tiles,collideCallback,processCallback,callbackContext,!0,!1):!1},collideSpriteVsTilemapLayer:function(sprite,tilemapLayer,collideCallback,processCallback,callbackContext,overlapOnly){var body=sprite.body;if(!body.enable||body.checkCollision.none)return!1;var x=body.position.x,
y=body.position.y,w=body.width;body=body.height;var layerData=tilemapLayer.layer;if(layerData.tileWidth>layerData.baseTileWidth){var xDiff=(layerData.tileWidth-layerData.baseTileWidth)*tilemapLayer.scaleX;x-=xDiff;w+=xDiff}layerData.tileHeight>layerData.baseTileHeight&&(body+=(layerData.tileHeight-layerData.baseTileHeight)*tilemapLayer.scaleY);tilemapLayer=GetTilesWithinWorldXY(x,y,w,body,null,tilemapLayer.scene.cameras.main,tilemapLayer.layer);return 0===tilemapLayer.length?!1:this.collideSpriteVsTilesHandler(sprite,
tilemapLayer,collideCallback,processCallback,callbackContext,overlapOnly,!0)},collideSpriteVsTilesHandler:function(sprite,tiles,collideCallback,processCallback,callbackContext,overlapOnly,isLayer){for(var body=sprite.body,tile,tileWorldRect={left:0,right:0,top:0,bottom:0},tilemapLayer,collision=!1,i=0;i<tiles.length;i++){tile=tiles[i];tilemapLayer=tile.tilemapLayer;var point=tilemapLayer.tileToWorldXY(tile.x,tile.y);tileWorldRect.left=point.x;tileWorldRect.top=point.y;tile.baseHeight!==tile.height&&
(tileWorldRect.top-=(tile.height-tile.baseHeight)*tilemapLayer.scaleY);tileWorldRect.right=tileWorldRect.left+tile.width*tilemapLayer.scaleX;tileWorldRect.bottom=tileWorldRect.top+tile.height*tilemapLayer.scaleY;TileIntersectsBody(tileWorldRect,body)&&(!processCallback||processCallback.call(callbackContext,sprite,tile))&&ProcessTileCallbacks(tile,sprite)&&(overlapOnly||SeparateTile(i,body,tile,tileWorldRect,tilemapLayer,this.TILE_BIAS,isLayer))&&(this._total++,collision=!0,collideCallback&&collideCallback.call(callbackContext,
sprite,tile),overlapOnly&&body.onOverlap?this.emit(Events.TILE_OVERLAP,sprite,tile,body):body.onCollide&&this.emit(Events.TILE_COLLIDE,sprite,tile,body))}return collision},collideGroupVsGroup:function(group1,group2,collideCallback,processCallback,callbackContext,overlapOnly){if(0!==group1.length&&0!==group2.length){group1=group1.getChildren();for(var i=0;i<group1.length;i++)this.collideSpriteVsGroup(group1[i],group2,collideCallback,processCallback,callbackContext,overlapOnly)}},wrap:function(object,
padding){object.body?this.wrapObject(object,padding):object.getChildren?this.wrapArray(object.getChildren(),padding):Array.isArray(object)?this.wrapArray(object,padding):this.wrapObject(object,padding)},wrapArray:function(objects,padding){for(var i=0;i<objects.length;i++)this.wrapObject(objects[i],padding)},wrapObject:function(object,padding){void 0===padding&&(padding=0);object.x=Wrap(object.x,this.bounds.left-padding,this.bounds.right+padding);object.y=Wrap(object.y,this.bounds.top-padding,this.bounds.bottom+
padding)},shutdown:function(){this.tree.clear();this.staticTree.clear();this.bodies.clear();this.staticBodies.clear();this.colliders.destroy();this.removeAllListeners()},destroy:function(){this.shutdown();this.scene=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(60),Events=__webpack_require__(242),RadToDeg=__webpack_require__(193),Rectangle=__webpack_require__(10),RectangleContains=__webpack_require__(56),
Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(world,gameObject){var width=gameObject.displayWidth?gameObject.displayWidth:64,height=gameObject.displayHeight?gameObject.displayHeight:64;this.world=world;this.gameObject=gameObject;this.transform={x:gameObject.x,y:gameObject.y,rotation:gameObject.angle,scaleX:gameObject.scaleX,scaleY:gameObject.scaleY,displayOriginX:gameObject.displayOriginX,displayOriginY:gameObject.displayOriginY};this.debugShowBody=world.defaults.debugShowBody;
this.debugShowVelocity=world.defaults.debugShowVelocity;this.debugBodyColor=world.defaults.bodyDebugColor;this.enable=!0;this.isCircle=!1;this.radius=0;this.offset=new Vector2;this.position=new Vector2(gameObject.x-gameObject.scaleX*gameObject.displayOriginX,gameObject.y-gameObject.scaleY*gameObject.displayOriginY);this.prev=this.position.clone();this.prevFrame=this.position.clone();this.allowRotation=!0;this.preRotation=this.rotation=gameObject.angle;this.width=width;this.height=height;this.sourceWidth=
width;this.sourceHeight=height;gameObject.frame&&(this.sourceWidth=gameObject.frame.realWidth,this.sourceHeight=gameObject.frame.realHeight);this.halfWidth=Math.abs(width/2);this.halfHeight=Math.abs(height/2);this.center=new Vector2(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.velocity=new Vector2;this.newVelocity=new Vector2;this.deltaMax=new Vector2;this.acceleration=new Vector2;this.allowDrag=!0;this.drag=new Vector2;this.allowGravity=!0;this.gravity=new Vector2;this.bounce=
new Vector2;this.worldBounce=null;this.customBoundsRectangle=world.bounds;this.onOverlap=this.onCollide=this.onWorldBounds=!1;this.maxVelocity=new Vector2(1E4,1E4);this.maxSpeed=-1;this.friction=new Vector2(1,0);this.useDamping=!1;this.angularDrag=this.angularAcceleration=this.angularVelocity=0;this.maxAngular=1E3;this.mass=1;this.speed=this.angle=0;this.facing=CONST.FACING_NONE;this.immovable=!1;this.moves=this.pushable=!0;this.customSeparateY=this.customSeparateX=!1;this.overlapR=this.overlapY=
this.overlapX=0;this.collideWorldBounds=this.embedded=!1;this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0};this.touching={none:!0,up:!1,down:!1,left:!1,right:!1};this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1};this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1};this.syncBounds=!1;this.physicsType=CONST.DYNAMIC_BODY;this._sx=gameObject.scaleX;this._sy=gameObject.scaleY;this._ty=this._tx=this._dy=this._dx=0;this._bounds=new Rectangle},updateBounds:function(){var sprite=this.gameObject,
transform=this.transform;if(sprite.parentContainer){var matrix=sprite.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);transform.x=matrix.tx;transform.y=matrix.ty;transform.rotation=RadToDeg(matrix.rotation);transform.scaleX=matrix.scaleX;transform.scaleY=matrix.scaleY}else transform.x=sprite.x,transform.y=sprite.y,transform.rotation=sprite.angle,transform.scaleX=sprite.scaleX,transform.scaleY=sprite.scaleY;transform.displayOriginX=sprite.displayOriginX;transform.displayOriginY=
sprite.displayOriginY;matrix=!1;if(this.syncBounds)transform=sprite.getBounds(this._bounds),this.width=transform.width,this.height=transform.height,matrix=!0;else if(sprite=Math.abs(transform.scaleX),transform=Math.abs(transform.scaleY),this._sx!==sprite||this._sy!==transform)this.width=this.sourceWidth*sprite,this.height=this.sourceHeight*transform,this._sx=sprite,this._sy=transform,matrix=!0;matrix&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},
updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var transform=this.transform;this.position.x=transform.x+transform.scaleX*(this.offset.x-transform.displayOriginX);this.position.y=transform.y+transform.scaleY*(this.offset.y-transform.displayOriginY);this.updateCenter()},resetFlags:function(clear){void 0===clear&&(clear=!1);var wasTouching=this.wasTouching,touching=this.touching,blocked=this.blocked;
clear?(wasTouching.none=!0,wasTouching.up=!1,wasTouching.down=!1,wasTouching.left=!1,wasTouching.right=!1):(wasTouching.none=touching.none,wasTouching.up=touching.up,wasTouching.down=touching.down,wasTouching.left=touching.left,wasTouching.right=touching.right);touching.none=!0;touching.up=!1;touching.down=!1;touching.left=!1;touching.right=!1;blocked.none=!0;blocked.up=!1;blocked.down=!1;blocked.left=!1;blocked.right=!1;this.overlapY=this.overlapX=this.overlapR=0;this.embedded=!1},preUpdate:function(willStep,
delta){willStep&&this.resetFlags();this.updateFromGameObject();this.preRotation=this.rotation=this.transform.rotation;this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y);willStep&&this.update(delta)},update:function(delta){this.prev.x=this.position.x;this.prev.y=this.position.y;if(this.moves){this.world.updateMotion(this,delta);var vx=this.velocity.x,vy=this.velocity.y;this.newVelocity.set(vx*delta,vy*delta);this.position.add(this.newVelocity);
this.updateCenter();this.angle=Math.atan2(vy,vx);this.speed=Math.sqrt(vx*vx+vy*vy);this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(Events.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x;this._dy=this.position.y-this.prev.y},postUpdate:function(){var dx=this.position.x-this.prevFrame.x,dy=this.position.y-this.prevFrame.y;if(this.moves){var mx=this.deltaMax.x,my=this.deltaMax.y;0!==mx&&
0!==dx&&(0>dx&&dx<-mx?dx=-mx:0<dx&&dx>mx&&(dx=mx));0!==my&&0!==dy&&(0>dy&&dy<-my?dy=-my:0<dy&&dy>my&&(dy=my));this.gameObject.x+=dx;this.gameObject.y+=dy}0>dx?this.facing=CONST.FACING_LEFT:0<dx&&(this.facing=CONST.FACING_RIGHT);0>dy?this.facing=CONST.FACING_UP:0<dy&&(this.facing=CONST.FACING_DOWN);this.allowRotation&&(this.gameObject.angle+=this.deltaZ());this._tx=dx;this._ty=dy},setBoundsRectangle:function(bounds){this.customBoundsRectangle=bounds?bounds:this.world.bounds;return this},checkWorldBounds:function(){var pos=
this.position,bounds=this.customBoundsRectangle,check=this.world.checkCollision,bx=this.worldBounce?-this.worldBounce.x:-this.bounce.x,by=this.worldBounce?-this.worldBounce.y:-this.bounce.y,wasSet=!1;pos.x<bounds.x&&check.left?(pos.x=bounds.x,this.velocity.x*=bx,wasSet=this.blocked.left=!0):this.right>bounds.right&&check.right&&(pos.x=bounds.right-this.width,this.velocity.x*=bx,wasSet=this.blocked.right=!0);pos.y<bounds.y&&check.up?(pos.y=bounds.y,this.velocity.y*=by,wasSet=this.blocked.up=!0):this.bottom>
bounds.bottom&&check.down&&(pos.y=bounds.bottom-this.height,this.velocity.y*=by,wasSet=this.blocked.down=!0);wasSet&&(this.blocked.none=!1,this.updateCenter());return wasSet},setOffset:function(x,y){void 0===y&&(y=x);this.offset.set(x,y);return this},setSize:function(width,height,center){void 0===center&&(center=!0);var gameObject=this.gameObject;!width&&gameObject.frame&&(width=gameObject.frame.realWidth);!height&&gameObject.frame&&(height=gameObject.frame.realHeight);this.sourceWidth=width;this.sourceHeight=
height;this.width=this.sourceWidth*this._sx;this.height=this.sourceHeight*this._sy;this.halfWidth=Math.floor(this.width/2);this.halfHeight=Math.floor(this.height/2);this.updateCenter();center&&gameObject.getCenter&&this.offset.set((gameObject.width-width)/2,(gameObject.height-height)/2);this.isCircle=!1;this.radius=0;return this},setCircle:function(radius,offsetX,offsetY){void 0===offsetX&&(offsetX=this.offset.x);void 0===offsetY&&(offsetY=this.offset.y);0<radius?(this.isCircle=!0,this.radius=radius,
this.sourceWidth=2*radius,this.sourceHeight=2*radius,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(offsetX,offsetY),this.updateCenter()):this.isCircle=!1;return this},reset:function(x,y){this.stop();var gameObject=this.gameObject;gameObject.setPosition(x,y);gameObject.getTopLeft?gameObject.getTopLeft(this.position):this.position.set(x,y);this.prev.copy(this.position);this.prevFrame.copy(this.position);
this.preRotation=this.rotation=gameObject.angle;this.updateBounds();this.updateCenter();this.resetFlags(!0)},stop:function(){this.velocity.set(0);this.acceleration.set(0);this.angularAcceleration=this.angularVelocity=this.speed=0;return this},getBounds:function(obj){obj.x=this.x;obj.y=this.y;obj.right=this.right;obj.bottom=this.bottom;return obj},hitTest:function(x,y){return this.isCircle?0<this.radius&&x>=this.left&&x<=this.right&&y>=this.top&&y<=this.bottom?(this.center.x-x)*(this.center.x-x)+(this.center.y-
y)*(this.center.y-y)<=this.radius*this.radius:!1:RectangleContains(this,x,y)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return 0<this._dx?this._dx:-this._dx},deltaAbsY:function(){return 0<this._dy?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-
this.preRotation},destroy:function(){this.enable=!1;this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(graphic){var pos=this.position,x=pos.x+this.halfWidth,y=pos.y+this.halfHeight;this.debugShowBody&&(graphic.lineStyle(graphic.defaultStrokeWidth,this.debugBodyColor),this.isCircle?graphic.strokeCircle(x,y,this.width/2):(this.checkCollision.up&&graphic.lineBetween(pos.x,pos.y,pos.x+this.width,pos.y),this.checkCollision.right&&graphic.lineBetween(pos.x+this.width,pos.y,pos.x+this.width,
pos.y+this.height),this.checkCollision.down&&graphic.lineBetween(pos.x,pos.y+this.height,pos.x+this.width,pos.y+this.height),this.checkCollision.left&&graphic.lineBetween(pos.x,pos.y,pos.x,pos.y+this.height)));this.debugShowVelocity&&(graphic.lineStyle(graphic.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),graphic.lineBetween(x,y,x+this.velocity.x/2,y+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(value,
bounceX,bounceY,onWorldBounds){void 0===value&&(value=!0);this.collideWorldBounds=value;value=void 0!==bounceX;var setBounceY=void 0!==bounceY;if(value||setBounceY)this.worldBounce||(this.worldBounce=new Vector2),value&&(this.worldBounce.x=bounceX),setBounceY&&(this.worldBounce.y=bounceY);void 0!==onWorldBounds&&(this.onWorldBounds=onWorldBounds);return this},setVelocity:function(x,y){this.velocity.set(x,y);x=this.velocity.x;y=this.velocity.y;this.speed=Math.sqrt(x*x+y*y);return this},setVelocityX:function(value){this.velocity.x=
value;var y=this.velocity.y;this.speed=Math.sqrt(value*value+y*y);return this},setVelocityY:function(value){this.velocity.y=value;var x=this.velocity.x;this.speed=Math.sqrt(x*x+value*value);return this},setMaxVelocity:function(x,y){this.maxVelocity.set(x,y);return this},setMaxVelocityX:function(value){this.maxVelocity.x=value;return this},setMaxVelocityY:function(value){this.maxVelocity.y=value;return this},setMaxSpeed:function(value){this.maxSpeed=value;return this},setBounce:function(x,y){this.bounce.set(x,
y);return this},setBounceX:function(value){this.bounce.x=value;return this},setBounceY:function(value){this.bounce.y=value;return this},setAcceleration:function(x,y){this.acceleration.set(x,y);return this},setAccelerationX:function(value){this.acceleration.x=value;return this},setAccelerationY:function(value){this.acceleration.y=value;return this},setAllowDrag:function(value){void 0===value&&(value=!0);this.allowDrag=value;return this},setAllowGravity:function(value){void 0===value&&(value=!0);this.allowGravity=
value;return this},setAllowRotation:function(value){void 0===value&&(value=!0);this.allowRotation=value;return this},setDrag:function(x,y){this.drag.set(x,y);return this},setDamping:function(value){this.useDamping=value;return this},setDragX:function(value){this.drag.x=value;return this},setDragY:function(value){this.drag.y=value;return this},setGravity:function(x,y){this.gravity.set(x,y);return this},setGravityX:function(value){this.gravity.x=value;return this},setGravityY:function(value){this.gravity.y=
value;return this},setFriction:function(x,y){this.friction.set(x,y);return this},setFrictionX:function(value){this.friction.x=value;return this},setFrictionY:function(value){this.friction.y=value;return this},setAngularVelocity:function(value){this.angularVelocity=value;return this},setAngularAcceleration:function(value){this.angularAcceleration=value;return this},setAngularDrag:function(value){this.angularDrag=value;return this},setMass:function(value){this.mass=value;return this},setImmovable:function(value){void 0===
value&&(value=!0);this.immovable=value;return this},setEnable:function(value){void 0===value&&(value=!0);this.enable=value;return this},processX:function(x,vx,left,right){this.x+=x;this.updateCenter();null!==vx&&(this.velocity.x=vx);x=this.blocked;left&&(x.left=!0);right&&(x.right=!0)},processY:function(y,vy,up,down){this.y+=y;this.updateCenter();null!==vy&&(this.velocity.y=vy);y=this.blocked;up&&(y.up=!0);down&&(y.down=!0)},x:{get:function(){return this.position.x},set:function(value){this.position.x=
value}},y:{get:function(){return this.position.y},set:function(value){this.position.y=value}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(world,overlapOnly,object1,object2,collideCallback,processCallback,
callbackContext){this.world=world;this.name="";this.active=!0;this.overlapOnly=overlapOnly;this.object1=object1;this.object2=object2;this.collideCallback=collideCallback;this.processCallback=processCallback;this.callbackContext=callbackContext},setName:function(name){this.name=name;return this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this);this.active=
!1;this.callbackContext=this.processCallback=this.collideCallback=this.object2=this.object1=this.world=null}});module.exports=exports},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);exports=__webpack_require__(3);var pointStart=new exports,pointEnd=new exports;module.exports=function(worldX,worldY,width,height,filteringOptions,camera,layer){var worldToTileXY=layer.tilemapLayer.tilemap._convert.WorldToTileXY;worldToTileXY(worldX,worldY,!0,pointStart,camera,
layer);var xStart=pointStart.x,yStart=pointStart.y;worldToTileXY(worldX+width,worldY+height,!1,pointEnd,camera,layer);return GetTilesWithin(xStart,yStart,Math.ceil(pointEnd.x)-xStart,Math.ceil(pointEnd.y)-yStart,filteringOptions,layer)}},function(module,exports){module.exports=function(tile,sprite){return tile.collisionCallback?!tile.collisionCallback.call(tile.collisionCallbackContext,sprite,tile):tile.layer.callbacks[tile.index]?!tile.layer.callbacks[tile.index].callback.call(tile.layer.callbacks[tile.index].callbackContext,
sprite,tile):!0}},function(module,exports,__webpack_require__){function rbush(maxEntries){var format=[".left",".top",".right",".bottom"];if(!(this instanceof rbush))return new rbush(maxEntries,format);this._maxEntries=Math.max(4,maxEntries||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()}function calcBBox(node,toBBox){distBBox(node,0,node.children.length,toBBox,node)}function distBBox(node,k,p,toBBox,destNode){destNode||(destNode=createNode(null));destNode.minX=Infinity;
destNode.minY=Infinity;destNode.maxX=-Infinity;destNode.maxY=-Infinity;for(var child;k<p;k++)child=node.children[k],extend(destNode,node.leaf?toBBox(child):child);return destNode}function extend(a,b){a.minX=Math.min(a.minX,b.minX);a.minY=Math.min(a.minY,b.minY);a.maxX=Math.max(a.maxX,b.maxX);a.maxY=Math.max(a.maxY,b.maxY);return a}function compareNodeMinX(a,b){return a.minX-b.minX}function compareNodeMinY(a,b){return a.minY-b.minY}function bboxArea(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function bboxMargin(a){return a.maxX-
a.minX+(a.maxY-a.minY)}function contains(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function intersects(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function createNode(children){return{children:children,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function multiSelect(arr,left,right,n,compare){for(var stack=[left,right],mid;stack.length;)right=stack.pop(),left=stack.pop(),right-left<=n||(mid=left+Math.ceil((right-
left)/n/2)*n,quickselect(arr,mid,left,right,compare),stack.push(left,mid,mid,right))}var quickselect=__webpack_require__(430);rbush.prototype={all:function(){return this._all(this.data,[])},search:function(bbox){var node=this.data,result=[],toBBox=this.toBBox;if(!intersects(bbox,node))return result;for(var nodesToSearch=[],i,len,child,childBBox;node;){i=0;for(len=node.children.length;i<len;i++)child=node.children[i],childBBox=node.leaf?toBBox(child):child,intersects(bbox,childBBox)&&(node.leaf?result.push(child):
contains(bbox,childBBox)?this._all(child,result):nodesToSearch.push(child));node=nodesToSearch.pop()}return result},collides:function(bbox){var node=this.data,toBBox=this.toBBox;if(!intersects(bbox,node))return!1;for(var nodesToSearch=[],i,len,child,childBBox;node;){i=0;for(len=node.children.length;i<len;i++)if(child=node.children[i],childBBox=node.leaf?toBBox(child):child,intersects(bbox,childBBox)){if(node.leaf||contains(bbox,childBBox))return!0;nodesToSearch.push(child)}node=nodesToSearch.pop()}return!1},
load:function(data){if(!data||!data.length)return this;if(data.length<this._minEntries){for(var i=0,len=data.length;i<len;i++)this.insert(data[i]);return this}data=this._build(data.slice(),0,data.length-1,0);this.data.children.length?this.data.height===data.height?this._splitRoot(this.data,data):(this.data.height<data.height&&(i=this.data,this.data=data,data=i),this._insert(data,this.data.height-data.height-1,!0)):this.data=data;return this},insert:function(item){item&&this._insert(item,this.data.height-
1);return this},clear:function(){this.data=createNode([]);return this},remove:function(item,equalsFn){if(!item)return this;for(var node=this.data,bbox=this.toBBox(item),path=[],indexes=[],i,parent,index,goingUp;node||path.length;){node||(node=path.pop(),parent=path[path.length-1],i=indexes.pop(),goingUp=!0);if(node.leaf){a:{index=item;var items=node.children,equalsFn$jscomp$0=equalsFn;if(equalsFn$jscomp$0){for(var i$jscomp$0=0;i$jscomp$0<items.length;i$jscomp$0++)if(equalsFn$jscomp$0(index,items[i$jscomp$0])){index=
i$jscomp$0;break a}index=-1}else index=items.indexOf(index)}if(-1!==index){node.children.splice(index,1);path.push(node);this._condense(path);break}}goingUp||node.leaf||!contains(node,bbox)?parent?(i++,node=parent.children[i],goingUp=!1):node=null:(path.push(node),indexes.push(i),i=0,parent=node,node=node.children[0])}return this},toBBox:function(item){return item},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function(){return this.data},fromJSON:function(data){this.data=data;return this},
_all:function(node,result){for(var nodesToSearch=[];node;)node.leaf?result.push.apply(result,node.children):nodesToSearch.push.apply(nodesToSearch,node.children),node=nodesToSearch.pop();return result},_build:function(items,left,right,height){var N=right-left+1,M=this._maxEntries;if(N<=M){var node=createNode(items.slice(left,right+1));calcBBox(node,this.toBBox);return node}height||(height=Math.ceil(Math.log(N)/Math.log(M)),M=Math.ceil(N/Math.pow(M,height-1)));node=createNode([]);node.leaf=!1;node.height=
height;N=Math.ceil(N/M);M=N*Math.ceil(Math.sqrt(M));var j;for(multiSelect(items,left,right,M,this.compareMinX);left<=right;left+=M){var right2=Math.min(left+M-1,right);multiSelect(items,left,right2,N,this.compareMinY);for(j=left;j<=right2;j+=N){var right3=Math.min(j+N-1,right2);node.children.push(this._build(items,j,right3,height-1))}}calcBBox(node,this.toBBox);return node},_chooseSubtree:function(bbox,node,level,path){for(var i,len,child,targetNode,area,enlargement,minArea,minEnlargement;;){path.push(node);
if(node.leaf||path.length-1===level)break;minArea=minEnlargement=Infinity;i=0;for(len=node.children.length;i<len;i++)child=node.children[i],area=bboxArea(child),enlargement=(Math.max(child.maxX,bbox.maxX)-Math.min(child.minX,bbox.minX))*(Math.max(child.maxY,bbox.maxY)-Math.min(child.minY,bbox.minY))-area,enlargement<minEnlargement?(minEnlargement=enlargement,minArea=area<minArea?area:minArea,targetNode=child):enlargement===minEnlargement&&area<minArea&&(minArea=area,targetNode=child);node=targetNode||
node.children[0]}return node},_insert:function(item,level,isNode){var toBBox=this.toBBox;isNode=isNode?item:toBBox(item);toBBox=[];var node=this._chooseSubtree(isNode,this.data,level,toBBox);node.children.push(item);for(extend(node,isNode);0<=level;)if(toBBox[level].children.length>this._maxEntries)this._split(toBBox,level),level--;else break;this._adjustParentBBoxes(isNode,toBBox,level)},_split:function(insertPath,level){var node=insertPath[level],M=node.children.length,m=this._minEntries;this._chooseSplitAxis(node,
m,M);M=this._chooseSplitIndex(node,m,M);M=createNode(node.children.splice(M,node.children.length-M));M.height=node.height;M.leaf=node.leaf;calcBBox(node,this.toBBox);calcBBox(M,this.toBBox);level?insertPath[level-1].children.push(M):this._splitRoot(node,M)},_splitRoot:function(node,newNode){this.data=createNode([node,newNode]);this.data.height=node.height+1;this.data.leaf=!1;calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function(node,m,M){var i,minArea;var minOverlap=minArea=Infinity;for(i=m;i<=
M-m;i++){var bbox1=distBBox(node,0,i,this.toBBox);var bbox2=distBBox(node,i,M,this.toBBox);var overlap=Math.max(0,Math.min(bbox1.maxX,bbox2.maxX)-Math.max(bbox1.minX,bbox2.minX))*Math.max(0,Math.min(bbox1.maxY,bbox2.maxY)-Math.max(bbox1.minY,bbox2.minY));bbox1=bboxArea(bbox1)+bboxArea(bbox2);if(overlap<minOverlap){minOverlap=overlap;var index=i;minArea=bbox1<minArea?bbox1:minArea}else overlap===minOverlap&&bbox1<minArea&&(minArea=bbox1,index=i)}return index},_chooseSplitAxis:function(node,m,M){var compareMinX=
node.leaf?this.compareMinX:compareNodeMinX,compareMinY=node.leaf?this.compareMinY:compareNodeMinY,xMargin=this._allDistMargin(node,m,M,compareMinX);m=this._allDistMargin(node,m,M,compareMinY);xMargin<m&&node.children.sort(compareMinX)},_allDistMargin:function(node,m,M,compare){node.children.sort(compare);compare=this.toBBox;var leftBBox=distBBox(node,0,m,compare),rightBBox=distBBox(node,M-m,M,compare),margin=bboxMargin(leftBBox)+bboxMargin(rightBBox),i;for(i=m;i<M-m;i++){var child=node.children[i];
extend(leftBBox,node.leaf?compare(child):child);margin+=bboxMargin(leftBBox)}for(i=M-m-1;i>=m;i--)child=node.children[i],extend(rightBBox,node.leaf?compare(child):child),margin+=bboxMargin(rightBBox);return margin},_adjustParentBBoxes:function(bbox,path,level){for(;0<=level;level--)extend(path[level],bbox)},_condense:function(path){for(var i=path.length-1,siblings;0<=i;i--)0===path[i].children.length?0<i?(siblings=path[i-1].children,siblings.splice(siblings.indexOf(path[i]),1)):this.clear():calcBBox(path[i],
this.toBBox)},compareMinX:function(a,b){return a.left-b.left},compareMinY:function(a,b){return a.top-b.top},toBBox:function(a){return{minX:a.left,minY:a.top,maxX:a.right,maxY:a.bottom}}};module.exports=rbush},function(module,exports,__webpack_require__){var TileCheckX=__webpack_require__(527),TileCheckY=__webpack_require__(529),TileIntersectsBody=__webpack_require__(245);module.exports=function(i,body,tile,tileWorldRect,tilemapLayer,tileBias,isLayer){i=tileWorldRect.left;tilemapLayer=tileWorldRect.top;
var tileRight=tileWorldRect.right,tileBottom=tileWorldRect.bottom,faceHorizontal=tile.faceLeft||tile.faceRight,faceVertical=tile.faceTop||tile.faceBottom;isLayer||(faceVertical=faceHorizontal=!0);if(!faceHorizontal&&!faceVertical)return!1;var ox=0,oy=0,minX=0,minY=1;body.deltaAbsX()>body.deltaAbsY()?minX=-1:body.deltaAbsX()<body.deltaAbsY()&&(minY=-1);0!==body.deltaX()&&0!==body.deltaY()&&faceHorizontal&&faceVertical&&(minX=Math.min(Math.abs(body.position.x-tileRight),Math.abs(body.right-i)),minY=
Math.min(Math.abs(body.position.y-tileBottom),Math.abs(body.bottom-tilemapLayer)));if(minX<minY){if(faceHorizontal&&(ox=TileCheckX(body,tile,i,tileRight,tileBias,isLayer),0!==ox&&!TileIntersectsBody(tileWorldRect,body)))return!0;faceVertical&&(oy=TileCheckY(body,tile,tilemapLayer,tileBottom,tileBias,isLayer))}else{if(faceVertical&&(oy=TileCheckY(body,tile,tilemapLayer,tileBottom,tileBias,isLayer),0!==oy&&!TileIntersectsBody(tileWorldRect,body)))return!0;faceHorizontal&&(ox=TileCheckX(body,tile,i,
tileRight,tileBias,isLayer))}return 0!==ox||0!==oy}},function(module,exports,__webpack_require__){var ProcessTileSeparationX=__webpack_require__(528);module.exports=function(body,tile,tileLeft,tileRight,tileBias,isLayer){var ox=0,faceLeft=tile.faceLeft,faceRight=tile.faceRight,collideLeft=tile.collideLeft;tile=tile.collideRight;isLayer||(tile=collideLeft=faceRight=faceLeft=!0);0>body.deltaX()&&tile&&body.checkCollision.left?faceRight&&body.x<tileRight&&(ox=body.x-tileRight,ox<-tileBias&&(ox=0)):0<
body.deltaX()&&collideLeft&&body.checkCollision.right&&faceLeft&&body.right>tileLeft&&(ox=body.right-tileLeft,ox>tileBias&&(ox=0));0!==ox&&(body.customSeparateX?body.overlapX=ox:ProcessTileSeparationX(body,ox));return ox}},function(module,exports){module.exports=function(body,x){0>x?(body.blocked.none=!1,body.blocked.left=!0):0<x&&(body.blocked.none=!1,body.blocked.right=!0);body.position.x-=x;body.velocity.x=0===body.bounce.x?0:-body.velocity.x*body.bounce.x}},function(module,exports,__webpack_require__){var ProcessTileSeparationY=
__webpack_require__(530);module.exports=function(body,tile,tileTop,tileBottom,tileBias,isLayer){var oy=0,faceTop=tile.faceTop,faceBottom=tile.faceBottom,collideUp=tile.collideUp;tile=tile.collideDown;isLayer||(tile=collideUp=faceBottom=faceTop=!0);0>body.deltaY()&&tile&&body.checkCollision.up?faceBottom&&body.y<tileBottom&&(oy=body.y-tileBottom,oy<-tileBias&&(oy=0)):0<body.deltaY()&&collideUp&&body.checkCollision.down&&faceTop&&body.bottom>tileTop&&(oy=body.bottom-tileTop,oy>tileBias&&(oy=0));0!==
oy&&(body.customSeparateY?body.overlapY=oy:ProcessTileSeparationY(body,oy));return oy}},function(module,exports){module.exports=function(body,y){0>y?(body.blocked.none=!1,body.blocked.up=!0):0<y&&(body.blocked.none=!1,body.blocked.down=!0);body.position.y-=y;body.velocity.y=0===body.bounce.y?0:-body.velocity.y*body.bounce.y}},function(module,exports,__webpack_require__){var GetOverlapX=__webpack_require__(243),ProcessX=__webpack_require__(1383);module.exports=function(body1,body2,overlapOnly,bias){var overlap=
GetOverlapX(body1,body2,overlapOnly,bias);bias=body1.immovable;var body2Immovable=body2.immovable;if(overlapOnly||0===overlap||bias&&body2Immovable||body1.customSeparateX||body2.customSeparateX)return 0!==overlap||body1.embedded&&body2.embedded;body1=ProcessX.Set(body1,body2,overlap);if(bias||body2Immovable)bias?ProcessX.RunImmovableBody1(body1):body2Immovable&&ProcessX.RunImmovableBody2(body1);else return 0<body1?!0:ProcessX.Check();return!0}},function(module,exports,__webpack_require__){var GetOverlapY=
__webpack_require__(244),ProcessY=__webpack_require__(1384);module.exports=function(body1,body2,overlapOnly,bias){var overlap=GetOverlapY(body1,body2,overlapOnly,bias);bias=body1.immovable;var body2Immovable=body2.immovable;if(overlapOnly||0===overlap||bias&&body2Immovable||body1.customSeparateY||body2.customSeparateY)return 0!==overlap||body1.embedded&&body2.embedded;body1=ProcessY.Set(body1,body2,overlap);if(bias||body2Immovable)bias?ProcessY.RunImmovableBody1(body1):body2Immovable&&ProcessY.RunImmovableBody2(body1);
else return 0<body1?!0:ProcessY.Check();return!0}},function(module,exports,__webpack_require__){var CircleContains=__webpack_require__(63);exports=__webpack_require__(0);var CONST=__webpack_require__(60),RectangleContains=__webpack_require__(56),Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(world,gameObject){var width=gameObject.displayWidth?gameObject.displayWidth:64,height=gameObject.displayHeight?gameObject.displayHeight:64;this.world=world;this.gameObject=
gameObject;this.debugShowBody=world.defaults.debugShowStaticBody;this.debugBodyColor=world.defaults.staticBodyDebugColor;this.enable=!0;this.isCircle=!1;this.radius=0;this.offset=new Vector2;this.position=new Vector2(gameObject.x-width*gameObject.originX,gameObject.y-height*gameObject.originY);this.width=width;this.height=height;this.halfWidth=Math.abs(this.width/2);this.halfHeight=Math.abs(this.height/2);this.center=new Vector2(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.velocity=
Vector2.ZERO;this.allowGravity=!1;this.bounce=this.gravity=Vector2.ZERO;this.onOverlap=this.onCollide=this.onWorldBounds=!1;this.mass=1;this.immovable=!0;this.customSeparateY=this.customSeparateX=this.pushable=!1;this.overlapR=this.overlapY=this.overlapX=0;this.collideWorldBounds=this.embedded=!1;this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0};this.touching={none:!0,up:!1,down:!1,left:!1,right:!1};this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1};this.blocked={none:!0,up:!1,down:!1,
left:!1,right:!1};this.physicsType=CONST.STATIC_BODY;this._dy=this._dx=0},setGameObject:function(gameObject,update){gameObject&&gameObject!==this.gameObject&&(this.gameObject.body=null,gameObject.body=this,this.gameObject=gameObject);update&&this.updateFromGameObject();return this},updateFromGameObject:function(){this.world.staticTree.remove(this);var gameObject=this.gameObject;gameObject.getTopLeft(this.position);this.width=gameObject.displayWidth;this.height=gameObject.displayHeight;this.halfWidth=
Math.abs(this.width/2);this.halfHeight=Math.abs(this.height/2);this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.world.staticTree.insert(this);return this},setOffset:function(x,y){void 0===y&&(y=x);this.world.staticTree.remove(this);this.position.x-=this.offset.x;this.position.y-=this.offset.y;this.offset.set(x,y);this.position.x+=this.offset.x;this.position.y+=this.offset.y;this.updateCenter();this.world.staticTree.insert(this);return this},setSize:function(width,
height,center){void 0===center&&(center=!0);var gameObject=this.gameObject;!width&&gameObject.frame&&(width=gameObject.frame.realWidth);!height&&gameObject.frame&&(height=gameObject.frame.realHeight);this.world.staticTree.remove(this);this.width=width;this.height=height;this.halfWidth=Math.floor(width/2);this.halfHeight=Math.floor(height/2);center&&gameObject.getCenter&&(width=gameObject.displayWidth/2,gameObject=gameObject.displayHeight/2,this.position.x-=this.offset.x,this.position.y-=this.offset.y,
this.offset.set(width-this.halfWidth,gameObject-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y);this.updateCenter();this.isCircle=!1;this.radius=0;this.world.staticTree.insert(this);return this},setCircle:function(radius,offsetX,offsetY){void 0===offsetX&&(offsetX=this.offset.x);void 0===offsetY&&(offsetY=this.offset.y);0<radius?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=radius,this.width=2*radius,this.height=2*radius,this.halfWidth=Math.floor(this.width/
2),this.halfHeight=Math.floor(this.height/2),this.offset.set(offsetX,offsetY),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1;return this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(x,y){var gameObject=this.gameObject;void 0===x&&(x=gameObject.x);void 0===y&&(y=gameObject.y);this.world.staticTree.remove(this);gameObject.setPosition(x,y);gameObject.getTopLeft(this.position);this.updateCenter();this.world.staticTree.insert(this)},
stop:function(){return this},getBounds:function(obj){obj.x=this.x;obj.y=this.y;obj.right=this.right;obj.bottom=this.bottom;return obj},hitTest:function(x,y){return this.isCircle?CircleContains(this,x,y):RectangleContains(this,x,y)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1;this.world.pendingDestroy.set(this)},drawDebug:function(graphic){var pos=
this.position,x=pos.x+this.halfWidth,y=pos.y+this.halfHeight;this.debugShowBody&&(graphic.lineStyle(graphic.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?graphic.strokeCircle(x,y,this.width/2):graphic.strokeRect(pos.x,pos.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(value){0>=value&&(value=.1);this.mass=value;return this},x:{get:function(){return this.position.x},set:function(value){this.world.staticTree.remove(this);this.position.x=value;
this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(value){this.world.staticTree.remove(this);this.position.y=value;this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={Bounce:__webpack_require__(1500),
Collision:__webpack_require__(1501),Force:__webpack_require__(1502),Friction:__webpack_require__(1503),Gravity:__webpack_require__(1504),Mass:__webpack_require__(1505),Sensor:__webpack_require__(1506),SetBody:__webpack_require__(1507),Sleep:__webpack_require__(1508),Static:__webpack_require__(1525),Transform:__webpack_require__(1526),Velocity:__webpack_require__(1527)}},function(module,exports){var Pair={};module.exports=Pair;(function(){Pair.create=function(collision,timestamp){var bodyA=collision.bodyA,
bodyB=collision.bodyB;bodyA={id:Pair.id(bodyA,bodyB),bodyA:bodyA,bodyB:bodyB,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:bodyA.isSensor||bodyB.isSensor,timeCreated:timestamp,timeUpdated:timestamp,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};Pair.update(bodyA,collision,timestamp);return bodyA};Pair.update=function(pair,collision,timestamp){pair.collision=collision;if(collision.collided){var supports=collision.supports,activeContacts=pair.activeContacts,
parentA=collision.parentA,parentB=collision.parentB;pair.inverseMass=parentA.inverseMass+parentB.inverseMass;pair.friction=Math.min(parentA.friction,parentB.friction);pair.frictionStatic=Math.max(parentA.frictionStatic,parentB.frictionStatic);pair.restitution=Math.max(parentA.restitution,parentB.restitution);pair.slop=Math.max(parentA.slop,parentB.slop);for(parentA=0;parentA<supports.length;parentA++)activeContacts[parentA]=supports[parentA].contact;supports=supports.length;supports<activeContacts.length&&
(activeContacts.length=supports);pair.separation=collision.depth;Pair.setActive(pair,!0,timestamp)}else!0===pair.isActive&&Pair.setActive(pair,!1,timestamp)};Pair.setActive=function(pair,isActive,timestamp){isActive?(pair.isActive=!0,pair.timeUpdated=timestamp):(pair.isActive=!1,pair.activeContacts.length=0)};Pair.id=function(bodyA,bodyB){return bodyA.id<bodyB.id?"A"+bodyA.id+"B"+bodyB.id:"A"+bodyB.id+"B"+bodyA.id}})()},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(pluginManager){this.pluginManager=
pluginManager;this.game=pluginManager.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.systems=this.scene=this.game=this.pluginManager=null}});module.exports=exports},function(module,exports,__webpack_require__){var point=new (__webpack_require__(3));module.exports=function(tileX,tileY,layer,camera){var tilemapLayer=layer.tilemapLayer,cullPaddingX=tilemapLayer.cullPaddingX,cullPaddingY=tilemapLayer.cullPaddingY;tileX=tilemapLayer.tilemap.tileToWorldXY(tileX,tileY,
point,camera,tilemapLayer);return tileX.x>camera.worldView.x+tilemapLayer.scaleX*layer.tileWidth*(-cullPaddingX-.5)&&tileX.x<camera.worldView.right+tilemapLayer.scaleX*layer.tileWidth*(cullPaddingX-.5)&&tileX.y>camera.worldView.y+tilemapLayer.scaleY*layer.tileHeight*(-cullPaddingY-1)&&tileX.y<camera.worldView.bottom+tilemapLayer.scaleY*layer.tileHeight*(cullPaddingY-.5)}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);module.exports=function(findIndex,newIndex,
tileX,tileY,width,height,layer){tileX=GetTilesWithin(tileX,tileY,width,height,null,layer);for(tileY=0;tileY<tileX.length;tileY++)tileX[tileY]&&tileX[tileY].index===findIndex&&(tileX[tileY].index=newIndex)}},function(module,exports,__webpack_require__){exports=__webpack_require__(10);var SnapCeil=__webpack_require__(137),SnapFloor=__webpack_require__(76),bounds=new exports;module.exports=function(layer,camera){var tilemap=layer.tilemapLayer.tilemap;layer=layer.tilemapLayer;var tileW=Math.floor(tilemap.tileWidth*
layer.scaleX),tileH=Math.floor(tilemap.tileHeight*layer.scaleY);tilemap=SnapFloor(camera.worldView.x-layer.x,tileW,0,!0)-layer.cullPaddingX;tileW=SnapCeil(camera.worldView.right-layer.x,tileW,0,!0)+layer.cullPaddingX;var boundsTop=SnapFloor(camera.worldView.y-layer.y,tileH,0,!0)-layer.cullPaddingY;camera=SnapCeil(camera.worldView.bottom-layer.y,tileH,0,!0)+layer.cullPaddingY;return bounds.setTo(tilemap,boundsTop,tileW-tilemap,camera-boundsTop)}},function(module,exports,__webpack_require__){var CullBounds=
__webpack_require__(539),RunCull=__webpack_require__(157);module.exports=function(layer,camera,outputArray,renderOrder){void 0===outputArray&&(outputArray=[]);void 0===renderOrder&&(renderOrder=0);outputArray.length=0;var tilemapLayer=layer.tilemapLayer;camera=CullBounds(layer,camera);if(tilemapLayer.skipCull||1!==tilemapLayer.scrollFactorX||1!==tilemapLayer.scrollFactorY)camera.left=0,camera.right=layer.width,camera.top=0,camera.bottom=layer.height;RunCull(layer,camera,renderOrder,outputArray);return outputArray}},
function(module,exports,__webpack_require__){var CullBounds=__webpack_require__(542),RunCull=__webpack_require__(157);module.exports=function(layer,camera,outputArray,renderOrder){void 0===outputArray&&(outputArray=[]);void 0===renderOrder&&(renderOrder=0);outputArray.length=0;var tilemapLayer=layer.tilemapLayer;tilemapLayer.skipCull||1!==tilemapLayer.scrollFactorX||1!==tilemapLayer.scrollFactorY||(camera=CullBounds(layer,camera),RunCull(layer,camera,renderOrder,outputArray));return outputArray}},
function(module,exports,__webpack_require__){var SnapCeil=__webpack_require__(137),SnapFloor=__webpack_require__(76);module.exports=function(layer,camera){var tilemap=layer.tilemapLayer.tilemap,tilemapLayer=layer.tilemapLayer,tileW=Math.floor(tilemap.tileWidth*tilemapLayer.scaleX);layer=layer.hexSideLength;layer=(Math.floor(tilemap.tileHeight*tilemapLayer.scaleY)-layer)/2+layer;tilemap=SnapFloor(camera.worldView.x-tilemapLayer.x,tileW,0,!0)-tilemapLayer.cullPaddingX;tileW=SnapCeil(camera.worldView.right-
tilemapLayer.x,tileW,0,!0)+tilemapLayer.cullPaddingX;var boundsTop=SnapFloor(camera.worldView.y-tilemapLayer.y,layer,0,!0)-tilemapLayer.cullPaddingY;camera=SnapCeil(camera.worldView.bottom-tilemapLayer.y,layer,0,!0)+tilemapLayer.cullPaddingY;return{left:tilemap,right:tileW,top:boundsTop,bottom:camera}}},function(module,exports,__webpack_require__){var CheckIsoBounds=__webpack_require__(537);module.exports=function(layer,camera,outputArray,renderOrder){void 0===outputArray&&(outputArray=[]);void 0===
renderOrder&&(renderOrder=0);outputArray.length=0;var tilemapLayer=layer.tilemapLayer,mapData=layer.data,mapWidth=layer.width,mapHeight=layer.height;if(!tilemapLayer.skipCull){var y,tile;if(0===renderOrder)for(y=0;y<mapHeight;y++)for(renderOrder=0;mapData[y]&&renderOrder<mapWidth;renderOrder++)CheckIsoBounds(renderOrder,y,layer,camera)&&(tile=mapData[y][renderOrder])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);else if(1===renderOrder)for(y=0;y<mapHeight;y++)for(renderOrder=
mapWidth;mapData[y]&&0<=renderOrder;renderOrder--)CheckIsoBounds(renderOrder,y,layer,camera)&&(tile=mapData[y][renderOrder])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);else if(2===renderOrder)for(y=mapHeight;0<=y;y--)for(renderOrder=0;mapData[y]&&renderOrder<mapWidth;renderOrder++)CheckIsoBounds(renderOrder,y,layer,camera)&&(tile=mapData[y][renderOrder])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile);else if(3===renderOrder)for(y=mapHeight;0<=y;y--)for(renderOrder=
mapWidth;mapData[y]&&0<=renderOrder;renderOrder--)CheckIsoBounds(renderOrder,y,layer,camera)&&(tile=mapData[y][renderOrder])&&-1!==tile.index&&tile.visible&&0!==tile.alpha&&outputArray.push(tile)}tilemapLayer.tilesDrawn=outputArray.length;tilemapLayer.tilesTotal=mapWidth*mapHeight;return outputArray}},function(module,exports,__webpack_require__){var CullBounds=__webpack_require__(545),RunCull=__webpack_require__(157);module.exports=function(layer,camera,outputArray,renderOrder){void 0===outputArray&&
(outputArray=[]);void 0===renderOrder&&(renderOrder=0);outputArray.length=0;var tilemapLayer=layer.tilemapLayer;tilemapLayer.skipCull||1!==tilemapLayer.scrollFactorX||1!==tilemapLayer.scrollFactorY||(camera=CullBounds(layer,camera),RunCull(layer,camera,renderOrder,outputArray));return outputArray}},function(module,exports,__webpack_require__){var SnapCeil=__webpack_require__(137),SnapFloor=__webpack_require__(76);module.exports=function(layer,camera){var tilemap=layer.tilemapLayer.tilemap;layer=layer.tilemapLayer;
var tileW=Math.floor(tilemap.tileWidth*layer.scaleX),tileH=Math.floor(tilemap.tileHeight*layer.scaleY);tilemap=SnapFloor(camera.worldView.x-layer.x,tileW,0,!0)-layer.cullPaddingX;tileW=SnapCeil(camera.worldView.right-layer.x,tileW,0,!0)+layer.cullPaddingX;var boundsTop=SnapFloor(camera.worldView.y-layer.y,tileH/2,0,!0)-layer.cullPaddingY;camera=SnapCeil(camera.worldView.bottom-layer.y,tileH/2,0,!0)+layer.cullPaddingY;return{left:tilemap,right:tileW,top:boundsTop,bottom:camera}}},function(module,exports,
__webpack_require__){var Vector2=__webpack_require__(3);module.exports=function(tileX,tileY,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer,layerWorldX=0,layerWorldY=0;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),layerWorldX=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),tileWidth*=tilemapLayer.scaleX,layerWorldY=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),
tileHeight*=tilemapLayer.scaleY);camera=layer.hexSideLength;return point.set(layerWorldX+tileX*tileWidth+tileY%2*(tileWidth/2),layerWorldY+tileY*((tileHeight-camera)/2+camera))}},function(module,exports,__webpack_require__){var Vector2=__webpack_require__(3);module.exports=function(tileX,tileY,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight;layer=layer.tilemapLayer;var layerWorldX=0,layerWorldY=0;layer&&(camera||(camera=layer.scene.cameras.main),
layerWorldX=layer.x+camera.scrollX*(1-layer.scrollFactorX),tileWidth*=layer.scaleX,layerWorldY=layer.y+camera.scrollY*(1-layer.scrollFactorY),tileHeight*=layer.scaleY);return point.set(layerWorldX+tileWidth/2*(tileX-tileY),layerWorldY+tileHeight/2*(tileX+tileY))}},function(module,exports,__webpack_require__){var Vector2=__webpack_require__(3);module.exports=function(tileX,tileY,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight;layer=layer.tilemapLayer;
var layerWorldX=0,layerWorldY=0;layer&&(camera||(camera=layer.scene.cameras.main),layerWorldX=layer.x+camera.scrollX*(1-layer.scrollFactorX),tileWidth*=layer.scaleX,layerWorldY=layer.y+camera.scrollY*(1-layer.scrollFactorY),tileHeight*=layer.scaleY);return point.set(layerWorldX+tileX*tileWidth+tileY%2*(tileWidth/2),layerWorldY+tileHeight/2*tileY)}},function(module,exports,__webpack_require__){var TileToWorldX=__webpack_require__(249),TileToWorldY=__webpack_require__(250),Vector2=__webpack_require__(3);
module.exports=function(tileX,tileY,point,camera,layer){point||(point=new Vector2(0,0));point.x=TileToWorldX(tileX,camera,layer);point.y=TileToWorldY(tileY,camera,layer);return point}},function(module,exports){module.exports=function(tileY,camera,layer){var tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;layer=0;tilemapLayer&&(void 0===camera&&(camera=tilemapLayer.scene.cameras.main),layer=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY);
camera=tilemapLayer.tilemap.hexSideLength;return layer+tileY*((tileHeight-camera)/2+camera)}},function(module,exports){module.exports=function(tileY,camera,layer){var tileHeight=layer.baseTileHeight;layer=layer.tilemapLayer;var layerWorldY=0;layer&&(void 0===camera&&(camera=layer.scene.cameras.main),layerWorldY=layer.y+camera.scrollY*(1-layer.scrollFactorY),tileHeight*=layer.scaleY);return layerWorldY+tileHeight/2*tileY}},function(module,exports,__webpack_require__){var Vector2=__webpack_require__(3);
module.exports=function(worldX,worldY,snapToFloor,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldY-=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY,worldX-=tilemapLayer.x+camera.scrollX*(1-tilemapLayer.scrollFactorX),tileWidth*=tilemapLayer.scaleX);camera=layer.hexSideLength;tileHeight=(tileHeight-
camera)/2+camera;worldY=snapToFloor?Math.floor(worldY/tileHeight):worldY/tileHeight;return point.set(snapToFloor?Math.floor((worldX-worldY%2*.5*tileWidth)/tileWidth):(worldX-worldY%2*.5*tileWidth)/tileWidth,worldY)}},function(module,exports,__webpack_require__){var Vector2=__webpack_require__(3);module.exports=function(worldX,worldY,snapToFloor,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight;if(layer=layer.tilemapLayer)camera||(camera=
layer.scene.cameras.main),worldY-=layer.y+camera.scrollY*(1-layer.scrollFactorY),tileHeight*=layer.scaleY,worldX-=layer.x+camera.scrollX*(1-layer.scrollFactorX),tileWidth*=layer.scaleX;worldX-=tileWidth/2;return point.set(snapToFloor?Math.floor((worldX/(tileWidth/2)+worldY/(tileHeight/2))/2):(worldX/(tileWidth/2)+worldY/(tileHeight/2))/2,snapToFloor?Math.floor((worldY/(tileHeight/2)-worldX/(tileWidth/2))/2):(worldY/(tileHeight/2)-worldX/(tileWidth/2))/2)}},function(module,exports,__webpack_require__){var Vector2=
__webpack_require__(3);module.exports=function(worldX,worldY,snapToFloor,point,camera,layer){point||(point=new Vector2);var tileWidth=layer.baseTileWidth,tileHeight=layer.baseTileHeight;if(layer=layer.tilemapLayer)camera||(camera=layer.scene.cameras.main),worldY-=layer.y+camera.scrollY*(1-layer.scrollFactorY),tileHeight*=layer.scaleY,worldX-=layer.x+camera.scrollX*(1-layer.scrollFactorX),tileWidth*=layer.scaleX;worldY=snapToFloor?Math.floor(worldY/(tileHeight/2)):worldY/(tileHeight/2);return point.set(snapToFloor?
Math.floor((worldX+worldY%2*.5*tileWidth)/tileWidth):(worldX+worldY%2*.5*tileWidth)/tileWidth,worldY)}},function(module,exports,__webpack_require__){var WorldToTileX=__webpack_require__(251),WorldToTileY=__webpack_require__(252),Vector2=__webpack_require__(3);module.exports=function(worldX,worldY,snapToFloor,point,camera,layer){void 0===snapToFloor&&(snapToFloor=!0);point||(point=new Vector2(0,0));point.x=WorldToTileX(worldX,snapToFloor,camera,layer);point.y=WorldToTileY(worldY,snapToFloor,camera,
layer);return point}},function(module,exports){module.exports=function(worldY,snapToFloor,camera,layer){var tileHeight=layer.baseTileHeight,tilemapLayer=layer.tilemapLayer;tilemapLayer&&(camera||(camera=tilemapLayer.scene.cameras.main),worldY-=tilemapLayer.y+camera.scrollY*(1-tilemapLayer.scrollFactorY),tileHeight*=tilemapLayer.scaleY);camera=layer.hexSideLength;tileHeight=(tileHeight-camera)/2+camera;return snapToFloor?Math.floor(worldY/tileHeight):worldY/tileHeight}},function(module,exports){module.exports=
function(worldY,snapToFloor,camera,layer){var tileHeight=layer.baseTileHeight;if(layer=layer.tilemapLayer)camera||(camera=layer.scene.cameras.main),worldY-=layer.y+camera.scrollY*(1-layer.scrollFactorY),tileHeight*=layer.scaleY;return snapToFloor?Math.floor(worldY/(tileHeight/2)):worldY/(tileHeight/2)}},function(module,exports,__webpack_require__){var IsInLayerBounds=__webpack_require__(118);module.exports=function(tileX,tileY,layer){return IsInLayerBounds(tileX,tileY,layer)?(tileX=layer.data[tileY][tileX],
null!==tileX&&-1<tileX.index):!1}},function(module,exports,__webpack_require__){var Tile=__webpack_require__(83),IsInLayerBounds=__webpack_require__(118),CalculateFacesAt=__webpack_require__(248);module.exports=function(tileX,tileY,replaceWithNull,recalculateFaces,layer){void 0===replaceWithNull&&(replaceWithNull=!0);void 0===recalculateFaces&&(recalculateFaces=!0);if(!IsInLayerBounds(tileX,tileY,layer))return null;var tile=layer.data[tileY][tileX];if(tile)layer.data[tileY][tileX]=replaceWithNull?
null:new Tile(layer,-1,tileX,tileY,layer.tileWidth,layer.tileHeight);else return null;recalculateFaces&&tile&&tile.collides&&CalculateFacesAt(tileX,tileY,layer);return tile}},function(module,exports,__webpack_require__){var Formats=__webpack_require__(39),Parse2DArray=__webpack_require__(255),ParseCSV=__webpack_require__(561),ParseJSONTiled=__webpack_require__(562),ParseWeltmeister=__webpack_require__(573);module.exports=function(name,mapFormat,data,tileWidth,tileHeight,insertNull){switch(mapFormat){case Formats.ARRAY_2D:name=
Parse2DArray(name,data,tileWidth,tileHeight,insertNull);break;case Formats.CSV:name=ParseCSV(name,data,tileWidth,tileHeight,insertNull);break;case Formats.TILED_JSON:name=ParseJSONTiled(name,data,insertNull);break;case Formats.WELTMEISTER:name=ParseWeltmeister(name,data,insertNull);break;default:console.warn("Unrecognized tilemap data format: "+mapFormat),name=null}return name}},function(module,exports,__webpack_require__){var Formats=__webpack_require__(39),Parse2DArray=__webpack_require__(255);
module.exports=function(name,data,tileWidth,tileHeight,insertNull){data=data.trim().split("\n").map(function(row){return row.split(",")});name=Parse2DArray(name,data,tileWidth,tileHeight,insertNull);name.format=Formats.CSV;return name}},function(module,exports,__webpack_require__){var AssignTileProperties=__webpack_require__(563),BuildTilesetIndex=__webpack_require__(564),CONST=__webpack_require__(29),Formats=__webpack_require__(39),FromOrientationString=__webpack_require__(254),MapData=__webpack_require__(120),
ParseImageLayers=__webpack_require__(565),ParseObjectLayers=__webpack_require__(566),ParseTileLayers=__webpack_require__(569),ParseTilesets=__webpack_require__(571);module.exports=function(name,json,insertNull){name=new MapData({width:json.width,height:json.height,name:name,tileWidth:json.tilewidth,tileHeight:json.tileheight,orientation:FromOrientationString(json.orientation),format:Formats.TILED_JSON,version:json.version,properties:json.properties,renderOrder:json.renderorder,infinite:json.infinite});
name.orientation===CONST.HEXAGONAL&&(name.hexSideLength=json.hexsidelength);name.layers=ParseTileLayers(json,insertNull);name.images=ParseImageLayers(json);insertNull=ParseTilesets(json);name.tilesets=insertNull.tilesets;name.imageCollections=insertNull.imageCollections;name.objects=ParseObjectLayers(json);name.tiles=BuildTilesetIndex(name);AssignTileProperties(name);return name}},function(module,exports,__webpack_require__){var Extend=__webpack_require__(17);module.exports=function(mapData){for(var layerData,
tile,sid,row,i=0;i<mapData.layers.length;i++){layerData=mapData.layers[i];for(var j=0;j<layerData.data.length;j++){row=layerData.data[j];for(var k=0;k<row.length;k++)tile=row[k],null===tile||0>tile.index||(sid=mapData.tiles[tile.index][2],sid=mapData.tilesets[sid],tile.width=sid.tileWidth,tile.height=sid.tileHeight,sid.tileProperties&&sid.tileProperties[tile.index-sid.firstgid]&&(tile.properties=Extend(tile.properties,sid.tileProperties[tile.index-sid.firstgid])))}}}},function(module,exports,__webpack_require__){var Tileset=
__webpack_require__(121);module.exports=function(mapData){var i,tiles=[];for(i=0;i<mapData.imageCollections.length;i++)for(var collection=mapData.imageCollections[i],images=collection.images,j=0;j<images.length;j++){var set=images[j];set=new Tileset(set.image,set.gid,collection.imageWidth,collection.imageHeight,0,0);set.updateTileData(collection.imageWidth,collection.imageHeight);mapData.tilesets.push(set)}for(i=0;i<mapData.tilesets.length;i++){set=mapData.tilesets[i];images=collection=set.tileMargin;
for(var countX=j=0,countY=0,t=set.firstgid;t<set.firstgid+set.total;t++){tiles[t]=[collection,images,i];collection+=set.tileWidth+set.tileSpacing;j++;if(j===set.total)break;countX++;if(countX===set.columns&&(collection=set.tileMargin,images+=set.tileHeight+set.tileSpacing,countX=0,countY++,countY===set.rows))break}}return tiles}},function(module,exports,__webpack_require__){var GetFastValue=__webpack_require__(2),CreateGroupLayer=__webpack_require__(159);module.exports=function(json){for(var images=
[],groupStack=[],curGroupState=CreateGroupLayer(json);curGroupState.i<curGroupState.layers.length||0<groupStack.length;)if(curGroupState.i>=curGroupState.layers.length){if(1>groupStack.length){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}curGroupState=groupStack.pop()}else{var curi=curGroupState.layers[curGroupState.i];curGroupState.i++;if("imagelayer"!==curi.type)"group"===curi.type&&(curi=CreateGroupLayer(json,curi,curGroupState),groupStack.push(curGroupState),
curGroupState=curi);else{var layerOffsetX=GetFastValue(curi,"offsetx",0)+GetFastValue(curi,"startx",0),layerOffsetY=GetFastValue(curi,"offsety",0)+GetFastValue(curi,"starty",0);images.push({name:curGroupState.name+curi.name,image:curi.image,x:curGroupState.x+layerOffsetX+curi.x,y:curGroupState.y+layerOffsetY+curi.y,alpha:curGroupState.opacity*curi.opacity,visible:curGroupState.visible&&curi.visible,properties:GetFastValue(curi,"properties",{})})}}return images}},function(module,exports,__webpack_require__){var GetFastValue=
__webpack_require__(2),ParseObject=__webpack_require__(256),ObjectLayer=__webpack_require__(568),CreateGroupLayer=__webpack_require__(159);module.exports=function(json){for(var objectLayers=[],groupStack=[],curGroupState=CreateGroupLayer(json);curGroupState.i<curGroupState.layers.length||0<groupStack.length;)if(curGroupState.i>=curGroupState.layers.length){if(1>groupStack.length){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}curGroupState=groupStack.pop()}else{var curo=
curGroupState.layers[curGroupState.i];curGroupState.i++;curo.opacity*=curGroupState.opacity;curo.visible=curGroupState.visible&&curo.visible;if("objectgroup"!==curo.type){if("group"===curo.type){var nextGroupState=CreateGroupLayer(json,curo,curGroupState);groupStack.push(curGroupState);curGroupState=nextGroupState}}else{curo.name=curGroupState.name+curo.name;var offsetX=curGroupState.x+GetFastValue(curo,"startx",0)+GetFastValue(curo,"offsetx",0),offsetY=curGroupState.y+GetFastValue(curo,"starty",
0)+GetFastValue(curo,"offsety",0);nextGroupState=[];for(var j=0;j<curo.objects.length;j++){var parsedObject=ParseObject(curo.objects[j],offsetX,offsetY);nextGroupState.push(parsedObject)}curo=new ObjectLayer(curo);curo.objects=nextGroupState;objectLayers.push(curo)}}return objectLayers}},function(module,exports,__webpack_require__){var HasValue=__webpack_require__(125);module.exports=function(object,keys){for(var obj={},i=0;i<keys.length;i++){var key=keys[i];HasValue(object,key)&&(obj[key]=object[key])}return obj}},
function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetFastValue=__webpack_require__(2);__webpack_require__=new exports({initialize:function(config){void 0===config&&(config={});this.name=GetFastValue(config,"name","object layer");this.opacity=GetFastValue(config,"opacity",1);this.properties=GetFastValue(config,"properties",{});this.propertyTypes=GetFastValue(config,"propertytypes",{});this.type=GetFastValue(config,"type","objectgroup");this.visible=GetFastValue(config,
"visible",!0);this.objects=GetFastValue(config,"objects",[])}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Base64Decode=__webpack_require__(570),CONST=__webpack_require__(29),CreateGroupLayer=__webpack_require__(159),FromOrientationString=__webpack_require__(254),GetFastValue=__webpack_require__(2),LayerData=__webpack_require__(119),ParseGID=__webpack_require__(257),Tile=__webpack_require__(83);module.exports=function(json,insertNull){for(var infiniteMap=
GetFastValue(json,"infinite",!1),tileLayers=[],groupStack=[],curGroupState=CreateGroupLayer(json);curGroupState.i<curGroupState.layers.length||0<groupStack.length;)if(curGroupState.i>=curGroupState.layers.length){if(1>groupStack.length){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}curGroupState=groupStack.pop()}else{var curl=curGroupState.layers[curGroupState.i];curGroupState.i++;if("tilelayer"!==curl.type)"group"===curl.type&&(curl=CreateGroupLayer(json,curl,
curGroupState),groupStack.push(curGroupState),curGroupState=curl);else if(curl.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+curl.name+"'");else{if(curl.encoding&&"base64"===curl.encoding){if(curl.chunks)for(var i=0;i<curl.chunks.length;i++)curl.chunks[i].data=Base64Decode(curl.chunks[i].data);curl.data&&(curl.data=Base64Decode(curl.data));delete curl.encoding}var output=[],x=0;if(infiniteMap){var layerOffsetX=GetFastValue(curl,"startx",
0)+curl.x,layerOffsetY=GetFastValue(curl,"starty",0)+curl.y;i=new LayerData({name:curGroupState.name+curl.name,x:curGroupState.x+GetFastValue(curl,"offsetx",0)+layerOffsetX*json.tilewidth,y:curGroupState.y+GetFastValue(curl,"offsety",0)+layerOffsetY*json.tileheight,width:curl.width,height:curl.height,tileWidth:json.tilewidth,tileHeight:json.tileheight,alpha:curGroupState.opacity*curl.opacity,visible:curGroupState.visible&&curl.visible,properties:GetFastValue(curl,"properties",[]),orientation:FromOrientationString(json.orientation)});
i.orientation===CONST.HEXAGONAL&&(i.hexSideLength=json.hexsidelength);for(var c=0;c<curl.height;c++){output.push([null]);for(var j=0;j<curl.width;j++)output[c][j]=null}c=0;for(j=curl.chunks.length;c<j;c++)for(var chunk=curl.chunks[c],offsetX=chunk.x-layerOffsetX,offsetY=chunk.y-layerOffsetY,y=0,t=0,len2=chunk.data.length;t<len2;t++){var newOffsetX=x+offsetX,newOffsetY=y+offsetY;var gidInfo=ParseGID(chunk.data[t]);if(0<gidInfo.gid){var tile=new Tile(i,gidInfo.gid,newOffsetX,newOffsetY,json.tilewidth,
json.tileheight);tile.rotation=gidInfo.rotation;tile.flipX=gidInfo.flipped;output[newOffsetY][newOffsetX]=tile}else gidInfo=insertNull?null:new Tile(i,-1,newOffsetX,newOffsetY,json.tilewidth,json.tileheight),output[newOffsetY][newOffsetX]=gidInfo;x++;x===chunk.width&&(y++,x=0)}}else for(i=new LayerData({name:curGroupState.name+curl.name,x:curGroupState.x+GetFastValue(curl,"offsetx",0)+curl.x,y:curGroupState.y+GetFastValue(curl,"offsety",0)+curl.y,width:curl.width,height:curl.height,tileWidth:json.tilewidth,
tileHeight:json.tileheight,alpha:curGroupState.opacity*curl.opacity,visible:curGroupState.visible&&curl.visible,properties:GetFastValue(curl,"properties",[]),orientation:FromOrientationString(json.orientation)}),i.orientation===CONST.HEXAGONAL&&(i.hexSideLength=json.hexsidelength),layerOffsetX=[],layerOffsetY=0,j=curl.data.length;layerOffsetY<j;layerOffsetY++)gidInfo=ParseGID(curl.data[layerOffsetY]),0<gidInfo.gid?(tile=new Tile(i,gidInfo.gid,x,output.length,json.tilewidth,json.tileheight),tile.rotation=
gidInfo.rotation,tile.flipX=gidInfo.flipped,layerOffsetX.push(tile)):(gidInfo=insertNull?null:new Tile(i,-1,x,output.length,json.tilewidth,json.tileheight),layerOffsetX.push(gidInfo)),x++,x===curl.width&&(output.push(layerOffsetX),x=0,layerOffsetX=[]);i.data=output;tileLayers.push(i)}}return tileLayers}},function(module,exports){module.exports=function(data){data=window.atob(data);for(var len=data.length,bytes=Array(len/4),i=0;i<len;i+=4)bytes[i/4]=(data.charCodeAt(i)|data.charCodeAt(i+1)<<8|data.charCodeAt(i+
2)<<16|data.charCodeAt(i+3)<<24)>>>0;return bytes}},function(module,exports,__webpack_require__){var Tileset=__webpack_require__(121),ImageCollection=__webpack_require__(572),ParseObject=__webpack_require__(256);module.exports=function(json){for(var tilesets=[],imageCollections=[],lastSet=null,stringID,i=0;i<json.tilesets.length;i++){var set=json.tilesets[i];if(set.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(set.image){var newSet=new Tileset(set.name,
set.firstgid,set.tilewidth,set.tileheight,set.margin,set.spacing);if(1<json.version){if(Array.isArray(set.tiles)){for(var tiles={},props={},t=0;t<set.tiles.length;t++){var tile=set.tiles[t];if(tile.properties){var newPropData={};tile.properties.forEach(function(propData){newPropData[propData.name]=propData.value});props[tile.id]=newPropData}if(tile.objectgroup&&(tiles[tile.id]={objectgroup:tile.objectgroup},tile.objectgroup.objects)){var parsedObjects2=tile.objectgroup.objects.map(function(obj){return ParseObject(obj)});
tiles[tile.id].objectgroup.objects=parsedObjects2}tile.animation&&(tiles.hasOwnProperty(tile.id)?tiles[tile.id].animation=tile.animation:tiles[tile.id]={animation:tile.animation})}newSet.tileData=tiles;newSet.tileProperties=props}}else if(set.tileproperties&&(newSet.tileProperties=set.tileproperties),set.tiles)for(stringID in newSet.tileData=set.tiles,newSet.tileData)(t=newSet.tileData[stringID].objectgroup)&&t.objects&&(t=t.objects.map(function(obj){return ParseObject(obj)}),newSet.tileData[stringID].objectgroup.objects=
t);newSet.updateTileData(set.imagewidth,set.imageheight);tilesets.push(newSet)}else{newSet=new ImageCollection(set.name,set.firstgid,set.tilewidth,set.tileheight,set.margin,set.spacing,set.properties);for(t=tiles=0;t<set.tiles.length;t++)tile=set.tiles[t],props=tile.image,tile=parseInt(tile.id,10),newSet.addImage(set.firstgid+tile,props),tiles=Math.max(tile,tiles);newSet.maxId=tiles;imageCollections.push(newSet)}lastSet&&(lastSet.lastgid=set.firstgid-1);lastSet=set}return{tilesets:tilesets,imageCollections:imageCollections}}},
function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(name,firstgid,width,height,margin,spacing,properties){if(void 0===width||0>=width)width=32;if(void 0===height||0>=height)height=32;void 0===margin&&(margin=0);void 0===spacing&&(spacing=0);this.name=name;this.firstgid=firstgid|0;this.imageWidth=width|0;this.imageHeight=height|0;this.imageMargin=margin|0;this.imageSpacing=spacing|0;this.properties=properties||{};this.images=[];this.total=0},containsImageIndex:function(imageIndex){return imageIndex>=
this.firstgid&&imageIndex<this.firstgid+this.total},addImage:function(gid,image){this.images.push({gid:gid,image:image});this.total++;return this}});module.exports=exports},function(module,exports,__webpack_require__){var Formats=__webpack_require__(39),MapData=__webpack_require__(120),ParseTileLayers=__webpack_require__(574),ParseTilesets=__webpack_require__(575);module.exports=function(name,json,insertNull){if(0===json.layer.length)return console.warn("No layers found in the Weltmeister map: "+
name),null;for(var width=0,height=0,i=0;i<json.layer.length;i++)json.layer[i].width>width&&(width=json.layer[i].width),json.layer[i].height>height&&(height=json.layer[i].height);name=new MapData({width:width,height:height,name:name,tileWidth:json.layer[0].tilesize,tileHeight:json.layer[0].tilesize,format:Formats.WELTMEISTER});name.layers=ParseTileLayers(json,insertNull);name.tilesets=ParseTilesets(json);return name}},function(module,exports,__webpack_require__){var LayerData=__webpack_require__(119),
Tile=__webpack_require__(83);module.exports=function(json,insertNull){for(var tileLayers=[],i=0;i<json.layer.length;i++){for(var layer=json.layer[i],layerData=new LayerData({name:layer.name,width:layer.width,height:layer.height,tileWidth:layer.tilesize,tileHeight:layer.tilesize,visible:1===layer.visible}),row=[],tileGrid=[],y=0;y<layer.data.length;y++){for(var x=0;x<layer.data[y].length;x++){var index=layer.data[y][x]-1;index=-1<index?new Tile(layerData,index,x,y,layer.tilesize,layer.tilesize):insertNull?
null:new Tile(layerData,-1,x,y,layer.tilesize,layer.tilesize);row.push(index)}tileGrid.push(row);row=[]}layerData.data=tileGrid;tileLayers.push(layerData)}return tileLayers}},function(module,exports,__webpack_require__){var Tileset=__webpack_require__(121);module.exports=function(json){for(var tilesets=[],tilesetsNames=[],i=0;i<json.layer.length;i++){var layer=json.layer[i],tilesetName=layer.tilesetName;""!==tilesetName&&-1===tilesetsNames.indexOf(tilesetName)&&(tilesetsNames.push(tilesetName),tilesets.push(new Tileset(tilesetName,
0,layer.tilesize,layer.tilesize,0,0)))}return tilesets}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var DegToRad=__webpack_require__(35),Formats=__webpack_require__(39),GetFastValue=__webpack_require__(2),LayerData=__webpack_require__(119),ORIENTATION=__webpack_require__(29),Rotate=__webpack_require__(356),SpliceOne=__webpack_require__(74),Sprite=__webpack_require__(73),Tile=__webpack_require__(83),TilemapComponents=__webpack_require__(247),TilemapLayer=__webpack_require__(577),
Tileset=__webpack_require__(121);__webpack_require__=new exports({initialize:function(scene,mapData){this.scene=scene;this.tileWidth=mapData.tileWidth;this.tileHeight=mapData.tileHeight;this.width=mapData.width;this.height=mapData.height;this.orientation=mapData.orientation;this.renderOrder=mapData.renderOrder;this.format=mapData.format;this.version=mapData.version;this.properties=mapData.properties;this.widthInPixels=mapData.widthInPixels;this.heightInPixels=mapData.heightInPixels;this.imageCollections=
mapData.imageCollections;this.images=mapData.images;this.layers=mapData.layers;this.tilesets=mapData.tilesets;this.objects=mapData.objects;this.currentLayerIndex=0;this.hexSideLength=mapData.hexSideLength;scene=this.orientation;this._convert={WorldToTileXY:TilemapComponents.GetWorldToTileXYFunction(scene),WorldToTileX:TilemapComponents.GetWorldToTileXFunction(scene),WorldToTileY:TilemapComponents.GetWorldToTileYFunction(scene),TileToWorldXY:TilemapComponents.GetTileToWorldXYFunction(scene),TileToWorldX:TilemapComponents.GetTileToWorldXFunction(scene),
TileToWorldY:TilemapComponents.GetTileToWorldYFunction(scene)}},createBlankDynamicLayer:function(name,tileset,x,y,width,height,tileWidth,tileHeight){console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer");return this.createBlankLayer(name,tileset,x,y,width,height,tileWidth,tileHeight)},createDynamicLayer:function(layerID,tileset,x,y){console.warn("createDynamicLayer is deprecated. Use createLayer");return this.createLayer(layerID,tileset,x,y)},createStaticLayer:function(layerID,
tileset,x,y){console.warn("createStaticLayer is deprecated. Use createLayer");return this.createLayer(layerID,tileset,x,y)},setRenderOrder:function(renderOrder){var orders=["right-down","left-down","right-up","left-up"];"number"===typeof renderOrder&&(renderOrder=orders[renderOrder]);-1<orders.indexOf(renderOrder)&&(this.renderOrder=renderOrder);return this},addTilesetImage:function(tilesetName,key,tileWidth,tileHeight,tileMargin,tileSpacing,gid){if(void 0===tilesetName)return null;if(void 0===key||
null===key)key=tilesetName;if(!this.scene.sys.textures.exists(key))return console.warn("Invalid Tileset Image: "+key),null;key=this.scene.sys.textures.get(key);var index=this.getTilesetIndex(tilesetName);if(null===index&&this.format===Formats.TILED_JSON)return console.warn("No data found for Tileset: "+tilesetName),null;if(index=this.tilesets[index])return index.setTileSize(tileWidth,tileHeight),index.setSpacing(tileMargin,tileSpacing),index.setImage(key),index;void 0===tileWidth&&(tileWidth=this.tileWidth);
void 0===tileHeight&&(tileHeight=this.tileHeight);void 0===tileMargin&&(tileMargin=0);void 0===tileSpacing&&(tileSpacing=0);void 0===gid&&(gid=0);index=new Tileset(tilesetName,gid,tileWidth,tileHeight,tileMargin,tileSpacing);index.setImage(key);this.tilesets.push(index);return index},copy:function(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces,layer){layer=this.getLayer(layer);return null!==layer?(TilemapComponents.Copy(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces,
layer),this):null},createBlankLayer:function(name,tileset,x,y,width,height,tileWidth,tileHeight){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=this.width);void 0===height&&(height=this.height);void 0===tileWidth&&(tileWidth=this.tileWidth);void 0===tileHeight&&(tileHeight=this.tileHeight);if(null!==this.getLayerIndex(name))return console.warn("Invalid Tilemap Layer ID: "+name),null;name=new LayerData({name:name,tileWidth:tileWidth,tileHeight:tileHeight,width:width,height:height,orientation:this.orientation});
for(var row,tileY=0;tileY<height;tileY++){row=[];for(var tileX=0;tileX<width;tileX++)row.push(new Tile(name,-1,tileX,tileY,tileWidth,tileHeight,this.tileWidth,this.tileHeight));name.data.push(row)}this.layers.push(name);this.currentLayerIndex=this.layers.length-1;tileset=new TilemapLayer(this.scene,this,this.currentLayerIndex,tileset,x,y);tileset.setRenderOrder(this.renderOrder);this.scene.sys.displayList.add(tileset);return tileset},createLayer:function(layerID,tileset,x,y){var index=this.getLayerIndex(layerID);
if(null===index)return console.warn("Invalid Tilemap Layer ID: "+layerID),"string"===typeof layerID&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;var layerData=this.layers[index];if(layerData.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+layerID),null;this.currentLayerIndex=index;void 0===x&&(x=layerData.x);void 0===y&&(y=layerData.y);layerID=new TilemapLayer(this.scene,this,index,tileset,x,y);layerID.setRenderOrder(this.renderOrder);
this.scene.sys.displayList.add(layerID);return layerID},createFromObjects:function(objectLayerName,config){var results=[],objectLayer=this.getObjectLayer(objectLayerName);if(!objectLayer)return console.warn("createFromObjects: Invalid objectLayerName given: "+objectLayerName),results;Array.isArray(config)||(config=[config]);objectLayerName=objectLayer.objects;for(objectLayer=0;objectLayer<config.length;objectLayer++){for(var singleConfig=config[objectLayer],id=GetFastValue(singleConfig,"id",null),
gid=GetFastValue(singleConfig,"gid",null),name=GetFastValue(singleConfig,"name",null),obj,toConvert=[],s=0;s<objectLayerName.length;s++)obj=objectLayerName[s],(null===id&&null===gid&&null===name||null!==id&&obj.id===id||null!==gid&&obj.gid===gid||null!==name&&obj.name===name)&&toConvert.push(obj);id=GetFastValue(singleConfig,"classType",Sprite);gid=GetFastValue(singleConfig,"scene",this.scene);name=GetFastValue(singleConfig,"container",null);s=GetFastValue(singleConfig,"key",null);singleConfig=GetFastValue(singleConfig,
"frame",null);for(var i=0;i<toConvert.length;i++){obj=toConvert[i];var sprite=new id(gid);sprite.setName(obj.name);sprite.setPosition(obj.x,obj.y);sprite.setTexture(s,singleConfig);obj.width&&(sprite.displayWidth=obj.width);obj.height&&(sprite.displayHeight=obj.height);var offset={x:sprite.originX*obj.width,y:(sprite.originY-1)*obj.height};if(obj.rotation){var angle=DegToRad(obj.rotation);Rotate(offset,angle);sprite.rotation=angle}sprite.x+=offset.x;sprite.y+=offset.y;void 0===obj.flippedHorizontal&&
void 0===obj.flippedVertical||sprite.setFlip(obj.flippedHorizontal,obj.flippedVertical);obj.visible||(sprite.visible=!1);for(var key in obj.properties)void 0!==sprite[key]?sprite[key]=obj.properties[key]:sprite.setData(key,obj.properties[key]);name?name.add(sprite):gid.add.existing(sprite);results.push(sprite)}}return results},createFromTiles:function(indexes,replacements,spriteConfig,scene,camera,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.CreateFromTiles(indexes,
replacements,spriteConfig,scene,camera,layer)},fill:function(index,tileX,tileY,width,height,recalculateFaces,layer){void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.Fill(index,tileX,tileY,width,height,recalculateFaces,layer);return this},filterObjects:function(objectLayer,callback,context){if("string"===typeof objectLayer){var name=objectLayer;objectLayer=this.getObjectLayer(objectLayer);if(!objectLayer)return console.warn("No object layer found with the name: "+
name),null}return objectLayer.objects.filter(callback,context)},filterTiles:function(callback,context,tileX,tileY,width,height,filteringOptions,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.FilterTiles(callback,context,tileX,tileY,width,height,filteringOptions,layer)},findByIndex:function(findIndex,skip,reverse,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.FindByIndex(findIndex,skip,reverse,layer)},findObject:function(objectLayer,callback,
context){if("string"===typeof objectLayer){var name=objectLayer;objectLayer=this.getObjectLayer(objectLayer);if(!objectLayer)return console.warn("No object layer found with the name: "+name),null}return objectLayer.objects.find(callback,context)||null},findTile:function(callback,context,tileX,tileY,width,height,filteringOptions,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.FindTile(callback,context,tileX,tileY,width,height,filteringOptions,layer)},forEachTile:function(callback,
context,tileX,tileY,width,height,filteringOptions,layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.ForEachTile(callback,context,tileX,tileY,width,height,filteringOptions,layer);return this},getImageIndex:function(name){return this.getIndex(this.images,name)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(image){return image.name}):[]},getIndex:function(location,name){for(var i=0;i<location.length;i++)if(location[i].name===
name)return i;return null},getLayer:function(layer){layer=this.getLayerIndex(layer);return null!==layer?this.layers[layer]:null},getObjectLayer:function(name){name=this.getIndex(this.objects,name);return null!==name?this.objects[name]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(object){return object.name}):[]},getLayerIndex:function(layer){return void 0===layer?this.currentLayerIndex:"string"===typeof layer?this.getLayerIndexByName(layer):
"number"===typeof layer&&layer<this.layers.length?layer:layer instanceof TilemapLayer?layer.layerIndex:null},getLayerIndexByName:function(name){return this.getIndex(this.layers,name)},getTileAt:function(tileX,tileY,nonNull,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.GetTileAt(tileX,tileY,nonNull,layer)},getTileAtWorldXY:function(worldX,worldY,nonNull,camera,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.GetTileAtWorldXY(worldX,worldY,
nonNull,camera,layer)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(layer){return layer.name}):[]},getTilesWithin:function(tileX,tileY,width,height,filteringOptions,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.GetTilesWithin(tileX,tileY,width,height,filteringOptions,layer)},getTilesWithinShape:function(shape,filteringOptions,camera,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.GetTilesWithinShape(shape,
filteringOptions,camera,layer)},getTilesWithinWorldXY:function(worldX,worldY,width,height,filteringOptions,camera,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.GetTilesWithinWorldXY(worldX,worldY,width,height,filteringOptions,camera,layer)},getTileset:function(name){name=this.getIndex(this.tilesets,name);return null!==name?this.tilesets[name]:null},getTilesetIndex:function(name){return this.getIndex(this.tilesets,name)},hasTileAt:function(tileX,tileY,layer){layer=this.getLayer(layer);
return null===layer?null:TilemapComponents.HasTileAt(tileX,tileY,layer)},hasTileAtWorldXY:function(worldX,worldY,camera,layer){layer=this.getLayer(layer);return null===layer?null:TilemapComponents.HasTileAtWorldXY(worldX,worldY,camera,layer)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(layer){this.setLayer(layer)}},putTileAt:function(tile,tileX,tileY,recalculateFaces,layer){void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);return null===
layer?null:TilemapComponents.PutTileAt(tile,tileX,tileY,recalculateFaces,layer)},putTileAtWorldXY:function(tile,worldX,worldY,recalculateFaces,camera,layer){void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);return null===layer?null:TilemapComponents.PutTileAtWorldXY(tile,worldX,worldY,recalculateFaces,camera,layer)},putTilesAt:function(tilesArray,tileX,tileY,recalculateFaces,layer){void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);if(null===layer)return null;
TilemapComponents.PutTilesAt(tilesArray,tileX,tileY,recalculateFaces,layer);return this},randomize:function(tileX,tileY,width,height,indexes,layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.Randomize(tileX,tileY,width,height,indexes,layer);return this},calculateFacesAt:function(tileX,tileY,layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.CalculateFacesAt(tileX,tileY,layer);return this},calculateFacesWithin:function(tileX,tileY,width,height,
layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.CalculateFacesWithin(tileX,tileY,width,height,layer);return this},removeLayer:function(layer){layer=this.getLayerIndex(layer);if(null!==layer){SpliceOne(this.layers,layer);for(var i=layer;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;this.currentLayerIndex===layer&&(this.currentLayerIndex=0);return this}return null},destroyLayer:function(layer){var index=this.getLayerIndex(layer);
return null!==index?(layer=this.layers[index],layer.destroy(),SpliceOne(this.layers,index),this.currentLayerIndex===index&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var layers=this.layers,i=0;i<layers.length;i++)layers[i].tilemapLayer&&layers[i].tilemapLayer.destroy(!1);this.currentLayerIndex=layers.length=0;return this},removeTile:function(tiles,replaceIndex,recalculateFaces){void 0===replaceIndex&&(replaceIndex=-1);void 0===recalculateFaces&&(recalculateFaces=!0);var removed=
[];Array.isArray(tiles)||(tiles=[tiles]);for(var i=0;i<tiles.length;i++){var tile=tiles[i];removed.push(this.removeTileAt(tile.x,tile.y,!0,recalculateFaces,tile.tilemapLayer));-1<replaceIndex&&this.putTileAt(replaceIndex,tile.x,tile.y,recalculateFaces,tile.tilemapLayer)}return removed},removeTileAt:function(tileX,tileY,replaceWithNull,recalculateFaces,layer){void 0===replaceWithNull&&(replaceWithNull=!0);void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);return null===layer?
null:TilemapComponents.RemoveTileAt(tileX,tileY,replaceWithNull,recalculateFaces,layer)},removeTileAtWorldXY:function(worldX,worldY,replaceWithNull,recalculateFaces,camera,layer){void 0===replaceWithNull&&(replaceWithNull=!0);void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);return null===layer?null:TilemapComponents.RemoveTileAtWorldXY(worldX,worldY,replaceWithNull,recalculateFaces,camera,layer)},renderDebug:function(graphics,styleConfig,layer){layer=this.getLayer(layer);
if(null===layer)return null;this.orientation===ORIENTATION.ORTHOGONAL&&TilemapComponents.RenderDebug(graphics,styleConfig,layer);return this},renderDebugFull:function(graphics,styleConfig){for(var layers=this.layers,i=0;i<layers.length;i++)TilemapComponents.RenderDebug(graphics,styleConfig,layers[i]);return this},replaceByIndex:function(findIndex,newIndex,tileX,tileY,width,height,layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.ReplaceByIndex(findIndex,newIndex,tileX,
tileY,width,height,layer);return this},setCollision:function(indexes,collides,recalculateFaces,layer,updateLayer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);void 0===updateLayer&&(updateLayer=!0);layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.SetCollision(indexes,collides,recalculateFaces,layer,updateLayer);return this},setCollisionBetween:function(start,stop,collides,recalculateFaces,layer){void 0===collides&&(collides=!0);void 0===
recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.SetCollisionBetween(start,stop,collides,recalculateFaces,layer);return this},setCollisionByProperty:function(properties,collides,recalculateFaces,layer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.SetCollisionByProperty(properties,collides,recalculateFaces,layer);return this},
setCollisionByExclusion:function(indexes,collides,recalculateFaces,layer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.SetCollisionByExclusion(indexes,collides,recalculateFaces,layer);return this},setCollisionFromCollisionGroup:function(collides,recalculateFaces,layer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);layer=this.getLayer(layer);if(null===layer)return null;
TilemapComponents.SetCollisionFromCollisionGroup(collides,recalculateFaces,layer);return this},setTileIndexCallback:function(indexes,callback,callbackContext,layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.SetTileIndexCallback(indexes,callback,callbackContext,layer);return this},setTileLocationCallback:function(tileX,tileY,width,height,callback,callbackContext,layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.SetTileLocationCallback(tileX,
tileY,width,height,callback,callbackContext,layer);return this},setLayer:function(layer){layer=this.getLayerIndex(layer);null!==layer&&(this.currentLayerIndex=layer);return this},setBaseTileSize:function(tileWidth,tileHeight){this.tileWidth=tileWidth;this.tileHeight=tileHeight;this.widthInPixels=this.width*tileWidth;this.heightInPixels=this.height*tileHeight;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=tileWidth;this.layers[i].baseTileHeight=tileHeight;for(var mapData=this.layers[i].data,
mapWidth=this.layers[i].width,mapHeight=this.layers[i].height,row=0;row<mapHeight;row++)for(var col=0;col<mapWidth;col++){var tile=mapData[row][col];null!==tile&&tile.setSize(void 0,void 0,tileWidth,tileHeight)}}return this},setLayerTileSize:function(tileWidth,tileHeight,layer){layer=this.getLayer(layer);if(null===layer)return this;layer.tileWidth=tileWidth;layer.tileHeight=tileHeight;var mapData=layer.data,mapWidth=layer.width;layer=layer.height;for(var row=0;row<layer;row++)for(var col=0;col<mapWidth;col++){var tile=
mapData[row][col];null!==tile&&tile.setSize(tileWidth,tileHeight)}return this},shuffle:function(tileX,tileY,width,height,layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.Shuffle(tileX,tileY,width,height,layer);return this},swapByIndex:function(indexA,indexB,tileX,tileY,width,height,layer){layer=this.getLayer(layer);if(null===layer)return null;TilemapComponents.SwapByIndex(indexA,indexB,tileX,tileY,width,height,layer);return this},tileToWorldX:function(tileX,camera,layer){layer=
this.getLayer(layer);return null===layer?null:this._convert.TileToWorldX(tileX,camera,layer)},tileToWorldY:function(tileX,camera,layer){layer=this.getLayer(layer);return null===layer?null:this._convert.TileToWorldY(tileX,camera,layer)},tileToWorldXY:function(tileX,tileY,vec2,camera,layer){layer=this.getLayer(layer);return null===layer?null:this._convert.TileToWorldXY(tileX,tileY,vec2,camera,layer)},weightedRandomize:function(weightedIndexes,tileX,tileY,width,height,layer){layer=this.getLayer(layer);
if(null===layer)return null;TilemapComponents.WeightedRandomize(tileX,tileY,width,height,weightedIndexes,layer);return this},worldToTileX:function(worldX,snapToFloor,camera,layer){layer=this.getLayer(layer);return null===layer?null:this._convert.WorldToTileX(worldX,snapToFloor,camera,layer)},worldToTileY:function(worldY,snapToFloor,camera,layer){layer=this.getLayer(layer);return null===layer?null:this._convert.WorldToTileY(worldY,snapToFloor,camera,layer)},worldToTileXY:function(worldX,worldY,snapToFloor,
vec2,camera,layer){layer=this.getLayer(layer);return null===layer?null:this._convert.WorldToTileXY(worldX,worldY,snapToFloor,vec2,camera,layer)},destroy:function(){this.removeAllLayers();this.tilesets.length=0;this.objects.length=0;this.scene=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var Components=__webpack_require__(11),GameObject=__webpack_require__(15),TilemapComponents=__webpack_require__(247);__webpack_require__=__webpack_require__(1449);
__webpack_require__=new exports({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Depth,Components.Flip,Components.GetBounds,Components.Origin,Components.Pipeline,Components.Transform,Components.Visible,Components.ScrollFactor,__webpack_require__],initialize:function(scene,tilemap,layerIndex,tileset,x,y){GameObject.call(this,scene,"TilemapLayer");this.isTilemap=!0;this.tilemap=tilemap;this.layerIndex=layerIndex;this.layer=tilemap.layers[layerIndex];
this.layer.tilemapLayer=this;this.tileset=[];this.tilesDrawn=0;this.tilesTotal=this.layer.width*this.layer.height;this.culledTiles=[];this.skipCull=!1;this.cullPaddingY=this.cullPaddingX=1;this.cullCallback=TilemapComponents.GetCullTilesFunction(this.layer.orientation);this._renderOrder=0;this.gidMap=[];this.setTilesets(tileset);this.setAlpha(this.layer.alpha);this.setPosition(x,y);this.setOrigin();this.setSize(tilemap.tileWidth*this.layer.width,tilemap.tileHeight*this.layer.height);this.initPipeline()},
setTilesets:function(tilesets){var gidMap=[],setList=[],map=this.tilemap;Array.isArray(tilesets)||(tilesets=[tilesets]);for(var i=0;i<tilesets.length;i++){var tileset=tilesets[i];"string"===typeof tileset&&(tileset=map.getTileset(tileset));if(tileset){setList.push(tileset);for(var s=tileset.firstgid,t=0;t<tileset.total;t++)gidMap[s+t]=tileset}}this.gidMap=gidMap;this.tileset=setList},setRenderOrder:function(renderOrder){var orders=["right-down","left-down","right-up","left-up"];"string"===typeof renderOrder&&
(renderOrder=orders.indexOf(renderOrder));0<=renderOrder&&4>renderOrder&&(this._renderOrder=renderOrder);return this},calculateFacesAt:function(tileX,tileY){TilemapComponents.CalculateFacesAt(tileX,tileY,this.layer);return this},calculateFacesWithin:function(tileX,tileY,width,height){TilemapComponents.CalculateFacesWithin(tileX,tileY,width,height,this.layer);return this},createFromTiles:function(indexes,replacements,spriteConfig,scene,camera){return TilemapComponents.CreateFromTiles(indexes,replacements,
spriteConfig,scene,camera,this.layer)},cull:function(camera){return this.cullCallback(this.layer,camera,this.culledTiles,this._renderOrder)},copy:function(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces){TilemapComponents.Copy(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces,this.layer);return this},fill:function(index,tileX,tileY,width,height,recalculateFaces){TilemapComponents.Fill(index,tileX,tileY,width,height,recalculateFaces,this.layer);return this},filterTiles:function(callback,
context,tileX,tileY,width,height,filteringOptions){return TilemapComponents.FilterTiles(callback,context,tileX,tileY,width,height,filteringOptions,this.layer)},findByIndex:function(findIndex,skip,reverse){return TilemapComponents.FindByIndex(findIndex,skip,reverse,this.layer)},findTile:function(callback,context,tileX,tileY,width,height,filteringOptions){return TilemapComponents.FindTile(callback,context,tileX,tileY,width,height,filteringOptions,this.layer)},forEachTile:function(callback,context,tileX,
tileY,width,height,filteringOptions){TilemapComponents.ForEachTile(callback,context,tileX,tileY,width,height,filteringOptions,this.layer);return this},getTileAt:function(tileX,tileY,nonNull){return TilemapComponents.GetTileAt(tileX,tileY,nonNull,this.layer)},getTileAtWorldXY:function(worldX,worldY,nonNull,camera){return TilemapComponents.GetTileAtWorldXY(worldX,worldY,nonNull,camera,this.layer)},getTilesWithin:function(tileX,tileY,width,height,filteringOptions){return TilemapComponents.GetTilesWithin(tileX,
tileY,width,height,filteringOptions,this.layer)},getTilesWithinShape:function(shape,filteringOptions,camera){return TilemapComponents.GetTilesWithinShape(shape,filteringOptions,camera,this.layer)},getTilesWithinWorldXY:function(worldX,worldY,width,height,filteringOptions,camera){return TilemapComponents.GetTilesWithinWorldXY(worldX,worldY,width,height,filteringOptions,camera,this.layer)},hasTileAt:function(tileX,tileY){return TilemapComponents.HasTileAt(tileX,tileY,this.layer)},hasTileAtWorldXY:function(worldX,
worldY,camera){return TilemapComponents.HasTileAtWorldXY(worldX,worldY,camera,this.layer)},putTileAt:function(tile,tileX,tileY,recalculateFaces){return TilemapComponents.PutTileAt(tile,tileX,tileY,recalculateFaces,this.layer)},putTileAtWorldXY:function(tile,worldX,worldY,recalculateFaces,camera){return TilemapComponents.PutTileAtWorldXY(tile,worldX,worldY,recalculateFaces,camera,this.layer)},putTilesAt:function(tilesArray,tileX,tileY,recalculateFaces){TilemapComponents.PutTilesAt(tilesArray,tileX,
tileY,recalculateFaces,this.layer);return this},randomize:function(tileX,tileY,width,height,indexes){TilemapComponents.Randomize(tileX,tileY,width,height,indexes,this.layer);return this},removeTileAt:function(tileX,tileY,replaceWithNull,recalculateFaces){return TilemapComponents.RemoveTileAt(tileX,tileY,replaceWithNull,recalculateFaces,this.layer)},removeTileAtWorldXY:function(worldX,worldY,replaceWithNull,recalculateFaces,camera){return TilemapComponents.RemoveTileAtWorldXY(worldX,worldY,replaceWithNull,
recalculateFaces,camera,this.layer)},renderDebug:function(graphics,styleConfig){TilemapComponents.RenderDebug(graphics,styleConfig,this.layer);return this},replaceByIndex:function(findIndex,newIndex,tileX,tileY,width,height){TilemapComponents.ReplaceByIndex(findIndex,newIndex,tileX,tileY,width,height,this.layer);return this},setSkipCull:function(value){void 0===value&&(value=!0);this.skipCull=value;return this},setCullPadding:function(paddingX,paddingY){void 0===paddingX&&(paddingX=1);void 0===paddingY&&
(paddingY=1);this.cullPaddingX=paddingX;this.cullPaddingY=paddingY;return this},setCollision:function(indexes,collides,recalculateFaces,updateLayer){TilemapComponents.SetCollision(indexes,collides,recalculateFaces,this.layer,updateLayer);return this},setCollisionBetween:function(start,stop,collides,recalculateFaces){TilemapComponents.SetCollisionBetween(start,stop,collides,recalculateFaces,this.layer);return this},setCollisionByProperty:function(properties,collides,recalculateFaces){TilemapComponents.SetCollisionByProperty(properties,
collides,recalculateFaces,this.layer);return this},setCollisionByExclusion:function(indexes,collides,recalculateFaces){TilemapComponents.SetCollisionByExclusion(indexes,collides,recalculateFaces,this.layer);return this},setCollisionFromCollisionGroup:function(collides,recalculateFaces){TilemapComponents.SetCollisionFromCollisionGroup(collides,recalculateFaces,this.layer);return this},setTileIndexCallback:function(indexes,callback,callbackContext){TilemapComponents.SetTileIndexCallback(indexes,callback,
callbackContext,this.layer);return this},setTileLocationCallback:function(tileX,tileY,width,height,callback,callbackContext){TilemapComponents.SetTileLocationCallback(tileX,tileY,width,height,callback,callbackContext,this.layer);return this},shuffle:function(tileX,tileY,width,height){TilemapComponents.Shuffle(tileX,tileY,width,height,this.layer);return this},swapByIndex:function(indexA,indexB,tileX,tileY,width,height){TilemapComponents.SwapByIndex(indexA,indexB,tileX,tileY,width,height,this.layer);
return this},tileToWorldX:function(tileX,camera){return this.tilemap.tileToWorldX(tileX,camera,this)},tileToWorldY:function(tileY,camera){return this.tilemap.tileToWorldY(tileY,camera,this)},tileToWorldXY:function(tileX,tileY,point,camera){return this.tilemap.tileToWorldXY(tileX,tileY,point,camera,this)},weightedRandomize:function(weightedIndexes,tileX,tileY,width,height){TilemapComponents.WeightedRandomize(tileX,tileY,width,height,weightedIndexes,this.layer);return this},worldToTileX:function(worldX,
snapToFloor,camera){return this.tilemap.worldToTileX(worldX,snapToFloor,camera,this)},worldToTileY:function(worldY,snapToFloor,camera){return this.tilemap.worldToTileY(worldY,snapToFloor,camera,this)},worldToTileXY:function(worldX,worldY,snapToFloor,point,camera){return this.tilemap.worldToTileXY(worldX,worldY,snapToFloor,point,camera,this)},destroy:function(removeFromTilemap){void 0===removeFromTilemap&&(removeFromTilemap=!0);this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=
void 0),removeFromTilemap&&this.tilemap.removeLayer(this),this.layer=this.tilemap=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],GameObject.prototype.destroy.call(this))}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetFastValue=__webpack_require__(2);__webpack_require__=new exports({initialize:function(config){this.repeatCount=this.repeat=this.delay=0;this.loop=!1;this.timeScale=1;this.elapsed=
this.startAt=0;this.hasDispatched=this.paused=!1;this.reset(config)},reset:function(config){this.delay=GetFastValue(config,"delay",0);this.repeat=GetFastValue(config,"repeat",0);this.loop=GetFastValue(config,"loop",!1);this.callback=GetFastValue(config,"callback",void 0);this.callbackScope=GetFastValue(config,"callbackScope",this.callback);this.args=GetFastValue(config,"args",[]);this.timeScale=GetFastValue(config,"timeScale",1);this.startAt=GetFastValue(config,"startAt",0);this.paused=GetFastValue(config,
"paused",!1);this.elapsed=this.startAt;this.hasDispatched=!1;this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat;return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){return 0<this.repeat?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},
getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(dispatchCallback){void 0===dispatchCallback&&(dispatchCallback=!1);this.elapsed=this.delay;this.hasDispatched=!dispatchCallback;this.repeatCount=0},destroy:function(){this.callbackScope=this.callback=void 0;
this.args=[]}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var RESERVED=__webpack_require__(1458);module.exports=function(config){var key,keys=[];if(config.hasOwnProperty("props"))for(key in config.props)"_"!==key.substr(0,1)&&keys.push({key:key,value:config.props[key]});else for(key in config)-1===RESERVED.indexOf(key)&&"_"!==key.substr(0,1)&&keys.push({key:key,value:config[key]});return keys}},function(module,exports,__webpack_require__){var GetValue=__webpack_require__(6);
module.exports=function(config){config=GetValue(config,"tweens",null);if(null===config)return[];"function"===typeof config&&(config=config.call());Array.isArray(config)||(config=[config]);return config}},function(module,exports,__webpack_require__){var Defaults=__webpack_require__(261),GetAdvancedValue=__webpack_require__(13),GetBoolean=__webpack_require__(96),GetEaseFunction=__webpack_require__(80),GetNewValue=__webpack_require__(160),GetValue=__webpack_require__(6),GetValueOp=__webpack_require__(260),
Tween=__webpack_require__(262),TweenData=__webpack_require__(264);module.exports=function(parent,config,defaults){void 0===defaults&&(defaults=Defaults);var from=GetValue(config,"from",0),to=GetValue(config,"to",1),targets=[{value:from}],delay=GetNewValue(config,"delay",defaults.delay),duration=GetNewValue(config,"duration",defaults.duration),easeParams=GetValue(config,"easeParams",defaults.easeParams);easeParams=GetEaseFunction(GetValue(config,"ease",defaults.ease),easeParams);var hold=GetNewValue(config,
"hold",defaults.hold),repeat=GetNewValue(config,"repeat",defaults.repeat),repeatDelay=GetNewValue(config,"repeatDelay",defaults.repeatDelay),yoyo=GetBoolean(config,"yoyo",defaults.yoyo);defaults=[];var ops=GetValueOp("value",to);delay=TweenData(targets[0],0,"value",ops.getEnd,ops.getStart,ops.getActive,easeParams,delay,duration,yoyo,hold,repeat,repeatDelay,!1,!1);delay.start=from;delay.current=from;delay.to=to;defaults.push(delay);parent=new Tween(parent,defaults,targets);parent.offset=GetAdvancedValue(config,
"offset",null);parent.completeDelay=GetAdvancedValue(config,"completeDelay",0);parent.loop=Math.round(GetAdvancedValue(config,"loop",0));parent.loopDelay=Math.round(GetAdvancedValue(config,"loopDelay",0));parent.paused=GetBoolean(config,"paused",!1);parent.useFrames=GetBoolean(config,"useFrames",!1);from=GetValue(config,"callbackScope",parent);to=[parent,null];targets=Tween.TYPES;for(delay=0;delay<targets.length;delay++)if(duration=targets[delay],easeParams=GetValue(config,duration,!1))hold=GetValue(config,
duration+"Scope",from),repeat=GetValue(config,duration+"Params",[]),parent.setCallback(duration,easeParams,to.concat(repeat),hold);return parent}},function(module,exports,__webpack_require__){var GetEaseFunction=__webpack_require__(80),GetValue=__webpack_require__(6),MATH_CONST=__webpack_require__(14);module.exports=function(value$jscomp$0,options){void 0===options&&(options={});var start=GetValue(options,"start",0),ease=GetValue(options,"ease",null),grid=GetValue(options,"grid",null),from=GetValue(options,
"from",0),fromFirst="first"===from,fromCenter="center"===from,fromLast="last"===from,fromValue="number"===typeof from,isRange=Array.isArray(value$jscomp$0),value1=isRange?parseFloat(value$jscomp$0[0]):parseFloat(value$jscomp$0),value2=isRange?parseFloat(value$jscomp$0[1]):0,maxValue=Math.max(value1,value2);isRange&&(start+=value1);if(grid){var gridWidth=grid[0],gridHeight=grid[1],distanceX=options=value$jscomp$0=0,distanceY=0,gridValues=[];fromLast?(value$jscomp$0=gridWidth-1,options=gridHeight-1):
fromValue?(value$jscomp$0=from%gridWidth,options=Math.floor(from/gridWidth)):fromCenter&&(value$jscomp$0=(gridWidth-1)/2,options=(gridHeight-1)/2);for(var gridMax=MATH_CONST.MIN_SAFE_INTEGER,toY=0;toY<gridHeight;toY++){gridValues[toY]=[];for(var toX=0;toX<gridWidth;toX++)distanceX=value$jscomp$0-toX,distanceY=options-toY,distanceX=Math.sqrt(distanceX*distanceX+distanceY*distanceY),distanceX>gridMax&&(gridMax=distanceX),gridValues[toY][toX]=distanceX}}var easeFunction=ease?GetEaseFunction(ease):null;
return grid?function(target,key,value,index){target=0;key=index%gridWidth;index=Math.floor(index/gridWidth);0<=key&&key<gridWidth&&0<=index&&index<gridHeight&&(target=gridValues[index][key]);isRange?(index=value2-value1,index=easeFunction?target/gridMax*index*easeFunction(target/gridMax):target/gridMax*index):index=easeFunction?target*value1*easeFunction(target/gridMax):target*value1;return index+start}:function(target,key,value,index,total){total--;var fromIndex;fromFirst?fromIndex=index:fromCenter?
fromIndex=Math.abs(total/2-index):fromLast?fromIndex=total-index:fromValue&&(fromIndex=Math.abs(from-index));isRange?(target=fromCenter?(value2-value1)/total*2*fromIndex:(value2-value1)/total*fromIndex,total=easeFunction?target*easeFunction(fromIndex/total):target):total=easeFunction?total*maxValue*easeFunction(fromIndex/total):fromIndex*value1;return total+start}}},function(module,exports,__webpack_require__){var Clone=__webpack_require__(77),Defaults=__webpack_require__(261),GetAdvancedValue=__webpack_require__(13),
GetBoolean=__webpack_require__(96),GetEaseFunction=__webpack_require__(80),GetNewValue=__webpack_require__(160),GetTargets=__webpack_require__(259),GetTweens=__webpack_require__(580),GetValue=__webpack_require__(6),Timeline=__webpack_require__(584),TweenBuilder=__webpack_require__(161);module.exports=function(manager,config){manager=new Timeline(manager);manager.completeDelay=GetAdvancedValue(config,"completeDelay",0);manager.loop=Math.round(GetAdvancedValue(config,"loop",0));manager.loopDelay=Math.round(GetAdvancedValue(config,
"loopDelay",0));manager.paused=GetBoolean(config,"paused",!1);manager.useFrames=GetBoolean(config,"useFrames",!1);var scope=GetValue(config,"callbackScope",manager),timelineArray=[manager],onStart=GetValue(config,"onStart",!1);if(onStart){var onStartScope=GetValue(config,"onStartScope",scope),onStartParams=GetValue(config,"onStartParams",[]);manager.setCallback("onStart",onStart,timelineArray.concat(onStartParams),onStartScope)}if(onStart=GetValue(config,"onUpdate",!1))onStartScope=GetValue(config,
"onUpdateScope",scope),onStartParams=GetValue(config,"onUpdateParams",[]),manager.setCallback("onUpdate",onStart,timelineArray.concat(onStartParams),onStartScope);if(onStart=GetValue(config,"onLoop",!1))onStartScope=GetValue(config,"onLoopScope",scope),onStartParams=GetValue(config,"onLoopParams",[]),manager.setCallback("onLoop",onStart,timelineArray.concat(onStartParams),onStartScope);if(onStart=GetValue(config,"onYoyo",!1))onStartScope=GetValue(config,"onYoyoScope",scope),onStartParams=GetValue(config,
"onYoyoParams",[]),manager.setCallback("onYoyo",onStart,timelineArray.concat(null,onStartParams),onStartScope);if(onStart=GetValue(config,"onComplete",!1))scope=GetValue(config,"onCompleteScope",scope),onStartScope=GetValue(config,"onCompleteParams",[]),manager.setCallback("onComplete",onStart,timelineArray.concat(onStartScope),scope);timelineArray=GetTweens(config);if(0===timelineArray.length)return manager.paused=!0,manager;scope=Clone(Defaults);scope.targets=GetTargets(config);onStart=GetAdvancedValue(config,
"totalDuration",0);scope.duration=0<onStart?Math.floor(onStart/timelineArray.length):GetNewValue(config,"duration",scope.duration);scope.delay=GetNewValue(config,"delay",scope.delay);scope.easeParams=GetValue(config,"easeParams",scope.easeParams);scope.ease=GetEaseFunction(GetValue(config,"ease",scope.ease),scope.easeParams);scope.hold=GetNewValue(config,"hold",scope.hold);scope.repeat=GetNewValue(config,"repeat",scope.repeat);scope.repeatDelay=GetNewValue(config,"repeatDelay",scope.repeatDelay);
scope.yoyo=GetBoolean(config,"yoyo",scope.yoyo);scope.flipX=GetBoolean(config,"flipX",scope.flipX);scope.flipY=GetBoolean(config,"flipY",scope.flipY);for(config=0;config<timelineArray.length;config++)manager.queue(TweenBuilder(manager,timelineArray[config],scope));return manager}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var EventEmitter=__webpack_require__(9),Events=__webpack_require__(263),TweenBuilder=__webpack_require__(161),TWEEN_CONST=__webpack_require__(97),
Timeline=new exports({Extends:EventEmitter,initialize:function(manager){EventEmitter.call(this);this.manager=manager;this.isTimeline=!0;this.data=[];this.totalData=0;this.useFrames=!1;this.timeScale=1;this.countdown=this.completeDelay=this.loopCounter=this.loopDelay=this.loop=0;this._pausedState=this.state=TWEEN_CONST.PENDING_ADD;this.paused=!1;this.totalProgress=this.totalDuration=this.progress=this.duration=this.totalElapsed=this.elapsed=0;this.callbacks={onComplete:null,onLoop:null,onStart:null,
onUpdate:null,onYoyo:null}},dispatchTimelineEvent:function(event,callback){this.emit(event,this);callback&&callback.func.apply(callback.scope,callback.params)},setTimeScale:function(value){this.timeScale=value;return this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===TWEEN_CONST.ACTIVE},add:function(config){return this.queue(TweenBuilder(this,config))},queue:function(tween){this.isPlaying()||(tween.parent=this,tween.parentIsTimeline=!0,this.data.push(tween),
this.totalData=this.data.length);return this},hasOffset:function(tween){return null!==tween.offset},isOffsetAbsolute:function(value){return"number"===typeof value},isOffsetRelative:function(value){return"string"===typeof value&&(value=value[0],"-"===value||"+"===value)?!0:!1},getRelativeOffset:function(value,base){var op=value[0];value=parseFloat(value.substr(2));switch(op){case "+":base+=value;break;case "-":base-=value}return Math.max(0,base)},calcDuration:function(){for(var prevEnd=0,totalDuration=
0,offsetDuration=0,i=0;i<this.totalData;i++){var tween=this.data[i];tween.init();this.hasOffset(tween)?this.isOffsetAbsolute(tween.offset)?(tween.calculatedOffset=tween.offset,0===tween.offset&&(offsetDuration=0)):this.isOffsetRelative(tween.offset)&&(tween.calculatedOffset=this.getRelativeOffset(tween.offset,prevEnd)):tween.calculatedOffset=offsetDuration;prevEnd=tween.totalDuration+tween.calculatedOffset;totalDuration+=tween.totalDuration;offsetDuration+=tween.totalDuration}this.duration=totalDuration;
this.loopCounter=-1===this.loop?999999999999:this.loop;this.totalDuration=0<this.loopCounter?this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.duration+this.completeDelay},init:function(){this.calcDuration();this.totalProgress=this.progress=0;return this.paused?(this.state=TWEEN_CONST.PAUSED,!1):!0},resetTweens:function(resetFromLoop){for(var i=0;i<this.totalData;i++)this.data[i].play(resetFromLoop)},setCallback:function(type,callback,params,scope){-1!==Timeline.TYPES.indexOf(type)&&
(this.callbacks[type]={func:callback,scope:scope,params:params});return this},makeActive:function(tween){return this.manager.makeActive(tween)},play:function(){this.state!==TWEEN_CONST.ACTIVE&&(this.paused?(this.paused=!1,this.manager.makeActive(this)):(this.resetTweens(!1),this.state=TWEEN_CONST.ACTIVE,this.dispatchTimelineEvent(Events.TIMELINE_START,this.callbacks.onStart)))},nextState:function(){0<this.loopCounter?(this.progress=this.elapsed=0,this.loopCounter--,this.resetTweens(!0),0<this.loopDelay?
(this.countdown=this.loopDelay,this.state=TWEEN_CONST.LOOP_DELAY):(this.state=TWEEN_CONST.ACTIVE,this.dispatchTimelineEvent(Events.TIMELINE_LOOP,this.callbacks.onLoop))):0<this.completeDelay?(this.state=TWEEN_CONST.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=TWEEN_CONST.PENDING_REMOVE,this.dispatchTimelineEvent(Events.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(timestamp,delta){if(this.state!==TWEEN_CONST.PAUSED){this.useFrames&&(delta=1*this.manager.timeScale);
delta*=this.timeScale;this.elapsed+=delta;this.progress=Math.min(this.elapsed/this.duration,1);this.totalElapsed+=delta;this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1);switch(this.state){case TWEEN_CONST.ACTIVE:for(var stillRunning=this.totalData,i=0;i<this.totalData;i++)this.data[i].update(timestamp,delta)&&stillRunning--;this.dispatchTimelineEvent(Events.TIMELINE_UPDATE,this.callbacks.onUpdate);0===stillRunning&&this.nextState();break;case TWEEN_CONST.LOOP_DELAY:this.countdown-=
delta;0>=this.countdown&&(this.state=TWEEN_CONST.ACTIVE,this.dispatchTimelineEvent(Events.TIMELINE_LOOP,this.callbacks.onLoop));break;case TWEEN_CONST.COMPLETE_DELAY:this.countdown-=delta,0>=this.countdown&&(this.state=TWEEN_CONST.PENDING_REMOVE,this.dispatchTimelineEvent(Events.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===TWEEN_CONST.PENDING_REMOVE}},stop:function(){this.state=TWEEN_CONST.PENDING_REMOVE},pause:function(){if(this.state!==TWEEN_CONST.PAUSED)return this.paused=
!0,this._pausedState=this.state,this.state=TWEEN_CONST.PAUSED,this.emit(Events.TIMELINE_PAUSE,this),this},resume:function(){this.state===TWEEN_CONST.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(Events.TIMELINE_RESUME,this));return this},hasTarget:function(target){for(var i=0;i<this.data.length;i++)if(this.data[i].hasTarget(target))return!0;return!1},destroy:function(){for(var i=0;i<this.data.length;i++)this.data[i].stop()}});Timeline.TYPES=["onStart","onUpdate","onLoop","onComplete",
"onYoyo"];module.exports=Timeline},function(module,exports,__webpack_require__){var Axes={};module.exports=Axes;var Vector=__webpack_require__(116),Common=__webpack_require__(50);(function(){Axes.fromVertices=function(vertices){for(var axes={},i=0;i<vertices.length;i++){var j=(i+1)%vertices.length;j=Vector.normalise({x:vertices[j].y-vertices[i].y,y:vertices[i].x-vertices[j].x});var gradient=0===j.y?Infinity:j.x/j.y;gradient=gradient.toFixed(3).toString();axes[gradient]=j}return Common.values(axes)};
Axes.rotate=function(axes,angle){if(0!==angle){var cos=Math.cos(angle);angle=Math.sin(angle);for(var i=0;i<axes.length;i++){var axis=axes[i];var xx=axis.x*cos-axis.y*angle;axis.y=axis.x*angle+axis.y*cos;axis.x=xx}}}})()},function(module,exports,__webpack_require__){module.exports={AFTER_ADD:__webpack_require__(1509),AFTER_REMOVE:__webpack_require__(1510),AFTER_UPDATE:__webpack_require__(1511),BEFORE_ADD:__webpack_require__(1512),BEFORE_REMOVE:__webpack_require__(1513),BEFORE_UPDATE:__webpack_require__(1514),
COLLISION_ACTIVE:__webpack_require__(1515),COLLISION_END:__webpack_require__(1516),COLLISION_START:__webpack_require__(1517),DRAG_END:__webpack_require__(1518),DRAG:__webpack_require__(1519),DRAG_START:__webpack_require__(1520),PAUSE:__webpack_require__(1521),RESUME:__webpack_require__(1522),SLEEP_END:__webpack_require__(1523),SLEEP_START:__webpack_require__(1524)}},function(module,exports,__webpack_require__){var Detector={};module.exports=Detector;var SAT=__webpack_require__(588),Pair=__webpack_require__(535),
Bounds=__webpack_require__(117);(function(){Detector.collisions=function(broadphasePairs,engine){var collisions=[],pairsTable=engine.pairs.table;engine=engine.metrics;for(var i=0;i<broadphasePairs.length;i++){var bodyA=broadphasePairs[i][0],bodyB=broadphasePairs[i][1];if((!bodyA.isStatic&&!bodyA.isSleeping||!bodyB.isStatic&&!bodyB.isSleeping)&&Detector.canCollide(bodyA.collisionFilter,bodyB.collisionFilter)&&(engine.midphaseTests+=1,Bounds.overlaps(bodyA.bounds,bodyB.bounds)))for(var j=1<bodyA.parts.length?
1:0;j<bodyA.parts.length;j++)for(var partA=bodyA.parts[j],k=1<bodyB.parts.length?1:0;k<bodyB.parts.length;k++){var partB=bodyB.parts[k];if(partA===bodyA&&partB===bodyB||Bounds.overlaps(partA.bounds,partB.bounds)){var pairId=Pair.id(partA,partB);pairId=pairsTable[pairId];partB=SAT.collides(partA,partB,pairId&&pairId.isActive?pairId.collision:null);engine.narrowphaseTests+=1;partB.reused&&(engine.narrowReuseCount+=1);partB.collided&&(collisions.push(partB),engine.narrowDetections+=1)}}}return collisions};
Detector.canCollide=function(filterA,filterB){return filterA.group===filterB.group&&0!==filterA.group?0<filterA.group:0!==(filterA.mask&filterB.category)&&0!==(filterB.mask&filterA.category)}})()},function(module,exports,__webpack_require__){var SAT={};module.exports=SAT;var Vertices=__webpack_require__(94),Vector=__webpack_require__(116);(function(){SAT.collides=function(bodyA,bodyB,previousCollision){var overlapBA=!1;if(previousCollision){var collision=bodyA.parent;overlapBA=bodyB.parent;collision=
collision.speed*collision.speed+collision.angularSpeed*collision.angularSpeed+overlapBA.speed*overlapBA.speed+overlapBA.angularSpeed*overlapBA.angularSpeed;overlapBA=previousCollision&&previousCollision.collided&&.2>collision;collision=previousCollision}else collision={collided:!1,bodyA:bodyA,bodyB:bodyB};if(previousCollision&&overlapBA){if(overlapBA=collision.axisBody,previousCollision=SAT._overlapAxes(overlapBA.vertices,(overlapBA===bodyA?bodyB:bodyA).vertices,[overlapBA.axes[previousCollision.axisNumber]]),
collision.reused=!0,0>=previousCollision.overlap)return collision.collided=!1,collision}else{previousCollision=SAT._overlapAxes(bodyA.vertices,bodyB.vertices,bodyA.axes);if(0>=previousCollision.overlap)return collision.collided=!1,collision;overlapBA=SAT._overlapAxes(bodyB.vertices,bodyA.vertices,bodyB.axes);if(0>=overlapBA.overlap)return collision.collided=!1,collision;previousCollision.overlap<overlapBA.overlap?collision.axisBody=bodyA:(previousCollision=overlapBA,collision.axisBody=bodyB);collision.axisNumber=
previousCollision.axisNumber}collision.bodyA=bodyA.id<bodyB.id?bodyA:bodyB;collision.bodyB=bodyA.id<bodyB.id?bodyB:bodyA;collision.collided=!0;collision.depth=previousCollision.overlap;collision.parentA=collision.bodyA.parent;collision.parentB=collision.bodyB.parent;bodyA=collision.bodyA;bodyB=collision.bodyB;0>Vector.dot(previousCollision.axis,Vector.sub(bodyB.position,bodyA.position))?collision.normal={x:previousCollision.axis.x,y:previousCollision.axis.y}:collision.normal={x:-previousCollision.axis.x,
y:-previousCollision.axis.y};collision.tangent=Vector.perp(collision.normal);collision.penetration=collision.penetration||{};collision.penetration.x=collision.normal.x*collision.depth;collision.penetration.y=collision.normal.y*collision.depth;previousCollision=SAT._findSupports(bodyA,bodyB,collision.normal);overlapBA=[];Vertices.contains(bodyA.vertices,previousCollision[0])&&overlapBA.push(previousCollision[0]);Vertices.contains(bodyA.vertices,previousCollision[1])&&overlapBA.push(previousCollision[1]);
2>overlapBA.length&&(bodyA=SAT._findSupports(bodyB,bodyA,Vector.neg(collision.normal)),Vertices.contains(bodyB.vertices,bodyA[0])&&overlapBA.push(bodyA[0]),2>overlapBA.length&&Vertices.contains(bodyB.vertices,bodyA[1])&&overlapBA.push(bodyA[1]));1>overlapBA.length&&(overlapBA=[previousCollision[0]]);collision.supports=overlapBA;return collision};SAT._overlapAxes=function(verticesA,verticesB,axes){for(var projectionA=Vector._temp[0],projectionB=Vector._temp[1],result={overlap:Number.MAX_VALUE},overlap,
axis,i=0;i<axes.length;i++){axis=axes[i];SAT._projectToAxis(projectionA,verticesA,axis);SAT._projectToAxis(projectionB,verticesB,axis);overlap=Math.min(projectionA.max-projectionB.min,projectionB.max-projectionA.min);if(0>=overlap){result.overlap=overlap;break}overlap<result.overlap&&(result.overlap=overlap,result.axis=axis,result.axisNumber=i)}return result};SAT._projectToAxis=function(projection,vertices,axis){for(var min=Vector.dot(vertices[0],axis),max=min,i=1;i<vertices.length;i+=1){var dot=
Vector.dot(vertices[i],axis);dot>max?max=dot:dot<min&&(min=dot)}projection.min=min;projection.max=max};SAT._findSupports=function(bodyA,bodyB,normal){var nearestDistance=Number.MAX_VALUE,vertexToBody=Vector._temp[0];bodyB=bodyB.vertices;bodyA=bodyA.position;var vertexB;for(vertexB=0;vertexB<bodyB.length;vertexB++){var vertex=bodyB[vertexB];vertexToBody.x=vertex.x-bodyA.x;vertexToBody.y=vertex.y-bodyA.y;var distance=-Vector.dot(normal,vertexToBody);if(distance<nearestDistance){nearestDistance=distance;
var vertexA=vertex}}vertex=bodyB[0<=vertexA.index-1?vertexA.index-1:bodyB.length-1];vertexToBody.x=vertex.x-bodyA.x;vertexToBody.y=vertex.y-bodyA.y;nearestDistance=-Vector.dot(normal,vertexToBody);vertexB=vertex;vertex=bodyB[(vertexA.index+1)%bodyB.length];vertexToBody.x=vertex.x-bodyA.x;vertexToBody.y=vertex.y-bodyA.y;distance=-Vector.dot(normal,vertexToBody);distance<nearestDistance&&(vertexB=vertex);return[vertexA,vertexB]}})()},function(module,exports){exports=function(){return this}();try{exports=
exports||(new Function("return this"))()}catch(e){"object"===typeof window&&(exports=window)}module.exports=exports},function(module,exports,__webpack_require__){__webpack_require__(591);__webpack_require__(592);__webpack_require__(593);__webpack_require__(594);__webpack_require__(595);__webpack_require__(596);__webpack_require__(597);__webpack_require__(598)},function(module,exports){Array.prototype.forEach||(Array.prototype.forEach=function(fun){if(void 0===this||null===this)throw new TypeError;
var t=Object(this),len=t.length>>>0;if("function"!==typeof fun)throw new TypeError;for(var thisArg=2<=arguments.length?arguments[1]:void 0,i=0;i<len;i++)i in t&&fun.call(thisArg,t[i],i,t)})},function(module,exports){Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)})},function(module,exports){(function(){function fixSetTarget(param){param&&!param.setTargetAtTime&&(param.setTargetAtTime=param.setTargetValueAtTime)}window.hasOwnProperty("webkitAudioContext")&&
!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||
(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var node=this.internal_createGain();fixSetTarget(node.gain);return node},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(maxDelayTime){maxDelayTime=maxDelayTime?this.internal_createDelay(maxDelayTime):this.internal_createDelay();
fixSetTarget(maxDelayTime.delayTime);return maxDelayTime},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var node=this.internal_createBufferSource();node.start?(node.internal_start=node.start,node.start=function(when,offset,duration){"undefined"!==typeof duration?node.internal_start(when||0,offset,duration):node.internal_start(when||0,offset||0)}):node.start=function(when,offset,duration){offset||duration?
this.noteGrainOn(when||0,offset,duration):this.noteOn(when||0)};node.stop?(node.internal_stop=node.stop,node.stop=function(when){node.internal_stop(when||0)}):node.stop=function(when){this.noteOff(when||0)};fixSetTarget(node.playbackRate);return node},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var node=this.internal_createDynamicsCompressor();fixSetTarget(node.threshold);fixSetTarget(node.knee);
fixSetTarget(node.ratio);fixSetTarget(node.reduction);fixSetTarget(node.attack);fixSetTarget(node.release);return node},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var node=this.internal_createBiquadFilter();fixSetTarget(node.frequency);fixSetTarget(node.detune);fixSetTarget(node.Q);fixSetTarget(node.gain);return node},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=
AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var node=this.internal_createOscillator();node.start?(node.internal_start=node.start,node.start=function(when){node.internal_start(when||0)}):node.start=function(when){this.noteOn(when||0)};node.stop?(node.internal_stop=node.stop,node.stop=function(when){node.internal_stop(when||0)}):node.stop=function(when){this.noteOff(when||0)};node.setPeriodicWave||(node.setPeriodicWave=node.setWaveTable);fixSetTarget(node.frequency);
fixSetTarget(node.detune);return node}));window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)})()},function(module,exports){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(module,exports){Math.trunc||(Math.trunc=function(x){return 0>x?Math.ceil(x):Math.floor(x)})},function(module,exports){(function(){!1===
"performance"in window&&(window.performance={});Date.now=Date.now||function(){return(new Date).getTime()};if(!1==="now"in window.performance){var nowOffset=Date.now();performance.timing&&performance.timing.navigationStart&&(nowOffset=performance.timing.navigationStart);window.performance.now=function(){return Date.now()-nowOffset}}})()},function(module,exports){var lastTime=Date.now();module=["ms","moz","webkit","o"];for(exports=0;exports<module.length&&!window.requestAnimationFrame;exports++)window.requestAnimationFrame=
window[module[exports]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[module[exports]+"CancelAnimationFrame"]||window[module[exports]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback){if("function"!==typeof callback)throw new TypeError(callback+"is not a function");var currentTime=Date.now(),delay=16+lastTime-currentTime;0>delay&&(delay=0);lastTime=currentTime;return setTimeout(function(){lastTime=Date.now();callback(performance.now())},
delay)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})},function(module,exports){"function"!==typeof window.Uint32Array&&"object"!==typeof window.Uint32Array&&(module=function(fakeType){window[fakeType]=function(arg){if("number"===typeof arg){Array.call(this,arg);this.length=arg;for(var i=0;i<this.length;i++)this[i]=0}else for(Array.call(this,arg.length),this.length=arg.length,i=0;i<this.length;i++)this[i]=arg[i]};window[fakeType].prototype=[];window[fakeType].constructor=
window[fakeType]},module("Float32Array"),module("Uint32Array"),module("Uint16Array"),module("Int16Array"),module("ArrayBuffer"))},function(module,exports,__webpack_require__){var QuickSet=__webpack_require__(270);module.exports=function(items,position,offsetX,offsetY){for(var target=items[0],i=1;i<items.length;i++){var item=items[i];QuickSet(item,target,position,offsetX,offsetY);target=item}return items}},function(module,exports,__webpack_require__){var PropertyValueInc=__webpack_require__(44);module.exports=
function(items,value,step,index,direction){return PropertyValueInc(items,"angle",value,step,index,direction)}},function(module,exports){module.exports=function(items,callback,context){for(var i=0;i<items.length;i++)callback.call(context,items[i]);return items}},function(module,exports){module.exports=function(items,compare,index){for(void 0===index&&(index=0);index<items.length;index++){var item=items[index],match=!0,property;for(property in compare)item[property]!==compare[property]&&(match=!1);
if(match)return item}return null}},function(module,exports){module.exports=function(items,compare,index){for(void 0===index&&(index=0);index<items.length;index++){var item=items[index],match=!0,property;for(property in compare)item[property]!==compare[property]&&(match=!1);if(match)return item}return null}},function(module,exports,__webpack_require__){var AlignIn=__webpack_require__(283),CONST=__webpack_require__(122),GetFastValue=__webpack_require__(2);exports=__webpack_require__(1);var tempZone=
new (__webpack_require__(127))({sys:{queueDepthSort:exports,events:{once:exports}}},0,0,1,1);module.exports=function(items,options){void 0===options&&(options={});var widthSet=options.hasOwnProperty("width"),heightSet=options.hasOwnProperty("height"),width=GetFastValue(options,"width",-1),height=GetFastValue(options,"height",-1),cellWidth=GetFastValue(options,"cellWidth",1),cellHeight=GetFastValue(options,"cellHeight",cellWidth),position=GetFastValue(options,"position",CONST.TOP_LEFT),x=GetFastValue(options,
"x",0);options=GetFastValue(options,"y",0);var cx=0,cy=0,w=width*cellWidth,h=height*cellHeight;tempZone.setPosition(x,options);tempZone.setSize(cellWidth,cellHeight);for(var i=0;i<items.length;i++)if(AlignIn(items[i],tempZone,position),widthSet&&-1===width)tempZone.x+=cellWidth;else if(heightSet&&-1===height)tempZone.y+=cellHeight;else if(heightSet&&!widthSet){if(cy+=cellHeight,tempZone.y+=cellHeight,cy===h&&(cy=0,cx+=cellWidth,tempZone.y=options,tempZone.x+=cellWidth,cx===w))break}else if(cx+=cellWidth,
tempZone.x+=cellWidth,cx===w&&(cx=0,cy+=cellHeight,tempZone.x=x,tempZone.y+=cellHeight,cy===h))break;return items}},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);module.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(topLeft,topRight,bottomLeft,bottomRight){void 0===topLeft&&(topLeft=1);void 0===topRight?this.alpha=topLeft:(this._alphaTL=Clamp(topLeft,0,1),this._alphaTR=Clamp(topRight,0,
1),this._alphaBL=Clamp(bottomLeft,0,1),this._alphaBR=Clamp(bottomRight,0,1));return this},alpha:{get:function(){return this._alpha},set:function(value){this._alphaBR=this._alphaBL=this._alphaTR=this._alphaTL=this._alpha=value=Clamp(value,0,1);this.renderFlags=0===value?this.renderFlags&-3:this.renderFlags|2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(value){this._alphaTL=value=Clamp(value,0,1);0!==value&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},
set:function(value){this._alphaTR=value=Clamp(value,0,1);0!==value&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(value){this._alphaBL=value=Clamp(value,0,1);0!==value&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(value){this._alphaBR=value=Clamp(value,0,1);0!==value&&(this.renderFlags|=2)}}}},function(module,exports){module.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},
set:function(value){this.scaleX=value/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(value){this.scaleY=value/this.height}},setSize:function(width,height){this.width=width;this.height=height;return this},setDisplaySize:function(width,height){this.displayWidth=width;this.displayHeight=height;return this}}},function(module,exports){module.exports={texture:null,frame:null,isCropped:!1,setCrop:function(x,y,width,height){void 0===x?this.isCropped=!1:this.frame&&
("number"===typeof x?this.frame.setCropUVs(this._crop,x,y,width,height,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,x.x,x.y,x.width,x.height,this.flipX,this.flipY),this.isCropped=!0);return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},function(module,exports){module.exports={flipX:!1,flipY:!1,toggleFlipX:function(){this.flipX=!this.flipX;return this},toggleFlipY:function(){this.flipY=!this.flipY;return this},
setFlipX:function(value){this.flipX=value;return this},setFlipY:function(value){this.flipY=value;return this},setFlip:function(x,y){this.flipX=x;this.flipY=y;return this},resetFlip:function(){this.flipY=this.flipX=!1;return this}}},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10),RotateAround=__webpack_require__(302),Vector2=__webpack_require__(3);module.exports={prepareBoundsOutput:function(output,includeParent){void 0===includeParent&&(includeParent=!1);0!==this.rotation&&
RotateAround(output,this.x,this.y,this.rotation);includeParent&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(output.x,output.y,output);return output},getCenter:function(output){void 0===output&&(output=new Vector2);output.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;output.y=this.y-this.displayHeight*this.originY+this.displayHeight/2;return output},getTopLeft:function(output,includeParent){output||(output=new Vector2);output.x=this.x-this.displayWidth*
this.originX;output.y=this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(output,includeParent)},getTopCenter:function(output,includeParent){output||(output=new Vector2);output.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;output.y=this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(output,includeParent)},getTopRight:function(output,includeParent){output||(output=new Vector2);output.x=this.x-this.displayWidth*this.originX+this.displayWidth;output.y=
this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(output,includeParent)},getLeftCenter:function(output,includeParent){output||(output=new Vector2);output.x=this.x-this.displayWidth*this.originX;output.y=this.y-this.displayHeight*this.originY+this.displayHeight/2;return this.prepareBoundsOutput(output,includeParent)},getRightCenter:function(output,includeParent){output||(output=new Vector2);output.x=this.x-this.displayWidth*this.originX+this.displayWidth;output.y=this.y-this.displayHeight*
this.originY+this.displayHeight/2;return this.prepareBoundsOutput(output,includeParent)},getBottomLeft:function(output,includeParent){output||(output=new Vector2);output.x=this.x-this.displayWidth*this.originX;output.y=this.y-this.displayHeight*this.originY+this.displayHeight;return this.prepareBoundsOutput(output,includeParent)},getBottomCenter:function(output,includeParent){output||(output=new Vector2);output.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;output.y=this.y-this.displayHeight*
this.originY+this.displayHeight;return this.prepareBoundsOutput(output,includeParent)},getBottomRight:function(output,includeParent){output||(output=new Vector2);output.x=this.x-this.displayWidth*this.originX+this.displayWidth;output.y=this.y-this.displayHeight*this.originY+this.displayHeight;return this.prepareBoundsOutput(output,includeParent)},getBounds:function(output){void 0===output&&(output=new Rectangle);if(this.parentContainer){var BRx=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(output);
BRx.transformPoint(output.x,output.y,output);var TLx=output.x;var TLy=output.y;this.getTopRight(output);BRx.transformPoint(output.x,output.y,output);var TRx=output.x;var TRy=output.y;this.getBottomLeft(output);BRx.transformPoint(output.x,output.y,output);var BLx=output.x;var BLy=output.y;this.getBottomRight(output);BRx.transformPoint(output.x,output.y,output)}else this.getTopLeft(output),TLx=output.x,TLy=output.y,this.getTopRight(output),TRx=output.x,TRy=output.y,this.getBottomLeft(output),BLx=output.x,
BLy=output.y,this.getBottomRight(output);BRx=output.x;var BRy=output.y;output.x=Math.min(TLx,TRx,BLx,BRx);output.y=Math.min(TLy,TRy,BLy,BRy);output.width=Math.max(TLx,TRx,BLx,BRx)-output.x;output.height=Math.max(TLy,TRy,BLy,BRy)-output.y;return output}}},function(module,exports){module.exports="blur"},function(module,exports){module.exports="boot"},function(module,exports){module.exports="contextlost"},function(module,exports){module.exports="contextrestored"},function(module,exports){module.exports=
"destroy"},function(module,exports){module.exports="focus"},function(module,exports){module.exports="hidden"},function(module,exports){module.exports="pause"},function(module,exports){module.exports="postrender"},function(module,exports){module.exports="poststep"},function(module,exports){module.exports="prerender"},function(module,exports){module.exports="prestep"},function(module,exports){module.exports="ready"},function(module,exports){module.exports="resume"},function(module,exports){module.exports=
"step"},function(module,exports){module.exports="visible"},function(module,exports){module.exports="postrender"},function(module,exports){module.exports="prerender"},function(module,exports){module.exports="render"},function(module,exports){module.exports="resize"},function(module,exports){module.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(value){this._displayOriginX=value;this.originX=
value/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(value){this._displayOriginY=value;this.originY=value/this.height}},setOrigin:function(x,y){void 0===x&&(x=.5);void 0===y&&(y=x);this.originX=x;this.originY=y;return this.updateDisplayOrigin()},setOriginFromFrame:function(){if(this.frame&&this.frame.customPivot)this.originX=this.frame.pivotX,this.originY=this.frame.pivotY;else return this.setOrigin();return this.updateDisplayOrigin()},setDisplayOrigin:function(x,
y){void 0===x&&(x=0);void 0===y&&(y=x);this.displayOriginX=x;this.displayOriginY=y;return this},updateDisplayOrigin:function(){this._displayOriginX=this.originX*this.width;this._displayOriginY=this.originY*this.height;return this}}},function(module,exports,__webpack_require__){var DegToRad=__webpack_require__(35),GetBoolean=__webpack_require__(96),GetValue=__webpack_require__(6),TWEEN_CONST=__webpack_require__(97),Vector2=__webpack_require__(3);module.exports={path:null,rotateToPath:!1,pathRotationOffset:0,
pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:TWEEN_CONST.PLAYING_FORWARD,setPath:function(path,config){void 0===config&&(config=this.pathConfig);var tween=this.pathTween;tween&&tween.isPlaying()&&tween.stop();this.path=path;config&&this.startFollow(config);return this},setRotateToPath:function(value,offset){void 0===offset&&(offset=0);this.rotateToPath=value;this.pathRotationOffset=offset;return this},isFollowing:function(){var tween=this.pathTween;
return tween&&tween.isPlaying()},startFollow:function(config,startAt){void 0===config&&(config={});void 0===startAt&&(startAt=0);var tween$jscomp$0=this.pathTween;tween$jscomp$0&&tween$jscomp$0.isPlaying()&&tween$jscomp$0.stop();"number"===typeof config&&(config={duration:config});config.from=GetValue(config,"from",0);config.to=GetValue(config,"to",1);tween$jscomp$0=GetBoolean(config,"positionOnPath",!1);this.rotateToPath=GetBoolean(config,"rotateToPath",!1);this.pathRotationOffset=GetValue(config,
"rotationOffset",0);var seek=GetValue(config,"startAt",startAt);seek&&(config.onStart=function(tween){tween=tween.data[0];tween.progress=seek;tween.elapsed=tween.duration*seek;var v=tween.ease(tween.progress);tween.current=tween.start+(tween.end-tween.start)*v;tween.target[tween.key]=tween.current});this.pathOffset||(this.pathOffset=new Vector2(this.x,this.y));this.pathVector||(this.pathVector=new Vector2);this.pathDelta||(this.pathDelta=new Vector2);this.pathDelta.reset();this.pathTween=this.scene.sys.tweens.addCounter(config);
this.path.getStartPoint(this.pathOffset);tween$jscomp$0&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y);this.pathOffset.x=this.x-this.pathOffset.x;this.pathOffset.y=this.y-this.pathOffset.y;this._prevDirection=TWEEN_CONST.PLAYING_FORWARD;this.rotateToPath&&(startAt=this.path.getPoint(.1),this.rotation=Math.atan2(startAt.y-this.y,startAt.x-this.x)+DegToRad(this.pathRotationOffset));this.pathConfig=config;return this},pauseFollow:function(){var tween=this.pathTween;tween&&tween.isPlaying()&&tween.pause();
return this},resumeFollow:function(){var tween=this.pathTween;tween&&tween.isPaused()&&tween.resume();return this},stopFollow:function(){var tween=this.pathTween;tween&&tween.isPlaying()&&tween.stop();return this},pathUpdate:function(){var tween=this.pathTween;if(tween){var tweenData=tween.data[0],pathDelta=this.pathDelta,pathVector=this.pathVector;pathDelta.copy(pathVector).negate();if(tweenData.state===TWEEN_CONST.COMPLETE)this.path.getPoint(1,pathVector),pathDelta.add(pathVector),pathVector.add(this.pathOffset),
this.setPosition(pathVector.x,pathVector.y);else if(tweenData.state===TWEEN_CONST.PLAYING_FORWARD||tweenData.state===TWEEN_CONST.PLAYING_BACKWARD)if(this.path.getPoint(tween.getValue(),pathVector),pathDelta.add(pathVector),pathVector.add(this.pathOffset),pathDelta=this.x,tween=this.y,this.setPosition(pathVector.x,pathVector.y),pathVector=this.x-pathDelta,tween=this.y-tween,0!==pathVector||0!==tween)tweenData.state!==this._prevDirection?this._prevDirection=tweenData.state:this.rotateToPath&&(this.rotation=
Math.atan2(tween,pathVector)+DegToRad(this.pathRotationOffset))}}}},function(module,exports){module.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(value){this.scaleX=value/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(value){this.scaleY=value/this.frame.realHeight}},setSizeToFrame:function(frame){void 0===frame&&(frame=this.frame);this.width=
frame.realWidth;this.height=frame.realHeight;return this},setSize:function(width,height){this.width=width;this.height=height;return this},setDisplaySize:function(width,height){this.displayWidth=width;this.displayHeight=height;return this}}},function(module,exports){module.exports={texture:null,frame:null,isCropped:!1,setTexture:function(key,frame){this.texture=this.scene.sys.textures.get(key);return this.setFrame(frame)},setFrame:function(frame,updateSize,updateOrigin){void 0===updateSize&&(updateSize=
!0);void 0===updateOrigin&&(updateOrigin=!0);this.frame=this.texture.get(frame);this.renderFlags=this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|8:this.renderFlags&-9;this._sizeComponent&&updateSize&&this.setSizeToFrame();this._originComponent&&updateOrigin&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin());return this}}},function(module,exports){module.exports={texture:null,frame:null,isCropped:!1,setCrop:function(x,y,width,height){void 0===
x?this.isCropped=!1:this.frame&&("number"===typeof x?this.frame.setCropUVs(this._crop,x,y,width,height,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,x.x,x.y,x.width,x.height,this.flipX,this.flipY),this.isCropped=!0);return this},setTexture:function(key,frame){this.texture=this.scene.sys.textures.get(key);return this.setFrame(frame)},setFrame:function(frame,updateSize,updateOrigin){void 0===updateSize&&(updateSize=!0);void 0===updateOrigin&&(updateOrigin=!0);this.frame=this.texture.get(frame);
this.renderFlags=this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|8:this.renderFlags&-9;this._sizeComponent&&updateSize&&this.setSizeToFrame();this._originComponent&&updateOrigin&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin());this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY);return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},
function(module,exports){module.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){this.setTint(16777215);return this},setTint:function(topLeft,topRight,bottomLeft,bottomRight){void 0===topLeft&&(topLeft=16777215);void 0===topRight&&(bottomRight=bottomLeft=topRight=topLeft);this.tintTopLeft=topLeft;this.tintTopRight=topRight;this.tintBottomLeft=bottomLeft;this.tintBottomRight=bottomRight;this.tintFill=!1;return this},
setTintFill:function(topLeft,topRight,bottomLeft,bottomRight){this.setTint(topLeft,topRight,bottomLeft,bottomRight);this.tintFill=!0;return this},tint:{set:function(value){this.setTint(value,value,value,value)}},isTinted:{get:function(){return this.tintFill||16777215!==this.tintTopLeft||16777215!==this.tintTopRight||16777215!==this.tintBottomLeft||16777215!==this.tintBottomRight}}}},function(module,exports){module.exports="changedata"},function(module,exports){module.exports="changedata-"},function(module,
exports){module.exports="destroy"},function(module,exports){module.exports="removedata"},function(module,exports){module.exports="setdata"},function(module,exports){module.exports="addedtoscene"},function(module,exports){module.exports="destroy"},function(module,exports){module.exports="removedfromscene"},function(module,exports){module.exports="complete"},function(module,exports){module.exports="created"},function(module,exports){module.exports="error"},function(module,exports){module.exports="loop"},
function(module,exports){module.exports="play"},function(module,exports){module.exports="seeked"},function(module,exports){module.exports="seeking"},function(module,exports){module.exports="stop"},function(module,exports){module.exports="timeout"},function(module,exports){module.exports="unlocked"},function(module,exports,__webpack_require__){var PropertyValueInc=__webpack_require__(44);module.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"alpha",value,step,index,
direction)}},function(module,exports,__webpack_require__){var PropertyValueInc=__webpack_require__(44);module.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"x",value,step,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueInc=__webpack_require__(44);module.exports=function(items,x,y,stepX,stepY,index,direction){if(void 0===y||null===y)y=x;PropertyValueInc(items,"x",x,stepX,index,direction);return PropertyValueInc(items,"y",y,stepY,index,
direction)}},function(module,exports,__webpack_require__){var PropertyValueInc=__webpack_require__(44);module.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"y",value,step,index,direction)}},function(module,exports){module.exports=function(items,circle,startAngle,endAngle){void 0===startAngle&&(startAngle=0);void 0===endAngle&&(endAngle=6.28);var angle=startAngle;startAngle=(endAngle-startAngle)/items.length;for(endAngle=0;endAngle<items.length;endAngle++)items[endAngle].x=
circle.x+circle.radius*Math.cos(angle),items[endAngle].y=circle.y+circle.radius*Math.sin(angle),angle+=startAngle;return items}},function(module,exports){module.exports=function(items,ellipse,startAngle,endAngle){void 0===startAngle&&(startAngle=0);void 0===endAngle&&(endAngle=6.28);var angle=startAngle;startAngle=(endAngle-startAngle)/items.length;endAngle=ellipse.width/2;for(var b=ellipse.height/2,i=0;i<items.length;i++)items[i].x=ellipse.x+endAngle*Math.cos(angle),items[i].y=ellipse.y+b*Math.sin(angle),
angle+=startAngle;return items}},function(module,exports,__webpack_require__){var GetPoints=__webpack_require__(168);module.exports=function(items,line){line=GetPoints(line,items.length);for(var i=0;i<items.length;i++){var item=items[i],point=line[i];item.x=point.x;item.y=point.y}return items}},function(module,exports,__webpack_require__){var MarchingAnts=__webpack_require__(310),RotateLeft=__webpack_require__(175),RotateRight=__webpack_require__(176);module.exports=function(items,rect,shift){void 0===
shift&&(shift=0);rect=MarchingAnts(rect,!1,items.length);0<shift?RotateLeft(rect,shift):0>shift&&RotateRight(rect,Math.abs(shift));for(shift=0;shift<items.length;shift++)items[shift].x=rect[shift].x,items[shift].y=rect[shift].y;return items}},function(module,exports,__webpack_require__){var BresenhamPoints=__webpack_require__(311);module.exports=function(items,triangle,stepRate){var p1=BresenhamPoints({x1:triangle.x1,y1:triangle.y1,x2:triangle.x2,y2:triangle.y2},stepRate),p2=BresenhamPoints({x1:triangle.x2,
y1:triangle.y2,x2:triangle.x3,y2:triangle.y3},stepRate);triangle=BresenhamPoints({x1:triangle.x3,y1:triangle.y3,x2:triangle.x1,y2:triangle.y1},stepRate);p1.pop();p2.pop();triangle.pop();p1=p1.concat(p2,triangle);p2=p1.length/items.length;for(stepRate=triangle=0;stepRate<items.length;stepRate++){var item=items[stepRate],point=p1[Math.floor(triangle)];item.x=point.x;item.y=point.y;triangle+=p2}return items}},function(module,exports){module.exports=function(items,key,startFrame){for(var i=0;i<items.length;i++)items[i].anims.play(key,
startFrame);return items}},function(module,exports,__webpack_require__){var Random=__webpack_require__(166);module.exports=function(items,circle){for(var i=0;i<items.length;i++)Random(circle,items[i]);return items}},function(module,exports,__webpack_require__){var Random=__webpack_require__(177);module.exports=function(items,ellipse){for(var i=0;i<items.length;i++)Random(ellipse,items[i]);return items}},function(module,exports,__webpack_require__){var Random=__webpack_require__(169);module.exports=
function(items,line){for(var i=0;i<items.length;i++)Random(line,items[i]);return items}},function(module,exports,__webpack_require__){var Random=__webpack_require__(170);module.exports=function(items,rect){for(var i=0;i<items.length;i++)Random(rect,items[i]);return items}},function(module,exports,__webpack_require__){var Random=__webpack_require__(178);module.exports=function(items,triangle){for(var i=0;i<items.length;i++)Random(triangle,items[i]);return items}},function(module,exports,__webpack_require__){var PropertyValueInc=
__webpack_require__(44);module.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"rotation",value,step,index,direction)}},function(module,exports,__webpack_require__){var RotateAroundDistance=__webpack_require__(179),DistanceBetween=__webpack_require__(48);module.exports=function(items,point,angle){var x=point.x;point=point.y;for(var i=0;i<items.length;i++){var item=items[i];RotateAroundDistance(item,x,point,angle,Math.max(1,DistanceBetween(item.x,item.y,x,point)))}return items}},
function(module,exports,__webpack_require__){var MathRotateAroundDistance=__webpack_require__(179);module.exports=function(items,point,angle,distance){var x=point.x;point=point.y;if(0===distance)return items;for(var i=0;i<items.length;i++)MathRotateAroundDistance(items[i],x,point,angle,distance);return items}},function(module,exports,__webpack_require__){var PropertyValueInc=__webpack_require__(44);module.exports=function(items,value,step,index,direction){return PropertyValueInc(items,"scaleX",value,
step,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueInc=__webpack_require__(44);module.exports=function(items,scaleX,scaleY,stepX,stepY,index,direction){if(void 0===scaleY||null===scaleY)scaleY=scaleX;PropertyValueInc(items,"scaleX",scaleX,stepX,index,direction);return PropertyValueInc(items,"scaleY",scaleY,stepY,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueInc=__webpack_require__(44);module.exports=function(items,value,step,index,
direction){return PropertyValueInc(items,"scaleY",value,step,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"alpha",value,step,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,index,direction){return PropertyValueSet(items,"blendMode",value,0,index,direction)}},
function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"depth",value,step,index,direction)}},function(module,exports){module.exports=function(items,hitArea,hitAreaCallback){for(var i=0;i<items.length;i++)items[i].setInteractive(hitArea,hitAreaCallback);return items}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,
originX,originY,stepX,stepY,index,direction){if(void 0===originY||null===originY)originY=originX;PropertyValueSet(items,"originX",originX,stepX,index,direction);PropertyValueSet(items,"originY",originY,stepY,index,direction);items.forEach(function(item){item.updateDisplayOrigin()});return items}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"rotation",value,step,index,
direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,scaleX,scaleY,stepX,stepY,index,direction){if(void 0===scaleY||null===scaleY)scaleY=scaleX;PropertyValueSet(items,"scaleX",scaleX,stepX,index,direction);return PropertyValueSet(items,"scaleY",scaleY,stepY,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,step,index,direction){return PropertyValueSet(items,
"scaleX",value,step,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"scaleY",value,step,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,scrollFactorX,scrollFactorY,stepX,stepY,index,direction){if(void 0===scrollFactorY||null===scrollFactorY)scrollFactorY=scrollFactorX;
PropertyValueSet(items,"scrollFactorX",scrollFactorX,stepX,index,direction);return PropertyValueSet(items,"scrollFactorY",scrollFactorY,stepY,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"scrollFactorX",value,step,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,
value,step,index,direction){return PropertyValueSet(items,"scrollFactorY",value,step,index,direction)}},function(module,exports){module.exports=function(items,topLeft,topRight,bottomLeft,bottomRight){for(var i=0;i<items.length;i++)items[i].setTint(topLeft,topRight,bottomLeft,bottomRight);return items}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,index,direction){return PropertyValueSet(items,"visible",value,0,index,
direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"x",value,step,index,direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,x,y,stepX,stepY,index,direction){if(void 0===y||null===y)y=x;PropertyValueSet(items,"x",x,stepX,index,direction);return PropertyValueSet(items,"y",y,stepY,index,
direction)}},function(module,exports,__webpack_require__){var PropertyValueSet=__webpack_require__(27);module.exports=function(items,value,step,index,direction){return PropertyValueSet(items,"y",value,step,index,direction)}},function(module,exports,__webpack_require__){var Vector2=__webpack_require__(3);module.exports=function(items,x,y,direction,output){void 0===direction&&(direction=0);void 0===output&&(output=new Vector2);if(1<items.length){var i;if(0===direction){var len=items.length-1;direction=
items[len].x;var py=items[len].y;for(i=len-1;0<=i;i--){var cur=items[i];var cx=cur.x;var cy=cur.y;cur.x=direction;cur.y=py;direction=cx;py=cy}items[len].x=x;items[len].y=y}else{direction=items[0].x;py=items[0].y;for(i=1;i<items.length;i++)cur=items[i],cx=cur.x,cy=cur.y,cur.x=direction,cur.y=py,direction=cx,py=cy;items[0].x=x;items[0].y=y}}else direction=items[0].x,py=items[0].y,items[0].x=x,items[0].y=y;output.x=direction;output.y=py;return output}},function(module,exports,__webpack_require__){var ArrayShuffle=
__webpack_require__(129);module.exports=function(items){return ArrayShuffle(items)}},function(module,exports,__webpack_require__){var MathSmootherStep=__webpack_require__(180);module.exports=function(items,property,min,max,inc){void 0===inc&&(inc=!1);var step=Math.abs(max-min)/items.length;if(inc)for(inc=0;inc<items.length;inc++)items[inc][property]+=MathSmootherStep(inc*step,min,max);else for(inc=0;inc<items.length;inc++)items[inc][property]=MathSmootherStep(inc*step,min,max);return items}},function(module,
exports,__webpack_require__){var MathSmoothStep=__webpack_require__(181);module.exports=function(items,property,min,max,inc){void 0===inc&&(inc=!1);var step=Math.abs(max-min)/items.length;if(inc)for(inc=0;inc<items.length;inc++)items[inc][property]+=MathSmoothStep(inc*step,min,max);else for(inc=0;inc<items.length;inc++)items[inc][property]=MathSmoothStep(inc*step,min,max);return items}},function(module,exports){module.exports=function(items,property,min,max,inc){void 0===inc&&(inc=!1);max=Math.abs(max-
min)/items.length;if(inc)for(inc=0;inc<items.length;inc++)items[inc][property]+=inc*max+min;else for(inc=0;inc<items.length;inc++)items[inc][property]=inc*max+min;return items}},function(module,exports){module.exports=function(items){for(var i=0;i<items.length;i++)items[i].visible=!items[i].visible;return items}},function(module,exports,__webpack_require__){var Wrap=__webpack_require__(66);module.exports=function(items,rect,padding){void 0===padding&&(padding=0);for(var i=0;i<items.length;i++){var item=
items[i];item.x=Wrap(item.x,rect.left-padding,rect.right+padding);item.y=Wrap(item.y,rect.top-padding,rect.bottom+padding)}return items}},function(module,exports,__webpack_require__){module.exports={Animation:__webpack_require__(182),AnimationFrame:__webpack_require__(313),AnimationManager:__webpack_require__(315),AnimationState:__webpack_require__(162),Events:__webpack_require__(130)}},function(module,exports){module.exports="add"},function(module,exports){module.exports="animationcomplete"},function(module,
exports){module.exports="animationcomplete-"},function(module,exports){module.exports="animationrepeat"},function(module,exports){module.exports="animationrestart"},function(module,exports){module.exports="animationstart"},function(module,exports){module.exports="animationstop"},function(module,exports){module.exports="animationupdate"},function(module,exports){module.exports="pauseall"},function(module,exports){module.exports="remove"},function(module,exports){module.exports="resumeall"},function(module,
exports,__webpack_require__){module.exports={BaseCache:__webpack_require__(317),CacheManager:__webpack_require__(319),Events:__webpack_require__(318)}},function(module,exports){module.exports="add"},function(module,exports){module.exports="remove"},function(module,exports,__webpack_require__){module.exports={Controls:__webpack_require__(715),Scene2D:__webpack_require__(718)}},function(module,exports,__webpack_require__){module.exports={FixedKeyControl:__webpack_require__(716),SmoothedKeyControl:__webpack_require__(717)}},
function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetValue=__webpack_require__(6);__webpack_require__=new exports({initialize:function(config){this.camera=GetValue(config,"camera",null);this.left=GetValue(config,"left",null);this.right=GetValue(config,"right",null);this.up=GetValue(config,"up",null);this.down=GetValue(config,"down",null);this.zoomIn=GetValue(config,"zoomIn",null);this.zoomOut=GetValue(config,"zoomOut",null);this.zoomSpeed=GetValue(config,"zoomSpeed",
.01);this.speedY=this.speedX=0;var speed=GetValue(config,"speed",null);"number"===typeof speed?this.speedY=this.speedX=speed:(this.speedX=GetValue(config,"speed.x",0),this.speedY=GetValue(config,"speed.y",0));this._zoom=0;this.active=null!==this.camera},start:function(){this.active=null!==this.camera;return this},stop:function(){this.active=!1;return this},setCamera:function(camera){this.camera=camera;return this},update:function(delta){if(this.active){void 0===delta&&(delta=1);var cam=this.camera;
this.up&&this.up.isDown?cam.scrollY-=this.speedY*delta|0:this.down&&this.down.isDown&&(cam.scrollY+=this.speedY*delta|0);this.left&&this.left.isDown?cam.scrollX-=this.speedX*delta|0:this.right&&this.right.isDown&&(cam.scrollX+=this.speedX*delta|0);this.zoomIn&&this.zoomIn.isDown?(cam.zoom-=this.zoomSpeed,.1>cam.zoom&&(cam.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(cam.zoom+=this.zoomSpeed)}},destroy:function(){this.zoomOut=this.zoomIn=this.down=this.up=this.right=this.left=this.camera=null}});
module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var GetValue=__webpack_require__(6);__webpack_require__=new exports({initialize:function(config){this.camera=GetValue(config,"camera",null);this.left=GetValue(config,"left",null);this.right=GetValue(config,"right",null);this.up=GetValue(config,"up",null);this.down=GetValue(config,"down",null);this.zoomIn=GetValue(config,"zoomIn",null);this.zoomOut=GetValue(config,"zoomOut",null);this.zoomSpeed=
GetValue(config,"zoomSpeed",.01);this.accelY=this.accelX=0;var accel=GetValue(config,"acceleration",null);"number"===typeof accel?this.accelY=this.accelX=accel:(this.accelX=GetValue(config,"acceleration.x",0),this.accelY=GetValue(config,"acceleration.y",0));this.dragY=this.dragX=0;accel=GetValue(config,"drag",null);"number"===typeof accel?this.dragY=this.dragX=accel:(this.dragX=GetValue(config,"drag.x",0),this.dragY=GetValue(config,"drag.y",0));this.maxSpeedY=this.maxSpeedX=0;accel=GetValue(config,
"maxSpeed",null);"number"===typeof accel?this.maxSpeedY=this.maxSpeedX=accel:(this.maxSpeedX=GetValue(config,"maxSpeed.x",0),this.maxSpeedY=GetValue(config,"maxSpeed.y",0));this._zoom=this._speedY=this._speedX=0;this.active=null!==this.camera},start:function(){this.active=null!==this.camera;return this},stop:function(){this.active=!1;return this},setCamera:function(camera){this.camera=camera;return this},update:function(delta){if(this.active){void 0===delta&&(delta=1);var cam=this.camera;0<this._speedX?
(this._speedX-=this.dragX*delta,0>this._speedX&&(this._speedX=0)):0>this._speedX&&(this._speedX+=this.dragX*delta,0<this._speedX&&(this._speedX=0));0<this._speedY?(this._speedY-=this.dragY*delta,0>this._speedY&&(this._speedY=0)):0>this._speedY&&(this._speedY+=this.dragY*delta,0<this._speedY&&(this._speedY=0));this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&
(this._speedY=-this.maxSpeedY));this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX));this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0;0!==this._speedX&&(cam.scrollX-=this._speedX*delta|0);0!==this._speedY&&(cam.scrollY-=this._speedY*delta|0);0!==this._zoom&&
(cam.zoom+=this._zoom,.001>cam.zoom&&(cam.zoom=.001))}},destroy:function(){this.zoomOut=this.zoomIn=this.down=this.up=this.right=this.left=this.camera=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={Camera:__webpack_require__(320),BaseCamera:__webpack_require__(131),CameraManager:__webpack_require__(775),Effects:__webpack_require__(327),Events:__webpack_require__(36)}},function(module,exports){module.exports="cameradestroy"},function(module,
exports){module.exports="camerafadeincomplete"},function(module,exports){module.exports="camerafadeinstart"},function(module,exports){module.exports="camerafadeoutcomplete"},function(module,exports){module.exports="camerafadeoutstart"},function(module,exports){module.exports="cameraflashcomplete"},function(module,exports){module.exports="cameraflashstart"},function(module,exports){module.exports="followupdate"},function(module,exports){module.exports="camerapancomplete"},function(module,exports){module.exports=
"camerapanstart"},function(module,exports){module.exports="postrender"},function(module,exports){module.exports="prerender"},function(module,exports){module.exports="camerarotatecomplete"},function(module,exports){module.exports="camerarotatestart"},function(module,exports){module.exports="camerashakecomplete"},function(module,exports){module.exports="camerashakestart"},function(module,exports){module.exports="camerazoomcomplete"},function(module,exports){module.exports="camerazoomstart"},function(module,
exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Events=__webpack_require__(36);__webpack_require__=new exports({initialize:function(camera){this.camera=camera;this.isComplete=this.isRunning=!1;this.direction=!0;this._elapsed=this.progress=this.alpha=this.blue=this.green=this.red=this.duration=0},start:function(direction,duration,red,green,blue,force,callback,context){void 0===direction&&(direction=!0);void 0===duration&&(duration=1E3);void 0===red&&
(red=0);void 0===green&&(green=0);void 0===blue&&(blue=0);void 0===force&&(force=!1);void 0===callback&&(callback=null);void 0===context&&(context=this.camera.scene);if(!force&&this.isRunning)return this.camera;this.isRunning=!0;this.isComplete=!1;this.duration=duration;this.direction=direction;this.progress=0;this.red=red;this.green=green;this.blue=blue;this.alpha=direction?Number.MIN_VALUE:1;this._elapsed=0;this._onUpdate=callback;this._onUpdateScope=context;this.camera.emit(direction?Events.FADE_OUT_START:
Events.FADE_IN_START,this.camera,this,duration,red,green,blue);return this.camera},update:function(time,delta){this.isRunning&&(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(ctx){if(!this.isRunning&&!this.isComplete)return!1;
var camera=this.camera;ctx.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")";ctx.fillRect(camera.x,camera.y,camera.width,camera.height);return!0},postRenderWebGL:function(pipeline,getTintFunction){if(!this.isRunning&&!this.isComplete)return!1;var camera=this.camera;pipeline.drawFillRect(camera.x,camera.y,camera.width,camera.height,getTintFunction(this.blue/255,this.green/255,this.red/255,1),this.alpha);return!0},effectComplete:function(){this._onUpdateScope=this._onUpdate=
null;this.isRunning=!1;this.isComplete=!0;this.camera.emit(this.direction?Events.FADE_OUT_COMPLETE:Events.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isComplete=this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.camera=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Events=__webpack_require__(36);__webpack_require__=new exports({initialize:function(camera){this.camera=
camera;this.isRunning=!1;this._elapsed=this.progress=this.alpha=this.blue=this.green=this.red=this.duration=0},start:function(duration,red,green,blue,force,callback,context){void 0===duration&&(duration=250);void 0===red&&(red=255);void 0===green&&(green=255);void 0===blue&&(blue=255);void 0===force&&(force=!1);void 0===callback&&(callback=null);void 0===context&&(context=this.camera.scene);if(!force&&this.isRunning)return this.camera;this.isRunning=!0;this.duration=duration;this.progress=0;this.red=
red;this.green=green;this.blue=blue;this.alpha=1;this._elapsed=0;this._onUpdate=callback;this._onUpdateScope=context;this.camera.emit(Events.FLASH_START,this.camera,this,duration,red,green,blue);return this.camera},update:function(time,delta){this.isRunning&&(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(ctx){if(!this.isRunning)return!1;
var camera=this.camera;ctx.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")";ctx.fillRect(camera.x,camera.y,camera.width,camera.height);return!0},postRenderWebGL:function(pipeline,getTintFunction){if(!this.isRunning)return!1;var camera=this.camera;pipeline.drawFillRect(camera.x,camera.y,camera.width,camera.height,getTintFunction(this.blue/255,this.green/255,this.red/255,1),this.alpha);return!0},effectComplete:function(){this._onUpdateScope=this._onUpdate=null;this.isRunning=
!1;this.camera.emit(Events.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.camera=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var EaseMap=__webpack_require__(132),Events=__webpack_require__(36),Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(camera){this.camera=
camera;this.isRunning=!1;this.duration=0;this.source=new Vector2;this.current=new Vector2;this.destination=new Vector2;this._elapsed=this.progress=0},start:function(x,y,duration,ease,force,callback,context){void 0===duration&&(duration=1E3);void 0===ease&&(ease=EaseMap.Linear);void 0===force&&(force=!1);void 0===callback&&(callback=null);void 0===context&&(context=this.camera.scene);var cam=this.camera;if(!force&&this.isRunning)return cam;this.isRunning=!0;this.duration=duration;this.progress=0;this.source.set(cam.scrollX,
cam.scrollY);this.destination.set(x,y);cam.getScroll(x,y,this.current);"string"===typeof ease&&EaseMap.hasOwnProperty(ease)?this.ease=EaseMap[ease]:"function"===typeof ease&&(this.ease=ease);this._elapsed=0;this._onUpdate=callback;this._onUpdateScope=context;this.camera.emit(Events.PAN_START,this.camera,this,duration,x,y);return cam},update:function(time,delta){if(this.isRunning)if(this._elapsed+=delta,this.progress=time=Clamp(this._elapsed/this.duration,0,1),delta=this.camera,this._elapsed<this.duration){var v=
this.ease(time);delta.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*v;v=this.source.y+(this.current.y-this.source.y)*v;delta.setScroll(x,v);this._onUpdate&&this._onUpdate.call(this._onUpdateScope,delta,time,x,v)}else delta.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,delta,time,delta.scrollX,delta.scrollY),this.effectComplete()},effectComplete:function(){this._onUpdateScope=
this._onUpdate=null;this.isRunning=!1;this.camera.emit(Events.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.destination=this.source=this.camera=null}});module.exports=__webpack_require__},function(module,exports){module.exports=function(v,overshoot){void 0===overshoot&&(overshoot=1.70158);return v*v*((overshoot+1)*v-overshoot)}},function(module,exports){module.exports=function(v,overshoot){void 0===
overshoot&&(overshoot=1.70158);return--v*v*((overshoot+1)*v+overshoot)+1}},function(module,exports){module.exports=function(v,overshoot){void 0===overshoot&&(overshoot=1.70158);overshoot*=1.525;return 1>(v*=2)?.5*v*v*((overshoot+1)*v-overshoot):.5*((v-=2)*v*((overshoot+1)*v+overshoot)+2)}},function(module,exports){module.exports=function(v){v=1-v;return v<1/2.75?1-7.5625*v*v:v<2/2.75?1-(7.5625*(v-=1.5/2.75)*v+.75):v<2.5/2.75?1-(7.5625*(v-=2.25/2.75)*v+.9375):1-(7.5625*(v-=2.625/2.75)*v+.984375)}},
function(module,exports){module.exports=function(v){return v<1/2.75?7.5625*v*v:v<2/2.75?7.5625*(v-=1.5/2.75)*v+.75:v<2.5/2.75?7.5625*(v-=2.25/2.75)*v+.9375:7.5625*(v-=2.625/2.75)*v+.984375}},function(module,exports){module.exports=function(v){var reverse=!1;.5>v?(v=1-2*v,reverse=!0):v=2*v-1;v=v<1/2.75?7.5625*v*v:v<2/2.75?7.5625*(v-=1.5/2.75)*v+.75:v<2.5/2.75?7.5625*(v-=2.25/2.75)*v+.9375:7.5625*(v-=2.625/2.75)*v+.984375;return reverse?.5*(1-v):.5*v+.5}},function(module,exports){module.exports=function(v){return 1-
Math.sqrt(1-v*v)}},function(module,exports){module.exports=function(v){return Math.sqrt(1- --v*v)}},function(module,exports){module.exports=function(v){return 1>(v*=2)?-.5*(Math.sqrt(1-v*v)-1):.5*(Math.sqrt(1-(v-=2)*v)+1)}},function(module,exports){module.exports=function(v){return v*v*v}},function(module,exports){module.exports=function(v){return--v*v*v+1}},function(module,exports){module.exports=function(v){return 1>(v*=2)?.5*v*v*v:.5*((v-=2)*v*v+2)}},function(module,exports){module.exports=function(v,
amplitude,period){void 0===amplitude&&(amplitude=.1);void 0===period&&(period=.1);if(0===v)return 0;if(1===v)return 1;var s=period/4;1>amplitude?amplitude=1:s=period*Math.asin(1/amplitude)/(2*Math.PI);return-(amplitude*Math.pow(2,10*--v)*Math.sin(2*(v-s)*Math.PI/period))}},function(module,exports){module.exports=function(v,amplitude,period){void 0===amplitude&&(amplitude=.1);void 0===period&&(period=.1);if(0===v)return 0;if(1===v)return 1;var s=period/4;1>amplitude?amplitude=1:s=period*Math.asin(1/
amplitude)/(2*Math.PI);return amplitude*Math.pow(2,-10*v)*Math.sin(2*(v-s)*Math.PI/period)+1}},function(module,exports){module.exports=function(v,amplitude,period){void 0===amplitude&&(amplitude=.1);void 0===period&&(period=.1);if(0===v)return 0;if(1===v)return 1;var s=period/4;1>amplitude?amplitude=1:s=period*Math.asin(1/amplitude)/(2*Math.PI);return 1>(v*=2)?-.5*amplitude*Math.pow(2,10*--v)*Math.sin(2*(v-s)*Math.PI/period):amplitude*Math.pow(2,-10*--v)*Math.sin(2*(v-s)*Math.PI/period)*.5+1}},function(module,
exports){module.exports=function(v){return Math.pow(2,10*(v-1))-.001}},function(module,exports){module.exports=function(v){return 1-Math.pow(2,-10*v)}},function(module,exports){module.exports=function(v){return 1>(v*=2)?.5*Math.pow(2,10*(v-1)):.5*(2-Math.pow(2,-10*(v-1)))}},function(module,exports){module.exports=function(v){return v}},function(module,exports){module.exports=function(v){return v*v}},function(module,exports){module.exports=function(v){return v*(2-v)}},function(module,exports){module.exports=
function(v){return 1>(v*=2)?.5*v*v:-.5*(--v*(v-2)-1)}},function(module,exports){module.exports=function(v){return v*v*v*v}},function(module,exports){module.exports=function(v){return 1- --v*v*v*v}},function(module,exports){module.exports=function(v){return 1>(v*=2)?.5*v*v*v*v:-.5*((v-=2)*v*v*v-2)}},function(module,exports){module.exports=function(v){return v*v*v*v*v}},function(module,exports){module.exports=function(v){return--v*v*v*v*v+1}},function(module,exports){module.exports=function(v){return 1>
(v*=2)?.5*v*v*v*v*v:.5*((v-=2)*v*v*v*v+2)}},function(module,exports){module.exports=function(v){return 0===v?0:1===v?1:1-Math.cos(v*Math.PI/2)}},function(module,exports){module.exports=function(v){return 0===v?0:1===v?1:Math.sin(v*Math.PI/2)}},function(module,exports){module.exports=function(v){return 0===v?0:1===v?1:.5*(1-Math.cos(Math.PI*v))}},function(module,exports){module.exports=function(v,steps){void 0===steps&&(steps=1);return 0>=v?0:1<=v?1:1/steps*((steps*v|0)+1)}},function(module,exports,
__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Events=__webpack_require__(36),Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(camera){this.camera=camera;this.isRunning=!1;this.duration=0;this.intensity=new Vector2;this._offsetY=this._offsetX=this._elapsed=this.progress=0},start:function(duration,intensity,force,callback,context){void 0===duration&&(duration=100);void 0===intensity&&(intensity=.05);void 0===force&&(force=
!1);void 0===callback&&(callback=null);void 0===context&&(context=this.camera.scene);if(!force&&this.isRunning)return this.camera;this.isRunning=!0;this.duration=duration;this.progress=0;"number"===typeof intensity?this.intensity.set(intensity):this.intensity.set(intensity.x,intensity.y);this._offsetY=this._offsetX=this._elapsed=0;this._onUpdate=callback;this._onUpdateScope=context;this.camera.emit(Events.SHAKE_START,this.camera,this,duration,intensity);return this.camera},preRender:function(){this.isRunning&&
this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(time,delta){if(this.isRunning)if(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){time=this.intensity;delta=this.camera.width;var height=this.camera.height,zoom=this.camera.zoom;this._offsetX=(Math.random()*time.x*delta*2-time.x*delta)*zoom;this._offsetY=(Math.random()*time.y*height*2-time.y*
height)*zoom;this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetY=this._offsetX=0;this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.camera.emit(Events.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1;this._offsetY=this._offsetX=0;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.intensity=this.camera=null}});module.exports=
__webpack_require__},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Events=__webpack_require__(36),EaseMap=__webpack_require__(132);__webpack_require__=new exports({initialize:function(camera){this.camera=camera;this.isRunning=!1;this._elapsed=this.progress=this.destination=this.current=this.source=this.duration=0;this.clockwise=!0;this.shortestPath=!1},start:function(radians,shortestPath,duration,ease,force,callback,context){void 0===
duration&&(duration=1E3);void 0===ease&&(ease=EaseMap.Linear);void 0===force&&(force=!1);void 0===callback&&(callback=null);void 0===context&&(context=this.camera.scene);void 0===shortestPath&&(shortestPath=!1);this.shortestPath=shortestPath;shortestPath=radians;0>radians?(shortestPath=-1*radians,this.clockwise=!1):this.clockwise=!0;var maxRad=360*Math.PI/180;shortestPath-=Math.floor(shortestPath/maxRad)*maxRad;radians=this.camera;if(!force&&this.isRunning)return radians;this.isRunning=!0;this.duration=
duration;this.progress=0;this.source=radians.rotation;this.destination=shortestPath;"string"===typeof ease&&EaseMap.hasOwnProperty(ease)?this.ease=EaseMap[ease]:"function"===typeof ease&&(this.ease=ease);this._elapsed=0;this._onUpdate=callback;this._onUpdateScope=context;this.shortestPath&&(ease=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+maxRad)-this.source,force=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+
maxRad)-this.destination,ease<force?this.clockwise=!0:ease>force&&(this.clockwise=!1));this.camera.emit(Events.ROTATE_START,this.camera,this,duration,shortestPath);return radians},update:function(time,delta){if(this.isRunning)if(this._elapsed+=delta,this.progress=time=Clamp(this._elapsed/this.duration,0,1),delta=this.camera,this._elapsed<this.duration){var v=this.ease(time);this.current=delta.rotation;var distance=360*Math.PI/180;var target=this.destination,current=this.current;!1===this.clockwise&&
(target=this.current,current=this.destination);distance=target>=current?Math.abs(target-current):Math.abs(target+distance)-current;v=this.clockwise?delta.rotation+distance*v:delta.rotation-distance*v;delta.rotation=v;this._onUpdate&&this._onUpdate.call(this._onUpdateScope,delta,time,v)}else delta.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,delta,time,this.destination),this.effectComplete()},effectComplete:function(){this._onUpdateScope=this._onUpdate=null;this.isRunning=
!1;this.camera.emit(Events.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.destination=this.source=this.camera=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var EaseMap=__webpack_require__(132),Events=__webpack_require__(36);__webpack_require__=new exports({initialize:function(camera){this.camera=
camera;this.isRunning=!1;this.duration=0;this.destination=this.source=1;this._elapsed=this.progress=0},start:function(zoom,duration,ease,force,callback,context){void 0===duration&&(duration=1E3);void 0===ease&&(ease=EaseMap.Linear);void 0===force&&(force=!1);void 0===callback&&(callback=null);void 0===context&&(context=this.camera.scene);var cam=this.camera;if(!force&&this.isRunning)return cam;this.isRunning=!0;this.duration=duration;this.progress=0;this.source=cam.zoom;this.destination=zoom;"string"===
typeof ease&&EaseMap.hasOwnProperty(ease)?this.ease=EaseMap[ease]:"function"===typeof ease&&(this.ease=ease);this._elapsed=0;this._onUpdate=callback;this._onUpdateScope=context;this.camera.emit(Events.ZOOM_START,this.camera,this,duration,zoom);return cam},update:function(time,delta){this.isRunning&&(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&
this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.camera.emit(Events.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.camera=
null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Camera=__webpack_require__(320),Class=__webpack_require__(0),GetFastValue=__webpack_require__(2);exports=__webpack_require__(24);var RectangleContains=__webpack_require__(56),ScaleEvents=__webpack_require__(101),SceneEvents=__webpack_require__(21);__webpack_require__=new Class({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.roundPixels=scene.sys.game.config.roundPixels;this.cameras=
[];scene.sys.events.once(SceneEvents.BOOT,this.boot,this);scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){var sys=this.systems;sys.settings.cameras?this.fromJSON(sys.settings.cameras):this.add();this.main=this.cameras[0];this.default=(new Camera(0,0,sys.scale.width,sys.scale.height)).setScene(this.scene);sys.game.scale.on(ScaleEvents.RESIZE,this.onResize,this);this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){if(!this.main){var sys=this.systems;
sys.settings.cameras?this.fromJSON(sys.settings.cameras):this.add();this.main=this.cameras[0]}sys=this.systems.events;sys.on(SceneEvents.UPDATE,this.update,this);sys.once(SceneEvents.SHUTDOWN,this.shutdown,this)},add:function(x,y,width,height,makeMain,name){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=this.scene.sys.scale.width);void 0===height&&(height=this.scene.sys.scale.height);void 0===makeMain&&(makeMain=!1);void 0===name&&(name="");x=new Camera(x,y,width,height);x.setName(name);
x.setScene(this.scene);x.setRoundPixels(this.roundPixels);x.id=this.getNextID();this.cameras.push(x);makeMain&&(this.main=x);return x},addExisting:function(camera,makeMain){void 0===makeMain&&(makeMain=!1);return-1===this.cameras.indexOf(camera)?(camera.id=this.getNextID(),camera.setRoundPixels(this.roundPixels),this.cameras.push(camera),makeMain&&(this.main=camera),camera):null},getNextID:function(){for(var cameras=this.cameras,testID=1,t=0;32>t;t++){for(var found=!1,i=0;i<cameras.length;i++){var camera=
cameras[i];camera&&camera.id===testID&&(found=!0)}if(found)testID<<=1;else return testID}return 0},getTotal:function(isVisible){void 0===isVisible&&(isVisible=!1);for(var total=0,cameras=this.cameras,i=0;i<cameras.length;i++){var camera=cameras[i];(!isVisible||isVisible&&camera.visible)&&total++}return total},fromJSON:function(config){Array.isArray(config)||(config=[config]);for(var gameWidth=this.scene.sys.scale.width,gameHeight=this.scene.sys.scale.height,i=0;i<config.length;i++){var cameraConfig=
config[i],x=GetFastValue(cameraConfig,"x",0),y=GetFastValue(cameraConfig,"y",0),width=GetFastValue(cameraConfig,"width",gameWidth),height=GetFastValue(cameraConfig,"height",gameHeight);x=this.add(x,y,width,height);x.name=GetFastValue(cameraConfig,"name","");x.zoom=GetFastValue(cameraConfig,"zoom",1);x.rotation=GetFastValue(cameraConfig,"rotation",0);x.scrollX=GetFastValue(cameraConfig,"scrollX",0);x.scrollY=GetFastValue(cameraConfig,"scrollY",0);x.roundPixels=GetFastValue(cameraConfig,"roundPixels",
!1);x.visible=GetFastValue(cameraConfig,"visible",!0);(y=GetFastValue(cameraConfig,"backgroundColor",!1))&&x.setBackgroundColor(y);if(height=GetFastValue(cameraConfig,"bounds",null))cameraConfig=GetFastValue(height,"x",0),y=GetFastValue(height,"y",0),width=GetFastValue(height,"width",gameWidth),height=GetFastValue(height,"height",gameHeight),x.setBounds(cameraConfig,y,width,height)}return this},getCamera:function(name){for(var cameras=this.cameras,i=0;i<cameras.length;i++)if(cameras[i].name===name)return cameras[i];
return null},getCamerasBelowPointer:function(pointer){var cameras=this.cameras,x=pointer.x;pointer=pointer.y;for(var output=[],i=0;i<cameras.length;i++){var camera=cameras[i];camera.visible&&camera.inputEnabled&&RectangleContains(camera,x,pointer)&&output.unshift(camera)}return output},remove:function(camera,runDestroy){void 0===runDestroy&&(runDestroy=!0);Array.isArray(camera)||(camera=[camera]);for(var total=0,cameras=this.cameras,i=0;i<camera.length;i++){var index=cameras.indexOf(camera[i]);-1!==
index&&(runDestroy?cameras[index].destroy():cameras[index].renderList=[],cameras.splice(index,1),total++)}!this.main&&cameras[0]&&(this.main=cameras[0]);return total},render:function(renderer,displayList){for(var scene=this.scene,cameras=this.cameras,i=0;i<this.cameras.length;i++){var camera=cameras[i];if(camera.visible&&0<camera.alpha){camera.preRender();var visibleChildren=this.getVisibleChildren(displayList.getChildren(),camera);renderer.render(scene,visibleChildren,camera)}}},getVisibleChildren:function(children,
camera){for(var visible=[],i=0;i<children.length;i++){var child=children[i];child.willRender(camera)&&visible.push(child)}return visible},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];return this.main=this.add()},update:function(time,delta){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(time,delta)},onResize:function(gameSize,baseSize,displaySize,previousWidth,previousHeight){for(gameSize=0;gameSize<this.cameras.length;gameSize++)displaySize=
this.cameras[gameSize],0===displaySize._x&&0===displaySize._y&&displaySize._width===previousWidth&&displaySize._height===previousHeight&&displaySize.setSize(baseSize.width,baseSize.height)},resize:function(width,height){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(width,height)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];i=this.systems.events;i.off(SceneEvents.UPDATE,this.update,this);i.off(SceneEvents.SHUTDOWN,
this.shutdown,this)},destroy:function(){this.shutdown();this.default.destroy();this.scene.sys.events.off(SceneEvents.START,this.start,this);this.systems=this.scene=null}});exports.register("CameraManager",__webpack_require__,"cameras");module.exports=__webpack_require__},function(module,exports){module.exports="enterfullscreen"},function(module,exports){module.exports="fullscreenfailed"},function(module,exports){module.exports="fullscreenunsupported"},function(module,exports){module.exports="leavefullscreen"},
function(module,exports){module.exports="orientationchange"},function(module,exports){module.exports="resize"},function(module,exports){module.exports="addedtoscene"},function(module,exports){module.exports="boot"},function(module,exports){module.exports="create"},function(module,exports){module.exports="destroy"},function(module,exports){module.exports="pause"},function(module,exports){module.exports="postupdate"},function(module,exports){module.exports="preupdate"},function(module,exports){module.exports=
"ready"},function(module,exports){module.exports="removedfromscene"},function(module,exports){module.exports="render"},function(module,exports){module.exports="resume"},function(module,exports){module.exports="shutdown"},function(module,exports){module.exports="sleep"},function(module,exports){module.exports="start"},function(module,exports){module.exports="transitioncomplete"},function(module,exports){module.exports="transitioninit"},function(module,exports){module.exports="transitionout"},function(module,
exports){module.exports="transitionstart"},function(module,exports){module.exports="transitionwake"},function(module,exports){module.exports="update"},function(module,exports){module.exports="wake"},function(module,exports,__webpack_require__){module.exports={Config:__webpack_require__(340),CreateRenderer:__webpack_require__(360),DebugHeader:__webpack_require__(378),Events:__webpack_require__(22),TimeStep:__webpack_require__(379),VisibilityHandler:__webpack_require__(381)}},function(module,exports){function defaultSetTimout(){throw Error("setTimeout has not been defined");
}function defaultClearTimeout(){throw Error("clearTimeout has not been defined");}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e$1){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);
if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e$2){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);
draining=!0;for(var len=queue.length;len;){currentQueue=queue;for(queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1;len=queue.length}currentQueue=null;draining=!1;runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun;this.array=array}function noop(){}module=module.exports={};try{var cachedSetTimeout="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{var cachedClearTimeout="function"===typeof clearTimeout?
clearTimeout:defaultClearTimeout}catch(e$0){cachedClearTimeout=defaultClearTimeout}var queue=[],draining=!1,currentQueue,queueIndex=-1;module.nextTick=function(fun){var args=Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args));1!==queue.length||draining||runTimeout(drainQueue)};Item.prototype.run=function(){this.fun.apply(null,this.array)};module.title="browser";module.browser=!0;module.env={};module.argv=[];module.version=
"";module.versions={};module.on=noop;module.addListener=noop;module.once=noop;module.off=noop;module.removeListener=noop;module.removeAllListeners=noop;module.emit=noop;module.prependListener=noop;module.prependOnceListener=noop;module.listeners=function(name){return[]};module.binding=function(name){throw Error("process.binding is not supported");};module.cwd=function(){return"/"};module.chdir=function(dir){throw Error("process.chdir is not supported");};module.umask=function(){return 0}},function(module,
exports,__webpack_require__){exports=__webpack_require__(134);__webpack_require__={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};if("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&1<=navigator.maxTouchPoints)__webpack_require__.touch=!0;if(navigator.msPointerEnabled||navigator.pointerEnabled)__webpack_require__.mspointer=!0;navigator.getGamepads&&(__webpack_require__.gamepads=!0);"onwheel"in window||exports.ie&&"WheelEvent"in window?__webpack_require__.wheelEvent="wheel":
"onmousewheel"in window?__webpack_require__.wheelEvent="mousewheel":exports.firefox&&"MouseScrollEvent"in window&&(__webpack_require__.wheelEvent="DOMMouseScroll");module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(134);__webpack_require__={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};__webpack_require__.audioData=!!window.Audio;__webpack_require__.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);
var audioElement=document.createElement("audio"),result=!!audioElement.canPlayType;try{if(result){audioElement.canPlayType('audio/ogg; codecs\x3d"vorbis"').replace(/^no$/,"")&&(__webpack_require__.ogg=!0);if(audioElement.canPlayType('audio/ogg; codecs\x3d"opus"').replace(/^no$/,"")||audioElement.canPlayType("audio/opus;").replace(/^no$/,""))__webpack_require__.opus=!0;audioElement.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(__webpack_require__.mp3=!0);audioElement.canPlayType("audio/wav").replace(/^no$/,
"")&&(__webpack_require__.wav=!0);if(audioElement.canPlayType("audio/x-m4a;")||audioElement.canPlayType("audio/aac;").replace(/^no$/,""))__webpack_require__.m4a=!0;audioElement.canPlayType('audio/webm; codecs\x3d"vorbis"').replace(/^no$/,"")&&(__webpack_require__.webm=!0);if(""!==audioElement.canPlayType('audio/mp4;codecs\x3d"ec-3"'))if(exports.edge)__webpack_require__.dolby=!0;else if(exports.safari&&9<=exports.safariVersion&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var major=parseInt(RegExp.$1,
10),minor=parseInt(RegExp.$2,10);if(10===major&&11<=minor||10<major)__webpack_require__.dolby=!0}}}catch(e){}module.exports=__webpack_require__},function(module,exports){exports={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};var videoElement=document.createElement("video"),result=!!videoElement.canPlayType;try{result&&(videoElement.canPlayType('video/ogg; codecs\x3d"theora"').replace(/^no$/,"")&&(exports.ogg=!0),videoElement.canPlayType('video/mp4; codecs\x3d"avc1.42E01E"').replace(/^no$/,"")&&(exports.h264=
!0,exports.mp4=!0),videoElement.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(/^no$/,"")&&(exports.webm=!0),videoElement.canPlayType('video/webm; codecs\x3d"vp9"').replace(/^no$/,"")&&(exports.vp9=!0),videoElement.canPlayType('application/x-mpegURL; codecs\x3d"avc1.42E01E"').replace(/^no$/,"")&&(exports.hls=!0))}catch(e){}module.exports=exports},function(module,exports){var Fullscreen={available:!1,cancel:"",keyboard:!1,request:""};module.exports=function(){var i,fs="requestFullscreen requestFullScreen webkitRequestFullscreen webkitRequestFullScreen msRequestFullscreen msRequestFullScreen mozRequestFullScreen mozRequestFullscreen".split(" ");
for(i=0;i<fs.length;i++)if(document.documentElement[fs[i]]){Fullscreen.available=!0;Fullscreen.request=fs[i];break}fs="cancelFullScreen exitFullscreen webkitCancelFullScreen webkitExitFullscreen msCancelFullScreen msExitFullscreen mozCancelFullScreen mozExitFullscreen".split(" ");if(Fullscreen.available)for(i=0;i<fs.length;i++)if(document[fs[i]]){Fullscreen.cancel=fs[i];break}window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(Fullscreen.keyboard=
!0);Object.defineProperty(Fullscreen,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}});return Fullscreen}()},function(module,exports,__webpack_require__){module.exports={Between:__webpack_require__(343),BetweenPoints:__webpack_require__(344),BetweenPointsY:__webpack_require__(810),BetweenY:__webpack_require__(811),CounterClockwise:__webpack_require__(812),Normalize:__webpack_require__(345),
Random:__webpack_require__(813),RandomDegrees:__webpack_require__(814),Reverse:__webpack_require__(815),RotateTo:__webpack_require__(816),ShortestBetween:__webpack_require__(817),Wrap:__webpack_require__(265),WrapDegrees:__webpack_require__(266)}},function(module,exports){module.exports=function(point1,point2){return Math.atan2(point2.x-point1.x,point2.y-point1.y)}},function(module,exports){module.exports=function(x1,y1,x2,y2){return Math.atan2(x2-x1,y2-y1)}},function(module,exports,__webpack_require__){var CONST=
__webpack_require__(14);module.exports=function(angle){angle>Math.PI&&(angle-=CONST.PI2);return Math.abs(((angle+CONST.TAU)%CONST.PI2-CONST.PI2)%CONST.PI2)}},function(module,exports,__webpack_require__){var FloatBetween=__webpack_require__(135);module.exports=function(){return FloatBetween(-Math.PI,Math.PI)}},function(module,exports,__webpack_require__){var FloatBetween=__webpack_require__(135);module.exports=function(){return FloatBetween(-180,180)}},function(module,exports,__webpack_require__){var Normalize=
__webpack_require__(345);module.exports=function(angle){return Normalize(angle+Math.PI)}},function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(14);module.exports=function(currentAngle,targetAngle,lerp){void 0===lerp&&(lerp=.05);if(currentAngle===targetAngle)return currentAngle;Math.abs(targetAngle-currentAngle)<=lerp||Math.abs(targetAngle-currentAngle)>=MATH_CONST.PI2-lerp?currentAngle=targetAngle:(Math.abs(targetAngle-currentAngle)>Math.PI&&(targetAngle=targetAngle<currentAngle?
targetAngle+MATH_CONST.PI2:targetAngle-MATH_CONST.PI2),targetAngle>currentAngle?currentAngle+=lerp:targetAngle<currentAngle&&(currentAngle-=lerp));return currentAngle}},function(module,exports){module.exports=function(angle1,angle2){angle1=angle2-angle1;return 0===angle1?0:angle1-360*Math.floor((angle1- -180)/360)}},function(module,exports,__webpack_require__){module.exports={Between:__webpack_require__(48),BetweenPoints:__webpack_require__(346),BetweenPointsSquared:__webpack_require__(819),Chebyshev:__webpack_require__(820),
Power:__webpack_require__(821),Snake:__webpack_require__(822),Squared:__webpack_require__(347)}},function(module,exports){module.exports=function(a,b){var dx=a.x-b.x;a=a.y-b.y;return dx*dx+a*a}},function(module,exports){module.exports=function(x1,y1,x2,y2){return Math.max(Math.abs(x1-x2),Math.abs(y1-y2))}},function(module,exports){module.exports=function(x1,y1,x2,y2,pow){void 0===pow&&(pow=2);return Math.sqrt(Math.pow(x2-x1,pow)+Math.pow(y2-y1,pow))}},function(module,exports){module.exports=function(x1,
y1,x2,y2){return Math.abs(x1-x2)+Math.abs(y1-y2)}},function(module,exports,__webpack_require__){module.exports={Back:__webpack_require__(328),Bounce:__webpack_require__(329),Circular:__webpack_require__(330),Cubic:__webpack_require__(331),Elastic:__webpack_require__(332),Expo:__webpack_require__(333),Linear:__webpack_require__(334),Quadratic:__webpack_require__(335),Quartic:__webpack_require__(336),Quintic:__webpack_require__(337),Sine:__webpack_require__(338),Stepped:__webpack_require__(339)}},function(module,
exports,__webpack_require__){module.exports={Ceil:__webpack_require__(825),Equal:__webpack_require__(123),Floor:__webpack_require__(826),GreaterThan:__webpack_require__(348),LessThan:__webpack_require__(349)}},function(module,exports){module.exports=function(value,epsilon){void 0===epsilon&&(epsilon=1E-4);return Math.ceil(value-epsilon)}},function(module,exports){module.exports=function(value,epsilon){void 0===epsilon&&(epsilon=1E-4);return Math.floor(value+epsilon)}},function(module,exports,__webpack_require__){module.exports=
{Bezier:__webpack_require__(828),CatmullRom:__webpack_require__(829),CubicBezier:__webpack_require__(352),Linear:__webpack_require__(830),QuadraticBezier:__webpack_require__(353),SmoothStep:__webpack_require__(354),SmootherStep:__webpack_require__(831)}},function(module,exports,__webpack_require__){var Bernstein=__webpack_require__(350);module.exports=function(v,k){for(var b=0,n=v.length-1,i=0;i<=n;i++)b+=Math.pow(1-k,n-i)*Math.pow(k,i)*v[i]*Bernstein(n,i);return b}},function(module,exports,__webpack_require__){var CatmullRom=
__webpack_require__(191);module.exports=function(v,k){var m=v.length-1,f=m*k,i=Math.floor(f);return v[0]===v[m]?(0>k&&(i=Math.floor(f=m*(1+k))),CatmullRom(f-i,v[(i-1+m)%m],v[i],v[(i+1)%m],v[(i+2)%m])):0>k?v[0]-(CatmullRom(-f,v[0],v[0],v[1],v[1])-v[0]):1<k?v[m]-(CatmullRom(f-m,v[m],v[m],v[m-1],v[m-1])-v[m]):CatmullRom(f-i,v[i?i-1:0],v[i],v[m<i+1?m:i+1],v[m<i+2?m:i+2])}},function(module,exports,__webpack_require__){var Linear=__webpack_require__(133);module.exports=function(v,k){var m=v.length-1,f=
m*k,i=Math.floor(f);return 0>k?Linear(v[0],v[1],f):1<k?Linear(v[m],v[m-1],m-f):Linear(v[i],v[i+1>m?m:i+1],f-i)}},function(module,exports,__webpack_require__){var SmootherStep=__webpack_require__(180);module.exports=function(t,min,max){return min+(max-min)*SmootherStep(t,0,1)}},function(module,exports,__webpack_require__){module.exports={GetNext:__webpack_require__(355),IsSize:__webpack_require__(136),IsValue:__webpack_require__(833)}},function(module,exports){module.exports=function(value){return 0<
value&&0===(value&value-1)}},function(module,exports,__webpack_require__){module.exports={Ceil:__webpack_require__(137),Floor:__webpack_require__(76),To:__webpack_require__(835)}},function(module,exports){module.exports=function(value,gap,start,divide){void 0===start&&(start=0);if(0===gap)return value;value=gap*Math.round((value-start)/gap);return divide?(start+value)/gap:start+value}},function(module,exports,__webpack_require__){exports=new (__webpack_require__(0))({initialize:function(seeds){void 0===
seeds&&(seeds=[(Date.now()*Math.random()).toString()]);this.c=1;this.n=this.s2=this.s1=this.s0=0;this.signs=[-1,1];seeds&&this.init(seeds)},rnd:function(){var t=2091639*this.s0+2.3283064365386963E-10*this.c;this.c=t|0;this.s0=this.s1;this.s1=this.s2;return this.s2=t-this.c},hash:function(data){var n=this.n;data=data.toString();for(var i=0;i<data.length;i++){n+=data.charCodeAt(i);var h=.02519603282416938*n;n=h>>>0;h-=n;h*=n;n=h>>>0;h-=n;n+=4294967296*h}this.n=n;return 2.3283064365386963E-10*(n>>>0)},
init:function(seeds){"string"===typeof seeds?this.state(seeds):this.sow(seeds)},sow:function(seeds){this.n=4022871197;this.s0=this.hash(" ");this.s1=this.hash(" ");this.s2=this.hash(" ");this.c=1;if(seeds)for(var i=0;i<seeds.length&&null!=seeds[i];i++){var seed=seeds[i];this.s0-=this.hash(seed);this.s0+=~~(0>this.s0);this.s1-=this.hash(seed);this.s1+=~~(0>this.s1);this.s2-=this.hash(seed);this.s2+=~~(0>this.s2)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+1.1102230246251565E-16*
(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(min,max){return Math.floor(this.realInRange(0,max-min+1)+min)},between:function(min,max){return Math.floor(this.realInRange(0,max-min+1)+min)},realInRange:function(min,max){return this.frac()*(max-min)+min},normal:function(){return 1-2*this.frac()},uuid:function(){var a,b;for(b=a="";36>a++;b+=~a%5|3*a&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return b},pick:function(array){return array[this.integerInRange(0,
array.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(array){return array[~~(Math.pow(this.frac(),2)*(array.length-1)+.5)]},timestamp:function(min,max){return this.realInRange(min||9466848E5,max||1577862E6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(state){"string"===typeof state&&state.match(/^!rnd/)&&(state=state.split(","),this.c=parseFloat(state[1]),this.s0=parseFloat(state[2]),
this.s1=parseFloat(state[3]),this.s2=parseFloat(state[4]));return["!rnd",this.c,this.s0,this.s1,this.s2].join()},shuffle:function(array){for(var i=array.length-1;0<i;i--){var randomIndex=Math.floor(this.frac()*(i+1)),itemAtIndex=array[randomIndex];array[randomIndex]=array[i];array[i]=itemAtIndex}return array}});module.exports=exports},function(module,exports){module.exports=function(values){for(var sum=0,i=0;i<values.length;i++)sum+=+values[i];return sum/values.length}},function(module,exports){module.exports=
function(value,place,base){void 0===place&&(place=0);void 0===base&&(base=10);place=Math.pow(base,-place);return Math.ceil(value*place)/place}},function(module,exports){module.exports=function(a,b){return Math.abs(a-b)}},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Matrix4=__webpack_require__(67),NOOP=__webpack_require__(1),tempMatrix=new Matrix4;__webpack_require__=new exports({initialize:function Euler(x,y,z,order){void 0===x&&
(x=0);void 0===y&&(y=0);void 0===z&&(z=0);void 0===order&&(order=Euler.DefaultOrder);this._x=x;this._y=y;this._z=z;this._order=order;this.onChangeCallback=NOOP},x:{get:function(){return this._x},set:function(value){this._x=value;this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(value){this._y=value;this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(value){this._z=value;this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(value){this._order=
value;this.onChangeCallback(this)}},set:function(x,y,z,order){void 0===order&&(order=this._order);this._x=x;this._y=y;this._z=z;this._order=order;this.onChangeCallback(this);return this},copy:function(euler){return this.set(euler.x,euler.y,euler.z,euler.order)},setFromQuaternion:function(quaternion,order,update){void 0===order&&(order=this._order);void 0===update&&(update=!1);tempMatrix.fromQuat(quaternion);return this.setFromRotationMatrix(tempMatrix,order,update)},setFromRotationMatrix:function(matrix,
order,update){void 0===order&&(order=this._order);void 0===update&&(update=!1);var elements=matrix.val;matrix=elements[0];var m12=elements[4],m13=elements[8],m21=elements[1],m22=elements[5],m23=elements[9],m31=elements[2],m32=elements[6];elements=elements[10];var x=0,y=0,z=0;switch(order){case "XYZ":y=Math.asin(Clamp(m13,-1,1));.99999>Math.abs(m13)?(x=Math.atan2(-m23,elements),z=Math.atan2(-m12,matrix)):x=Math.atan2(m32,m22);break;case "YXZ":x=Math.asin(-Clamp(m23,-1,1));.99999>Math.abs(m23)?(y=Math.atan2(m13,
elements),z=Math.atan2(m21,m22)):y=Math.atan2(-m31,matrix);break;case "ZXY":x=Math.asin(Clamp(m32,-1,1));.99999>Math.abs(m32)?(y=Math.atan2(-m31,elements),z=Math.atan2(-m12,m22)):z=Math.atan2(m21,matrix);break;case "ZYX":y=Math.asin(-Clamp(m31,-1,1));.99999>Math.abs(m31)?(x=Math.atan2(m32,elements),z=Math.atan2(m21,matrix)):z=Math.atan2(-m12,m22);break;case "YZX":z=Math.asin(Clamp(m21,-1,1));.99999>Math.abs(m21)?(x=Math.atan2(-m23,m22),y=Math.atan2(-m31,matrix)):y=Math.atan2(m13,elements);break;case "XZY":z=
Math.asin(-Clamp(m12,-1,1)),.99999>Math.abs(m12)?(x=Math.atan2(m32,m22),y=Math.atan2(m13,matrix)):x=Math.atan2(-m23,elements)}this._x=x;this._y=y;this._z=z;this._order=order;if(update)this.onChangeCallback(this);return this}});__webpack_require__.RotationOrders="XYZ YXZ ZXY ZYX YZX XZY".split(" ");__webpack_require__.DefaultOrder="XYZ";module.exports=__webpack_require__},function(module,exports){module.exports=function(value,place,base){void 0===place&&(place=0);void 0===base&&(base=10);place=Math.pow(base,
-place);return Math.floor(value*place)/place}},function(module,exports){module.exports=function(distance,time){return distance/time/1E3}},function(module,exports){module.exports=function(value){return value==parseFloat(value)?!(value%2):void 0}},function(module,exports){module.exports=function(value){return value===parseFloat(value)?!(value%2):void 0}},function(module,exports){module.exports=function(value,amount,max){return Math.min(value+amount,max)}},function(module,exports){module.exports=function(value,
amount,min){return Math.max(value-amount,min)}},function(module,exports){module.exports=function(value,min,max,upperMax){void 0===max&&(max=min+1);min=(value-min)/(max-min);1<min?void 0!==upperMax?(min=(upperMax-value)/(upperMax-max),0>min&&(min=0)):min=1:0>min&&(min=0);return min}},function(module,exports){module.exports=function(vector,scale){void 0===scale&&(scale=1);var r=2*Math.random()*Math.PI;vector.x=Math.cos(r)*scale;vector.y=Math.sin(r)*scale;return vector}},function(module,exports){module.exports=
function(vec3,radius){void 0===radius&&(radius=1);var r=2*Math.random()*Math.PI,z=2*Math.random()-1,zScale=Math.sqrt(1-z*z)*radius;vec3.x=Math.cos(r)*zScale;vec3.y=Math.sin(r)*zScale;vec3.z=z*radius;return vec3}},function(module,exports){module.exports=function(vec4,scale){void 0===scale&&(scale=1);vec4.x=(2*Math.random()-1)*scale;vec4.y=(2*Math.random()-1)*scale;vec4.z=(2*Math.random()-1)*scale;vec4.w=(2*Math.random()-1)*scale;return vec4}},function(module,exports){module.exports=function(point,
x,y,angle,distance){point.x=x+distance*Math.cos(angle);point.y=y+distance*Math.sin(angle);return point}},function(module,exports){module.exports=function(value,place,base){void 0===place&&(place=0);void 0===base&&(base=10);place=Math.pow(base,-place);return Math.round(value*place)/place}},function(module,exports){module.exports=function(length,sinAmp,cosAmp,frequency){void 0===sinAmp&&(sinAmp=1);void 0===cosAmp&&(cosAmp=1);void 0===frequency&&(frequency=1);frequency*=Math.PI/length;for(var cos=[],
sin=[],c=0;c<length;c++)cosAmp-=sinAmp*frequency,sinAmp+=cosAmp*frequency,cos[c]=cosAmp,sin[c]=sinAmp;return{sin:sin,cos:cos,length:length}}},function(module,exports,__webpack_require__){var Vector2=__webpack_require__(3);module.exports=function(index,width,height,out){void 0===out&&(out=new Vector2);var y=0;0<index&&index<=width*height&&(index>width-1&&(y=Math.floor(index/width),index-=y*width),out.set(index,y));return out}},function(module,exports){module.exports=function(a,b,tolerance){return Math.abs(a-
b)<=tolerance}},function(module,exports,__webpack_require__){exports=__webpack_require__(38);var Matrix4=__webpack_require__(67);__webpack_require__=__webpack_require__(359);var tmpMat4=new Matrix4,tmpQuat=new __webpack_require__,tmpVec3=new exports;module.exports=function(vec,axis,radians){tmpQuat.setAxisAngle(axis,radians);tmpMat4.fromRotationTranslation(tmpQuat,tmpVec3.set(0,0,0));return vec.transformMat4(tmpMat4)}},function(module,exports){module.exports="addtexture"},function(module,exports){module.exports=
"onerror"},function(module,exports){module.exports="onload"},function(module,exports){module.exports="ready"},function(module,exports){module.exports="removetexture"},function(module,exports){module.exports="#define SHADER_NAME PHASER_BITMAP_MASK_FS\n\nprecision mediump float;\n\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uMaskSampler;\nuniform bool uInvertMaskAlpha;\n\nvoid main ()\n{\n    vec2 uv \x3d gl_FragCoord.xy / uResolution;\n    vec4 mainColor \x3d texture2D(uMainSampler, uv);\n    vec4 maskColor \x3d texture2D(uMaskSampler, uv);\n    float alpha \x3d mainColor.a;\n\n    if (!uInvertMaskAlpha)\n    {\n        alpha *\x3d (maskColor.a);\n    }\n    else\n    {\n        alpha *\x3d (1.0 - maskColor.a);\n    }\n\n    gl_FragColor \x3d vec4(mainColor.rgb * alpha, alpha);\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_BITMAP_MASK_VS\n\nprecision mediump float;\n\nattribute vec2 inPosition;\n\nvoid main ()\n{\n    gl_Position \x3d vec4(inPosition, 0.0, 1.0);\n}\n"},function(module,exports){module.exports="pipelineafterflush"},function(module,exports){module.exports="pipelinebeforeflush"},function(module,exports){module.exports="pipelinebind"},function(module,exports){module.exports="pipelineboot"},function(module,exports){module.exports="pipelinedestroy"},
function(module,exports){module.exports="pipelinerebind"},function(module,exports){module.exports="pipelineresize"},function(module,exports){module.exports="#define SHADER_NAME PHASER_GRAPHICS_FS\n\nprecision mediump float;\n\nvarying vec4 outColor;\n\nvoid main ()\n{\n    gl_FragColor \x3d vec4(outColor.bgr * outColor.a, outColor.a);\n}\n"},function(module,exports){module.exports="#define SHADER_NAME PHASER_GRAPHICS_VS\n\nprecision mediump float;\n\nuniform mat4 uProjectionMatrix;\n\nattribute vec2 inPosition;\nattribute vec4 inColor;\n\nvarying vec4 outColor;\n\nvoid main ()\n{\n    gl_Position \x3d uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n\n    outColor \x3d inColor;\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_LIGHT_FS\n\nprecision mediump float;\n\nstruct Light\n{\n    vec2 position;\n    vec3 color;\n    float intensity;\n    float radius;\n};\n\nconst int kMaxLights \x3d %LIGHT_COUNT%;\n\nuniform vec4 uCamera; /* x, y, rotation, zoom */\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uNormSampler;\nuniform vec3 uAmbientLightColor;\nuniform Light uLights[kMaxLights];\nuniform mat3 uInverseRotationMatrix;\n\nvarying vec2 outTexCoord;\nvarying vec4 outTint;\n\nvoid main()\n{\n    vec3 finalColor \x3d vec3(0.0, 0.0, 0.0);\n    vec4 color \x3d texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);\n    vec3 normalMap \x3d texture2D(uNormSampler, outTexCoord).rgb;\n    vec3 normal \x3d normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));\n    vec2 res \x3d vec2(min(uResolution.x, uResolution.y)) * uCamera.w;\n\n    for (int index \x3d 0; index \x3c kMaxLights; ++index)\n    {\n        Light light \x3d uLights[index];\n        vec3 lightDir \x3d vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);\n        vec3 lightNormal \x3d normalize(lightDir);\n        float distToSurf \x3d length(lightDir) * uCamera.w;\n        float diffuseFactor \x3d max(dot(normal, lightNormal), 0.0);\n        float radius \x3d (light.radius / res.x * uCamera.w) * uCamera.w;\n        float attenuation \x3d clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);\n        vec3 diffuse \x3d light.color * diffuseFactor;\n        finalColor +\x3d (attenuation * diffuse) * light.intensity;\n    }\n\n    vec4 colorOutput \x3d vec4(uAmbientLightColor + finalColor, 1.0);\n\n    gl_FragColor \x3d color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_MULTI_FS\n\nprecision mediump float;\n\nuniform sampler2D uMainSampler[%count%];\n\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\n\nvoid main ()\n{\n    vec4 texture;\n\n    %forloop%\n\n    vec4 texel \x3d vec4(outTint.bgr * outTint.a, outTint.a);\n\n    //  Multiply texture tint\n    vec4 color \x3d texture * texel;\n\n    if (outTintEffect \x3d\x3d 1.0)\n    {\n        //  Solid color + texture alpha\n        color.rgb \x3d mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect \x3d\x3d 2.0)\n    {\n        //  Solid color, no texture\n        color \x3d texel;\n    }\n\n    gl_FragColor \x3d color;\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_MULTI_VS\n\nprecision mediump float;\n\nuniform mat4 uProjectionMatrix;\n\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\n\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\n\nvoid main ()\n{\n    gl_Position \x3d uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n\n    outTexCoord \x3d inTexCoord;\n    outTexId \x3d inTexId;\n    outTint \x3d inTint;\n    outTintEffect \x3d inTintEffect;\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_POINTLIGHT_FS\n\nprecision mediump float;\n\nuniform vec2 uResolution;\nuniform float uCameraZoom;\n\nvarying vec4 lightPosition;\nvarying vec4 lightColor;\nvarying float lightRadius;\nvarying float lightAttenuation;\n\nvoid main ()\n{\n    vec2 center \x3d (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);\n\n    float distToSurf \x3d length(center - gl_FragCoord.xy);\n\n    float radius \x3d 1.0 - distToSurf / (lightRadius * uCameraZoom);\n\n    float intensity \x3d smoothstep(0.0, 1.0, radius * lightAttenuation);\n\n    vec4 color \x3d vec4(intensity, intensity, intensity, 0.0) * lightColor;\n\n    gl_FragColor \x3d vec4(color.rgb * lightColor.a, color.a);\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_POINTLIGHT_VS\n\nprecision mediump float;\n\nuniform mat4 uProjectionMatrix;\n\nattribute vec2 inPosition;\nattribute vec2 inLightPosition;\nattribute vec4 inLightColor;\nattribute float inLightRadius;\nattribute float inLightAttenuation;\n\nvarying vec4 lightPosition;\nvarying vec4 lightColor;\nvarying float lightRadius;\nvarying float lightAttenuation;\n\nvoid main ()\n{\n    lightColor \x3d inLightColor;\n    lightRadius \x3d inLightRadius;\n    lightAttenuation \x3d inLightAttenuation;\n    lightPosition \x3d uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);\n\n    gl_Position \x3d uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_SINGLE_FS\n\nprecision mediump float;\n\nuniform sampler2D uMainSampler;\n\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\n\nvoid main ()\n{\n    vec4 texture \x3d texture2D(uMainSampler, outTexCoord);\n    vec4 texel \x3d vec4(outTint.bgr * outTint.a, outTint.a);\n\n    //  Multiply texture tint\n    vec4 color \x3d texture * texel;\n\n    if (outTintEffect \x3d\x3d 1.0)\n    {\n        //  Solid color + texture alpha\n        color.rgb \x3d mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect \x3d\x3d 2.0)\n    {\n        //  Solid color, no texture\n        color \x3d texel;\n    }\n\n    gl_FragColor \x3d color;\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_SINGLE_VS\n\nprecision mediump float;\n\nuniform mat4 uProjectionMatrix;\n\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\n\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\n\nvoid main ()\n{\n    gl_Position \x3d uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n\n    outTexCoord \x3d inTexCoord;\n    outTint \x3d inTint;\n    outTintEffect \x3d inTintEffect;\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_ADD_BLEND_FS\n\nprecision mediump float;\n\nuniform sampler2D uMainSampler1;\nuniform sampler2D uMainSampler2;\nuniform float uStrength;\n\nvarying vec2 outTexCoord;\n\nvoid main ()\n{\n    vec4 frame1 \x3d texture2D(uMainSampler1, outTexCoord);\n    vec4 frame2 \x3d texture2D(uMainSampler2, outTexCoord);\n\n    gl_FragColor \x3d frame1 + frame2 * uStrength;\n}\n"},function(module,exports){module.exports="#define SHADER_NAME PHASER_COLORMATRIX_FS\n\nprecision mediump float;\n\nuniform sampler2D uMainSampler;\nuniform float uColorMatrix[20];\nuniform float uAlpha;\n\nvarying vec2 outTexCoord;\n\nvoid main ()\n{\n    vec4 c \x3d texture2D(uMainSampler, outTexCoord);\n\n    if (uAlpha \x3d\x3d 0.0)\n    {\n        gl_FragColor \x3d c;\n\n        return;\n    }\n\n    if (c.a \x3e 0.0)\n    {\n        c.rgb /\x3d c.a;\n    }\n\n    vec4 result;\n\n    result.r \x3d (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];\n    result.g \x3d (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];\n    result.b \x3d (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];\n    result.a \x3d (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];\n\n    vec3 rgb \x3d mix(c.rgb, result.rgb, uAlpha);\n\n    rgb *\x3d result.a;\n\n    gl_FragColor \x3d vec4(rgb, result.a);\n}\n"},
function(module,exports){module.exports="#define SHADER_NAME PHASER_COPY_FS\n\nprecision mediump float;\n\nuniform sampler2D uMainSampler;\nuniform float uBrightness;\n\nvarying vec2 outTexCoord;\n\nvoid main ()\n{\n    gl_FragColor \x3d texture2D(uMainSampler, outTexCoord) * uBrightness;\n}\n"},function(module,exports){module.exports="#define SHADER_NAME PHASER_LINEAR_BLEND_FS\n\nprecision mediump float;\n\nuniform sampler2D uMainSampler1;\nuniform sampler2D uMainSampler2;\nuniform float uStrength;\n\nvarying vec2 outTexCoord;\n\nvoid main ()\n{\n    vec4 frame1 \x3d texture2D(uMainSampler1, outTexCoord);\n    vec4 frame2 \x3d texture2D(uMainSampler2, outTexCoord);\n\n    gl_FragColor \x3d mix(frame1, frame2 * uStrength, 0.5);\n}\n"},
function(module,exports,__webpack_require__){module.exports={GenerateTexture:__webpack_require__(382),Palettes:__webpack_require__(885)}},function(module,exports,__webpack_require__){module.exports={ARNE16:__webpack_require__(383),C64:__webpack_require__(886),CGA:__webpack_require__(887),JMP:__webpack_require__(888),MSX:__webpack_require__(889)}},function(module,exports){module.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",
A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(module,exports){module.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(module,exports){module.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",
E:"#afaab9",F:"#f5f4eb"}},function(module,exports){module.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(module,exports,__webpack_require__){module.exports={Path:__webpack_require__(891),MoveTo:__webpack_require__(387),CubicBezier:__webpack_require__(384),Curve:__webpack_require__(90),Ellipse:__webpack_require__(385),Line:__webpack_require__(386),
QuadraticBezier:__webpack_require__(388),Spline:__webpack_require__(389)}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CubicBezierCurve=__webpack_require__(384),EllipseCurve=__webpack_require__(385),GameObjectFactory=__webpack_require__(5),LineCurve=__webpack_require__(386),MovePathTo=__webpack_require__(387),QuadraticBezierCurve=__webpack_require__(388),Rectangle=__webpack_require__(10),SplineCurve=__webpack_require__(389),Vector2=__webpack_require__(3),MATH_CONST=
__webpack_require__(14),Path=new exports({initialize:function(x,y){void 0===x&&(x=0);void 0===y&&(y=0);this.name="";this.curves=[];this.cacheLengths=[];this.autoClose=!1;this.startPoint=new Vector2;this._tmpVec2A=new Vector2;this._tmpVec2B=new Vector2;"object"===typeof x?this.fromJSON(x):this.startPoint.set(x,y)},add:function(curve){this.curves.push(curve);return this},circleTo:function(radius,clockwise,rotation){void 0===clockwise&&(clockwise=!1);return this.ellipseTo(radius,radius,0,360,clockwise,
rotation)},closePath:function(){var startPoint=this.curves[0].getPoint(0),endPoint=this.curves[this.curves.length-1].getPoint(1);startPoint.equals(endPoint)||this.curves.push(new LineCurve(endPoint,startPoint));return this},cubicBezierTo:function(x,y,control1X,control1Y,control2X,control2Y){var p0=this.getEndPoint();x instanceof Vector2?(control1Y=x,control2X=y,x=control1X):(control1Y=new Vector2(control1X,control1Y),control2X=new Vector2(control2X,control2Y),x=new Vector2(x,y));return this.add(new CubicBezierCurve(p0,
control1Y,control2X,x))},quadraticBezierTo:function(x,y,controlX,controlY){var p0=this.getEndPoint();x instanceof Vector2?(controlX=x,x=y):(controlX=new Vector2(controlX,controlY),x=new Vector2(x,y));return this.add(new QuadraticBezierCurve(p0,controlX,x))},draw:function(graphics,pointsTotal){for(var i=0;i<this.curves.length;i++){var curve=this.curves[i];curve.active&&curve.draw(graphics,pointsTotal)}return graphics},ellipseTo:function(xRadius,yRadius,startAngle,endAngle,clockwise,rotation){xRadius=
new EllipseCurve(0,0,xRadius,yRadius,startAngle,endAngle,clockwise,rotation);yRadius=this.getEndPoint(this._tmpVec2A);startAngle=xRadius.getStartPoint(this._tmpVec2B);yRadius.subtract(startAngle);xRadius.x=yRadius.x;xRadius.y=yRadius.y;return this.add(xRadius)},fromJSON:function(data){this.curves=[];this.cacheLengths=[];this.startPoint.set(data.x,data.y);this.autoClose=data.autoClose;for(var i=0;i<data.curves.length;i++){var curve=data.curves[i];switch(curve.type){case "LineCurve":this.add(LineCurve.fromJSON(curve));
break;case "EllipseCurve":this.add(EllipseCurve.fromJSON(curve));break;case "SplineCurve":this.add(SplineCurve.fromJSON(curve));break;case "CubicBezierCurve":this.add(CubicBezierCurve.fromJSON(curve));break;case "QuadraticBezierCurve":this.add(QuadraticBezierCurve.fromJSON(curve))}}return this},getBounds:function(out,accuracy){void 0===out&&(out=new Rectangle);void 0===accuracy&&(accuracy=16);out.x=Number.MAX_VALUE;out.y=Number.MAX_VALUE;for(var bounds=new Rectangle,maxRight=MATH_CONST.MIN_SAFE_INTEGER,
maxBottom=MATH_CONST.MIN_SAFE_INTEGER,i=0;i<this.curves.length;i++){var curve=this.curves[i];curve.active&&(curve.getBounds(bounds,accuracy),out.x=Math.min(out.x,bounds.x),out.y=Math.min(out.y,bounds.y),maxRight=Math.max(maxRight,bounds.right),maxBottom=Math.max(maxBottom,bounds.bottom))}out.right=maxRight;out.bottom=maxBottom;return out},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var lengths=[],sums=0,i=0;i<this.curves.length;i++)sums+=
this.curves[i].getLength(),lengths.push(sums);return this.cacheLengths=lengths},getEndPoint:function(out){void 0===out&&(out=new Vector2);0<this.curves.length?this.curves[this.curves.length-1].getPoint(1,out):out.copy(this.startPoint);return out},getLength:function(){var lens=this.getCurveLengths();return lens[lens.length-1]},getPoint:function(t,out){void 0===out&&(out=new Vector2);var d=t*this.getLength(),curveLengths=this.getCurveLengths();for(t=0;t<curveLengths.length;){if(curveLengths[t]>=d)return d=
curveLengths[t]-d,t=this.curves[t],curveLengths=t.getLength(),t.getPointAt(0===curveLengths?0:1-d/curveLengths,out);t++}return null},getPoints:function(divisions){void 0===divisions&&(divisions=12);for(var points=[],last,i=0;i<this.curves.length;i++){var curve=this.curves[i];if(curve.active){var resolution=curve.getResolution(divisions);curve=curve.getPoints(resolution);for(resolution=0;resolution<curve.length;resolution++){var point=curve[resolution];last&&last.equals(point)||(points.push(point),
last=point)}}}this.autoClose&&1<points.length&&!points[points.length-1].equals(points[0])&&points.push(points[0]);return points},getRandomPoint:function(out){void 0===out&&(out=new Vector2);return this.getPoint(Math.random(),out)},getSpacedPoints:function(divisions){void 0===divisions&&(divisions=40);for(var points=[],i=0;i<=divisions;i++)points.push(this.getPoint(i/divisions));this.autoClose&&points.push(points[0]);return points},getStartPoint:function(out){void 0===out&&(out=new Vector2);return out.copy(this.startPoint)},
getTangent:function(t,out){void 0===out&&(out=new Vector2);var d=t*this.getLength(),curveLengths=this.getCurveLengths();for(t=0;t<curveLengths.length;){if(curveLengths[t]>=d)return d=curveLengths[t]-d,t=this.curves[t],curveLengths=t.getLength(),t.getTangentAt(0===curveLengths?0:1-d/curveLengths,out);t++}return null},lineTo:function(x,y){x instanceof Vector2?this._tmpVec2B.copy(x):this._tmpVec2B.set(x,y);x=this.getEndPoint(this._tmpVec2A);return this.add(new LineCurve([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},
splineTo:function(points){points.unshift(this.getEndPoint());return this.add(new SplineCurve(points))},moveTo:function(x,y){return x instanceof Vector2?this.add(new MovePathTo(x.x,x.y)):this.add(new MovePathTo(x,y))},toJSON:function(){for(var out=[],i=0;i<this.curves.length;i++)out.push(this.curves[i].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:out}},updateArcLengths:function(){this.cacheLengths=[];this.getCurveLengths()},destroy:function(){this.curves.length=
0;this.cacheLengths.length=0;this.startPoint=void 0}});GameObjectFactory.register("path",function(x,y){return new Path(x,y)});module.exports=Path},function(module,exports,__webpack_require__){module.exports={DataManager:__webpack_require__(98),DataManagerPlugin:__webpack_require__(893),Events:__webpack_require__(309)}},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),DataManager=__webpack_require__(98);exports=__webpack_require__(24);var SceneEvents=__webpack_require__(21);
__webpack_require__=new Class({Extends:DataManager,initialize:function(scene){DataManager.call(this,scene,scene.sys.events);this.scene=scene;this.systems=scene.sys;scene.sys.events.once(SceneEvents.BOOT,this.boot,this);scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.events=this.systems.events;this.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(SceneEvents.SHUTDOWN,
this.shutdown,this)},destroy:function(){DataManager.prototype.destroy.call(this);this.events.off(SceneEvents.START,this.start,this);this.systems=this.scene=null}});exports.register("DataManagerPlugin",__webpack_require__,"data");module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={Align:__webpack_require__(895),BaseShader:__webpack_require__(390),Bounds:__webpack_require__(898),Canvas:__webpack_require__(902),Color:__webpack_require__(391),ColorMatrix:__webpack_require__(195),
Masks:__webpack_require__(912),RGB:__webpack_require__(197)}},function(module,exports,__webpack_require__){exports=__webpack_require__(122);var Extend=__webpack_require__(17);__webpack_require__={In:__webpack_require__(896),To:__webpack_require__(897)};__webpack_require__=Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={BottomCenter:__webpack_require__(284),BottomLeft:__webpack_require__(285),BottomRight:__webpack_require__(286),
Center:__webpack_require__(287),LeftCenter:__webpack_require__(289),QuickSet:__webpack_require__(283),RightCenter:__webpack_require__(290),TopCenter:__webpack_require__(291),TopLeft:__webpack_require__(292),TopRight:__webpack_require__(293)}},function(module,exports,__webpack_require__){module.exports={BottomCenter:__webpack_require__(271),BottomLeft:__webpack_require__(272),BottomRight:__webpack_require__(273),LeftBottom:__webpack_require__(274),LeftCenter:__webpack_require__(275),LeftTop:__webpack_require__(276),
QuickSet:__webpack_require__(270),RightBottom:__webpack_require__(277),RightCenter:__webpack_require__(278),RightTop:__webpack_require__(279),TopCenter:__webpack_require__(280),TopLeft:__webpack_require__(281),TopRight:__webpack_require__(282)}},function(module,exports,__webpack_require__){module.exports={CenterOn:__webpack_require__(288),GetBottom:__webpack_require__(40),GetBounds:__webpack_require__(899),GetCenterX:__webpack_require__(84),GetCenterY:__webpack_require__(86),GetLeft:__webpack_require__(41),
GetOffsetX:__webpack_require__(900),GetOffsetY:__webpack_require__(901),GetRight:__webpack_require__(42),GetTop:__webpack_require__(43),SetBottom:__webpack_require__(54),SetCenterX:__webpack_require__(85),SetCenterY:__webpack_require__(87),SetLeft:__webpack_require__(52),SetRight:__webpack_require__(53),SetTop:__webpack_require__(51)}},function(module,exports,__webpack_require__){var GetBottom=__webpack_require__(40),GetLeft=__webpack_require__(41),GetRight=__webpack_require__(42),GetTop=__webpack_require__(43);
module.exports=function(gameObject,output){void 0===output&&(output={});var left=GetLeft(gameObject),top=GetTop(gameObject);output.x=left;output.y=top;output.width=GetRight(gameObject)-left;output.height=GetBottom(gameObject)-top;return output}},function(module,exports){module.exports=function(gameObject){return gameObject.width*gameObject.originX}},function(module,exports){module.exports=function(gameObject){return gameObject.height*gameObject.originY}},function(module,exports,__webpack_require__){module.exports=
{CanvasInterpolation:__webpack_require__(361),CanvasPool:__webpack_require__(31),Smoothing:__webpack_require__(189),TouchAction:__webpack_require__(903),UserSelect:__webpack_require__(904)}},function(module,exports){module.exports=function(canvas,value){void 0===value&&(value="none");canvas.style.msTouchAction=value;canvas.style["ms-touch-action"]=value;canvas.style["touch-action"]=value;return canvas}},function(module,exports){module.exports=function(canvas,value){void 0===value&&(value="none");
["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(vendor){canvas.style[vendor+"user-select"]=value});canvas.style["-webkit-touch-callout"]=value;canvas.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)";return canvas}},function(module,exports,__webpack_require__){var GetColor=__webpack_require__(100);module.exports=function(limit){void 0===limit&&(limit=1024);var colors=[],i,r=255,g,b=0;for(i=0;255>=i;i++)colors.push({r:r,g:i,b:b,color:GetColor(r,i,b)});for(i=g=255;0<=i;i--)colors.push({r:i,
g:g,b:b,color:GetColor(i,g,b)});for(i=r=0;255>=i;i++,g--)colors.push({r:r,g:g,b:i,color:GetColor(r,g,i)});g=0;b=255;for(i=0;255>=i;i++,b--,r++)colors.push({r:r,g:g,b:b,color:GetColor(r,g,b)});if(1024===limit)return colors;r=[];g=0;b=1024/limit;for(i=0;i<limit;i++)r.push(colors[Math.floor(g)]),g+=b;return r}},function(module,exports){module.exports=function(color){var output={r:color>>16&255,g:color>>8&255,b:color&255,a:255};16777215<color&&(output.a=color>>>24);return output}},function(module,exports,
__webpack_require__){var Color=__webpack_require__(37),HueToComponent=__webpack_require__(393);module.exports=function(h,s,l){var r=l,g=l,b=l;0!==s&&(s=.5>l?l*(1+s):l+s-l*s,l=2*l-s,r=HueToComponent(l,s,h+1/3),g=HueToComponent(l,s,h),b=HueToComponent(l,s,h-1/3));return(new Color).setGLTo(r,g,b,1)}},function(module,exports,__webpack_require__){var HSVToRGB=__webpack_require__(185);module.exports=function(s,v){void 0===s&&(s=1);void 0===v&&(v=1);for(var colors=[],c=0;359>=c;c++)colors.push(HSVToRGB(c/
359,s,v));return colors}},function(module,exports,__webpack_require__){var Linear=__webpack_require__(133),RGBWithRGB=function(r1,g1,b1,r2,g2,b2,length,index){void 0===length&&(length=100);void 0===index&&(index=0);length=index/length;return{r:Linear(r1,r2,length),g:Linear(g1,g2,length),b:Linear(b1,b2,length)}};module.exports={RGBWithRGB:RGBWithRGB,ColorWithRGB:function(color,r,g,b,length,index){void 0===length&&(length=100);void 0===index&&(index=0);return RGBWithRGB(color.r,color.g,color.b,r,g,
b,length,index)},ColorWithColor:function(color1,color2,length,index){void 0===length&&(length=100);void 0===index&&(index=0);return RGBWithRGB(color1.r,color1.g,color1.b,color2.r,color2.g,color2.b,length,index)}}},function(module,exports,__webpack_require__){var Between=__webpack_require__(192),Color=__webpack_require__(37);module.exports=function(min,max){void 0===min&&(min=0);void 0===max&&(max=255);return new Color(Between(min,max),Between(min,max),Between(min,max))}},function(module,exports,__webpack_require__){var ComponentToHex=
__webpack_require__(392);module.exports=function(r,g,b,a,prefix){void 0===a&&(a=255);void 0===prefix&&(prefix="#");return"#"===prefix?"#"+(16777216+(r<<16)+(g<<8)+b).toString(16).slice(1):"0x"+ComponentToHex(a)+ComponentToHex(r)+ComponentToHex(g)+ComponentToHex(b)}},function(module,exports,__webpack_require__){module.exports={BitmapMask:__webpack_require__(304),GeometryMask:__webpack_require__(305)}},function(module,exports,__webpack_require__){exports={AddToDOM:__webpack_require__(140),DOMContentLoaded:__webpack_require__(394),
GetInnerHeight:__webpack_require__(395),GetScreenOrientation:__webpack_require__(396),GetTarget:__webpack_require__(401),ParseXML:__webpack_require__(402),RemoveFromDOM:__webpack_require__(199),RequestAnimationFrame:__webpack_require__(380)};module.exports=exports},function(module,exports,__webpack_require__){module.exports={EventEmitter:__webpack_require__(915)}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var EE=__webpack_require__(9);__webpack_require__=__webpack_require__(24);
exports=new exports({Extends:EE,initialize:function(){EE.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});__webpack_require__.register("EventEmitter",exports,"events");module.exports=exports},function(module,exports,__webpack_require__){var AddToDOM=__webpack_require__(140),AnimationManager=__webpack_require__(315),CacheManager=__webpack_require__(319),CanvasPool=__webpack_require__(31);exports=__webpack_require__(0);var Config=__webpack_require__(340),
CreateDOMContainer=__webpack_require__(917),CreateRenderer=__webpack_require__(360),DataManager=__webpack_require__(98),DebugHeader=__webpack_require__(378),Device=__webpack_require__(341),DOMContentLoaded=__webpack_require__(394),EventEmitter=__webpack_require__(9),Events=__webpack_require__(22),InputManager=__webpack_require__(403),PluginCache=__webpack_require__(24),PluginManager=__webpack_require__(408),ScaleManager=__webpack_require__(409),SceneManager=__webpack_require__(411),TextureEvents=
__webpack_require__(103),TextureManager=__webpack_require__(416),TimeStep=__webpack_require__(379),VisibilityHandler=__webpack_require__(381),SoundManagerCreator=__webpack_require__(420);__webpack_require__=new exports({initialize:function(config){this.config=new Config(config);this.context=this.canvas=this.domContainer=this.renderer=null;this.isRunning=this.isBooted=!1;this.events=new EventEmitter;this.anims=new AnimationManager(this);this.textures=new TextureManager(this);this.cache=new CacheManager(this);
this.registry=new DataManager(this);this.input=new InputManager(this,this.config);this.scene=new SceneManager(this,this.config.sceneConfig);this.device=Device;this.scale=new ScaleManager(this,this.config);this.sound=null;this.sound=SoundManagerCreator.create(this);this.loop=new TimeStep(this,this.config.fps);this.plugins=new PluginManager(this,this.config);this.hasFocus=this.noReturn=this.removeCanvas=this.pendingDestroy=!1;DOMContentLoaded(this.boot.bind(this))},boot:function(){PluginCache.hasCore("EventEmitter")?
(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),CreateRenderer(this),CreateDOMContainer(this),DebugHeader(this),AddToDOM(this.canvas,this.config.parent),this.textures.once(TextureEvents.READY,this.texturesReady,this),this.events.emit(Events.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(Events.READY);this.start()},start:function(){this.isRunning=!0;this.config.postBoot(this);this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this));
VisibilityHandler(this);var eventEmitter=this.events;eventEmitter.on(Events.HIDDEN,this.onHidden,this);eventEmitter.on(Events.VISIBLE,this.onVisible,this);eventEmitter.on(Events.BLUR,this.onBlur,this);eventEmitter.on(Events.FOCUS,this.onFocus,this)},step:function(time,delta){if(this.pendingDestroy)return this.runDestroy();var eventEmitter=this.events;eventEmitter.emit(Events.PRE_STEP,time,delta);eventEmitter.emit(Events.STEP,time,delta);this.scene.update(time,delta);eventEmitter.emit(Events.POST_STEP,
time,delta);var renderer=this.renderer;renderer.preRender();eventEmitter.emit(Events.PRE_RENDER,renderer,time,delta);this.scene.render(renderer);renderer.postRender();eventEmitter.emit(Events.POST_RENDER,renderer,time,delta)},headlessStep:function(time,delta){if(this.pendingDestroy)return this.runDestroy();var eventEmitter=this.events;eventEmitter.emit(Events.PRE_STEP,time,delta);eventEmitter.emit(Events.STEP,time,delta);this.scene.update(time,delta);eventEmitter.emit(Events.POST_STEP,time,delta);
eventEmitter.emit(Events.PRE_RENDER);eventEmitter.emit(Events.POST_RENDER)},onHidden:function(){this.loop.pause();this.events.emit(Events.PAUSE)},onVisible:function(){this.loop.resume();this.events.emit(Events.RESUME)},onBlur:function(){this.hasFocus=!1;this.loop.blur()},onFocus:function(){this.hasFocus=!0;this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(removeCanvas,noReturn){void 0===noReturn&&(noReturn=!1);this.pendingDestroy=
!0;this.removeCanvas=removeCanvas;this.noReturn=noReturn},runDestroy:function(){this.scene.destroy();this.events.emit(Events.DESTROY);this.events.removeAllListeners();this.renderer&&this.renderer.destroy();this.removeCanvas&&this.canvas&&(CanvasPool.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas));this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer);this.loop.destroy();this.pendingDestroy=!1}});module.exports=__webpack_require__},
function(module,exports,__webpack_require__){var AddToDOM=__webpack_require__(140);module.exports=function(game){var config=game.config;if(config.parent&&config.domCreateContainer){var div=document.createElement("div");div.style.cssText=["display: block;","width: "+game.scale.width+"px;","height: "+game.scale.height+"px;","padding: 0; margin: 0; position: absolute; overflow: hidden; pointer-events: none; transform: scale(1); transform-origin: left top;"].join(" ");game.domContainer=div;AddToDOM(div,
config.parent)}}},function(module,exports){module.exports="boot"},function(module,exports){module.exports="destroy"},function(module,exports){module.exports="dragend"},function(module,exports){module.exports="dragenter"},function(module,exports){module.exports="drag"},function(module,exports){module.exports="dragleave"},function(module,exports){module.exports="dragover"},function(module,exports){module.exports="dragstart"},function(module,exports){module.exports="drop"},function(module,exports){module.exports=
"gameout"},function(module,exports){module.exports="gameover"},function(module,exports){module.exports="gameobjectdown"},function(module,exports){module.exports="dragend"},function(module,exports){module.exports="dragenter"},function(module,exports){module.exports="drag"},function(module,exports){module.exports="dragleave"},function(module,exports){module.exports="dragover"},function(module,exports){module.exports="dragstart"},function(module,exports){module.exports="drop"},function(module,exports){module.exports=
"gameobjectmove"},function(module,exports){module.exports="gameobjectout"},function(module,exports){module.exports="gameobjectover"},function(module,exports){module.exports="pointerdown"},function(module,exports){module.exports="pointermove"},function(module,exports){module.exports="pointerout"},function(module,exports){module.exports="pointerover"},function(module,exports){module.exports="pointerup"},function(module,exports){module.exports="wheel"},function(module,exports){module.exports="gameobjectup"},
function(module,exports){module.exports="gameobjectwheel"},function(module,exports){module.exports="boot"},function(module,exports){module.exports="process"},function(module,exports){module.exports="update"},function(module,exports){module.exports="pointerdown"},function(module,exports){module.exports="pointerdownoutside"},function(module,exports){module.exports="pointermove"},function(module,exports){module.exports="pointerout"},function(module,exports){module.exports="pointerover"},function(module,
exports){module.exports="pointerup"},function(module,exports){module.exports="pointerupoutside"},function(module,exports){module.exports="wheel"},function(module,exports){module.exports="pointerlockchange"},function(module,exports){module.exports="preupdate"},function(module,exports){module.exports="shutdown"},function(module,exports){module.exports="start"},function(module,exports){module.exports="update"},function(module,exports){module.exports="addfile"},function(module,exports){module.exports=
"complete"},function(module,exports){module.exports="filecomplete"},function(module,exports){module.exports="filecomplete-"},function(module,exports){module.exports="loaderror"},function(module,exports){module.exports="load"},function(module,exports){module.exports="fileprogress"},function(module,exports){module.exports="postprocess"},function(module,exports){module.exports="progress"},function(module,exports){module.exports="start"},function(module,exports,__webpack_require__){module.exports={game:"game",
renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},function(module,exports){module.exports=function(texture,sourceIndex,xml){if(xml.getElementsByTagName("TextureAtlas")){var source=
texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);xml=xml.getElementsByTagName("SubTexture");for(source=0;source<xml.length;source++){var frame=xml[source].attributes;var newFrame=frame.name.value;var x=parseInt(frame.x.value,10),y=parseInt(frame.y.value,10),width=parseInt(frame.width.value,10),height=parseInt(frame.height.value,10);newFrame=texture.add(newFrame,sourceIndex,x,y,width,height);if(frame.frameX){x=Math.abs(parseInt(frame.frameX.value,10));y=
Math.abs(parseInt(frame.frameY.value,10));var frameWidth=parseInt(frame.frameWidth.value,10);frame=parseInt(frame.frameHeight.value,10);newFrame.setTrim(width,height,x,y,frameWidth,frame)}}return texture}console.warn("Invalid Texture Atlas XML given")}},function(module,exports){module.exports=function(texture,sourceIndex){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);return texture}},function(module,exports){module.exports=function(texture,
sourceIndex){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);return texture}},function(module,exports,__webpack_require__){var Clone=__webpack_require__(77);module.exports=function(texture,sourceIndex,json){if(json.frames||json.textures){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);source=Array.isArray(json.textures)?json.textures[sourceIndex].frames:json.frames;for(var newFrame,i=0;i<
source.length;i++){var src=source[i];newFrame=texture.add(src.filename,sourceIndex,src.frame.x,src.frame.y,src.frame.w,src.frame.h);src.trimmed&&newFrame.setTrim(src.sourceSize.w,src.sourceSize.h,src.spriteSourceSize.x,src.spriteSourceSize.y,src.spriteSourceSize.w,src.spriteSourceSize.h);src.rotated&&(newFrame.rotated=!0,newFrame.updateUVsInverted());var pivot=src.anchor||src.pivot;pivot&&(newFrame.customPivot=!0,newFrame.pivotX=pivot.x,newFrame.pivotY=pivot.y);newFrame.customData=Clone(src)}for(var dataKey in json)"frames"!==
dataKey&&(Array.isArray(json[dataKey])?texture.customData[dataKey]=json[dataKey].slice(0):texture.customData[dataKey]=json[dataKey]);return texture}console.warn("Invalid Texture Atlas JSON Array")}},function(module,exports,__webpack_require__){var Clone=__webpack_require__(77);module.exports=function(texture,sourceIndex,json){if(json.frames){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);source=json.frames;var key;for(key in source)if(source.hasOwnProperty(key)){var src=
source[key];var newFrame=texture.add(key,sourceIndex,src.frame.x,src.frame.y,src.frame.w,src.frame.h);src.trimmed&&newFrame.setTrim(src.sourceSize.w,src.sourceSize.h,src.spriteSourceSize.x,src.spriteSourceSize.y,src.spriteSourceSize.w,src.spriteSourceSize.h);src.rotated&&(newFrame.rotated=!0,newFrame.updateUVsInverted());var pivot=src.anchor||src.pivot;pivot&&(newFrame.customPivot=!0,newFrame.pivotX=pivot.x,newFrame.pivotY=pivot.y);newFrame.customData=Clone(src)}for(var dataKey in json)"frames"!==
dataKey&&(Array.isArray(json[dataKey])?texture.customData[dataKey]=json[dataKey].slice(0):texture.customData[dataKey]=json[dataKey]);return texture}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(module,exports,__webpack_require__){var GetFastValue=__webpack_require__(2);module.exports=function(texture,sourceIndex,x,y,width,height,config){var frameWidth=GetFastValue(config,"frameWidth",null),frameHeight=GetFastValue(config,"frameHeight",frameWidth);if(null===
frameWidth)throw Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);var startFrame=GetFastValue(config,"startFrame",0),endFrame=GetFastValue(config,"endFrame",-1);source=GetFastValue(config,"margin",0);config=GetFastValue(config,"spacing",0);var total=Math.floor((width-source+config)/(frameWidth+config))*Math.floor((height-source+config)/(frameHeight+config));0===total&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",
texture.key);if(startFrame>total||startFrame<-total)startFrame=0;0>startFrame&&(startFrame=total+startFrame);-1!==endFrame&&(total=startFrame+(endFrame+1));endFrame=startFrame=source;for(var ax,ay,i=0;i<total;i++){ay=ax=0;var w=startFrame+frameWidth,h=endFrame+frameHeight;w>width&&(ax=w-width);h>height&&(ay=h-height);texture.add(i,sourceIndex,x+startFrame,y+endFrame,frameWidth-ax,frameHeight-ay);startFrame+=frameWidth+config;startFrame+frameWidth>width&&(startFrame=source,endFrame+=frameHeight+config)}return texture}},
function(module,exports,__webpack_require__){var GetFastValue=__webpack_require__(2);module.exports=function(texture,frame,config){var frameWidth=GetFastValue(config,"frameWidth",null),frameHeight=GetFastValue(config,"frameHeight",frameWidth);if(!frameWidth)throw Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var source=texture.source[0];texture.add("__BASE",0,0,0,source.width,source.height);GetFastValue(config,"startFrame",0);GetFastValue(config,"endFrame",-1);source=GetFastValue(config,
"margin",0);config=GetFastValue(config,"spacing",0);var x=frame.cutX,y=frame.cutY,sheetWidth=frame.realWidth,sheetHeight=frame.realHeight,row=Math.floor((sheetWidth-source+config)/(frameWidth+config)),column=Math.floor((sheetHeight-source+config)/(frameHeight+config)),leftPad=frame.x,leftWidth=frameWidth-leftPad;sheetWidth=frameWidth-(sheetWidth-frame.cutWidth-leftPad);var topPad=frame.y,topHeight=frameHeight-topPad;sheetHeight=frameHeight-(sheetHeight-frame.cutHeight-topPad);for(var frameX=source,
frameY=source,frameIndex=0,sourceIndex=frame.sourceIndex,sheetY=0;sheetY<column;sheetY++){for(var topRow=0===sheetY,bottomRow=sheetY===column-1,sheetX=0;sheetX<row;sheetX++){var leftRow=0===sheetX,rightRow=sheetX===row-1;frame=texture.add(frameIndex,sourceIndex,x+frameX,y+frameY,frameWidth,frameHeight);if(leftRow||topRow||rightRow||bottomRow){var destX=leftRow?leftPad:0,destY=topRow?topPad:0,trimWidth=0,trimHeight=0;leftRow&&(trimWidth+=frameWidth-leftWidth);rightRow&&(trimWidth+=frameWidth-sheetWidth);
topRow&&(trimHeight+=frameHeight-topHeight);bottomRow&&(trimHeight+=frameHeight-sheetHeight);trimWidth=frameWidth-trimWidth;trimHeight=frameHeight-trimHeight;frame.cutWidth=trimWidth;frame.cutHeight=trimHeight;frame.setTrim(frameWidth,frameHeight,destX,destY,trimWidth,trimHeight)}frameX+=config;frameX=leftRow?frameX+leftWidth:rightRow?frameX+sheetWidth:frameX+frameWidth;frameIndex++}frameX=source;frameY+=config;frameY=topRow?frameY+topHeight:bottomRow?frameY+sheetHeight:frameY+frameHeight}return texture}},
function(module,exports){var imageHeight=0;module.exports=function(texture,sourceIndex,yaml){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height);imageHeight=source.height;yaml=yaml.split("\n");source=/^[ ]*(- )*(\w+)+[: ]+(.*)/;for(var prevSprite="",currentSprite="",rect={x:0,y:0,width:0,height:0},i=0;i<yaml.length;i++){var results=yaml[i].match(source);if(results){var key=results[2],value=results[3];"- "===results[1]&&(currentSprite!==prevSprite&&
(texture.add(currentSprite,sourceIndex,rect.x,imageHeight-rect.y-rect.height,rect.width,rect.height),prevSprite=currentSprite),rect={x:0,y:0,width:0,height:0});if("name"===key)currentSprite=value;else switch(key){case "x":case "y":case "width":case "height":rect[key]=parseInt(value,10)}}}currentSprite!==prevSprite&&texture.add(currentSprite,sourceIndex,rect.x,imageHeight-rect.y-rect.height,rect.width,rect.height);return texture}},function(module,exports){module.exports="complete"},function(module,
exports){module.exports="decoded"},function(module,exports){module.exports="decodedall"},function(module,exports){module.exports="destroy"},function(module,exports){module.exports="detune"},function(module,exports){module.exports="detune"},function(module,exports){module.exports="mute"},function(module,exports){module.exports="rate"},function(module,exports){module.exports="volume"},function(module,exports){module.exports="loop"},function(module,exports){module.exports="looped"},function(module,exports){module.exports=
"mute"},function(module,exports){module.exports="pan"},function(module,exports){module.exports="pauseall"},function(module,exports){module.exports="pause"},function(module,exports){module.exports="play"},function(module,exports){module.exports="rate"},function(module,exports){module.exports="resumeall"},function(module,exports){module.exports="resume"},function(module,exports){module.exports="seek"},function(module,exports){module.exports="stopall"},function(module,exports){module.exports="stop"},
function(module,exports){module.exports="unlocked"},function(module,exports){module.exports="volume"},function(module,exports,__webpack_require__){exports={Events:__webpack_require__(75),DisplayList:__webpack_require__(1008),GameObjectCreator:__webpack_require__(16),GameObjectFactory:__webpack_require__(5),UpdateList:__webpack_require__(1034),Components:__webpack_require__(11),GetCalcMatrix:__webpack_require__(19),BuildGameObject:__webpack_require__(28),BuildGameObjectAnimation:__webpack_require__(433),
GameObject:__webpack_require__(15),BitmapText:__webpack_require__(147),Blitter:__webpack_require__(210),Bob:__webpack_require__(434),Container:__webpack_require__(211),DOMElement:__webpack_require__(436),DynamicBitmapText:__webpack_require__(212),Extern:__webpack_require__(438),Graphics:__webpack_require__(213),Group:__webpack_require__(110),Image:__webpack_require__(124),Layer:__webpack_require__(216),Particles:__webpack_require__(1068),PathFollower:__webpack_require__(451),RenderTexture:__webpack_require__(218),
RetroFont:__webpack_require__(1076),Rope:__webpack_require__(220),Sprite:__webpack_require__(73),Text:__webpack_require__(221),GetTextSize:__webpack_require__(452),MeasureText:__webpack_require__(454),TextStyle:__webpack_require__(453),TileSprite:__webpack_require__(222),Zone:__webpack_require__(127),Video:__webpack_require__(223),Shape:__webpack_require__(33),Arc:__webpack_require__(455),Curve:__webpack_require__(456),Ellipse:__webpack_require__(457),Grid:__webpack_require__(458),IsoBox:__webpack_require__(459),
IsoTriangle:__webpack_require__(460),Line:__webpack_require__(461),Polygon:__webpack_require__(462),Rectangle:__webpack_require__(467),Star:__webpack_require__(468),Triangle:__webpack_require__(469),Factories:{Blitter:__webpack_require__(1124),Container:__webpack_require__(1125),DOMElement:__webpack_require__(1126),DynamicBitmapText:__webpack_require__(1127),Extern:__webpack_require__(1128),Graphics:__webpack_require__(1129),Group:__webpack_require__(1130),Image:__webpack_require__(1131),Layer:__webpack_require__(1132),
Particles:__webpack_require__(1133),PathFollower:__webpack_require__(1134),RenderTexture:__webpack_require__(1135),Rope:__webpack_require__(1136),Sprite:__webpack_require__(1137),StaticBitmapText:__webpack_require__(1138),Text:__webpack_require__(1139),TileSprite:__webpack_require__(1140),Zone:__webpack_require__(1141),Video:__webpack_require__(1142),Arc:__webpack_require__(1143),Curve:__webpack_require__(1144),Ellipse:__webpack_require__(1145),Grid:__webpack_require__(1146),IsoBox:__webpack_require__(1147),
IsoTriangle:__webpack_require__(1148),Line:__webpack_require__(1149),Polygon:__webpack_require__(1150),Rectangle:__webpack_require__(1151),Star:__webpack_require__(1152),Triangle:__webpack_require__(1153)},Creators:{Blitter:__webpack_require__(1154),Container:__webpack_require__(1155),DynamicBitmapText:__webpack_require__(1156),Graphics:__webpack_require__(1157),Group:__webpack_require__(1158),Image:__webpack_require__(1159),Layer:__webpack_require__(1160),Particles:__webpack_require__(1161),RenderTexture:__webpack_require__(1162),
Rope:__webpack_require__(1163),Sprite:__webpack_require__(1164),StaticBitmapText:__webpack_require__(1165),Text:__webpack_require__(1166),TileSprite:__webpack_require__(1167),Zone:__webpack_require__(1168),Video:__webpack_require__(1169)}};exports.Shader=__webpack_require__(226);exports.Mesh=__webpack_require__(227);exports.PointLight=__webpack_require__(149);exports.Factories.Shader=__webpack_require__(1178);exports.Factories.Mesh=__webpack_require__(1179);exports.Factories.PointLight=__webpack_require__(1180);
exports.Creators.Shader=__webpack_require__(1181);exports.Creators.Mesh=__webpack_require__(1182);exports.Creators.PointLight=__webpack_require__(1183);exports.Light=__webpack_require__(475);exports.LightsManager=__webpack_require__(476);exports.LightsPlugin=__webpack_require__(1184);module.exports=exports},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),List=__webpack_require__(107);exports=__webpack_require__(24);var GameObjectEvents=__webpack_require__(75),SceneEvents=
__webpack_require__(21),StableSort=__webpack_require__(79);__webpack_require__=new Class({Extends:List,initialize:function(scene){List.call(this,scene);this.sortChildrenFlag=!1;this.scene=scene;this.systems=scene.sys;this.events=scene.sys.events;this.addCallback=this.addChildCallback;this.removeCallback=this.removeChildCallback;this.events.once(SceneEvents.BOOT,this.boot,this);this.events.on(SceneEvents.START,this.start,this)},boot:function(){this.events.once(SceneEvents.DESTROY,this.destroy,this)},
addChildCallback:function(gameObject){gameObject.emit(GameObjectEvents.ADDED_TO_SCENE,gameObject,this.scene);gameObject.displayList&&gameObject.displayList.remove(gameObject);gameObject.displayList=this;this.queueDepthSort();this.events.emit(SceneEvents.ADDED_TO_SCENE,gameObject,this.scene)},removeChildCallback:function(gameObject){gameObject.emit(GameObjectEvents.REMOVED_FROM_SCENE,gameObject,this.scene);gameObject.displayList=null;this.queueDepthSort();this.events.emit(SceneEvents.REMOVED_FROM_SCENE,
gameObject,this.scene)},start:function(){this.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(StableSort(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(childA,childB){return childA._depth-childB._depth},getChildren:function(){return this.list},shutdown:function(){for(var list=this.list,i=list.length;i--;)list[i].destroy(!0);list.length=0;this.events.off(SceneEvents.SHUTDOWN,
this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(SceneEvents.START,this.start,this);this.events=this.systems=this.scene=null}});exports.register("DisplayList",__webpack_require__,"displayList");module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={CheckMatrix:__webpack_require__(206),MatrixToString:__webpack_require__(1010),ReverseColumns:__webpack_require__(1011),ReverseRows:__webpack_require__(1012),Rotate180:__webpack_require__(1013),
RotateLeft:__webpack_require__(1014),RotateMatrix:__webpack_require__(146),RotateRight:__webpack_require__(1015),Translate:__webpack_require__(1016),TransposeMatrix:__webpack_require__(429)}},function(module,exports,__webpack_require__){var Pad=__webpack_require__(183),CheckMatrix=__webpack_require__(206);module.exports=function(matrix){var str="";if(!CheckMatrix(matrix))return str;for(var r=0;r<matrix.length;r++){for(var c=0;c<matrix[r].length;c++){var cell=matrix[r][c].toString();str="undefined"!==
cell?str+Pad(cell,2):str+"?";c<matrix[r].length-1&&(str+=" |")}if(r<matrix.length-1){str+="\n";for(c=0;c<matrix[r].length;c++)str+="---",c<matrix[r].length-1&&(str+="+");str+="\n"}}return str}},function(module,exports){module.exports=function(matrix){return matrix.reverse()}},function(module,exports){module.exports=function(matrix){for(var i=0;i<matrix.length;i++)matrix[i].reverse();return matrix}},function(module,exports,__webpack_require__){var RotateMatrix=__webpack_require__(146);module.exports=
function(matrix){return RotateMatrix(matrix,180)}},function(module,exports,__webpack_require__){var RotateMatrix=__webpack_require__(146);module.exports=function(matrix){return RotateMatrix(matrix,90)}},function(module,exports,__webpack_require__){var RotateMatrix=__webpack_require__(146);module.exports=function(matrix){return RotateMatrix(matrix,-90)}},function(module,exports,__webpack_require__){var RotateLeft=__webpack_require__(175),RotateRight=__webpack_require__(176);module.exports=function(matrix,
x,y){void 0===x&&(x=0);void 0===y&&(y=0);0!==y&&(0>y?RotateLeft(matrix,Math.abs(y)):RotateRight(matrix,y));if(0!==x)for(y=0;y<matrix.length;y++){var row=matrix[y];0>x?RotateLeft(row,Math.abs(x)):RotateRight(row,x)}return matrix}},function(module,exports){module.exports=function(array,item,limit,callback,context){void 0===context&&(context=array);if(0<limit){var remaining=limit-array.length;if(0>=remaining)return null}if(!Array.isArray(item))return-1===array.indexOf(item)?(array.push(item),callback&&
callback.call(context,item),item):null;for(var itemLength=item.length-1;0<=itemLength;)-1!==array.indexOf(item[itemLength])&&item.splice(itemLength,1),itemLength--;itemLength=item.length;if(0===itemLength)return null;0<limit&&itemLength>remaining&&(item.splice(remaining),itemLength=remaining);for(limit=0;limit<itemLength;limit++)remaining=item[limit],array.push(remaining),callback&&callback.call(context,remaining);return item}},function(module,exports){module.exports=function(array,item,index,limit,
callback,context){void 0===index&&(index=0);void 0===context&&(context=array);if(0<limit){var remaining=limit-array.length;if(0>=remaining)return null}if(!Array.isArray(item))return-1===array.indexOf(item)?(array.splice(index,0,item),callback&&callback.call(context,item),item):null;for(var itemLength=item.length-1;0<=itemLength;)-1!==array.indexOf(item[itemLength])&&item.pop(),itemLength--;itemLength=item.length;if(0===itemLength)return null;0<limit&&itemLength>remaining&&(item.splice(remaining),
itemLength=remaining);for(limit=itemLength-1;0<=limit;limit--)remaining=item[limit],array.splice(index,0,remaining),callback&&callback.call(context,remaining);return item}},function(module,exports){module.exports=function(array,item){var currentIndex=array.indexOf(item);-1!==currentIndex&&currentIndex<array.length&&(array.splice(currentIndex,1),array.push(item));return item}},function(module,exports,__webpack_require__){var SafeRange=__webpack_require__(78);module.exports=function(array,property,
value,startIndex,endIndex){void 0===startIndex&&(startIndex=0);void 0===endIndex&&(endIndex=array.length);var total=0;if(SafeRange(array,startIndex,endIndex))for(;startIndex<endIndex;startIndex++)array[startIndex][property]===value&&total++;return total}},function(module,exports){module.exports=function(array,callback,context){var i,args=[null];for(i=3;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<array.length;i++)args[0]=array[i],callback.apply(context,args);return array}},function(module,
exports,__webpack_require__){var SafeRange=__webpack_require__(78);module.exports=function(array,callback,context,startIndex,endIndex){void 0===startIndex&&(startIndex=0);void 0===endIndex&&(endIndex=array.length);if(SafeRange(array,startIndex,endIndex)){var i,args=[null];for(i=5;i<arguments.length;i++)args.push(arguments[i]);for(i=startIndex;i<endIndex;i++)args[0]=array[i],callback.apply(context,args)}return array}},function(module,exports){module.exports=function(array,item){var currentIndex=array.indexOf(item);
if(0<currentIndex){var item2=array[currentIndex-1],index2=array.indexOf(item2);array[currentIndex]=item2;array[index2]=item}return array}},function(module,exports){module.exports=function(array,item,index){var currentIndex=array.indexOf(item);if(-1===currentIndex||0>index||index>=array.length)throw Error("Supplied index out of bounds");currentIndex!==index&&(array.splice(currentIndex,1),array.splice(index,0,item));return item}},function(module,exports){module.exports=function(array,item){var currentIndex=
array.indexOf(item);if(-1!==currentIndex&&currentIndex<array.length-1){var item2=array[currentIndex+1],index2=array.indexOf(item2);array[currentIndex]=item2;array[index2]=item}return array}},function(module,exports,__webpack_require__){var RoundAwayFromZero=__webpack_require__(357);module.exports=function(start,end,step){void 0===start&&(start=0);void 0===end&&(end=null);void 0===step&&(step=1);null===end&&(end=start,start=0);var result=[];end=Math.max(RoundAwayFromZero((end-start)/(step||1)),0);
for(var i=0;i<end;i++)result.push(start),start+=step;return result}},function(module,exports,__webpack_require__){var SpliceOne=__webpack_require__(74);module.exports=function(array,index,callback,context){void 0===context&&(context=array);if(0>index||index>array.length-1)throw Error("Index out of bounds");array=SpliceOne(array,index);callback&&callback.call(context,array);return array}},function(module,exports,__webpack_require__){var SafeRange=__webpack_require__(78);module.exports=function(array,
startIndex,endIndex,callback,context){void 0===startIndex&&(startIndex=0);void 0===endIndex&&(endIndex=array.length);void 0===context&&(context=array);if(SafeRange(array,startIndex,endIndex)){array=array.splice(startIndex,endIndex-startIndex);if(callback)for(startIndex=0;startIndex<array.length;startIndex++)callback.call(context,array[startIndex]);return array}return[]}},function(module,exports,__webpack_require__){var SpliceOne=__webpack_require__(74);module.exports=function(array,start,length){void 0===
start&&(start=0);void 0===length&&(length=array.length);return SpliceOne(array,start+Math.floor(Math.random()*length))}},function(module,exports){module.exports=function(array,oldChild,newChild){oldChild=array.indexOf(oldChild);var index2=array.indexOf(newChild);return-1!==oldChild&&-1===index2?(array[oldChild]=newChild,!0):!1}},function(module,exports){module.exports=function(array,item){var currentIndex=array.indexOf(item);-1!==currentIndex&&0<currentIndex&&(array.splice(currentIndex,1),array.unshift(item));
return item}},function(module,exports,__webpack_require__){var SafeRange=__webpack_require__(78);module.exports=function(array,property,value,startIndex,endIndex){void 0===startIndex&&(startIndex=0);void 0===endIndex&&(endIndex=array.length);if(SafeRange(array,startIndex,endIndex))for(;startIndex<endIndex;startIndex++){var entry=array[startIndex];entry.hasOwnProperty(property)&&(entry[property]=value)}return array}},function(module,exports){module.exports=function(array,item1,item2){if(item1!==item2){var index1=
array.indexOf(item1),index2=array.indexOf(item2);if(0>index1||0>index2)throw Error("Supplied items must be elements of the same array");array[index1]=item2;array[index2]=item1;return array}}},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),ProcessQueue=__webpack_require__(208);exports=__webpack_require__(24);var SceneEvents=__webpack_require__(21);__webpack_require__=new Class({Extends:ProcessQueue,initialize:function(scene){ProcessQueue.call(this);this.checkQueue=!0;
this.scene=scene;this.systems=scene.sys;scene.sys.events.once(SceneEvents.BOOT,this.boot,this);scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.PRE_UPDATE,this.update,this);eventEmitter.on(SceneEvents.UPDATE,this.sceneUpdate,this);eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(time,delta){for(var list=
this._active,length=list.length,i=0;i<length;i++){var gameObject=list[i];gameObject.active&&gameObject.preUpdate.call(gameObject,time,delta)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0;this._pending=[];this._active=[];this._destroy=[];this.removeAllListeners();i=this.systems.events;i.off(SceneEvents.PRE_UPDATE,this.preUpdate,
this);i.off(SceneEvents.UPDATE,this.sceneUpdate,this);i.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.systems.events.off(SceneEvents.START,this.start,this);this.systems=this.scene=null}});exports.register("UpdateList",__webpack_require__,"updateList");module.exports=__webpack_require__},function(module,exports){module.exports="add"},function(module,exports){module.exports="remove"},function(module,exports){module.exports=function(src,round,updateOrigin,out){void 0===
updateOrigin&&(updateOrigin=!1);if(void 0===out)return out={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var text=src.text,textLength=text.length,maxWidth=src.maxWidth,wordWrapCharCode=src.wordWrapCharCode,bx=Number.MAX_VALUE,by=Number.MAX_VALUE,bw=0,bh=0,chars=src.fontData.chars,lineHeight=src.fontData.lineHeight,letterSpacing=src.letterSpacing,xAdvance=0,yAdvance=0,glyph,
align=src._align,scale=src.fontSize/src.fontData.size,sx=scale*src.scaleX,sy=scale*src.scaleY,lastGlyph=null,lastCharCode=0,lineWidths=[],shortestLine=Number.MAX_VALUE,longestLine=0,currentLine=0;var x=0;var i,words=[],characters=[],current=null;if(0<maxWidth){for(i=0;i<textLength;i++){var charCode=text.charCodeAt(i);if(10===charCode)null!==current&&(words.push({word:current.word,i:current.i,x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy,cr:!0}),current=null),xAdvance=0,yAdvance+=lineHeight,
lastGlyph=null;else if(glyph=chars[charCode]){if(null!==lastGlyph)var glyphKerningOffset=glyph.kerning[lastCharCode];charCode===wordWrapCharCode?null!==current&&(words.push({word:current.word,i:current.i,x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy,cr:!1}),current=null):(null===current&&(current={word:"",i:i,x:xAdvance,y:yAdvance,w:0,h:lineHeight,cr:!1}),current.word=current.word.concat(text[i]),current.w+=glyph.xOffset+glyph.xAdvance+(void 0!==glyphKerningOffset?glyphKerningOffset:
0));xAdvance+=glyph.xAdvance+letterSpacing;lastGlyph=glyph;lastCharCode=charCode}}null!==current&&words.push({word:current.word,i:current.i,x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy,cr:!1});yAdvance=xAdvance=0;lastGlyph=null;charCode=lastCharCode=0;textLength=[];for(i=0;i<words.length;i++){glyph=words[i];current=glyph.x;glyphKerningOffset=glyph.x+glyph.w;if(y){charCode=current-(current-(y.x+y.w)+y.w);var y=null}glyphKerningOffset-=charCode;current-charCode>maxWidth||glyphKerningOffset>
maxWidth?(textLength.push(glyph.i-1),glyph.cr?(textLength.push(glyph.i+glyph.word.length),charCode=0,y=null):y=glyph):glyph.cr&&(textLength.push(glyph.i+glyph.word.length),charCode=0,y=null)}for(i=textLength.length-1;0<=i;i--)words=text,text=textLength[i],text=words.substr(0,text)+"\n"+words.substr(text+1);out.wrappedText=text;textLength=text.length;words=[];current=null}for(i=maxWidth=0;i<textLength;i++)if(charCode=text.charCodeAt(i),10===charCode)null!==current&&(words.push({word:current.word,i:current.i,
x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy}),current=null),xAdvance=0,yAdvance+=lineHeight,lastGlyph=null,lineWidths[currentLine]=x,x>longestLine&&(longestLine=x),x<shortestLine&&(shortestLine=x),currentLine++,x=0;else if(glyph=chars[charCode]){x=xAdvance;y=yAdvance;if(null!==lastGlyph){var kerningOffset=glyph.kerning[lastCharCode];x+=void 0!==kerningOffset?kerningOffset:0}bx>x&&(bx=x);by>y&&(by=y);x+=glyph.xAdvance;lastGlyph=y+lineHeight;bw<x&&(bw=x);bh<lastGlyph&&(bh=lastGlyph);
lastGlyph=glyph.xOffset+glyph.xAdvance+(void 0!==kerningOffset?kerningOffset:0);charCode===wordWrapCharCode?null!==current&&(words.push({word:current.word,i:current.i,x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy}),current=null):(null===current&&(current={word:"",i:maxWidth,x:xAdvance,y:yAdvance,w:0,h:lineHeight}),current.word=current.word.concat(text[i]),current.w+=lastGlyph);characters.push({i:maxWidth,char:text[i],code:charCode,x:(glyph.xOffset+xAdvance)*scale,y:(glyph.yOffset+yAdvance)*
scale,w:glyph.width*scale,h:glyph.height*scale,t:yAdvance*scale,r:x*scale,b:lineHeight*scale,line:currentLine,glyph:glyph});xAdvance+=glyph.xAdvance+letterSpacing;lastGlyph=glyph;lastCharCode=charCode;x*=scale;maxWidth++}null!==current&&words.push({word:current.word,i:current.i,x:current.x*sx,y:current.y*sy,w:current.w*sx,h:current.h*sy});lineWidths[currentLine]=x;x>longestLine&&(longestLine=x);x<shortestLine&&(shortestLine=x);if(0<align)for(wordWrapCharCode=0;wordWrapCharCode<characters.length;wordWrapCharCode++)chars=
characters[wordWrapCharCode],1===align?(letterSpacing=(longestLine-lineWidths[chars.line])/2,chars.x+=letterSpacing,chars.r+=letterSpacing):2===align&&(letterSpacing=longestLine-lineWidths[chars.line],chars.x+=letterSpacing,chars.r+=letterSpacing);align=out.local;wordWrapCharCode=out.global;chars=out.lines;align.x=bx*scale;align.y=by*scale;align.width=bw*scale;align.height=bh*scale;wordWrapCharCode.x=src.x-src._displayOriginX+bx*sx;wordWrapCharCode.y=src.y-src._displayOriginY+by*sy;wordWrapCharCode.width=
bw*sx;wordWrapCharCode.height=bh*sy;chars.shortest=shortestLine;chars.longest=longestLine;chars.lengths=lineWidths;round&&(align.x=Math.ceil(align.x),align.y=Math.ceil(align.y),align.width=Math.ceil(align.width),align.height=Math.ceil(align.height),wordWrapCharCode.x=Math.ceil(wordWrapCharCode.x),wordWrapCharCode.y=Math.ceil(wordWrapCharCode.y),wordWrapCharCode.width=Math.ceil(wordWrapCharCode.width),wordWrapCharCode.height=Math.ceil(wordWrapCharCode.height),chars.shortest=Math.ceil(shortestLine),
chars.longest=Math.ceil(longestLine));updateOrigin&&(src._displayOriginX=src.originX*align.width,src._displayOriginY=src.originY*align.height,wordWrapCharCode.x=src.x-src._displayOriginX*src.scaleX,wordWrapCharCode.y=src.y-src._displayOriginY*src.scaleY,round&&(wordWrapCharCode.x=Math.ceil(wordWrapCharCode.x),wordWrapCharCode.y=Math.ceil(wordWrapCharCode.y)));out.words=words;out.characters=characters;out.lines.height=lineHeight;out.scale=scale;out.scaleX=src.scaleX;out.scaleY=src.scaleY;return out}},
function(module,exports,__webpack_require__){var ParseXMLBitmapFont=__webpack_require__(209);module.exports=function(scene,fontName,textureKey,frameKey,xmlKey,xSpacing,ySpacing){var texture=scene.sys.textures.get(textureKey),frame=texture.get(frameKey);xmlKey=scene.sys.cache.xml.get(xmlKey);return frame&&xmlKey?(xSpacing=ParseXMLBitmapFont(xmlKey,frame,xSpacing,ySpacing,texture),scene.sys.cache.bitmapFont.add(fontName,{data:xSpacing,texture:textureKey,frame:frameKey}),!0):!1}},function(module,exports,
__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1040);__webpack_require__=__webpack_require__(1042);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var BatchChar=__webpack_require__(1041),GetCalcMatrix=__webpack_require__(19),Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){if(0!==src._text.length){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline,
src);parentMatrix=GetCalcMatrix(src,camera,parentMatrix).calc;var roundPixels=camera.roundPixels;camera=camera.alpha;var charColors=src.charColors,tintEffect=src.tintFill,getTint=Utils.getTintAppendFloatAlpha,tintTL=getTint(src.tintTopLeft,camera*src._alphaTL),tintTR=getTint(src.tintTopRight,camera*src._alphaTR),tintBL=getTint(src.tintBottomLeft,camera*src._alphaBL),tintBR=getTint(src.tintBottomRight,camera*src._alphaBR),texture=src.frame.glTexture,textureUnit=pipeline.setGameObject(src),characters=
src.getTextBounds(!1).characters,dropShadowX=src.dropShadowX,dropShadowY=src.dropShadowY;var i=0!==dropShadowX||0!==dropShadowY;renderer.pipelines.preBatch(src);if(i){i=src.dropShadowColor;var char=src.dropShadowAlpha;var shadowTL=getTint(i,camera*char*src._alphaTL),shadowTR=getTint(i,camera*char*src._alphaTR),shadowBL=getTint(i,camera*char*src._alphaBL),shadowBR=getTint(i,camera*char*src._alphaBR);for(i=0;i<characters.length;i++){char=characters[i];var glyph=char.glyph;32!==char.code&&0!==glyph.width&&
0!==glyph.height&&BatchChar(pipeline,src,char,glyph,dropShadowX,dropShadowY,parentMatrix,roundPixels,shadowTL,shadowTR,shadowBL,shadowBR,1,texture,textureUnit)}}for(i=0;i<characters.length;i++)char=characters[i],glyph=char.glyph,32!==char.code&&0!==glyph.width&&0!==glyph.height&&(charColors[char.i]?(shadowBL=charColors[char.i],dropShadowX=shadowBL.tintEffect,dropShadowY=getTint(shadowBL.tintTL,camera*src._alphaTL),shadowTL=getTint(shadowBL.tintTR,camera*src._alphaTR),shadowTR=getTint(shadowBL.tintBL,
camera*src._alphaBL),shadowBL=getTint(shadowBL.tintBR,camera*src._alphaBR),BatchChar(pipeline,src,char,glyph,0,0,parentMatrix,roundPixels,dropShadowY,shadowTL,shadowTR,shadowBL,dropShadowX,texture,textureUnit)):BatchChar(pipeline,src,char,glyph,0,0,parentMatrix,roundPixels,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit));renderer.pipelines.postBatch(src)}}},function(module,exports){module.exports=function(pipeline,src,char,glyph,offsetX,offsetY,calcMatrix,roundPixels,tintTL,tintTR,tintBL,
tintBR,tintEffect,texture,textureUnit){var x=char.x-src.displayOriginX+offsetX;offsetY=char.y-src.displayOriginY+offsetY;offsetX=x+char.w;var yh=offsetY+char.h;char=calcMatrix.getXRound(x,offsetY,roundPixels);var ty0=calcMatrix.getYRound(x,offsetY,roundPixels),tx1=calcMatrix.getXRound(x,yh,roundPixels);x=calcMatrix.getYRound(x,yh,roundPixels);var tx2=calcMatrix.getXRound(offsetX,yh,roundPixels);yh=calcMatrix.getYRound(offsetX,yh,roundPixels);var tx3=calcMatrix.getXRound(offsetX,offsetY,roundPixels);
calcMatrix=calcMatrix.getYRound(offsetX,offsetY,roundPixels);pipeline.batchQuad(src,char,ty0,tx1,x,tx2,yh,tx3,calcMatrix,glyph.u0,glyph.v0,glyph.u1,glyph.v1,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit)}},function(module,exports,__webpack_require__){var SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){var text=src._text,textLength=text.length,ctx=renderer.currentContext;if(0!==textLength&&SetTransform(renderer,ctx,src,camera,parentMatrix)){camera.addToRenderList(src);
var textureFrame=src.texture.frames.__BASE;renderer=src.fontData.chars;parentMatrix=src.fontData.lineHeight;var letterSpacing=src._letterSpacing,xAdvance=0,yAdvance=0,lastGlyph=null,lastCharCode=0,image=textureFrame.source.image,textureX=textureFrame.cutX;textureFrame=textureFrame.cutY;var scale=src._fontSize/src.fontData.size,align=src._align,currentLine=0,lineOffsetX=0,bounds=src.getTextBounds(!1);0<src.maxWidth&&(text=bounds.wrappedText,textLength=text.length);bounds=src._bounds.lines;1===align?
lineOffsetX=(bounds.longest-bounds.lengths[0])/2:2===align&&(lineOffsetX=bounds.longest-bounds.lengths[0]);ctx.translate(-src.displayOriginX,-src.displayOriginY);for(var roundPixels=camera.roundPixels,i=0;i<textLength;i++)if(src=text.charCodeAt(i),10===src)currentLine++,1===align?lineOffsetX=(bounds.longest-bounds.lengths[currentLine])/2:2===align&&(lineOffsetX=bounds.longest-bounds.lengths[currentLine]),xAdvance=0,yAdvance+=parentMatrix,lastGlyph=null;else if(camera=renderer[src]){var glyphX=textureX+
camera.x;var glyphY=textureFrame+camera.y;var glyphW=camera.width;var glyphH=camera.height;var x=camera.xOffset+xAdvance;var y=camera.yOffset+yAdvance;null!==lastGlyph&&(lastGlyph=camera.kerning[lastCharCode],x+=void 0!==lastGlyph?lastGlyph:0);x*=scale;y*=scale;x+=lineOffsetX;xAdvance+=camera.xAdvance+letterSpacing;lastGlyph=camera;lastCharCode=src;0!==glyphW&&0!==glyphH&&32!==src&&(roundPixels&&(x=Math.round(x),y=Math.round(y)),ctx.save(),ctx.translate(x,y),ctx.scale(scale,scale),ctx.drawImage(image,
glyphX,glyphY,glyphW,glyphH,0,0,glyphW,glyphH),ctx.restore())}ctx.restore()}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1044);__webpack_require__=__webpack_require__(1045);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){exports=__webpack_require__(25);var Utils=__webpack_require__(12),tempMatrix=new exports;module.exports=function(renderer,src,camera,parentMatrix){var list=
src.getRenderList();if(0===list.length)return src.clearRenderDepth(camera);src.setRenderDepth(camera);var pipeline=renderer.pipelines.set(this.pipeline,src),cameraScrollX=camera.scrollX*src.scrollFactorX,cameraScrollY=camera.scrollY*src.scrollFactorY,calcMatrix=tempMatrix.copyFrom(camera.matrix);parentMatrix&&(calcMatrix.multiplyWithOffset(parentMatrix,-cameraScrollX,-cameraScrollY),cameraScrollY=cameraScrollX=0);parentMatrix=src.x-cameraScrollX;cameraScrollY=src.y-cameraScrollY;cameraScrollX=-1;
var alpha=camera.alpha*src.alpha;camera=camera.roundPixels;renderer.pipelines.preBatch(src);for(var index=0;index<list.length;index++){var bob=list[index],frame=bob.frame,bobAlpha=bob.alpha*alpha;if(0!==bobAlpha){var width=frame.width,height=frame.height,x=parentMatrix+bob.x+frame.x,y=cameraScrollY+bob.y+frame.y;bob.flipX&&(width*=-1,x+=frame.width);bob.flipY&&(height*=-1,y+=frame.height);width=x+width;var yh=y+height;height=calcMatrix.getX(x,y);x=calcMatrix.getY(x,y);y=calcMatrix.getX(width,yh);
width=calcMatrix.getY(width,yh);bob=Utils.getTintAppendFloatAlpha(bob.tint,bobAlpha);if(frame.sourceIndex!==cameraScrollX){var textureUnit=pipeline.setGameObject(src,frame);cameraScrollX=frame.sourceIndex}camera&&(height=Math.round(height),x=Math.round(x),y=Math.round(y),width=Math.round(width));pipeline.batchQuad(src,height,x,height,width,y,width,y,x,frame.u0,frame.v0,frame.u1,frame.v1,bob,bob,bob,bob,!1,frame.glTexture,textureUnit)&&(cameraScrollX=-1)}}renderer.pipelines.postBatch(src)}},function(module,
exports){module.exports=function(renderer,src,camera,parentMatrix){var list=src.getRenderList();if(0!==list.length){var ctx=renderer.currentContext,alpha=camera.alpha*src.alpha;if(0!==alpha){camera.addToRenderList(src);ctx.globalCompositeOperation=renderer.blendModes[src.blendMode];ctx.imageSmoothingEnabled=!(!renderer.antialias||src.frame.source.scaleMode);renderer=src.x-camera.scrollX*src.scrollFactorX;src=src.y-camera.scrollY*src.scrollFactorY;ctx.save();parentMatrix&&parentMatrix.copyToContext(ctx);
camera=camera.roundPixels;for(parentMatrix=0;parentMatrix<list.length;parentMatrix++){var bob=list[parentMatrix],flip=bob.flipX||bob.flipY,frame=bob.frame,cd=frame.canvasData,dx=frame.x,dy=frame.y,fx=1,fy=1,bobAlpha=bob.alpha*alpha;0!==bobAlpha&&(ctx.globalAlpha=bobAlpha,flip?(bob.flipX&&(fx=-1,dx-=cd.width),bob.flipY&&(fy=-1,dy-=cd.height),ctx.save(),ctx.translate(bob.x+renderer,bob.y+src),ctx.scale(fx,fy),ctx.drawImage(frame.source.image,cd.x,cd.y,cd.width,cd.height,dx,dy,cd.width,cd.height),ctx.restore()):
(camera&&(dx=Math.round(dx),dy=Math.round(dy)),ctx.drawImage(frame.source.image,cd.x,cd.y,cd.width,cd.height,dx+bob.x+renderer,dy+bob.y+src,cd.width,cd.height)))}ctx.restore()}}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1047);__webpack_require__=__webpack_require__(1048);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports){module.exports=function(renderer,container,camera,parentMatrix){var children=
container.list,childCount=children.length;if(0!==childCount){var transformMatrix=container.localTransform;parentMatrix?(transformMatrix.loadIdentity(),transformMatrix.multiply(parentMatrix),transformMatrix.translate(container.x,container.y),transformMatrix.rotate(container.rotation),transformMatrix.scale(container.scaleX,container.scaleY)):transformMatrix.applyITRS(container.x,container.y,container.rotation,container.scaleX,container.scaleY);renderer.pipelines.preBatch(container);(parentMatrix=-1!==
container.blendMode)||renderer.setBlendMode(0);for(var alpha=container.alpha,scrollFactorX=container.scrollFactorX,scrollFactorY=container.scrollFactorY,i=0;i<childCount;i++){var child=children[i];if(child.willRender(camera)){if(void 0!==child.alphaTopLeft){var childAlphaTopLeft=child.alphaTopLeft;var childAlphaTopRight=child.alphaTopRight;var childAlphaBottomLeft=child.alphaBottomLeft;var childAlphaBottomRight=child.alphaBottomRight}else childAlphaBottomLeft=childAlphaTopRight=childAlphaTopLeft=
childAlphaBottomRight=child.alpha;var childScrollFactorX=child.scrollFactorX,childScrollFactorY=child.scrollFactorY;parentMatrix||child.blendMode===renderer.currentBlendMode||renderer.setBlendMode(child.blendMode);var mask=child.mask;mask&&mask.preRenderWebGL(renderer,child,camera);var type=child.type;type!==renderer.currentType&&(renderer.newType=!0,renderer.currentType=type);renderer.nextTypeMatch=i<childCount-1?children[i+1].type===renderer.currentType:!1;child.setScrollFactor(childScrollFactorX*
scrollFactorX,childScrollFactorY*scrollFactorY);child.setAlpha(childAlphaTopLeft*alpha,childAlphaTopRight*alpha,childAlphaBottomLeft*alpha,childAlphaBottomRight*alpha);child.renderWebGL(renderer,child,camera,transformMatrix);child.setAlpha(childAlphaTopLeft,childAlphaTopRight,childAlphaBottomLeft,childAlphaBottomRight);child.setScrollFactor(childScrollFactorX,childScrollFactorY);mask&&mask.postRenderWebGL(renderer,camera);renderer.newType=!1}}renderer.pipelines.postBatch(container)}}},function(module,
exports){module.exports=function(renderer,container,camera,parentMatrix){var children=container.list;if(0!==children.length){var transformMatrix=container.localTransform;parentMatrix?(transformMatrix.loadIdentity(),transformMatrix.multiply(parentMatrix),transformMatrix.translate(container.x,container.y),transformMatrix.rotate(container.rotation),transformMatrix.scale(container.scaleX,container.scaleY)):transformMatrix.applyITRS(container.x,container.y,container.rotation,container.scaleX,container.scaleY);
(parentMatrix=-1!==container.blendMode)||renderer.setBlendMode(0);var alpha=container._alpha,scrollFactorX=container.scrollFactorX,scrollFactorY=container.scrollFactorY;container.mask&&container.mask.preRenderCanvas(renderer,null,camera);for(var i=0;i<children.length;i++){var child=children[i];if(child.willRender(camera)){var childAlpha=child.alpha,childScrollFactorX=child.scrollFactorX,childScrollFactorY=child.scrollFactorY;parentMatrix||child.blendMode===renderer.currentBlendMode||renderer.setBlendMode(child.blendMode);
child.setScrollFactor(childScrollFactorX*scrollFactorX,childScrollFactorY*scrollFactorY);child.setAlpha(childAlpha*alpha);child.renderCanvas(renderer,child,camera,transformMatrix);child.setAlpha(childAlpha);child.setScrollFactor(childScrollFactorX,childScrollFactorY)}}container.mask&&container.mask.postRenderCanvas(renderer)}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(437);__webpack_require__=__webpack_require__(437);module.exports=
{renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports){module.exports="normal multiply multiply screen overlay darken lighten color-dodge color-burn hard-light soft-light difference exclusion hue saturation color luminosity".split(" ")},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1052);__webpack_require__=__webpack_require__(1053);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},
function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19);exports=__webpack_require__(25);var Utils=__webpack_require__(12),tempMatrix=new exports;module.exports=function(renderer,src,camera,parentMatrix){var text=src.text,textLength=text.length;if(0!==textLength){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline,src),result=GetCalcMatrix(src,camera,parentMatrix);parentMatrix=result.sprite;result=result.calc;var crop=0<src.cropWidth||0<src.cropHeight;
crop&&(pipeline.flush(),renderer.pushScissor(result.tx,result.ty,src.cropWidth*result.scaleX,src.cropHeight*result.scaleY));var texture=src.frame.glTexture,tintEffect=src.tintFill,tintTL=Utils.getTintAppendFloatAlpha(src.tintTopLeft,camera.alpha*src._alphaTL),tintTR=Utils.getTintAppendFloatAlpha(src.tintTopRight,camera.alpha*src._alphaTR),tintBL=Utils.getTintAppendFloatAlpha(src.tintBottomLeft,camera.alpha*src._alphaBL),tintBR=Utils.getTintAppendFloatAlpha(src.tintBottomRight,camera.alpha*src._alphaBR),
textureUnit=pipeline.setGameObject(src),xAdvance=0,yAdvance=0,lastCharCode=0,letterSpacing=src.letterSpacing,glyph,scrollX=src.scrollX,scrollY=src.scrollY,fontData=src.fontData,chars=fontData.chars;fontData=fontData.lineHeight;var align=src._align,currentLine=0,lineOffsetX=0,bounds=src.getTextBounds(!1);0<src.maxWidth&&(text=bounds.wrappedText,textLength=text.length);bounds=src._bounds.lines;1===align?lineOffsetX=(bounds.longest-bounds.lengths[0])/2:2===align&&(lineOffsetX=bounds.longest-bounds.lengths[0]);
var roundPixels=camera.roundPixels,displayCallback=src.displayCallback,callbackData=src.callbackData;renderer.pipelines.preBatch(src);for(var i=0;i<textLength;i++){var charCode=text.charCodeAt(i);if(10===charCode){currentLine++;1===align?lineOffsetX=(bounds.longest-bounds.lengths[currentLine])/2:2===align&&(lineOffsetX=bounds.longest-bounds.lengths[currentLine]);xAdvance=0;yAdvance+=fontData;var lastGlyph=null}else if(glyph=chars[charCode]){var glyphW=glyph.width;var glyphH=glyph.height;var x=glyph.xOffset+
xAdvance-scrollX,y=glyph.yOffset+yAdvance-scrollY;null!==lastGlyph&&(lastGlyph=glyph.kerning[lastCharCode],x+=void 0!==lastGlyph?lastGlyph:0);xAdvance+=glyph.xAdvance+letterSpacing;lastGlyph=glyph;lastCharCode=charCode;if(0!==glyphW&&0!==glyphH&&32!==charCode){var scale=src.fontSize/src.fontData.size;var rotation=0;displayCallback&&(callbackData.color=0,callbackData.tint.topLeft=tintTL,callbackData.tint.topRight=tintTR,callbackData.tint.bottomLeft=tintBL,callbackData.tint.bottomRight=tintBR,callbackData.index=
i,callbackData.charCode=charCode,callbackData.x=x,callbackData.y=y,callbackData.scale=scale,callbackData.rotation=rotation,callbackData.data=glyph.data,tintBR=displayCallback(callbackData),x=tintBR.x,y=tintBR.y,scale=tintBR.scale,rotation=tintBR.rotation,tintBR.color?tintBR=tintBL=tintTR=tintTL=tintBR.color:(tintTL=tintBR.tint.topLeft,tintTR=tintBR.tint.topRight,tintBL=tintBR.tint.bottomLeft,tintBR=tintBR.tint.bottomRight),tintTL=Utils.getTintAppendFloatAlpha(tintTL,camera.alpha*src._alphaTL),tintTR=
Utils.getTintAppendFloatAlpha(tintTR,camera.alpha*src._alphaTR),tintBL=Utils.getTintAppendFloatAlpha(tintBL,camera.alpha*src._alphaBL),tintBR=Utils.getTintAppendFloatAlpha(tintBR,camera.alpha*src._alphaBR));x*=scale;y*=scale;x-=src.displayOriginX;y-=src.displayOriginY;x+=lineOffsetX;tempMatrix.applyITRS(x,y,rotation,scale,scale);result.multiply(tempMatrix,parentMatrix);x=glyph.u0;y=glyph.v0;charCode=glyph.u1;glyph=glyph.v1;var yh=glyphH;glyphH=parentMatrix.e;scale=parentMatrix.f;rotation=yh*parentMatrix.c+
parentMatrix.e;var ty1=yh*parentMatrix.d+parentMatrix.f,tx2=glyphW*parentMatrix.a+yh*parentMatrix.c+parentMatrix.e;yh=glyphW*parentMatrix.b+yh*parentMatrix.d+parentMatrix.f;var tx3=glyphW*parentMatrix.a+parentMatrix.e;glyphW=glyphW*parentMatrix.b+parentMatrix.f;roundPixels&&(glyphH=Math.round(glyphH),scale=Math.round(scale),rotation=Math.round(rotation),ty1=Math.round(ty1),tx2=Math.round(tx2),yh=Math.round(yh),tx3=Math.round(tx3),glyphW=Math.round(glyphW));pipeline.batchQuad(src,glyphH,scale,rotation,
ty1,tx2,yh,tx3,glyphW,x,y,charCode,glyph,tintTL,tintTR,tintBL,tintBR,tintEffect,texture,textureUnit)}}}crop&&(pipeline.flush(),renderer.popScissor());renderer.pipelines.postBatch(src)}}},function(module,exports,__webpack_require__){var SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){var text=src._text,textLength=text.length,ctx=renderer.currentContext;if(0!==textLength&&SetTransform(renderer,ctx,src,camera,parentMatrix)){camera.addToRenderList(src);var textureFrame=
src.frame;renderer=src.displayCallback;parentMatrix=src.callbackData;var chars=src.fontData.chars,lineHeight=src.fontData.lineHeight,letterSpacing=src._letterSpacing,xAdvance=0,yAdvance=0,glyph,lastGlyph=null,lastCharCode=0,image=src.frame.source.image,textureX=textureFrame.cutX;textureFrame=textureFrame.cutY;var baseScale=src._fontSize/src.fontData.size,align=src._align,currentLine=0,lineOffsetX=0;src.getTextBounds(!1);var lineData=src._bounds.lines;1===align?lineOffsetX=(lineData.longest-lineData.lengths[0])/
2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[0]);ctx.translate(-src.displayOriginX,-src.displayOriginY);var roundPixels=camera.roundPixels;0<src.cropWidth&&0<src.cropHeight&&(ctx.beginPath(),ctx.rect(0,0,src.cropWidth,src.cropHeight),ctx.clip());for(var i=0;i<textLength;i++){var scale=baseScale;var rotation=0;camera=text.charCodeAt(i);if(10===camera)currentLine++,1===align?lineOffsetX=(lineData.longest-lineData.lengths[currentLine])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[currentLine]),
xAdvance=0,yAdvance+=lineHeight,lastGlyph=null;else if(glyph=chars[camera]){var glyphX=textureX+glyph.x;var glyphY=textureFrame+glyph.y;var glyphW=glyph.width;var glyphH=glyph.height;var x=glyph.xOffset+xAdvance-src.scrollX;var y=glyph.yOffset+yAdvance-src.scrollY;null!==lastGlyph&&(lastGlyph=glyph.kerning[lastCharCode],x+=void 0!==lastGlyph?lastGlyph:0);renderer&&(parentMatrix.index=i,parentMatrix.charCode=camera,parentMatrix.x=x,parentMatrix.y=y,parentMatrix.scale=scale,parentMatrix.rotation=rotation,
parentMatrix.data=glyph.data,lastGlyph=renderer(parentMatrix),x=lastGlyph.x,y=lastGlyph.y,scale=lastGlyph.scale,rotation=lastGlyph.rotation);x*=scale;y*=scale;x+=lineOffsetX;xAdvance+=glyph.xAdvance+letterSpacing;lastGlyph=glyph;lastCharCode=camera;0!==glyphW&&0!==glyphH&&32!==camera&&(roundPixels&&(x=Math.round(x),y=Math.round(y)),ctx.save(),ctx.translate(x,y),ctx.rotate(rotation),ctx.scale(scale,scale),ctx.drawImage(image,glyphX,glyphY,glyphW,glyphH,0,0,glyphW,glyphH),ctx.restore())}}ctx.restore()}}},
function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1055);__webpack_require__=__webpack_require__(1056);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19);module.exports=function(renderer,src,camera,parentMatrix){renderer.pipelines.clear();parentMatrix=GetCalcMatrix(src,camera,parentMatrix).calc;src.render.call(src,renderer,camera,
parentMatrix);renderer.pipelines.rebind()}},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1058);__webpack_require__(442);__webpack_require__=__webpack_require__(442);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var Commands=__webpack_require__(214),GetCalcMatrix=__webpack_require__(19);exports=__webpack_require__(25);var Utils=__webpack_require__(12),
Point=function(x,y,width){this.x=x;this.y=y;this.width=width},Path=function(x,y,width){this.points=[];this.pointsLength=1;this.points[0]=new Point(x,y,width)},matrixStack=[],tempMatrix=new exports;module.exports=function(renderer,src,camera,parentMatrix){if(0!==src.commandBuffer.length){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline,src);renderer.pipelines.preBatch(src);parentMatrix=GetCalcMatrix(src,camera,parentMatrix).calc;var currentMatrix=tempMatrix.loadIdentity(),
commands=src.commandBuffer;camera=camera.alpha*src.alpha;for(var lineWidth=1,fillTint=pipeline.fillTint,strokeTint=pipeline.strokeTint,tx,ty,PI2=2*Math.PI,cmd,path=[],pathOpen=!0,lastPath=null,getTint=Utils.getTintAppendFloatAlpha,cmdIndex=0;cmdIndex<commands.length;cmdIndex++)switch(cmd=commands[cmdIndex],cmd){case Commands.BEGIN_PATH:path.length=0;lastPath=null;pathOpen=!0;break;case Commands.CLOSE_PATH:pathOpen=!1;lastPath&&lastPath.points.length&&lastPath.points.push(lastPath.points[0]);break;
case Commands.FILL_PATH:for(cmd=0;cmd<path.length;cmd++)pipeline.batchFillPath(path[cmd].points,currentMatrix,parentMatrix);break;case Commands.STROKE_PATH:for(cmd=0;cmd<path.length;cmd++)pipeline.batchStrokePath(path[cmd].points,lineWidth,pathOpen,currentMatrix,parentMatrix);break;case Commands.LINE_STYLE:lineWidth=commands[++cmdIndex];cmd=commands[++cmdIndex];var strokeAlpha=commands[++cmdIndex]*camera;cmd=getTint(cmd,strokeAlpha);strokeTint.TL=cmd;strokeTint.TR=cmd;strokeTint.BL=cmd;strokeTint.BR=
cmd;break;case Commands.FILL_STYLE:cmd=commands[++cmdIndex];strokeAlpha=commands[++cmdIndex]*camera;cmd=getTint(cmd,strokeAlpha);fillTint.TL=cmd;fillTint.TR=cmd;fillTint.BL=cmd;fillTint.BR=cmd;break;case Commands.GRADIENT_FILL_STYLE:cmd=commands[++cmdIndex]*camera;strokeAlpha=commands[++cmdIndex]*camera;var alphaBL=commands[++cmdIndex]*camera,alphaBR=commands[++cmdIndex]*camera;fillTint.TL=getTint(commands[++cmdIndex],cmd);fillTint.TR=getTint(commands[++cmdIndex],strokeAlpha);fillTint.BL=getTint(commands[++cmdIndex],
alphaBL);fillTint.BR=getTint(commands[++cmdIndex],alphaBR);break;case Commands.GRADIENT_LINE_STYLE:lineWidth=commands[++cmdIndex];cmd=commands[++cmdIndex]*camera;strokeTint.TL=getTint(commands[++cmdIndex],cmd);strokeTint.TR=getTint(commands[++cmdIndex],cmd);strokeTint.BL=getTint(commands[++cmdIndex],cmd);strokeTint.BR=getTint(commands[++cmdIndex],cmd);break;case Commands.ARC:cmd=0;strokeAlpha=commands[++cmdIndex];alphaBL=commands[++cmdIndex];alphaBR=commands[++cmdIndex];var startAngle=commands[++cmdIndex],
endAngle=commands[++cmdIndex];tx=commands[++cmdIndex];var overshoot=commands[++cmdIndex];endAngle-=startAngle;tx?endAngle<-PI2?endAngle=-PI2:0<endAngle&&(endAngle=-PI2+endAngle%PI2):endAngle>PI2?endAngle=PI2:0>endAngle&&(endAngle=PI2+endAngle%PI2);null===lastPath&&(lastPath=new Path(strokeAlpha+Math.cos(startAngle)*alphaBR,alphaBL+Math.sin(startAngle)*alphaBR,lineWidth),path.push(lastPath),cmd+=.01);for(;cmd<1+overshoot;)ty=endAngle*cmd+startAngle,tx=strokeAlpha+Math.cos(ty)*alphaBR,ty=alphaBL+Math.sin(ty)*
alphaBR,lastPath.points.push(new Point(tx,ty,lineWidth)),cmd+=.01;ty=endAngle+startAngle;tx=strokeAlpha+Math.cos(ty)*alphaBR;ty=alphaBL+Math.sin(ty)*alphaBR;lastPath.points.push(new Point(tx,ty,lineWidth));break;case Commands.FILL_RECT:pipeline.batchFillRect(commands[++cmdIndex],commands[++cmdIndex],commands[++cmdIndex],commands[++cmdIndex],currentMatrix,parentMatrix);break;case Commands.FILL_TRIANGLE:pipeline.batchFillTriangle(commands[++cmdIndex],commands[++cmdIndex],commands[++cmdIndex],commands[++cmdIndex],
commands[++cmdIndex],commands[++cmdIndex],currentMatrix,parentMatrix);break;case Commands.STROKE_TRIANGLE:pipeline.batchStrokeTriangle(commands[++cmdIndex],commands[++cmdIndex],commands[++cmdIndex],commands[++cmdIndex],commands[++cmdIndex],commands[++cmdIndex],lineWidth,currentMatrix,parentMatrix);break;case Commands.LINE_TO:null!==lastPath?lastPath.points.push(new Point(commands[++cmdIndex],commands[++cmdIndex],lineWidth)):(lastPath=new Path(commands[++cmdIndex],commands[++cmdIndex],lineWidth),path.push(lastPath));
break;case Commands.MOVE_TO:lastPath=new Path(commands[++cmdIndex],commands[++cmdIndex],lineWidth);path.push(lastPath);break;case Commands.SAVE:matrixStack.push(currentMatrix.copyToArray());break;case Commands.RESTORE:currentMatrix.copyFromArray(matrixStack.pop());break;case Commands.TRANSLATE:strokeAlpha=commands[++cmdIndex];alphaBL=commands[++cmdIndex];currentMatrix.translate(strokeAlpha,alphaBL);break;case Commands.SCALE:strokeAlpha=commands[++cmdIndex];alphaBL=commands[++cmdIndex];currentMatrix.scale(strokeAlpha,
alphaBL);break;case Commands.ROTATE:currentMatrix.rotate(commands[++cmdIndex])}renderer.pipelines.postBatch(src)}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1060);__webpack_require__=__webpack_require__(1061);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);src.pipeline.batchSprite(src,camera,
parentMatrix)}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);renderer.batchSprite(src,src.frame,camera,parentMatrix)}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1063);__webpack_require__=__webpack_require__(1064);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);
this.pipeline.batchSprite(src,camera,parentMatrix)}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);renderer.batchSprite(src,src.frame,camera,parentMatrix)}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1066);__webpack_require__=__webpack_require__(1067);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports){module.exports=
function(renderer,layer,camera){var children=layer.list,childCount=children.length;if(0!==childCount){layer.depthSort();renderer.pipelines.preBatch(layer);var layerHasBlendMode=-1!==layer.blendMode;layerHasBlendMode||renderer.setBlendMode(0);for(var alpha=layer.alpha,i=0;i<childCount;i++){var child=children[i];if(child.willRender(camera)){if(void 0!==child.alphaTopLeft){var childAlphaTopLeft=child.alphaTopLeft;var childAlphaTopRight=child.alphaTopRight;var childAlphaBottomLeft=child.alphaBottomLeft;
var childAlphaBottomRight=child.alphaBottomRight}else childAlphaBottomLeft=childAlphaTopRight=childAlphaTopLeft=childAlphaBottomRight=child.alpha;layerHasBlendMode||child.blendMode===renderer.currentBlendMode||renderer.setBlendMode(child.blendMode);var mask=child.mask;mask&&mask.preRenderWebGL(renderer,child,camera);var type=child.type;type!==renderer.currentType&&(renderer.newType=!0,renderer.currentType=type);renderer.nextTypeMatch=i<childCount-1?children[i+1].type===renderer.currentType:!1;child.setAlpha(childAlphaTopLeft*
alpha,childAlphaTopRight*alpha,childAlphaBottomLeft*alpha,childAlphaBottomRight*alpha);child.renderWebGL(renderer,child,camera);child.setAlpha(childAlphaTopLeft,childAlphaTopRight,childAlphaBottomLeft,childAlphaBottomRight);mask&&mask.postRenderWebGL(renderer,camera);renderer.newType=!1}}renderer.pipelines.postBatch(layer)}}},function(module,exports){module.exports=function(renderer,layer,camera){var children=layer.list;if(0!==children.length){layer.depthSort();var layerHasBlendMode=-1!==layer.blendMode;
layerHasBlendMode||renderer.setBlendMode(0);var alpha=layer._alpha;layer.mask&&layer.mask.preRenderCanvas(renderer,null,camera);for(var i=0;i<children.length;i++){var child=children[i];if(child.willRender(camera)){var childAlpha=child.alpha;layerHasBlendMode||child.blendMode===renderer.currentBlendMode||renderer.setBlendMode(child.blendMode);child.setAlpha(childAlpha*alpha);child.renderCanvas(renderer,child,camera);child.setAlpha(childAlpha)}}layer.mask&&layer.mask.postRenderCanvas(renderer)}}},function(module,
exports,__webpack_require__){module.exports={EmitterOp:__webpack_require__(443),GravityWell:__webpack_require__(444),Particle:__webpack_require__(445),ParticleEmitter:__webpack_require__(446),ParticleEmitterManager:__webpack_require__(217),Zones:__webpack_require__(1072)}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1070);__webpack_require__=__webpack_require__(1071);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},
function(module,exports,__webpack_require__){exports=__webpack_require__(25);var Utils=__webpack_require__(12),tempMatrix1=new exports,tempMatrix2=new exports,tempMatrix3=new exports,tempMatrix4=new exports;module.exports=function(renderer,emitterManager,camera,parentMatrix){var emitters=emitterManager.emitters.list,emittersLength=emitters.length;if(0!==emittersLength){var pipeline=renderer.pipelines.set(emitterManager.pipeline);parentMatrix?(tempMatrix4.loadIdentity(),tempMatrix4.multiply(parentMatrix),
tempMatrix4.translate(emitterManager.x,emitterManager.y),tempMatrix4.rotate(emitterManager.rotation),tempMatrix4.scale(emitterManager.scaleX,emitterManager.scaleY)):tempMatrix4.applyITRS(emitterManager.x,emitterManager.y,emitterManager.rotation,emitterManager.scaleX,emitterManager.scaleY);parentMatrix=camera.roundPixels;var texture=emitterManager.defaultFrame.glTexture,getTint=Utils.getTintAppendFloatAlpha,textureUnit=pipeline.setGameObject(emitterManager,emitterManager.defaultFrame);renderer.pipelines.preBatch(emitterManager);
for(var e=0;e<emittersLength;e++){var emitter=emitters[e],particles=emitter.alive,particleCount=particles.length;if(emitter.visible&&0!==particleCount){camera.addToRenderList(emitter);var scrollFactorX=emitter.scrollFactorX,scrollFactorY=emitter.scrollFactorY;renderer.setBlendMode(emitter.blendMode);emitter.mask&&(emitter.mask.preRenderWebGL(renderer,emitter,camera),renderer.pipelines.set(emitterManager.pipeline));for(var i=0;i<particleCount;i++){var particle=particles[i],alpha=particle.alpha*camera.alpha;
if(!(0>=alpha)){tempMatrix3.applyITRS(particle.x,particle.y,particle.rotation,particle.scaleX,particle.scaleY);tempMatrix1.copyFrom(camera.matrix);tempMatrix1.multiplyWithOffset(tempMatrix4,-camera.scrollX*scrollFactorX,-camera.scrollY*scrollFactorY);tempMatrix3.e=particle.x;tempMatrix3.f=particle.y;tempMatrix1.multiply(tempMatrix3,tempMatrix2);var frame=particle.frame,x=-frame.halfWidth,y=-frame.halfHeight,xw=x+frame.width,yh=y+frame.height,tx0=tempMatrix2.getXRound(x,y,parentMatrix),ty0=tempMatrix2.getYRound(x,
y,parentMatrix),tx1=tempMatrix2.getXRound(x,yh,parentMatrix);x=tempMatrix2.getYRound(x,yh,parentMatrix);var tx2=tempMatrix2.getXRound(xw,yh,parentMatrix);yh=tempMatrix2.getYRound(xw,yh,parentMatrix);var tx3=tempMatrix2.getXRound(xw,y,parentMatrix);y=tempMatrix2.getYRound(xw,y,parentMatrix);particle=getTint(particle.tint,alpha);pipeline.batchQuad(emitter,tx0,ty0,tx1,x,tx2,yh,tx3,y,frame.u0,frame.v0,frame.u1,frame.v1,particle,particle,particle,particle,0,texture,textureUnit)}}emitter.mask&&emitter.mask.postRenderWebGL(renderer,
camera)}}renderer.pipelines.postBatch(emitterManager)}}},function(module,exports,__webpack_require__){exports=__webpack_require__(25);var tempMatrix1=new exports,tempMatrix2=new exports,tempMatrix3=new exports,tempMatrix4=new exports;module.exports=function(renderer,emitterManager,camera,parentMatrix){var emitters=emitterManager.emitters.list,emittersLength=emitters.length;if(0!==emittersLength){var camMatrix=tempMatrix1.copyFrom(camera.matrix);parentMatrix?(tempMatrix4.loadIdentity(),tempMatrix4.multiply(parentMatrix),
tempMatrix4.translate(emitterManager.x,emitterManager.y),tempMatrix4.rotate(emitterManager.rotation),tempMatrix4.scale(emitterManager.scaleX,emitterManager.scaleY)):tempMatrix4.applyITRS(emitterManager.x,emitterManager.y,emitterManager.rotation,emitterManager.scaleX,emitterManager.scaleY);emitterManager=renderer.currentContext;parentMatrix=camera.roundPixels;for(var e=0;e<emittersLength;e++){var emitter=emitters[e],particles=emitter.alive,particleCount=particles.length;if(emitter.visible&&0!==particleCount){camera.addToRenderList(emitter);
var followX=emitter.follow?emitter.follow.x+emitter.followOffset.x:0,followY=emitter.follow?emitter.follow.y+emitter.followOffset.y:0,scrollFactorX=emitter.scrollFactorX,scrollFactorY=emitter.scrollFactorY;emitterManager.save();emitterManager.globalCompositeOperation=renderer.blendModes[emitter.blendMode];for(emitter=0;emitter<particleCount;emitter++){var particle=particles[emitter],alpha=particle.alpha*camera.alpha;if(!(0>=alpha)){tempMatrix3.applyITRS(particle.x,particle.y,particle.rotation,particle.scaleX,
particle.scaleY);camMatrix.copyFrom(camera.matrix);camMatrix.multiplyWithOffset(tempMatrix4,followX+-camera.scrollX*scrollFactorX,followY+-camera.scrollY*scrollFactorY);tempMatrix3.e=particle.x;tempMatrix3.f=particle.y;camMatrix.multiply(tempMatrix3,tempMatrix2);particle=particle.frame;var cd=particle.canvasData,x=-particle.halfWidth,y=-particle.halfHeight;emitterManager.globalAlpha=alpha;emitterManager.save();tempMatrix2.setToContext(emitterManager);parentMatrix&&(x=Math.round(x),y=Math.round(y));
emitterManager.imageSmoothingEnabled=!(!renderer.antialias||particle.source.scaleMode);emitterManager.drawImage(particle.source.image,cd.x,cd.y,cd.width,cd.height,x,y,cd.width,cd.height);emitterManager.restore()}}emitterManager.restore()}}}}},function(module,exports,__webpack_require__){module.exports={DeathZone:__webpack_require__(447),EdgeZone:__webpack_require__(448),RandomZone:__webpack_require__(450)}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);
exports=__webpack_require__(1074);__webpack_require__=__webpack_require__(1075);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var cameraAlpha=camera.alpha,renderTarget=src.renderTarget,width=renderTarget.width,height=renderTarget.height,getTint=Utils.getTintAppendFloatAlpha,pipeline=renderer.pipelines.set(src.pipeline),
textureUnit=pipeline.setTexture2D(renderTarget.texture);renderer.pipelines.preBatch(src);pipeline.batchTexture(src,renderTarget.texture,width,height,src.x,src.y,width,height,src.scaleX,src.scaleY,src.rotation,src.flipX,!src.flipY,src.scrollFactorX,src.scrollFactorY,src.displayOriginX,src.displayOriginY,0,0,width,height,getTint(src.tintTopLeft,cameraAlpha*src._alphaTL),getTint(src.tintTopRight,cameraAlpha*src._alphaTR),getTint(src.tintBottomLeft,cameraAlpha*src._alphaBL),getTint(src.tintBottomRight,
cameraAlpha*src._alphaBR),src.tintFill,0,0,camera,parentMatrix,!0,textureUnit);renderer.resetTextures();renderer.pipelines.postBatch(src)}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);renderer.batchSprite(src,src.frame,camera,parentMatrix)}},function(module,exports,__webpack_require__){exports=__webpack_require__(1077);var Extend=__webpack_require__(17);__webpack_require__={Parse:__webpack_require__(1078)};__webpack_require__=Extend(!1,
__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports){module.exports={TEXT_SET1:" !\"#$%\x26'()*+,-./0123456789:;\x3c\x3d\x3e?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%\x26'()*+,-./0123456789:;\x3c\x3d\x3e?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",
TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},function(module,exports,__webpack_require__){var GetValue=__webpack_require__(6);module.exports=function(scene,config){var w=config.width,h=config.height,cx=Math.floor(w/2),cy=Math.floor(h/2),letters=GetValue(config,"chars",
"");if(""!==letters){var key=GetValue(config,"image",""),frame=scene.sys.textures.getFrame(key);scene=frame.cutX;var textureY=frame.cutY,textureWidth=frame.source.width;frame=frame.source.height;var offsetX=GetValue(config,"offset.x",0),offsetY=GetValue(config,"offset.y",0),spacingX=GetValue(config,"spacing.x",0),spacingY=GetValue(config,"spacing.y",0),lineSpacing=GetValue(config,"lineSpacing",0);config=GetValue(config,"charsPerRow",null);null===config&&(config=textureWidth/w,config>letters.length&&
(config=letters.length));var x=offsetX;lineSpacing={retroFont:!0,font:key,size:w,lineHeight:h+lineSpacing,chars:{}};for(var r=0,i=0;i<letters.length;i++){var charCode=letters.charCodeAt(i);lineSpacing.chars[charCode]={x:x,y:offsetY,width:w,height:h,centerX:cx,centerY:cy,xOffset:0,yOffset:0,xAdvance:w,data:{},kerning:{},u0:(scene+x)/textureWidth,v0:(textureY+offsetY)/frame,u1:(scene+x+w)/textureWidth,v1:(textureY+offsetY+h)/frame};r++;r===config?(r=0,x=offsetX,offsetY+=h+spacingY):x+=w+spacingX}return{data:lineSpacing,
frame:null,texture:key}}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1080);__webpack_require__=__webpack_require__(1081);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19),Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline,
src);parentMatrix=GetCalcMatrix(src,camera,parentMatrix).calc;var vertices=src.vertices,uvs=src.uv,colors=src.colors,alphas=src.alphas,alpha=src.alpha,getTint=Utils.getTintAppendFloatAlpha,roundPixels=camera.roundPixels,meshVerticesLength=vertices.length,vertexCount=Math.floor(.5*meshVerticesLength);pipeline.flush();renderer.pipelines.preBatch(src);var textureUnit=pipeline.setGameObject(src),vertexViewF32=pipeline.vertexViewF32,vertexViewU32=pipeline.vertexViewU32,vertexOffset=pipeline.vertexCount*
pipeline.currentShader.vertexComponentCount-1,colorIndex=0,tintEffect=src.tintFill;src.dirty&&src.updateVertices();for(var debugCallback=src.debugCallback,debugVerts=[],i=0;i<meshVerticesLength;i+=2){var x=vertices[i+0],y=vertices[i+1],tx=x*parentMatrix.a+y*parentMatrix.c+parentMatrix.e;x=x*parentMatrix.b+y*parentMatrix.d+parentMatrix.f;roundPixels&&(tx=Math.round(tx),x=Math.round(x));vertexViewF32[++vertexOffset]=tx;vertexViewF32[++vertexOffset]=x;vertexViewF32[++vertexOffset]=uvs[i+0];vertexViewF32[++vertexOffset]=
uvs[i+1];vertexViewF32[++vertexOffset]=textureUnit;vertexViewF32[++vertexOffset]=tintEffect;vertexViewU32[++vertexOffset]=getTint(colors[colorIndex],camera.alpha*alphas[colorIndex]*alpha);colorIndex++;debugCallback&&(debugVerts[i+0]=tx,debugVerts[i+1]=x)}debugCallback&&debugCallback.call(src,src,meshVerticesLength,debugVerts);pipeline.vertexCount+=vertexCount;renderer.pipelines.postBatch(src)}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){__webpack_require__(1);
__webpack_require__(1);exports=__webpack_require__(1083);__webpack_require__=__webpack_require__(1084);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){if(0!==src.width&&0!==src.height){camera.addToRenderList(src);var frame=src.frame,width=frame.width,height=frame.height,getTint=Utils.getTintAppendFloatAlpha,pipeline=renderer.pipelines.set(src.pipeline,
src),textureUnit=pipeline.setTexture2D(frame.glTexture,src);renderer.pipelines.preBatch(src);pipeline.batchTexture(src,frame.glTexture,width,height,src.x,src.y,width/src.style.resolution,height/src.style.resolution,src.scaleX,src.scaleY,src.rotation,src.flipX,src.flipY,src.scrollFactorX,src.scrollFactorY,src.displayOriginX,src.displayOriginY,0,0,width,height,getTint(src.tintTopLeft,camera.alpha*src._alphaTL),getTint(src.tintTopRight,camera.alpha*src._alphaTR),getTint(src.tintBottomLeft,camera.alpha*
src._alphaBL),getTint(src.tintBottomRight,camera.alpha*src._alphaBR),src.tintFill,0,0,camera,parentMatrix,!1,textureUnit);renderer.pipelines.postBatch(src)}}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){0!==src.width&&0!==src.height&&(camera.addToRenderList(src),renderer.batchSprite(src,src.frame,camera,parentMatrix))}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1086);__webpack_require__=
__webpack_require__(1087);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){src.updateCanvas();var width=src.width,height=src.height;if(0!==width&&0!==height){camera.addToRenderList(src);renderer.pipelines.preBatch(src);var getTint=Utils.getTintAppendFloatAlpha,pipeline=renderer.pipelines.set(src.pipeline,src),textureUnit=pipeline.setTexture2D(src.fillPattern,
src);pipeline.batchTexture(src,src.fillPattern,src.displayFrame.width*src.tileScaleX,src.displayFrame.height*src.tileScaleY,src.x,src.y,width,height,src.scaleX,src.scaleY,src.rotation,src.flipX,src.flipY,src.scrollFactorX,src.scrollFactorY,src.originX*width,src.originY*height,0,0,width,height,getTint(src.tintTopLeft,camera.alpha*src._alphaTL),getTint(src.tintTopRight,camera.alpha*src._alphaTR),getTint(src.tintBottomLeft,camera.alpha*src._alphaBL),getTint(src.tintBottomRight,camera.alpha*src._alphaBR),
src.tintFill,src.tilePositionX%src.displayFrame.width/src.displayFrame.width,src.tilePositionY%src.displayFrame.height/src.displayFrame.height,camera,parentMatrix,!1,textureUnit);renderer.pipelines.postBatch(src)}}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){src.updateCanvas();camera.addToRenderList(src);renderer.batchSprite(src,src.frame,camera,parentMatrix)}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=
__webpack_require__(1089);__webpack_require__=__webpack_require__(1090);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){src.videoTexture&&(camera.addToRenderList(src),src.pipeline.batchSprite(src,camera,parentMatrix))}},function(module,exports){module.exports=function(renderer,src,camera,parentMatrix){src.videoTexture&&(camera.addToRenderList(src),renderer.batchSprite(src,src.frame,camera,parentMatrix))}},
function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1092);__webpack_require__=__webpack_require__(1093);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19),FillPathWebGL=__webpack_require__(111),StrokePathWebGL=__webpack_require__(81);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=
renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);parentMatrix=pipeline.calcMatrix.copyFrom(parentMatrix.calc);var dx=src._displayOriginX,dy=src._displayOriginY;camera=camera.alpha*src.alpha;renderer.pipelines.preBatch(src);src.isFilled&&FillPathWebGL(pipeline,parentMatrix,src,camera,dx,dy);src.isStroked&&StrokePathWebGL(pipeline,src,camera,dx,dy);renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var DegToRad=__webpack_require__(35),
FillStyleCanvas=__webpack_require__(46),LineStyleCanvas=__webpack_require__(58),SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;SetTransform(renderer,ctx,src,camera,parentMatrix)&&(renderer=src.radius,ctx.beginPath(),ctx.arc(renderer-2*src.originX*renderer,renderer-2*src.originY*renderer,renderer,DegToRad(src._startAngle),DegToRad(src._endAngle),src.anticlockwise),src.closePath&&ctx.closePath(),
src.isFilled&&(FillStyleCanvas(ctx,src),ctx.fill()),src.isStroked&&(LineStyleCanvas(ctx,src),ctx.stroke()),ctx.restore())}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1095);__webpack_require__=__webpack_require__(1096);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var FillPathWebGL=__webpack_require__(111),GetCalcMatrix=__webpack_require__(19),StrokePathWebGL=
__webpack_require__(81);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);parentMatrix=pipeline.calcMatrix.copyFrom(parentMatrix.calc);var dx=src._displayOriginX+src._curveBounds.x,dy=src._displayOriginY+src._curveBounds.y;camera=camera.alpha*src.alpha;renderer.pipelines.preBatch(src);src.isFilled&&FillPathWebGL(pipeline,parentMatrix,src,camera,dx,dy);src.isStroked&&
StrokePathWebGL(pipeline,src,camera,dx,dy);renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var FillStyleCanvas=__webpack_require__(46),LineStyleCanvas=__webpack_require__(58),SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src,camera,parentMatrix)){renderer=src._displayOriginX+src._curveBounds.x;camera=src._displayOriginY+src._curveBounds.y;
parentMatrix=src.pathData;var pathLength=parentMatrix.length-1,px1=parentMatrix[0]-renderer,py1=parentMatrix[1]-camera;ctx.beginPath();ctx.moveTo(px1,py1);src.closePath||(pathLength-=2);for(px1=2;px1<pathLength;px1+=2)ctx.lineTo(parentMatrix[px1]-renderer,parentMatrix[px1+1]-camera);src.closePath&&ctx.closePath();src.isFilled&&(FillStyleCanvas(ctx,src),ctx.fill());src.isStroked&&(LineStyleCanvas(ctx,src),ctx.stroke());ctx.restore()}}},function(module,exports,__webpack_require__){__webpack_require__(1);
__webpack_require__(1);exports=__webpack_require__(1098);__webpack_require__=__webpack_require__(1099);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var FillPathWebGL=__webpack_require__(111),GetCalcMatrix=__webpack_require__(19),StrokePathWebGL=__webpack_require__(81);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,
camera,parentMatrix);parentMatrix=pipeline.calcMatrix.copyFrom(parentMatrix.calc);var dx=src._displayOriginX,dy=src._displayOriginY;camera=camera.alpha*src.alpha;renderer.pipelines.preBatch(src);src.isFilled&&FillPathWebGL(pipeline,parentMatrix,src,camera,dx,dy);src.isStroked&&StrokePathWebGL(pipeline,src,camera,dx,dy);renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var FillStyleCanvas=__webpack_require__(46),LineStyleCanvas=__webpack_require__(58),SetTransform=__webpack_require__(30);
module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src,camera,parentMatrix)){renderer=src._displayOriginX;camera=src._displayOriginY;parentMatrix=src.pathData;var pathLength=parentMatrix.length-1,px1=parentMatrix[0]-renderer,py1=parentMatrix[1]-camera;ctx.beginPath();ctx.moveTo(px1,py1);src.closePath||(pathLength-=2);for(px1=2;px1<pathLength;px1+=2)ctx.lineTo(parentMatrix[px1]-renderer,parentMatrix[px1+
1]-camera);ctx.closePath();src.isFilled&&(FillStyleCanvas(ctx,src),ctx.fill());src.isStroked&&(LineStyleCanvas(ctx,src),ctx.stroke());ctx.restore()}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1101);__webpack_require__=__webpack_require__(1102);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19),Utils=__webpack_require__(12);
module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);pipeline.calcMatrix.copyFrom(parentMatrix.calc).translate(-src._displayOriginX,-src._displayOriginY);var alpha=camera.alpha*src.alpha;camera=src.width;var height=src.height,cellWidth=src.cellWidth;parentMatrix=src.cellHeight;var gridWidth=Math.ceil(camera/cellWidth),gridHeight=Math.ceil(height/parentMatrix),cellWidthA=
cellWidth,cellHeightA=parentMatrix,cellWidthB=cellWidth-(gridWidth*cellWidth-camera),cellHeightB=parentMatrix-(gridHeight*parentMatrix-height);var fillTint=src.showCells;var showAltCells=src.showAltCells,showOutline=src.showOutline,r=0;showOutline&&(cellWidthA--,cellHeightA--,cellWidthB===cellWidth&&cellWidthB--,cellHeightB===parentMatrix&&cellHeightB--);renderer.pipelines.preBatch(src);if(fillTint&&0<src.fillAlpha){fillTint=pipeline.fillTint;var fillTintColor=Utils.getTintAppendFloatAlpha(src.fillColor,
src.fillAlpha*alpha);fillTint.TL=fillTintColor;fillTint.TR=fillTintColor;fillTint.BL=fillTintColor;fillTint.BR=fillTintColor;for(fillTintColor=0;fillTintColor<gridHeight;fillTintColor++)for(showAltCells&&(r=fillTintColor%2),fillTint=0;fillTint<gridWidth;fillTint++)if(showAltCells&&r)r=0;else{r++;var cw=fillTint<gridWidth-1?cellWidthA:cellWidthB;var ch=fillTintColor<gridHeight-1?cellHeightA:cellHeightB;pipeline.batchFillRect(fillTint*cellWidth,fillTintColor*parentMatrix,cw,ch)}}if(showAltCells&&0<
src.altFillAlpha)for(fillTint=pipeline.fillTint,fillTintColor=Utils.getTintAppendFloatAlpha(src.altFillColor,src.altFillAlpha*alpha),fillTint.TL=fillTintColor,fillTint.TR=fillTintColor,fillTint.BL=fillTintColor,fillTint.BR=fillTintColor,fillTintColor=0;fillTintColor<gridHeight;fillTintColor++)for(showAltCells&&(r=fillTintColor%2),fillTint=0;fillTint<gridWidth;fillTint++)showAltCells&&!r?r=1:(r=0,cw=fillTint<gridWidth-1?cellWidthA:cellWidthB,ch=fillTintColor<gridHeight-1?cellHeightA:cellHeightB,pipeline.batchFillRect(fillTint*
cellWidth,fillTintColor*parentMatrix,cw,ch));if(showOutline&&0<src.outlineFillAlpha){cellWidthA=pipeline.strokeTint;alpha=Utils.getTintAppendFloatAlpha(src.outlineFillColor,src.outlineFillAlpha*alpha);cellWidthA.TL=alpha;cellWidthA.TR=alpha;cellWidthA.BL=alpha;cellWidthA.BR=alpha;for(fillTint=1;fillTint<gridWidth;fillTint++)alpha=fillTint*cellWidth,pipeline.batchLine(alpha,0,alpha,height,1,1,1,0,!1);for(fillTintColor=1;fillTintColor<gridHeight;fillTintColor++)height=fillTintColor*parentMatrix,pipeline.batchLine(0,
height,camera,height,1,1,1,0,!1)}renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var FillStyleCanvas=__webpack_require__(46),LineStyleCanvas=__webpack_require__(58),SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src,camera,parentMatrix)){renderer=-src._displayOriginX;parentMatrix=-src._displayOriginY;var alpha=camera.alpha*src.alpha;
camera=src.width;var height=src.height,cellWidth=src.cellWidth,cellHeight=src.cellHeight,gridWidth=Math.ceil(camera/cellWidth),gridHeight=Math.ceil(height/cellHeight),cellWidthA=cellWidth,cellHeightA=cellHeight,cellWidthB=cellWidth-(gridWidth*cellWidth-camera),cellHeightB=cellHeight-(gridHeight*cellHeight-height),showCells=src.showCells,showAltCells=src.showAltCells,showOutline=src.showOutline,y,r=0;showOutline&&(cellWidthA--,cellHeightA--,cellWidthB===cellWidth&&cellWidthB--,cellHeightB===cellHeight&&
cellHeightB--);if(showCells&&0<src.fillAlpha)for(FillStyleCanvas(ctx,src),y=0;y<gridHeight;y++)for(showAltCells&&(r=y%2),showCells=0;showCells<gridWidth;showCells++)if(showAltCells&&r)r=0;else{r++;var cw=showCells<gridWidth-1?cellWidthA:cellWidthB;var ch=y<gridHeight-1?cellHeightA:cellHeightB;ctx.fillRect(renderer+showCells*cellWidth,parentMatrix+y*cellHeight,cw,ch)}if(showAltCells&&0<src.altFillAlpha)for(FillStyleCanvas(ctx,src,src.altFillColor,src.altFillAlpha*alpha),y=0;y<gridHeight;y++)for(showAltCells&&
(r=y%2),showCells=0;showCells<gridWidth;showCells++)showAltCells&&!r?r=1:(r=0,cw=showCells<gridWidth-1?cellWidthA:cellWidthB,ch=y<gridHeight-1?cellHeightA:cellHeightB,ctx.fillRect(renderer+showCells*cellWidth,parentMatrix+y*cellHeight,cw,ch));if(showOutline&&0<src.outlineFillAlpha){LineStyleCanvas(ctx,src,src.outlineFillColor,src.outlineFillAlpha*alpha);for(showCells=1;showCells<gridWidth;showCells++)src=showCells*cellWidth,ctx.beginPath(),ctx.moveTo(src+renderer,parentMatrix),ctx.lineTo(src+renderer,
height+parentMatrix),ctx.stroke();for(y=1;y<gridHeight;y++)src=y*cellHeight,ctx.beginPath(),ctx.moveTo(renderer,src+parentMatrix),ctx.lineTo(renderer+camera,src+parentMatrix),ctx.stroke()}ctx.restore()}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1104);__webpack_require__=__webpack_require__(1105);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=
__webpack_require__(19),Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);parentMatrix=pipeline.calcMatrix.copyFrom(parentMatrix.calc);var size=src.width,height=src.height,sizeA=size/2;size/=src.projection;camera=camera.alpha*src.alpha;if(src.isFilled){renderer.pipelines.preBatch(src);if(src.showTop){var tint=Utils.getTintAppendFloatAlpha(src.fillTop,
camera);var x0=parentMatrix.getX(-sizeA,-height);var y0=parentMatrix.getY(-sizeA,-height);var x1=parentMatrix.getX(0,-size-height);var y1=parentMatrix.getY(0,-size-height);var x2=parentMatrix.getX(sizeA,-height);var y2=parentMatrix.getY(sizeA,-height);var x3=parentMatrix.getX(0,size-height);var y3=parentMatrix.getY(0,size-height);pipeline.batchQuad(x0,y0,x1,y1,x2,y2,x3,y3,tint,tint,tint,tint)}src.showLeft&&(tint=Utils.getTintAppendFloatAlpha(src.fillLeft,camera),x0=parentMatrix.getX(-sizeA,0),y0=
parentMatrix.getY(-sizeA,0),x1=parentMatrix.getX(0,size),y1=parentMatrix.getY(0,size),x2=parentMatrix.getX(0,size-height),y2=parentMatrix.getY(0,size-height),x3=parentMatrix.getX(-sizeA,-height),y3=parentMatrix.getY(-sizeA,-height),pipeline.batchQuad(x0,y0,x1,y1,x2,y2,x3,y3,tint,tint,tint,tint));src.showRight&&(tint=Utils.getTintAppendFloatAlpha(src.fillRight,camera),x0=parentMatrix.getX(sizeA,0),y0=parentMatrix.getY(sizeA,0),x1=parentMatrix.getX(0,size),y1=parentMatrix.getY(0,size),x2=parentMatrix.getX(0,
size-height),y2=parentMatrix.getY(0,size-height),x3=parentMatrix.getX(sizeA,-height),y3=parentMatrix.getY(sizeA,-height),pipeline.batchQuad(x0,y0,x1,y1,x2,y2,x3,y3,tint,tint,tint,tint));renderer.pipelines.postBatch(src)}}},function(module,exports,__webpack_require__){var FillStyleCanvas=__webpack_require__(46),SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;SetTransform(renderer,ctx,src,camera,
parentMatrix)&&src.isFilled&&(parentMatrix=src.width,renderer=src.height,camera=parentMatrix/2,parentMatrix/=src.projection,src.showTop&&(FillStyleCanvas(ctx,src,src.fillTop),ctx.beginPath(),ctx.moveTo(-camera,-renderer),ctx.lineTo(0,-parentMatrix-renderer),ctx.lineTo(camera,-renderer),ctx.lineTo(camera,-1),ctx.lineTo(0,parentMatrix-1),ctx.lineTo(-camera,-1),ctx.lineTo(-camera,-renderer),ctx.fill()),src.showLeft&&(FillStyleCanvas(ctx,src,src.fillLeft),ctx.beginPath(),ctx.moveTo(-camera,0),ctx.lineTo(0,
parentMatrix),ctx.lineTo(0,parentMatrix-renderer),ctx.lineTo(-camera,-renderer),ctx.lineTo(-camera,0),ctx.fill()),src.showRight&&(FillStyleCanvas(ctx,src,src.fillRight),ctx.beginPath(),ctx.moveTo(camera,0),ctx.lineTo(0,parentMatrix),ctx.lineTo(0,parentMatrix-renderer),ctx.lineTo(camera,-renderer),ctx.lineTo(camera,0),ctx.fill()),ctx.restore())}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1107);__webpack_require__=__webpack_require__(1108);
module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19),Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);parentMatrix=pipeline.calcMatrix.copyFrom(parentMatrix.calc);var size=src.width,height=src.height,sizeA=size/2;size/=src.projection;
var reversed=src.isReversed;camera=camera.alpha*src.alpha;if(src.isFilled){renderer.pipelines.preBatch(src);if(src.showTop&&reversed){var tint=Utils.getTintAppendFloatAlpha(src.fillTop,camera);var x0=parentMatrix.getX(-sizeA,-height);var y0=parentMatrix.getY(-sizeA,-height);var x1=parentMatrix.getX(0,-size-height);var y1=parentMatrix.getY(0,-size-height);var x2=parentMatrix.getX(sizeA,-height);var y2=parentMatrix.getY(sizeA,-height);var x3=parentMatrix.getX(0,size-height),y3=parentMatrix.getY(0,size-
height);pipeline.batchQuad(x0,y0,x1,y1,x2,y2,x3,y3,tint,tint,tint,tint)}src.showLeft&&(tint=Utils.getTintAppendFloatAlpha(src.fillLeft,camera),reversed?(x0=parentMatrix.getX(-sizeA,-height),y0=parentMatrix.getY(-sizeA,-height)):(x0=parentMatrix.getX(-sizeA,0),y0=parentMatrix.getY(-sizeA,0)),x1=parentMatrix.getX(0,size),y1=parentMatrix.getY(0,size),x2=parentMatrix.getX(0,size-height),y2=parentMatrix.getY(0,size-height),pipeline.batchTri(x0,y0,x1,y1,x2,y2,tint,tint,tint));src.showRight&&(tint=Utils.getTintAppendFloatAlpha(src.fillRight,
camera),reversed?(x0=parentMatrix.getX(sizeA,-height),y0=parentMatrix.getY(sizeA,-height)):(x0=parentMatrix.getX(sizeA,0),y0=parentMatrix.getY(sizeA,0)),x1=parentMatrix.getX(0,size),y1=parentMatrix.getY(0,size),x2=parentMatrix.getX(0,size-height),y2=parentMatrix.getY(0,size-height),pipeline.batchTri(x0,y0,x1,y1,x2,y2,tint,tint,tint));renderer.pipelines.postBatch(src)}}},function(module,exports,__webpack_require__){var FillStyleCanvas=__webpack_require__(46),SetTransform=__webpack_require__(30);module.exports=
function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src,camera,parentMatrix)&&src.isFilled){parentMatrix=src.width;renderer=src.height;camera=parentMatrix/2;parentMatrix/=src.projection;var reversed=src.isReversed;src.showTop&&reversed&&(FillStyleCanvas(ctx,src,src.fillTop),ctx.beginPath(),ctx.moveTo(-camera,-renderer),ctx.lineTo(0,-parentMatrix-renderer),ctx.lineTo(camera,-renderer),ctx.lineTo(0,parentMatrix-renderer),
ctx.fill());src.showLeft&&(FillStyleCanvas(ctx,src,src.fillLeft),ctx.beginPath(),reversed?ctx.moveTo(-camera,-renderer):ctx.moveTo(-camera,0),ctx.lineTo(0,parentMatrix),ctx.lineTo(0,parentMatrix-renderer),ctx.fill());src.showRight&&(FillStyleCanvas(ctx,src,src.fillRight),ctx.beginPath(),reversed?ctx.moveTo(camera,-renderer):ctx.moveTo(camera,0),ctx.lineTo(0,parentMatrix),ctx.lineTo(0,parentMatrix-renderer),ctx.fill());ctx.restore()}}},function(module,exports,__webpack_require__){__webpack_require__(1);
__webpack_require__(1);exports=__webpack_require__(1110);__webpack_require__=__webpack_require__(1111);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19),Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);pipeline.calcMatrix.copyFrom(parentMatrix.calc);
var dx=src._displayOriginX,dy=src._displayOriginY,alpha=camera.alpha*src.alpha;renderer.pipelines.preBatch(src);src.isStroked&&(camera=pipeline.strokeTint,alpha=Utils.getTintAppendFloatAlpha(src.strokeColor,src.strokeAlpha*alpha),camera.TL=alpha,camera.TR=alpha,camera.BL=alpha,camera.BR=alpha,pipeline.batchLine(src.geom.x1-dx,src.geom.y1-dy,src.geom.x2-dx,src.geom.y2-dy,src._startWidth,src._endWidth,1,0,!1,parentMatrix.sprite,parentMatrix.camera));renderer.pipelines.postBatch(src)}},function(module,
exports,__webpack_require__){var LineStyleCanvas=__webpack_require__(58),SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;SetTransform(renderer,ctx,src,camera,parentMatrix)&&(renderer=src._displayOriginX,camera=src._displayOriginY,src.isStroked&&(LineStyleCanvas(ctx,src),ctx.beginPath(),ctx.moveTo(src.geom.x1-renderer,src.geom.y1-camera),ctx.lineTo(src.geom.x2-renderer,src.geom.y2-camera),ctx.stroke()),
ctx.restore())}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1113);__webpack_require__=__webpack_require__(1114);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var FillPathWebGL=__webpack_require__(111),GetCalcMatrix=__webpack_require__(19),StrokePathWebGL=__webpack_require__(81);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);
var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);parentMatrix=pipeline.calcMatrix.copyFrom(parentMatrix.calc);var dx=src._displayOriginX,dy=src._displayOriginY;camera=camera.alpha*src.alpha;renderer.pipelines.preBatch(src);src.isFilled&&FillPathWebGL(pipeline,parentMatrix,src,camera,dx,dy);src.isStroked&&StrokePathWebGL(pipeline,src,camera,dx,dy);renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var FillStyleCanvas=
__webpack_require__(46),LineStyleCanvas=__webpack_require__(58),SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src,camera,parentMatrix)){renderer=src._displayOriginX;camera=src._displayOriginY;parentMatrix=src.pathData;var pathLength=parentMatrix.length-1,px1=parentMatrix[0]-renderer,py1=parentMatrix[1]-camera;ctx.beginPath();ctx.moveTo(px1,py1);src.closePath||(pathLength-=
2);for(px1=2;px1<pathLength;px1+=2)ctx.lineTo(parentMatrix[px1]-renderer,parentMatrix[px1+1]-camera);ctx.closePath();src.isFilled&&(FillStyleCanvas(ctx,src),ctx.fill());src.isStroked&&(LineStyleCanvas(ctx,src),ctx.stroke());ctx.restore()}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1116);__webpack_require__=__webpack_require__(1117);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,
__webpack_require__){var GetCalcMatrix=__webpack_require__(19),StrokePathWebGL=__webpack_require__(81),Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);pipeline.calcMatrix.copyFrom(parentMatrix.calc);parentMatrix=src._displayOriginX;var dy=src._displayOriginY;camera=camera.alpha*src.alpha;renderer.pipelines.preBatch(src);if(src.isFilled){var fillTint=
pipeline.fillTint,fillTintColor=Utils.getTintAppendFloatAlpha(src.fillColor,src.fillAlpha*camera);fillTint.TL=fillTintColor;fillTint.TR=fillTintColor;fillTint.BL=fillTintColor;fillTint.BR=fillTintColor;pipeline.batchFillRect(-parentMatrix,-dy,src.width,src.height)}src.isStroked&&StrokePathWebGL(pipeline,src,camera,parentMatrix,dy);renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var FillStyleCanvas=__webpack_require__(46),LineStyleCanvas=__webpack_require__(58),SetTransform=
__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;SetTransform(renderer,ctx,src,camera,parentMatrix)&&(renderer=src._displayOriginX,camera=src._displayOriginY,src.isFilled&&(FillStyleCanvas(ctx,src),ctx.fillRect(-renderer,-camera,src.width,src.height)),src.isStroked&&(LineStyleCanvas(ctx,src),ctx.beginPath(),ctx.rect(-renderer,-camera,src.width,src.height),ctx.stroke()),ctx.restore())}},function(module,exports,
__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1119);__webpack_require__=__webpack_require__(1120);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var FillPathWebGL=__webpack_require__(111),GetCalcMatrix=__webpack_require__(19),StrokePathWebGL=__webpack_require__(81);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);
parentMatrix=GetCalcMatrix(src,camera,parentMatrix);parentMatrix=pipeline.calcMatrix.copyFrom(parentMatrix.calc);var dx=src._displayOriginX,dy=src._displayOriginY;camera=camera.alpha*src.alpha;renderer.pipelines.preBatch(src);src.isFilled&&FillPathWebGL(pipeline,parentMatrix,src,camera,dx,dy);src.isStroked&&StrokePathWebGL(pipeline,src,camera,dx,dy);renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var FillStyleCanvas=__webpack_require__(46),LineStyleCanvas=__webpack_require__(58),
SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src,camera,parentMatrix)){renderer=src._displayOriginX;camera=src._displayOriginY;parentMatrix=src.pathData;var pathLength=parentMatrix.length-1,px1=parentMatrix[0]-renderer,py1=parentMatrix[1]-camera;ctx.beginPath();ctx.moveTo(px1,py1);src.closePath||(pathLength-=2);for(px1=2;px1<pathLength;px1+=2)ctx.lineTo(parentMatrix[px1]-
renderer,parentMatrix[px1+1]-camera);ctx.closePath();src.isFilled&&(FillStyleCanvas(ctx,src),ctx.fill());src.isStroked&&(LineStyleCanvas(ctx,src),ctx.stroke());ctx.restore()}}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1122);__webpack_require__=__webpack_require__(1123);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19),
StrokePathWebGL=__webpack_require__(81),Utils=__webpack_require__(12);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline);parentMatrix=GetCalcMatrix(src,camera,parentMatrix);pipeline.calcMatrix.copyFrom(parentMatrix.calc);var dx=src._displayOriginX,dy=src._displayOriginY;camera=camera.alpha*src.alpha;renderer.pipelines.preBatch(src);if(src.isFilled){var fillTint=pipeline.fillTint,fillTintColor=Utils.getTintAppendFloatAlpha(src.fillColor,
src.fillAlpha*camera);fillTint.TL=fillTintColor;fillTint.TR=fillTintColor;fillTint.BL=fillTintColor;fillTint.BR=fillTintColor;pipeline.batchFillTriangle(src.geom.x1-dx,src.geom.y1-dy,src.geom.x2-dx,src.geom.y2-dy,src.geom.x3-dx,src.geom.y3-dy,parentMatrix.sprite,parentMatrix.camera)}src.isStroked&&StrokePathWebGL(pipeline,src,camera,dx,dy);renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var FillStyleCanvas=__webpack_require__(46),LineStyleCanvas=__webpack_require__(58),
SetTransform=__webpack_require__(30);module.exports=function(renderer,src,camera,parentMatrix){camera.addToRenderList(src);var ctx=renderer.currentContext;if(SetTransform(renderer,ctx,src,camera,parentMatrix)){var dx=src._displayOriginX,dy=src._displayOriginY;renderer=src.geom.x1-dx;camera=src.geom.y1-dy;parentMatrix=src.geom.x2-dx;var y2=src.geom.y2-dy;dx=src.geom.x3-dx;dy=src.geom.y3-dy;ctx.beginPath();ctx.moveTo(renderer,camera);ctx.lineTo(parentMatrix,y2);ctx.lineTo(dx,dy);ctx.closePath();src.isFilled&&
(FillStyleCanvas(ctx,src),ctx.fill());src.isStroked&&(LineStyleCanvas(ctx,src),ctx.stroke());ctx.restore()}}},function(module,exports,__webpack_require__){var Blitter=__webpack_require__(210);__webpack_require__(5).register("blitter",function(x,y,key,frame){return this.displayList.add(new Blitter(this.scene,x,y,key,frame))})},function(module,exports,__webpack_require__){var Container=__webpack_require__(211);__webpack_require__(5).register("container",function(x,y,children){return this.displayList.add(new Container(this.scene,
x,y,children))})},function(module,exports,__webpack_require__){var DOMElement=__webpack_require__(436);__webpack_require__(5).register("dom",function(x,y,element,style,innerText){x=new DOMElement(this.scene,x,y,element,style,innerText);this.displayList.add(x);return x})},function(module,exports,__webpack_require__){var DynamicBitmapText=__webpack_require__(212);__webpack_require__(5).register("dynamicBitmapText",function(x,y,font,text,size){return this.displayList.add(new DynamicBitmapText(this.scene,
x,y,font,text,size))})},function(module,exports,__webpack_require__){var Extern=__webpack_require__(438);__webpack_require__(5).register("extern",function(){var extern=new Extern(this.scene);this.displayList.add(extern);return extern})},function(module,exports,__webpack_require__){var Graphics=__webpack_require__(213);__webpack_require__(5).register("graphics",function(config){return this.displayList.add(new Graphics(this.scene,config))})},function(module,exports,__webpack_require__){var Group=__webpack_require__(110);
__webpack_require__(5).register("group",function(children,config){return this.updateList.add(new Group(this.scene,children,config))})},function(module,exports,__webpack_require__){var Image=__webpack_require__(124);__webpack_require__(5).register("image",function(x,y,key,frame){return this.displayList.add(new Image(this.scene,x,y,key,frame))})},function(module,exports,__webpack_require__){var Layer=__webpack_require__(216);__webpack_require__(5).register("layer",function(children){return this.displayList.add(new Layer(this.scene,
children))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var ParticleEmitterManager=__webpack_require__(217);module.register("particles",function(key,frame,emitters){return this.displayList.add(new ParticleEmitterManager(this.scene,key,frame,emitters))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var PathFollower=__webpack_require__(451);module.register("follower",function(path,x,y,key,frame){path=new PathFollower(this.scene,path,x,
y,key,frame);this.displayList.add(path);this.updateList.add(path);return path})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var RenderTexture=__webpack_require__(218);module.register("renderTexture",function(x,y,width,height,key,frame){return this.displayList.add(new RenderTexture(this.scene,x,y,width,height,key,frame))})},function(module,exports,__webpack_require__){var Rope=__webpack_require__(220);__webpack_require__(5).register("rope",function(x,y,texture,frame,
points,horizontal,colors,alphas){return this.displayList.add(new Rope(this.scene,x,y,texture,frame,points,horizontal,colors,alphas))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var Sprite=__webpack_require__(73);module.register("sprite",function(x,y,key,frame){x=new Sprite(this.scene,x,y,key,frame);this.displayList.add(x);return x})},function(module,exports,__webpack_require__){var BitmapText=__webpack_require__(147);__webpack_require__(5).register("bitmapText",function(x,
y,font,text,size,align){return this.displayList.add(new BitmapText(this.scene,x,y,font,text,size,align))})},function(module,exports,__webpack_require__){var Text=__webpack_require__(221);__webpack_require__(5).register("text",function(x,y,text,style){return this.displayList.add(new Text(this.scene,x,y,text,style))})},function(module,exports,__webpack_require__){var TileSprite=__webpack_require__(222);__webpack_require__(5).register("tileSprite",function(x,y,width,height,key,frame){return this.displayList.add(new TileSprite(this.scene,
x,y,width,height,key,frame))})},function(module,exports,__webpack_require__){var Zone=__webpack_require__(127);__webpack_require__(5).register("zone",function(x,y,width,height){return this.displayList.add(new Zone(this.scene,x,y,width,height))})},function(module,exports,__webpack_require__){var Video=__webpack_require__(223);__webpack_require__(5).register("video",function(x,y,key){return this.displayList.add(new Video(this.scene,x,y,key))})},function(module,exports,__webpack_require__){var Arc=__webpack_require__(455);
module=__webpack_require__(5);module.register("arc",function(x,y,radius,startAngle,endAngle,anticlockwise,fillColor,fillAlpha){return this.displayList.add(new Arc(this.scene,x,y,radius,startAngle,endAngle,anticlockwise,fillColor,fillAlpha))});module.register("circle",function(x,y,radius,fillColor,fillAlpha){return this.displayList.add(new Arc(this.scene,x,y,radius,0,360,!1,fillColor,fillAlpha))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var Curve=__webpack_require__(456);
module.register("curve",function(x,y,curve,fillColor,fillAlpha){return this.displayList.add(new Curve(this.scene,x,y,curve,fillColor,fillAlpha))})},function(module,exports,__webpack_require__){var Ellipse=__webpack_require__(457);__webpack_require__(5).register("ellipse",function(x,y,width,height,fillColor,fillAlpha){return this.displayList.add(new Ellipse(this.scene,x,y,width,height,fillColor,fillAlpha))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var Grid=__webpack_require__(458);
module.register("grid",function(x,y,width,height,cellWidth,cellHeight,fillColor,fillAlpha,outlineFillColor,outlineFillAlpha){return this.displayList.add(new Grid(this.scene,x,y,width,height,cellWidth,cellHeight,fillColor,fillAlpha,outlineFillColor,outlineFillAlpha))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var IsoBox=__webpack_require__(459);module.register("isobox",function(x,y,size,height,fillTop,fillLeft,fillRight){return this.displayList.add(new IsoBox(this.scene,
x,y,size,height,fillTop,fillLeft,fillRight))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var IsoTriangle=__webpack_require__(460);module.register("isotriangle",function(x,y,size,height,reversed,fillTop,fillLeft,fillRight){return this.displayList.add(new IsoTriangle(this.scene,x,y,size,height,reversed,fillTop,fillLeft,fillRight))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var Line=__webpack_require__(461);module.register("line",function(x,
y,x1,y1,x2,y2,strokeColor,strokeAlpha){return this.displayList.add(new Line(this.scene,x,y,x1,y1,x2,y2,strokeColor,strokeAlpha))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var Polygon=__webpack_require__(462);module.register("polygon",function(x,y,points,fillColor,fillAlpha){return this.displayList.add(new Polygon(this.scene,x,y,points,fillColor,fillAlpha))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var Rectangle=__webpack_require__(467);
module.register("rectangle",function(x,y,width,height,fillColor,fillAlpha){return this.displayList.add(new Rectangle(this.scene,x,y,width,height,fillColor,fillAlpha))})},function(module,exports,__webpack_require__){var Star=__webpack_require__(468);__webpack_require__(5).register("star",function(x,y,points,innerRadius,outerRadius,fillColor,fillAlpha){return this.displayList.add(new Star(this.scene,x,y,points,innerRadius,outerRadius,fillColor,fillAlpha))})},function(module,exports,__webpack_require__){module=
__webpack_require__(5);var Triangle=__webpack_require__(469);module.register("triangle",function(x,y,x1,y1,x2,y2,x3,y3,fillColor,fillAlpha){return this.displayList.add(new Triangle(this.scene,x,y,x1,y1,x2,y2,x3,y3,fillColor,fillAlpha))})},function(module,exports,__webpack_require__){var Blitter=__webpack_require__(210),BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13);module.register("blitter",function(config,addToScene){void 0===config&&
(config={});var key=GetAdvancedValue(config,"key",null),frame=GetAdvancedValue(config,"frame",null);key=new Blitter(this.scene,0,0,key,frame);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,key,config);return key})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28),Container=__webpack_require__(211);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13);module.register("container",function(config,addToScene){void 0===
config&&(config={});var x=GetAdvancedValue(config,"x",0),y=GetAdvancedValue(config,"y",0),children=GetAdvancedValue(config,"children",null);x=new Container(this.scene,x,y,children);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,x,config);return x})},function(module,exports,__webpack_require__){var BitmapText=__webpack_require__(212),BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13);module.register("dynamicBitmapText",
function(config,addToScene){void 0===config&&(config={});var font=GetAdvancedValue(config,"font",""),text=GetAdvancedValue(config,"text",""),size=GetAdvancedValue(config,"size",!1);font=new BitmapText(this.scene,0,0,font,text,size);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,font,config);return font})},function(module,exports,__webpack_require__){module=__webpack_require__(16);var Graphics=__webpack_require__(213);module.register("graphics",function(config,addToScene){void 0===
config&&(config={});void 0!==addToScene&&(config.add=addToScene);addToScene=new Graphics(this.scene,config);config.add&&this.scene.sys.displayList.add(addToScene);return addToScene})},function(module,exports,__webpack_require__){module=__webpack_require__(16);var Group=__webpack_require__(110);module.register("group",function(config){return new Group(this.scene,null,config)})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=
__webpack_require__(13),Image=__webpack_require__(124);module.register("image",function(config,addToScene){void 0===config&&(config={});var key=GetAdvancedValue(config,"key",null),frame=GetAdvancedValue(config,"frame",null);key=new Image(this.scene,0,0,key,frame);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,key,config);return key})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28),Layer=__webpack_require__(216);module=__webpack_require__(16);
var GetAdvancedValue=__webpack_require__(13);module.register("layer",function(config,addToScene){void 0===config&&(config={});var children=GetAdvancedValue(config,"children",null);children=new Layer(this.scene,children);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,children,config);return children})},function(module,exports,__webpack_require__){module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),GetFastValue=__webpack_require__(2),ParticleEmitterManager=
__webpack_require__(217);module.register("particles",function(config,addToScene){void 0===config&&(config={});var key=GetAdvancedValue(config,"key",null),frame=GetAdvancedValue(config,"frame",null),emitters=GetFastValue(config,"emitters",null);key=new ParticleEmitterManager(this.scene,key,frame,emitters);void 0!==addToScene&&(config.add=addToScene);GetFastValue(config,"add",!1)?this.displayList.add(key):this.updateList.add(key);return key})},function(module,exports,__webpack_require__){var BuildGameObject=
__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),RenderTexture=__webpack_require__(218);module.register("renderTexture",function(config,addToScene){void 0===config&&(config={});var x=GetAdvancedValue(config,"x",0),y=GetAdvancedValue(config,"y",0),width=GetAdvancedValue(config,"width",32),height=GetAdvancedValue(config,"height",32),key=GetAdvancedValue(config,"key",void 0),frame=GetAdvancedValue(config,"frame",void 0);x=new RenderTexture(this.scene,
x,y,width,height,key,frame);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,x,config);return x})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),GetValue=__webpack_require__(6),Rope=__webpack_require__(220);module.register("rope",function(config,addToScene){void 0===config&&(config={});var key=GetAdvancedValue(config,"key",null),frame=GetAdvancedValue(config,
"frame",null),horizontal=GetAdvancedValue(config,"horizontal",!0),points=GetValue(config,"points",void 0),colors=GetValue(config,"colors",void 0),alphas=GetValue(config,"alphas",void 0);key=new Rope(this.scene,0,0,key,frame,points,horizontal,colors,alphas);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,key,config);config.add||this.updateList.add(key);return key})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28),BuildGameObjectAnimation=
__webpack_require__(433);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),Sprite=__webpack_require__(73);module.register("sprite",function(config,addToScene){void 0===config&&(config={});var key=GetAdvancedValue(config,"key",null),frame=GetAdvancedValue(config,"frame",null);key=new Sprite(this.scene,0,0,key,frame);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,key,config);BuildGameObjectAnimation(key,config);return key})},function(module,exports,
__webpack_require__){var BitmapText=__webpack_require__(147),BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),GetValue=__webpack_require__(6);module.register("bitmapText",function(config,addToScene){void 0===config&&(config={});var font=GetValue(config,"font",""),text=GetAdvancedValue(config,"text",""),size=GetAdvancedValue(config,"size",!1),align=GetValue(config,"align",0);font=new BitmapText(this.scene,0,0,font,text,size,align);
void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,font,config);return font})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),Text=__webpack_require__(221);module.register("text",function(config,addToScene){void 0===config&&(config={});var content=GetAdvancedValue(config,"text",""),style=GetAdvancedValue(config,"style",null),padding=GetAdvancedValue(config,"padding",
null);null!==padding&&(style.padding=padding);content=new Text(this.scene,0,0,content,style);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,content,config);content.autoRound=GetAdvancedValue(config,"autoRound",!0);content.resolution=GetAdvancedValue(config,"resolution",1);return content})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),TileSprite=__webpack_require__(222);
module.register("tileSprite",function(config,addToScene){void 0===config&&(config={});var x=GetAdvancedValue(config,"x",0),y=GetAdvancedValue(config,"y",0),width=GetAdvancedValue(config,"width",512),height=GetAdvancedValue(config,"height",512),key=GetAdvancedValue(config,"key",""),frame=GetAdvancedValue(config,"frame","");x=new TileSprite(this.scene,x,y,width,height,key,frame);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,x,config);return x})},function(module,exports,__webpack_require__){module=
__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),Zone=__webpack_require__(127);module.register("zone",function(config){var x=GetAdvancedValue(config,"x",0),y=GetAdvancedValue(config,"y",0),width=GetAdvancedValue(config,"width",1);config=GetAdvancedValue(config,"height",width);return new Zone(this.scene,x,y,width,config)})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),
Video=__webpack_require__(223);module.register("video",function(config,addToScene){void 0===config&&(config={});var key=GetAdvancedValue(config,"key",null);key=new Video(this.scene,0,0,key);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,key,config);config.add||this.updateList.add(key);return key})},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1171);__webpack_require__=__webpack_require__(1172);module.exports=
{renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19);module.exports=function(renderer,src,camera,parentMatrix){src.shader&&(camera.addToRenderList(src),renderer.pipelines.clear(),src.renderToTexture?src.load():(camera=GetCalcMatrix(src,camera,parentMatrix).calc,renderer.width===src._rendererWidth&&renderer.height===src._rendererHeight||src.projOrtho(0,renderer.width,renderer.height,0),src.load(camera.matrix)),
src.flush(),renderer.pipelines.rebind())}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1174);__webpack_require__=__webpack_require__(1175);module.exports={renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19);module.exports=function(renderer,src,camera,parentMatrix){var faces=src.faces,
totalFaces=faces.length;if(0!==totalFaces){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline,src),calcMatrix=GetCalcMatrix(src,camera,parentMatrix).calc;parentMatrix=pipeline.setGameObject(src);var F32=pipeline.vertexViewF32,U32=pipeline.vertexViewU32,vertexOffset=pipeline.vertexCount*pipeline.currentShader.vertexComponentCount-1,tintEffect=src.tintFill,debugFaces=[],debugCallback=src.debugCallback,a=calcMatrix.a,b=calcMatrix.b,c=calcMatrix.c,d=calcMatrix.d,e=calcMatrix.e;
calcMatrix=calcMatrix.f;var z=src.viewPosition.z,hideCCW=src.hideCCW,roundPixels=camera.roundPixels,alpha=camera.alpha*src.alpha,totalFacesRendered=0;renderer.pipelines.preBatch(src);for(var i=0;i<totalFaces;i++){var face=faces[i];face.isInView(camera,hideCCW,z,alpha,a,b,c,d,e,calcMatrix,roundPixels)&&(pipeline.shouldFlush(3)&&(pipeline.flush(),vertexOffset=0),vertexOffset=face.load(F32,U32,vertexOffset,parentMatrix,tintEffect),totalFacesRendered++,pipeline.vertexCount+=3,debugCallback&&debugFaces.push(face))}src.totalFrame+=
totalFacesRendered;debugCallback&&debugCallback.call(src,src,debugFaces);renderer.pipelines.postBatch(src)}}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){__webpack_require__(1);exports=__webpack_require__(1);__webpack_require__=__webpack_require__(1177);module.exports={renderWebGL:__webpack_require__,renderCanvas:exports}},function(module,exports,__webpack_require__){var GetCalcMatrix=__webpack_require__(19);module.exports=function(renderer,src,
camera,parentMatrix){camera.addToRenderList(src);var pipeline=renderer.pipelines.set(src.pipeline),calcMatrix=GetCalcMatrix(src,camera,parentMatrix).calc,x=-src._radius,y=-src._radius,xw=x+src.width,yh=y+src.height;parentMatrix=calcMatrix.getX(0,0);var lightY=calcMatrix.getY(0,0),tx0=calcMatrix.getX(x,y),ty0=calcMatrix.getY(x,y),tx1=calcMatrix.getX(x,yh);x=calcMatrix.getY(x,yh);var tx2=calcMatrix.getX(xw,yh);yh=calcMatrix.getY(xw,yh);var tx3=calcMatrix.getX(xw,y);calcMatrix=calcMatrix.getY(xw,y);
renderer.pipelines.preBatch(src);pipeline.batchPointLight(src,camera,tx0,ty0,tx1,x,tx2,yh,tx3,calcMatrix,parentMatrix,lightY);renderer.pipelines.postBatch(src)}},function(module,exports,__webpack_require__){var Shader=__webpack_require__(226);__webpack_require__(5).register("shader",function(key,x,y,width,height,textures,textureData){return this.displayList.add(new Shader(this.scene,key,x,y,width,height,textures,textureData))})},function(module,exports,__webpack_require__){var Mesh=__webpack_require__(227);
__webpack_require__(5).register("mesh",function(x,y,texture,frame,vertices,uvs,indicies,containsZ,normals,colors,alphas){return this.displayList.add(new Mesh(this.scene,x,y,texture,frame,vertices,uvs,indicies,containsZ,normals,colors,alphas))})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var PointLight=__webpack_require__(149);module.register("pointlight",function(x,y,color,radius,intensity,attenuation){return this.displayList.add(new PointLight(this.scene,x,y,color,
radius,intensity,attenuation))})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),Shader=__webpack_require__(226);module.register("shader",function(config,addToScene){void 0===config&&(config={});var key=GetAdvancedValue(config,"key",null),x=GetAdvancedValue(config,"x",0),y=GetAdvancedValue(config,"y",0),width=GetAdvancedValue(config,"width",128),height=GetAdvancedValue(config,"height",
128);key=new Shader(this.scene,key,x,y,width,height);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,key,config);return key})},function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),GetValue=__webpack_require__(6),Mesh=__webpack_require__(227);module.register("mesh",function(config,addToScene){void 0===config&&(config={});var key=GetAdvancedValue(config,"key",null),
frame=GetAdvancedValue(config,"frame",null),vertices=GetValue(config,"vertices",[]),uvs=GetValue(config,"uvs",[]),indicies=GetValue(config,"indicies",[]),containsZ=GetValue(config,"containsZ",!1),normals=GetValue(config,"normals",[]),colors=GetValue(config,"colors",16777215),alphas=GetValue(config,"alphas",1);key=new Mesh(this.scene,0,0,key,frame,vertices,uvs,indicies,containsZ,normals,colors,alphas);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,key,config);return key})},
function(module,exports,__webpack_require__){var BuildGameObject=__webpack_require__(28);module=__webpack_require__(16);var GetAdvancedValue=__webpack_require__(13),PointLight=__webpack_require__(149);module.register("pointlight",function(config,addToScene){void 0===config&&(config={});var color=GetAdvancedValue(config,"color",16777215),radius=GetAdvancedValue(config,"radius",128),intensity=GetAdvancedValue(config,"intensity",1),attenuation=GetAdvancedValue(config,"attenuation",.1);color=new PointLight(this.scene,
0,0,color,radius,intensity,attenuation);void 0!==addToScene&&(config.add=addToScene);BuildGameObject(this.scene,color,config);return color})},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),LightsManager=__webpack_require__(476);exports=__webpack_require__(24);var SceneEvents=__webpack_require__(21);__webpack_require__=new Class({Extends:LightsManager,initialize:function(scene){this.scene=scene;this.systems=scene.sys;if(!scene.sys.settings.isBooted)scene.sys.events.once(SceneEvents.BOOT,
this.boot,this);LightsManager.call(this)},boot:function(){var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.SHUTDOWN,this.shutdown,this);eventEmitter.on(SceneEvents.DESTROY,this.destroy,this)},destroy:function(){this.shutdown();this.systems=this.scene=void 0}});exports.register("LightsPlugin",__webpack_require__,"lights");module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(62);exports.Area=__webpack_require__(1186);exports.Circumference=
__webpack_require__(296);exports.CircumferencePoint=__webpack_require__(165);exports.Clone=__webpack_require__(1187);exports.Contains=__webpack_require__(63);exports.ContainsPoint=__webpack_require__(1188);exports.ContainsRect=__webpack_require__(1189);exports.CopyFrom=__webpack_require__(1190);exports.Equals=__webpack_require__(1191);exports.GetBounds=__webpack_require__(1192);exports.GetPoint=__webpack_require__(294);exports.GetPoints=__webpack_require__(295);exports.Offset=__webpack_require__(1193);
exports.OffsetPoint=__webpack_require__(1194);exports.Random=__webpack_require__(166);module.exports=exports},function(module,exports){module.exports=function(circle){return 0<circle.radius?Math.PI*circle.radius*circle.radius:0}},function(module,exports,__webpack_require__){var Circle=__webpack_require__(62);module.exports=function(source){return new Circle(source.x,source.y,source.radius)}},function(module,exports,__webpack_require__){var Contains=__webpack_require__(63);module.exports=function(circle,
point){return Contains(circle,point.x,point.y)}},function(module,exports,__webpack_require__){var Contains=__webpack_require__(63);module.exports=function(circle,rect){return Contains(circle,rect.x,rect.y)&&Contains(circle,rect.right,rect.y)&&Contains(circle,rect.x,rect.bottom)&&Contains(circle,rect.right,rect.bottom)}},function(module,exports){module.exports=function(source,dest){return dest.setTo(source.x,source.y,source.radius)}},function(module,exports){module.exports=function(circle,toCompare){return circle.x===
toCompare.x&&circle.y===toCompare.y&&circle.radius===toCompare.radius}},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10);module.exports=function(circle,out){void 0===out&&(out=new Rectangle);out.x=circle.left;out.y=circle.top;out.width=circle.diameter;out.height=circle.diameter;return out}},function(module,exports){module.exports=function(circle,x,y){circle.x+=x;circle.y+=y;return circle}},function(module,exports){module.exports=function(circle,point){circle.x+=point.x;
circle.y+=point.y;return circle}},function(module,exports,__webpack_require__){exports=__webpack_require__(108);exports.Area=__webpack_require__(1196);exports.Circumference=__webpack_require__(441);exports.CircumferencePoint=__webpack_require__(215);exports.Clone=__webpack_require__(1197);exports.Contains=__webpack_require__(109);exports.ContainsPoint=__webpack_require__(1198);exports.ContainsRect=__webpack_require__(1199);exports.CopyFrom=__webpack_require__(1200);exports.Equals=__webpack_require__(1201);
exports.GetBounds=__webpack_require__(1202);exports.GetPoint=__webpack_require__(439);exports.GetPoints=__webpack_require__(440);exports.Offset=__webpack_require__(1203);exports.OffsetPoint=__webpack_require__(1204);exports.Random=__webpack_require__(177);module.exports=exports},function(module,exports){module.exports=function(ellipse){return ellipse.isEmpty()?0:ellipse.getMajorRadius()*ellipse.getMinorRadius()*Math.PI}},function(module,exports,__webpack_require__){var Ellipse=__webpack_require__(108);
module.exports=function(source){return new Ellipse(source.x,source.y,source.width,source.height)}},function(module,exports,__webpack_require__){var Contains=__webpack_require__(109);module.exports=function(ellipse,point){return Contains(ellipse,point.x,point.y)}},function(module,exports,__webpack_require__){var Contains=__webpack_require__(109);module.exports=function(ellipse,rect){return Contains(ellipse,rect.x,rect.y)&&Contains(ellipse,rect.right,rect.y)&&Contains(ellipse,rect.x,rect.bottom)&&Contains(ellipse,
rect.right,rect.bottom)}},function(module,exports){module.exports=function(source,dest){return dest.setTo(source.x,source.y,source.width,source.height)}},function(module,exports){module.exports=function(ellipse,toCompare){return ellipse.x===toCompare.x&&ellipse.y===toCompare.y&&ellipse.width===toCompare.width&&ellipse.height===toCompare.height}},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10);module.exports=function(ellipse,out){void 0===out&&(out=new Rectangle);
out.x=ellipse.left;out.y=ellipse.top;out.width=ellipse.width;out.height=ellipse.height;return out}},function(module,exports){module.exports=function(ellipse,x,y){ellipse.x+=x;ellipse.y+=y;return ellipse}},function(module,exports){module.exports=function(ellipse,point){ellipse.x+=point.x;ellipse.y+=point.y;return ellipse}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4),CircleToCircle=__webpack_require__(228);module.exports=function(circleA,circleB,out){void 0===out&&
(out=[]);if(CircleToCircle(circleA,circleB)){var x0=circleA.x,y0=circleA.y,r0=circleA.radius,x1=circleB.x,y1=circleB.y,r1=circleB.radius;if(y0===y1)x0=(r1*r1-r0*r0-x1*x1+x0*x0)/(2*(x0-x1)),circleB=1,circleA=-2*y1,y0=circleA*circleA-4*circleB*(x1*x1+x0*x0-2*x1*x0+y1*y1-r1*r1),0===y0?out.push(new Point(x0,-circleA/(2*circleB))):0<y0&&(out.push(new Point(x0,(-circleA+Math.sqrt(y0))/(2*circleB))),out.push(new Point(x0,(-circleA-Math.sqrt(y0))/(2*circleB))));else{var v1=(x0-x1)/(y0-y1);x1=(r1*r1-r0*r0-
x1*x1+x0*x0-y1*y1+y0*y0)/(2*(y0-y1));circleB=v1*v1+1;circleA=2*y0*v1-2*x1*v1-2*x0;y0=circleA*circleA-4*circleB*(x0*x0+y0*y0+x1*x1-r0*r0-2*y0*x1);0===y0?(x0=-circleA/(2*circleB),out.push(new Point(x0,x1-x0*v1))):0<y0&&(x0=(-circleA+Math.sqrt(y0))/(2*circleB),out.push(new Point(x0,x1-x0*v1)),x0=(-circleA-Math.sqrt(y0))/(2*circleB),out.push(new Point(x0,x1-x0*v1)))}}return out}},function(module,exports,__webpack_require__){var GetLineToCircle=__webpack_require__(229),CircleToRectangle=__webpack_require__(150);
module.exports=function(circle,rect,out){void 0===out&&(out=[]);if(CircleToRectangle(circle,rect)){var lineA=rect.getLineA(),lineB=rect.getLineB(),lineC=rect.getLineC();rect=rect.getLineD();GetLineToCircle(lineA,circle,out);GetLineToCircle(lineB,circle,out);GetLineToCircle(lineC,circle,out);GetLineToCircle(rect,circle,out)}return out}},function(module,exports,__webpack_require__){function CheckIntersects(angle,x,y,polygons,intersects){segment.setTo(x,y,x+Math.cos(angle),y+Math.sin(angle));(x=GetLineToPolygon(segment,
polygons))&&intersects.push(new Vector4(x.x,x.y,angle,x.w))}function SortIntersects(a,b){return a.z-b.z}var Vector4=__webpack_require__(138),GetLineToPolygon=__webpack_require__(481),segment=new (__webpack_require__(45));module.exports=function(x,y,polygons){Array.isArray(polygons)||(polygons=[polygons]);for(var intersects=[],angles=[],i=0;i<polygons.length;i++)for(var points=polygons[i].points,p=0;p<points.length;p++){var angle=Math.atan2(points[p].y-y,points[p].x-x);-1===angles.indexOf(angle)&&
(CheckIntersects(angle,x,y,polygons,intersects),CheckIntersects(angle-1E-5,x,y,polygons,intersects),CheckIntersects(angle+1E-5,x,y,polygons,intersects),angles.push(angle))}return intersects.sort(SortIntersects)}},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10),RectangleToRectangle=__webpack_require__(114);module.exports=function(rectA,rectB,output){void 0===output&&(output=new Rectangle);RectangleToRectangle(rectA,rectB)&&(output.x=Math.max(rectA.x,rectB.x),output.y=
Math.max(rectA.y,rectB.y),output.width=Math.min(rectA.right,rectB.right)-output.x,output.height=Math.min(rectA.bottom,rectB.bottom)-output.y);return output}},function(module,exports,__webpack_require__){var GetLineToRectangle=__webpack_require__(231),RectangleToRectangle=__webpack_require__(114);module.exports=function(rectA,rectB,out){void 0===out&&(out=[]);if(RectangleToRectangle(rectA,rectB)){var lineA=rectA.getLineA(),lineB=rectA.getLineB(),lineC=rectA.getLineC();rectA=rectA.getLineD();GetLineToRectangle(lineA,
rectB,out);GetLineToRectangle(lineB,rectB,out);GetLineToRectangle(lineC,rectB,out);GetLineToRectangle(rectA,rectB,out)}return out}},function(module,exports,__webpack_require__){var RectangleToTriangle=__webpack_require__(483),GetLineToRectangle=__webpack_require__(231);module.exports=function(rect,triangle,out){void 0===out&&(out=[]);if(RectangleToTriangle(rect,triangle)){var lineA=triangle.getLineA(),lineB=triangle.getLineB();triangle=triangle.getLineC();GetLineToRectangle(lineA,rect,out);GetLineToRectangle(lineB,
rect,out);GetLineToRectangle(triangle,rect,out)}return out}},function(module,exports,__webpack_require__){var GetLineToCircle=__webpack_require__(229),TriangleToCircle=__webpack_require__(485);module.exports=function(triangle,circle,out){void 0===out&&(out=[]);if(TriangleToCircle(triangle,circle)){var lineA=triangle.getLineA(),lineB=triangle.getLineB();triangle=triangle.getLineC();GetLineToCircle(lineA,circle,out);GetLineToCircle(lineB,circle,out);GetLineToCircle(triangle,circle,out)}return out}},
function(module,exports,__webpack_require__){var TriangleToTriangle=__webpack_require__(488),GetTriangleToLine=__webpack_require__(486);module.exports=function(triangleA,triangleB,out){void 0===out&&(out=[]);if(TriangleToTriangle(triangleA,triangleB)){var lineA=triangleB.getLineA(),lineB=triangleB.getLineB();triangleB=triangleB.getLineC();GetTriangleToLine(triangleA,lineA,out);GetTriangleToLine(triangleA,lineB,out);GetTriangleToLine(triangleA,triangleB,out)}return out}},function(module,exports,__webpack_require__){var PointToLine=
__webpack_require__(490);module.exports=function(point,line){if(!PointToLine(point,line))return!1;var xMax=Math.max(line.x1,line.x2),yMin=Math.min(line.y1,line.y2),yMax=Math.max(line.y1,line.y2);return point.x>=Math.min(line.x1,line.x2)&&point.x<=xMax&&point.y>=yMin&&point.y<=yMax}},function(module,exports){module.exports=function(rect,left,right,top,bottom,tolerance){void 0===tolerance&&(tolerance=0);return!(left>rect.right+tolerance||right<rect.left-tolerance||top>rect.bottom+tolerance||bottom<
rect.top-tolerance)}},function(module,exports,__webpack_require__){exports=__webpack_require__(45);exports.Angle=__webpack_require__(93);exports.BresenhamPoints=__webpack_require__(311);exports.CenterOn=__webpack_require__(1216);exports.Clone=__webpack_require__(1217);exports.CopyFrom=__webpack_require__(1218);exports.Equals=__webpack_require__(1219);exports.Extend=__webpack_require__(1220);exports.GetEasedPoints=__webpack_require__(1221);exports.GetMidPoint=__webpack_require__(1222);exports.GetNearestPoint=
__webpack_require__(1223);exports.GetNormal=__webpack_require__(1224);exports.GetPoint=__webpack_require__(301);exports.GetPoints=__webpack_require__(168);exports.GetShortestDistance=__webpack_require__(1225);exports.Height=__webpack_require__(1226);exports.Length=__webpack_require__(64);exports.NormalAngle=__webpack_require__(491);exports.NormalX=__webpack_require__(1227);exports.NormalY=__webpack_require__(1228);exports.Offset=__webpack_require__(1229);exports.PerpSlope=__webpack_require__(1230);
exports.Random=__webpack_require__(169);exports.ReflectAngle=__webpack_require__(1231);exports.Rotate=__webpack_require__(1232);exports.RotateAroundPoint=__webpack_require__(1233);exports.RotateAroundXY=__webpack_require__(233);exports.SetToAngle=__webpack_require__(1234);exports.Slope=__webpack_require__(1235);exports.Width=__webpack_require__(1236);module.exports=exports},function(module,exports){module.exports=function(line,x,y){x-=(line.x1+line.x2)/2;y-=(line.y1+line.y2)/2;line.x1+=x;line.y1+=
y;line.x2+=x;line.y2+=y;return line}},function(module,exports,__webpack_require__){var Line=__webpack_require__(45);module.exports=function(source){return new Line(source.x1,source.y1,source.x2,source.y2)}},function(module,exports){module.exports=function(source,dest){return dest.setTo(source.x1,source.y1,source.x2,source.y2)}},function(module,exports){module.exports=function(line,toCompare){return line.x1===toCompare.x1&&line.y1===toCompare.y1&&line.x2===toCompare.x2&&line.y2===toCompare.y2}},function(module,
exports,__webpack_require__){var Length=__webpack_require__(64);module.exports=function(line,left,right){void 0===right&&(right=left);var length=Length(line),slopX=line.x2-line.x1,slopY=line.y2-line.y1;left&&(line.x1-=slopX/length*left,line.y1-=slopY/length*left);right&&(line.x2+=slopX/length*right,line.y2+=slopY/length*right);return line}},function(module,exports,__webpack_require__){var DistanceBetweenPoints=__webpack_require__(346),GetEaseFunction=__webpack_require__(80),Point=__webpack_require__(4);
module.exports=function(line,ease,quantity,collinearThreshold,easeParams){void 0===collinearThreshold&&(collinearThreshold=0);void 0===easeParams&&(easeParams=[]);var results=[],x1=line.x1,y1=line.y1,spaceX=line.x2-x1;line=line.y2-y1;ease=GetEaseFunction(ease,easeParams);var q=quantity-1;for(quantity=0;quantity<q;quantity++)easeParams=ease(quantity/q),results.push(new Point(x1+spaceX*easeParams,y1+line*easeParams));easeParams=ease(1);results.push(new Point(x1+spaceX*easeParams,y1+line*easeParams));
if(0<collinearThreshold){x1=results[0];y1=[x1];for(quantity=1;quantity<results.length-1;quantity++)spaceX=results[quantity],DistanceBetweenPoints(x1,spaceX)>=collinearThreshold&&(y1.push(spaceX),x1=spaceX);results=results[results.length-1];DistanceBetweenPoints(x1,results)<collinearThreshold&&y1.pop();y1.push(results);return y1}return results}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(line,out){void 0===out&&(out=new Point);out.x=(line.x1+
line.x2)/2;out.y=(line.y1+line.y2)/2;return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(line,point,out){void 0===out&&(out=new Point);var x1=line.x1,y1=line.y1,x2=line.x2;line=line.y2;var L2=(x2-x1)*(x2-x1)+(line-y1)*(line-y1);if(0===L2)return out;point=((point.x-x1)*(x2-x1)+(point.y-y1)*(line-y1))/L2;out.x=x1+point*(x2-x1);out.y=y1+point*(line-y1);return out}},function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(14),
Angle=__webpack_require__(93),Point=__webpack_require__(4);module.exports=function(line,out){void 0===out&&(out=new Point);line=Angle(line)-MATH_CONST.TAU;out.x=Math.cos(line);out.y=Math.sin(line);return out}},function(module,exports){module.exports=function(line,point){var x1=line.x1,y1=line.y1,x2=line.x2;line=line.y2;var L2=(x2-x1)*(x2-x1)+(line-y1)*(line-y1);return 0===L2?!1:Math.abs(((y1-point.y)*(x2-x1)-(x1-point.x)*(line-y1))/L2)*Math.sqrt(L2)}},function(module,exports){module.exports=function(line){return Math.abs(line.y1-
line.y2)}},function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(14),Angle=__webpack_require__(93);module.exports=function(line){return Math.cos(Angle(line)-MATH_CONST.TAU)}},function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(14),Angle=__webpack_require__(93);module.exports=function(line){return Math.sin(Angle(line)-MATH_CONST.TAU)}},function(module,exports){module.exports=function(line,x,y){line.x1+=x;line.y1+=y;line.x2+=x;line.y2+=y;return line}},
function(module,exports){module.exports=function(line){return-((line.x2-line.x1)/(line.y2-line.y1))}},function(module,exports,__webpack_require__){var Angle=__webpack_require__(93),NormalAngle=__webpack_require__(491);module.exports=function(lineA,lineB){return 2*NormalAngle(lineB)-Math.PI-Angle(lineA)}},function(module,exports,__webpack_require__){var RotateAroundXY=__webpack_require__(233);module.exports=function(line,angle){return RotateAroundXY(line,(line.x1+line.x2)/2,(line.y1+line.y2)/2,angle)}},
function(module,exports,__webpack_require__){var RotateAroundXY=__webpack_require__(233);module.exports=function(line,point,angle){return RotateAroundXY(line,point.x,point.y,angle)}},function(module,exports){module.exports=function(line,x,y,angle,length){line.x1=x;line.y1=y;line.x2=x+Math.cos(angle)*length;line.y2=y+Math.sin(angle)*length;return line}},function(module,exports){module.exports=function(line){return(line.y2-line.y1)/(line.x2-line.x1)}},function(module,exports){module.exports=function(line){return Math.abs(line.x1-
line.x2)}},function(module,exports,__webpack_require__){exports={Face:__webpack_require__(113),GenerateGridVerts:__webpack_require__(1238),GenerateObjVerts:__webpack_require__(474),GenerateVerts:__webpack_require__(473),ParseObj:__webpack_require__(492),ParseObjMaterial:__webpack_require__(493),RotateFace:__webpack_require__(1239),Vertex:__webpack_require__(115)};module.exports=exports},function(module,exports,__webpack_require__){var Face=__webpack_require__(113),GetFastValue=__webpack_require__(2);
exports=__webpack_require__(67);var Vector3=__webpack_require__(38),Vertex=__webpack_require__(115),tempPosition=new Vector3,tempRotation=new Vector3,tempMatrix=new exports;module.exports=function(config){var mesh=GetFastValue(config,"mesh"),texture=GetFastValue(config,"texture",null),frame=GetFastValue(config,"frame"),width=GetFastValue(config,"width",1),height=GetFastValue(config,"height",width),widthSegments=GetFastValue(config,"widthSegments",1),heightSegments=GetFastValue(config,"heightSegments",
widthSegments),posX=GetFastValue(config,"x",0),posY=GetFastValue(config,"y",0),posZ=GetFastValue(config,"z",0),rotateX=GetFastValue(config,"rotateX",0),rotateY=GetFastValue(config,"rotateY",0),rotateZ=GetFastValue(config,"rotateZ",0),zIsUp=GetFastValue(config,"zIsUp",!0),isOrtho=GetFastValue(config,"isOrtho",mesh?mesh.dirtyCache[11]:!1),colors=GetFastValue(config,"colors",[16777215]),alphas=GetFastValue(config,"alphas",[1]),tile=GetFastValue(config,"tile",!1),flipY=GetFastValue(config,"flipY",!1),
widthSet=GetFastValue(config,"width",null);config={faces:[],verts:[]};tempPosition.set(posX,posY,posZ);tempRotation.set(rotateX,rotateY,rotateZ);tempMatrix.fromRotationXYTranslation(tempRotation,tempPosition,zIsUp);if(!texture&&mesh)texture=mesh.texture;else if(mesh&&"string"===typeof texture)texture=mesh.scene.sys.textures.get(texture);else return config;posZ=texture.get(frame);!widthSet&&isOrtho&&texture&&mesh&&(width=posZ.width/mesh.height,height=posZ.height/mesh.height);rotateX=width/2;rotateY=
height/2;widthSegments=Math.floor(widthSegments);heightSegments=Math.floor(heightSegments);texture=widthSegments+1;rotateZ=heightSegments+1;zIsUp=width/widthSegments;widthSet=height/heightSegments;height=[];width=[];isOrtho=0;frame=1;posX=0;posY=1;posZ&&(isOrtho=posZ.u0,frame=posZ.u1,flipY?(posX=posZ.v1,posY=posZ.v0):(posX=posZ.v0,posY=posZ.v1));var frameU=frame-isOrtho,frameV=posY-posX;for(posZ=0;posZ<rotateZ;posZ++){var y=posZ*widthSet-rotateY;for(flipY=0;flipY<texture;flipY++)width.push(flipY*
zIsUp-rotateX,-y),height.push(isOrtho+flipY/widthSegments*frameU,posX+posZ/heightSegments*frameV)}Array.isArray(colors)||(colors=[colors]);Array.isArray(alphas)||(alphas=[alphas]);for(posZ=rotateY=rotateX=0;posZ<heightSegments;posZ++)for(flipY=0;flipY<widthSegments;flipY++){frameU=2*(flipY+texture*posZ);var b=2*(flipY+texture*(posZ+1)),c=2*(flipY+1+texture*(posZ+1));rotateZ=2*(flipY+1+texture*posZ);zIsUp=colors[rotateY];widthSet=alphas[rotateX];frameU=(new Vertex(width[frameU],width[frameU+1],0,height[frameU],
height[frameU+1],zIsUp,widthSet)).transformMat4(tempMatrix);frameV=(new Vertex(width[b],width[b+1],0,height[b],height[b+1],zIsUp,widthSet)).transformMat4(tempMatrix);y=(new Vertex(width[rotateZ],width[rotateZ+1],0,height[rotateZ],height[rotateZ+1],zIsUp,widthSet)).transformMat4(tempMatrix);b=(new Vertex(width[b],width[b+1],0,height[b],height[b+1],zIsUp,widthSet)).transformMat4(tempMatrix);c=(new Vertex(width[c],width[c+1],0,height[c],height[c+1],zIsUp,widthSet)).transformMat4(tempMatrix);rotateZ=
(new Vertex(width[rotateZ],width[rotateZ+1],0,height[rotateZ],height[rotateZ+1],zIsUp,widthSet)).transformMat4(tempMatrix);tile&&(frameU.setUVs(isOrtho,posY),frameV.setUVs(isOrtho,posX),y.setUVs(frame,posY),b.setUVs(isOrtho,posX),c.setUVs(frame,posX),rotateZ.setUVs(frame,posY));rotateY++;rotateY===colors.length&&(rotateY=0);rotateX++;rotateX===alphas.length&&(rotateX=0);config.verts.push(frameU,frameV,y,b,c,rotateZ);config.faces.push(new Face(frameU,frameV,y),new Face(b,c,rotateZ))}mesh&&(mesh.faces=
mesh.faces.concat(config.faces),mesh.vertices=mesh.vertices.concat(config.verts));return config}},function(module,exports){module.exports=function(face,angle,cx,cy){if(void 0===cx&&void 0===cy){var y=face.getInCenter();var x=y.x;y=y.y}cx=Math.cos(angle);angle=Math.sin(angle);cy=face.vertex1;var v2=face.vertex2;face=face.vertex3;var tx=cy.x-x,ty=cy.y-y;cy.set(tx*cx-ty*angle+x,tx*angle+ty*cx+y);tx=v2.x-x;ty=v2.y-y;v2.set(tx*cx-ty*angle+x,tx*angle+ty*cx+y);tx=face.x-x;ty=face.y-y;face.set(tx*cx-ty*angle+
x,tx*angle+ty*cx+y)}},function(module,exports,__webpack_require__){exports=__webpack_require__(4);exports.Ceil=__webpack_require__(1241);exports.Clone=__webpack_require__(1242);exports.CopyFrom=__webpack_require__(1243);exports.Equals=__webpack_require__(1244);exports.Floor=__webpack_require__(1245);exports.GetCentroid=__webpack_require__(1246);exports.GetMagnitude=__webpack_require__(494);exports.GetMagnitudeSq=__webpack_require__(495);exports.GetRectangleFromPoints=__webpack_require__(1247);exports.Interpolate=
__webpack_require__(1248);exports.Invert=__webpack_require__(1249);exports.Negative=__webpack_require__(1250);exports.Project=__webpack_require__(1251);exports.ProjectUnit=__webpack_require__(1252);exports.SetMagnitude=__webpack_require__(1253);module.exports=exports},function(module,exports){module.exports=function(point){return point.setTo(Math.ceil(point.x),Math.ceil(point.y))}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(source){return new Point(source.x,
source.y)}},function(module,exports){module.exports=function(source,dest){return dest.setTo(source.x,source.y)}},function(module,exports){module.exports=function(point,toCompare){return point.x===toCompare.x&&point.y===toCompare.y}},function(module,exports){module.exports=function(point){return point.setTo(Math.floor(point.x),Math.floor(point.y))}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(points,out){void 0===out&&(out=new Point);if(!Array.isArray(points))throw Error("GetCentroid points argument must be an array");
var len=points.length;if(1>len)throw Error("GetCentroid points array must not be empty");if(1===len)out.x=points[0].x,out.y=points[0].y;else{for(var i=0;i<len;i++)out.x+=points[i].x,out.y+=points[i].y;out.x/=len;out.y/=len}return out}},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10);module.exports=function(points,out){void 0===out&&(out=new Rectangle);for(var xMax=Number.NEGATIVE_INFINITY,xMin=Number.POSITIVE_INFINITY,yMax=Number.NEGATIVE_INFINITY,yMin=Number.POSITIVE_INFINITY,
i=0;i<points.length;i++){var point=points[i];point.x>xMax&&(xMax=point.x);point.x<xMin&&(xMin=point.x);point.y>yMax&&(yMax=point.y);point.y<yMin&&(yMin=point.y)}out.x=xMin;out.y=yMin;out.width=xMax-xMin;out.height=yMax-yMin;return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(pointA,pointB,t,out){void 0===t&&(t=0);void 0===out&&(out=new Point);out.x=pointA.x+(pointB.x-pointA.x)*t;out.y=pointA.y+(pointB.y-pointA.y)*t;return out}},function(module,
exports){module.exports=function(point){return point.setTo(point.y,point.x)}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(point,out){void 0===out&&(out=new Point);return out.setTo(-point.x,-point.y)}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4),GetMagnitudeSq=__webpack_require__(495);module.exports=function(pointA,pointB,out){void 0===out&&(out=new Point);pointA=(pointA.x*pointB.x+pointA.y*pointB.y)/GetMagnitudeSq(pointB);
0!==pointA&&(out.x=pointA*pointB.x,out.y=pointA*pointB.y);return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(pointA,pointB,out){void 0===out&&(out=new Point);pointA=pointA.x*pointB.x+pointA.y*pointB.y;0!==pointA&&(out.x=pointA*pointB.x,out.y=pointA*pointB.y);return out}},function(module,exports,__webpack_require__){var GetMagnitude=__webpack_require__(494);module.exports=function(point,magnitude){if(0!==point.x||0!==point.y){var m=GetMagnitude(point);
point.x/=m;point.y/=m}point.x*=magnitude;point.y*=magnitude;return point}},function(module,exports,__webpack_require__){exports=__webpack_require__(224);exports.Clone=__webpack_require__(1255);exports.Contains=__webpack_require__(225);exports.ContainsPoint=__webpack_require__(1256);exports.Earcut=__webpack_require__(68);exports.GetAABB=__webpack_require__(463);exports.GetNumberArray=__webpack_require__(1257);exports.GetPoints=__webpack_require__(464);exports.Perimeter=__webpack_require__(465);exports.Reverse=
__webpack_require__(1258);exports.Simplify=__webpack_require__(1259);exports.Smooth=__webpack_require__(466);exports.Translate=__webpack_require__(1260);module.exports=exports},function(module,exports,__webpack_require__){var Polygon=__webpack_require__(224);module.exports=function(polygon){return new Polygon(polygon.points)}},function(module,exports,__webpack_require__){var Contains=__webpack_require__(225);module.exports=function(polygon,point){return Contains(polygon,point.x,point.y)}},function(module,
exports){module.exports=function(polygon,output){void 0===output&&(output=[]);for(var i=0;i<polygon.points.length;i++)output.push(polygon.points[i].x),output.push(polygon.points[i].y);return output}},function(module,exports){module.exports=function(polygon){polygon.points.reverse();return polygon}},function(module,exports){function simplifyDPStep(points,first,last,sqTolerance,simplified){for(var maxSqDist=sqTolerance,index,i=first+1;i<last;i++){var sqDist=points[i];var p1=points[first],p2=points[last],
x=p1.x;p1=p1.y;var dx=p2.x-x,dy=p2.y-p1;if(0!==dx||0!==dy){var t=((sqDist.x-x)*dx+(sqDist.y-p1)*dy)/(dx*dx+dy*dy);1<t?(x=p2.x,p1=p2.y):0<t&&(x+=dx*t,p1+=dy*t)}dx=sqDist.x-x;dy=sqDist.y-p1;sqDist=dx*dx+dy*dy;sqDist>maxSqDist&&(index=i,maxSqDist=sqDist)}maxSqDist>sqTolerance&&(1<index-first&&simplifyDPStep(points,first,index,sqTolerance,simplified),simplified.push(points[index]),1<last-index&&simplifyDPStep(points,index,last,sqTolerance,simplified))}function simplifyDouglasPeucker(points,sqTolerance){var last=
points.length-1,simplified=[points[0]];simplifyDPStep(points,0,last,sqTolerance,simplified);simplified.push(points[last]);return simplified}module.exports=function(polygon,tolerance,highestQuality){void 0===tolerance&&(tolerance=1);void 0===highestQuality&&(highestQuality=!1);var points=polygon.points;if(2<points.length){tolerance*=tolerance;if(!highestQuality){highestQuality=points;points=highestQuality[0];for(var newPoints=[points],point,i=1,len=highestQuality.length;i<len;i++){point=highestQuality[i];
var dx=point.x-points.x,dy=point.y-points.y;dx*dx+dy*dy>tolerance&&(newPoints.push(point),points=point)}points!==point&&newPoints.push(point);points=newPoints}polygon.setTo(simplifyDouglasPeucker(points,tolerance))}return polygon}},function(module,exports){module.exports=function(polygon,x,y){for(var points=polygon.points,i=0;i<points.length;i++)points[i].x+=x,points[i].y+=y;return polygon}},function(module,exports){module.exports=function(rect){return rect.width*rect.height}},function(module,exports){module.exports=
function(rect){rect.x=Math.ceil(rect.x);rect.y=Math.ceil(rect.y);return rect}},function(module,exports){module.exports=function(rect){rect.x=Math.ceil(rect.x);rect.y=Math.ceil(rect.y);rect.width=Math.ceil(rect.width);rect.height=Math.ceil(rect.height);return rect}},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10);module.exports=function(source){return new Rectangle(source.x,source.y,source.width,source.height)}},function(module,exports,__webpack_require__){var Contains=
__webpack_require__(56);module.exports=function(rect,point){return Contains(rect,point.x,point.y)}},function(module,exports){module.exports=function(source,dest){return dest.setTo(source.x,source.y,source.width,source.height)}},function(module,exports){module.exports=function(rect,toCompare){return rect.x===toCompare.x&&rect.y===toCompare.y&&rect.width===toCompare.width&&rect.height===toCompare.height}},function(module,exports,__webpack_require__){var GetAspectRatio=__webpack_require__(234);module.exports=
function(target,source){var ratio=GetAspectRatio(target);ratio<GetAspectRatio(source)?target.setSize(source.height*ratio,source.height):target.setSize(source.width,source.width/ratio);return target.setPosition(source.centerX-target.width/2,source.centerY-target.height/2)}},function(module,exports,__webpack_require__){var GetAspectRatio=__webpack_require__(234);module.exports=function(target,source){var ratio=GetAspectRatio(target);ratio>GetAspectRatio(source)?target.setSize(source.height*ratio,source.height):
target.setSize(source.width,source.width/ratio);return target.setPosition(source.centerX-target.width/2,source.centerY-target.height/2)}},function(module,exports){module.exports=function(rect){rect.x=Math.floor(rect.x);rect.y=Math.floor(rect.y);return rect}},function(module,exports){module.exports=function(rect){rect.x=Math.floor(rect.x);rect.y=Math.floor(rect.y);rect.width=Math.floor(rect.width);rect.height=Math.floor(rect.height);return rect}},function(module,exports,__webpack_require__){var Rectangle=
__webpack_require__(10);module.exports=function(x1,y1,x2,y2,out){void 0===out&&(out=new Rectangle);return out.setTo(Math.min(x1,x2),Math.min(y1,y2),Math.abs(x1-x2),Math.abs(y1-y2))}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(rect,out){void 0===out&&(out=new Point);out.x=rect.centerX;out.y=rect.centerY;return out}},function(module,exports,__webpack_require__){var Point=__webpack_require__(4);module.exports=function(rect,out){void 0===out&&
(out=new Point);out.x=rect.width;out.y=rect.height;return out}},function(module,exports,__webpack_require__){var CenterOn=__webpack_require__(187);module.exports=function(rect,x,y){var cx=rect.centerX,cy=rect.centerY;rect.setSize(rect.width+2*x,rect.height+2*y);return CenterOn(rect,cx,cy)}},function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(10),Intersects=__webpack_require__(114);module.exports=function(rectA,rectB,out){void 0===out&&(out=new Rectangle);Intersects(rectA,
rectB)?(out.x=Math.max(rectA.x,rectB.x),out.y=Math.max(rectA.y,rectB.y),out.width=Math.min(rectA.right,rectB.right)-out.x,out.height=Math.min(rectA.bottom,rectB.bottom)-out.y):out.setEmpty();return out}},function(module,exports){module.exports=function(target,points){for(var minX=target.x,maxX=target.right,minY=target.y,maxY=target.bottom,i=0;i<points.length;i++)minX=Math.min(minX,points[i].x),maxX=Math.max(maxX,points[i].x),minY=Math.min(minY,points[i].y),maxY=Math.max(maxY,points[i].y);target.x=
minX;target.y=minY;target.width=maxX-minX;target.height=maxY-minY;return target}},function(module,exports){module.exports=function(target,source){var minX=Math.min(target.x,source.x),maxX=Math.max(target.right,source.right);target.x=minX;target.width=maxX-minX;minX=Math.min(target.y,source.y);source=Math.max(target.bottom,source.bottom);target.y=minX;target.height=source-minX;return target}},function(module,exports){module.exports=function(target,x,y){var minX=Math.min(target.x,x);x=Math.max(target.right,
x);target.x=minX;target.width=x-minX;minX=Math.min(target.y,y);y=Math.max(target.bottom,y);target.y=minX;target.height=y-minX;return target}},function(module,exports){module.exports=function(rect,x,y){rect.x+=x;rect.y+=y;return rect}},function(module,exports){module.exports=function(rect,point){rect.x+=point.x;rect.y+=point.y;return rect}},function(module,exports){module.exports=function(rectA,rectB){return rectA.x<rectB.right&&rectA.right>rectB.x&&rectA.y<rectB.bottom&&rectA.bottom>rectB.y}},function(module,
exports,__webpack_require__){var Point=__webpack_require__(4),DegToRad=__webpack_require__(35);module.exports=function(rectangle,angle,out){void 0===out&&(out=new Point);angle=DegToRad(angle);var s=Math.sin(angle);angle=Math.cos(angle);var dx=0<angle?rectangle.width/2:rectangle.width/-2,dy=0<s?rectangle.height/2:rectangle.height/-2;Math.abs(dx*s)<Math.abs(dy*angle)?dy=dx*s/angle:dx=dy*angle/s;out.x=dx+rectangle.centerX;out.y=dy+rectangle.centerY;return out}},function(module,exports,__webpack_require__){var Between=
__webpack_require__(192),ContainsRect=__webpack_require__(497),Point=__webpack_require__(4);module.exports=function(outer,inner,out){void 0===out&&(out=new Point);if(ContainsRect(outer,inner))switch(Between(0,3)){case 0:out.x=outer.x+Math.random()*(inner.right-outer.x);out.y=outer.y+Math.random()*(inner.top-outer.y);break;case 1:out.x=inner.x+Math.random()*(outer.right-inner.x);out.y=inner.bottom+Math.random()*(outer.bottom-inner.bottom);break;case 2:out.x=outer.x+Math.random()*(inner.x-outer.x);
out.y=inner.y+Math.random()*(outer.bottom-inner.y);break;case 3:out.x=inner.right+Math.random()*(outer.right-inner.right),out.y=outer.y+Math.random()*(inner.bottom-outer.y)}return out}},function(module,exports){module.exports=function(rect,toCompare){return rect.width===toCompare.width&&rect.height===toCompare.height}},function(module,exports){module.exports=function(rect,x,y){void 0===y&&(y=x);rect.width*=x;rect.height*=y;return rect}},function(module,exports,__webpack_require__){exports=__webpack_require__(82);
exports.Area=__webpack_require__(1288);exports.BuildEquilateral=__webpack_require__(1289);exports.BuildFromPolygon=__webpack_require__(1290);exports.BuildRight=__webpack_require__(1291);exports.CenterOn=__webpack_require__(1292);exports.Centroid=__webpack_require__(498);exports.CircumCenter=__webpack_require__(1293);exports.CircumCircle=__webpack_require__(1294);exports.Clone=__webpack_require__(1295);exports.Contains=__webpack_require__(112);exports.ContainsArray=__webpack_require__(232);exports.ContainsPoint=
__webpack_require__(1296);exports.CopyFrom=__webpack_require__(1297);exports.Decompose=__webpack_require__(489);exports.Equals=__webpack_require__(1298);exports.GetPoint=__webpack_require__(470);exports.GetPoints=__webpack_require__(471);exports.InCenter=__webpack_require__(500);exports.Perimeter=__webpack_require__(1299);exports.Offset=__webpack_require__(499);exports.Random=__webpack_require__(178);exports.Rotate=__webpack_require__(1300);exports.RotateAroundPoint=__webpack_require__(1301);exports.RotateAroundXY=
__webpack_require__(235);module.exports=exports},function(module,exports){module.exports=function(triangle){var x1=triangle.x1,y1=triangle.y1;return Math.abs(((triangle.x3-x1)*(triangle.y2-y1)-(triangle.x2-x1)*(triangle.y3-y1))/2)}},function(module,exports,__webpack_require__){var Triangle=__webpack_require__(82);module.exports=function(x,y,length){var height=Math.sqrt(3)/2*length;return new Triangle(x,y,x+length/2,y+height,x-length/2,y+height)}},function(module,exports,__webpack_require__){var EarCut=
__webpack_require__(68),Triangle=__webpack_require__(82);module.exports=function(data,holes,scaleX,scaleY,out){void 0===holes&&(holes=null);void 0===scaleX&&(scaleX=1);void 0===scaleY&&(scaleY=1);void 0===out&&(out=[]);holes=EarCut(data,holes);for(var a,b,c,x1,x2,x3,i=0;i<holes.length;i+=3)a=holes[i],b=holes[i+1],c=holes[i+2],x1=data[2*a]*scaleX,a=data[2*a+1]*scaleY,x2=data[2*b]*scaleX,b=data[2*b+1]*scaleY,x3=data[2*c]*scaleX,c=data[2*c+1]*scaleY,out.push(new Triangle(x1,a,x2,b,x3,c));return out}},
function(module,exports,__webpack_require__){var Triangle=__webpack_require__(82);module.exports=function(x,y,width,height){void 0===height&&(height=width);return new Triangle(x,y,x,y-height,x+width,y)}},function(module,exports,__webpack_require__){var Centroid=__webpack_require__(498),Offset=__webpack_require__(499);module.exports=function(triangle,x,y,centerFunc){void 0===centerFunc&&(centerFunc=Centroid);centerFunc=centerFunc(triangle);return Offset(triangle,x-centerFunc.x,y-centerFunc.y)}},function(module,
exports,__webpack_require__){var Vector2=__webpack_require__(3);module.exports=function(triangle,out){void 0===out&&(out=new Vector2);var cx=triangle.x3,cy=triangle.y3,ax=triangle.x1-cx,ay=triangle.y1-cy,bx=triangle.x2-cx;triangle=triangle.y2-cy;var denom=2*(ax*triangle-ay*bx);out.x=cx-(ay*(bx*bx+triangle*triangle)-(ax*ax+ay*ay)*triangle)/denom;out.y=cy+(ax*(bx*bx+triangle*triangle)-(ax*ax+ay*ay)*bx)/denom;return out}},function(module,exports,__webpack_require__){var Circle=__webpack_require__(62);
module.exports=function(triangle,out){void 0===out&&(out=new Circle);var x1=triangle.x1,y1=triangle.y1,x2=triangle.x2,y2=triangle.y2,x3=triangle.x3;triangle=triangle.y3;var A=x2-x1,B=y2-y1,C=x3-x1,D=triangle-y1,E=A*(x1+x2)+B*(y1+y2),F=C*(x1+x3)+D*(y1+triangle),G=2*(A*(triangle-y2)-B*(x3-x2));1E-6>Math.abs(G)?(A=Math.min(x1,x2,x3),B=Math.min(y1,y2,triangle),x1=.5*(Math.max(x1,x2,x3)-A),y1=.5*(Math.max(y1,y2,triangle)-B),out.x=A+x1,out.y=B+y1):(out.x=(D*E-B*F)/G,out.y=(A*F-C*E)/G,x1=out.x-x1,y1=out.y-
y1);out.radius=Math.sqrt(x1*x1+y1*y1);return out}},function(module,exports,__webpack_require__){var Triangle=__webpack_require__(82);module.exports=function(source){return new Triangle(source.x1,source.y1,source.x2,source.y2,source.x3,source.y3)}},function(module,exports,__webpack_require__){var Contains=__webpack_require__(112);module.exports=function(triangle,point){return Contains(triangle,point.x,point.y)}},function(module,exports){module.exports=function(source,dest){return dest.setTo(source.x1,
source.y1,source.x2,source.y2,source.x3,source.y3)}},function(module,exports){module.exports=function(triangle,toCompare){return triangle.x1===toCompare.x1&&triangle.y1===toCompare.y1&&triangle.x2===toCompare.x2&&triangle.y2===toCompare.y2&&triangle.x3===toCompare.x3&&triangle.y3===toCompare.y3}},function(module,exports,__webpack_require__){var Length=__webpack_require__(64);module.exports=function(triangle){var line1=triangle.getLineA(),line2=triangle.getLineB();triangle=triangle.getLineC();return Length(line1)+
Length(line2)+Length(triangle)}},function(module,exports,__webpack_require__){var RotateAroundXY=__webpack_require__(235),InCenter=__webpack_require__(500);module.exports=function(triangle,angle){var point=InCenter(triangle);return RotateAroundXY(triangle,point.x,point.y,angle)}},function(module,exports,__webpack_require__){var RotateAroundXY=__webpack_require__(235);module.exports=function(triangle,point,angle){return RotateAroundXY(triangle,point.x,point.y,angle)}},function(module,exports,__webpack_require__){exports=
__webpack_require__(200);var Extend=__webpack_require__(17);__webpack_require__={CreatePixelPerfectHandler:__webpack_require__(501),CreateInteractiveObject:__webpack_require__(502),Events:__webpack_require__(49),Gamepad:__webpack_require__(1303),InputManager:__webpack_require__(403),InputPlugin:__webpack_require__(1315),InputPluginCache:__webpack_require__(151),Keyboard:__webpack_require__(1316),Mouse:__webpack_require__(1330),Pointer:__webpack_require__(406),Touch:__webpack_require__(1331)};__webpack_require__=
Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={Axis:__webpack_require__(503),Button:__webpack_require__(504),Events:__webpack_require__(236),Gamepad:__webpack_require__(505),GamepadPlugin:__webpack_require__(1310),Configs:__webpack_require__(1311)}},function(module,exports){module.exports="down"},function(module,exports){module.exports="up"},function(module,exports){module.exports="connected"},function(module,
exports){module.exports="disconnected"},function(module,exports){module.exports="down"},function(module,exports){module.exports="up"},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),EventEmitter=__webpack_require__(9),Events=__webpack_require__(236),Gamepad=__webpack_require__(505),GetValue=__webpack_require__(6);exports=__webpack_require__(151);var InputEvents=__webpack_require__(49);__webpack_require__=new Class({Extends:EventEmitter,initialize:function(sceneInputPlugin){EventEmitter.call(this);
this.scene=sceneInputPlugin.scene;this.settings=this.scene.sys.settings;this.sceneInputPlugin=sceneInputPlugin;this.enabled=!0;this.gamepads=[];this.queue=[];sceneInputPlugin.pluginEvents.once(InputEvents.BOOT,this.boot,this);sceneInputPlugin.pluginEvents.on(InputEvents.START,this.start,this)},boot:function(){var game=this.scene.sys.game,settings=this.settings.input,config=game.config;this.enabled=GetValue(settings,"gamepad",config.inputGamepad)&&game.device.input.gamepads;this.target=GetValue(settings,
"gamepad.target",config.inputGamepadEventTarget);this.sceneInputPlugin.pluginEvents.once(InputEvents.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads());this.sceneInputPlugin.pluginEvents.once(InputEvents.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var _this=this,target=this.target,handler=function(event){!event.defaultPrevented&&_this.isActive()&&(_this.refreshPads(),
_this.queue.push(event))};this.onGamepadHandler=handler;target.addEventListener("gamepadconnected",handler,!1);target.addEventListener("gamepaddisconnected",handler,!1);this.sceneInputPlugin.pluginEvents.on(InputEvents.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler);this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler);this.sceneInputPlugin.pluginEvents.off(InputEvents.UPDATE,this.update);for(var i=
0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var connectedPads=navigator.getGamepads();if(connectedPads)for(var currentPads=this.gamepads,i=0;i<connectedPads.length;i++){var livePad=connectedPads[i];if(livePad){var id=livePad.id,index=livePad.index,currentPad=currentPads[index];currentPad?currentPad.id!==id?(currentPad.destroy(),currentPads[index]=new Gamepad(this,
livePad)):currentPad.update(livePad):(livePad=new Gamepad(this,livePad),currentPads[index]=livePad,this._pad1)?this._pad2?this._pad3?this._pad4||(this._pad4=livePad):this._pad3=livePad:this._pad2=livePad:this._pad1=livePad}}else this.disconnectAll()},getAll:function(){for(var out=[],pads=this.gamepads,i=0;i<pads.length;i++)pads[i]&&out.push(pads[i]);return out},getPad:function(index){for(var pads=this.gamepads,i=0;i<pads.length;i++)if(pads[i]&&pads[i].index===index)return pads[i]},update:function(){if(this.enabled){this.refreshPads();
var len=this.queue.length;if(0!==len)for(var queue=this.queue.splice(0,len),i=0;i<len;i++){var event=queue[i],pad=this.getPad(event.gamepad.index);"gamepadconnected"===event.type?this.emit(Events.CONNECTED,pad,event):"gamepaddisconnected"===event.type&&this.emit(Events.DISCONNECTED,pad,event)}}},shutdown:function(){this.stopListeners();this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[];
this.target=this.sceneInputPlugin=this.settings=this.scene=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});exports.register("GamepadPlugin",__webpack_require__,"gamepad","gamepad","inputGamepad");module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={DUALSHOCK_4:__webpack_require__(1312),
SNES_USB:__webpack_require__(1313),XBOX_360:__webpack_require__(1314)}},function(module,exports){module.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(module,exports){module.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(module,exports){module.exports={UP:12,DOWN:13,
LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(module,exports,__webpack_require__){var Circle=__webpack_require__(62),CircleContains=__webpack_require__(63),Class=__webpack_require__(0),CONST=__webpack_require__(200),CreateInteractiveObject=__webpack_require__(502),CreatePixelPerfectHandler=__webpack_require__(501),DistanceBetween=__webpack_require__(48),Ellipse=__webpack_require__(108),
EllipseContains=__webpack_require__(109),Events=__webpack_require__(49),EventEmitter=__webpack_require__(9),GetFastValue=__webpack_require__(2),GEOM_CONST=__webpack_require__(55),InputPluginCache=__webpack_require__(151),IsPlainObject=__webpack_require__(7);exports=__webpack_require__(24);var Rectangle=__webpack_require__(10),RectangleContains=__webpack_require__(56),SceneEvents=__webpack_require__(21),Triangle=__webpack_require__(82),TriangleContains=__webpack_require__(112);__webpack_require__=
new Class({Extends:EventEmitter,initialize:function(scene){EventEmitter.call(this);this.scene=scene;this.systems=scene.sys;this.settings=scene.sys.settings;this.manager=scene.sys.game.input;this.pluginEvents=new EventEmitter;this.enabled=!0;InputPluginCache.install(this);this.mouse=this.manager.mouse;this.topOnly=!0;this.pollRate=-1;this._pollTimer=0;var _eventData={cancelled:!1};this._eventContainer={stopPropagation:function(){_eventData.cancelled=!0}};this._eventData=_eventData;this.dragTimeThreshold=
this.dragDistanceThreshold=0;this._temp=[];this._tempZones=[];this._list=[];this._pendingInsertion=[];this._pendingRemoval=[];this._draggable=[];this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]};this._dragState=[];this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]};this._validTypes="onDown onUp onOver onOut onMove onDragStart onDrag onDragEnd onDragEnter onDragLeave onDragOver onDrop".split(" ");this._updatedThisFrame=!1;scene.sys.events.once(SceneEvents.BOOT,this.boot,
this);scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras;this.displayList=this.systems.displayList;this.systems.events.once(SceneEvents.DESTROY,this.destroy,this);this.pluginEvents.emit(Events.BOOT)},start:function(){var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.TRANSITION_START,this.transitionIn,this);eventEmitter.on(SceneEvents.TRANSITION_OUT,this.transitionOut,this);eventEmitter.on(SceneEvents.TRANSITION_COMPLETE,this.transitionComplete,
this);eventEmitter.on(SceneEvents.PRE_UPDATE,this.preUpdate,this);eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this);this.manager.events.on(Events.GAME_OUT,this.onGameOut,this);this.manager.events.on(Events.GAME_OVER,this.onGameOver,this);this.enabled=!0;this._dragState=[0,0,0,0,0,0,0,0,0,0];this.pluginEvents.emit(Events.START)},onGameOver:function(event){this.isActive()&&this.emit(Events.GAME_OVER,event.timeStamp,event)},onGameOut:function(event){this.isActive()&&this.emit(Events.GAME_OUT,
event.timeStamp,event)},preUpdate:function(){this.pluginEvents.emit(Events.PRE_UPDATE);var removeList=this._pendingRemoval,insertList=this._pendingInsertion,toRemove=removeList.length,toInsert=insertList.length;if(0!==toRemove||0!==toInsert){toInsert=this._list;for(var i=0;i<toRemove;i++){var gameObject=removeList[i],index=toInsert.indexOf(gameObject);-1<index&&(toInsert.splice(index,1),this.clear(gameObject,!0))}removeList.length=0;this._pendingRemoval.length=0;this._list=toInsert.concat(insertList.splice(0))}},
isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(time,delta){if(!this.isActive())return!1;this.pluginEvents.emit(Events.UPDATE,time,delta);if(this._updatedThisFrame)return this._updatedThisFrame=!1;var i,manager=this.manager,pointers=manager.pointers;manager=manager.pointersTotal;for(i=0;i<manager;i++)pointers[i].updateMotion();if(0===this._list.length)return!1;i=this.pollRate;if(-1===i)return!1;if(0<i)if(this._pollTimer-=delta,0>this._pollTimer)this._pollTimer=
this.pollRate;else return!1;delta=!1;for(i=0;i<manager;i++){var total=0,pointer=pointers[i];this._tempZones=[];this._temp=this.hitTestPointer(pointer);this.sortGameObjects(this._temp,pointer);this.sortDropZones(this._tempZones);this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1));total+=this.processOverOutEvents(pointer);2===this.getDragState(pointer)&&this.processDragThresholdEvent(pointer,time);0<total&&(delta=!0)}return delta},update:function(type,
pointers){if(!this.isActive())return!1;for(var pointersTotal=pointers.length,captured=!1,i=0;i<pointersTotal;i++){var total=0,pointer=pointers[i];this._tempZones=[];this._temp=this.hitTestPointer(pointer);this.sortGameObjects(this._temp,pointer);this.sortDropZones(this._tempZones);this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1));switch(type){case CONST.MOUSE_DOWN:total+=this.processDragDownEvent(pointer);total+=this.processDownEvents(pointer);
total+=this.processOverOutEvents(pointer);break;case CONST.MOUSE_UP:total+=this.processDragUpEvent(pointer);total+=this.processUpEvents(pointer);total+=this.processOverOutEvents(pointer);break;case CONST.TOUCH_START:total+=this.processDragDownEvent(pointer);total+=this.processDownEvents(pointer);total+=this.processOverEvents(pointer);break;case CONST.TOUCH_END:case CONST.TOUCH_CANCEL:total+=this.processDragUpEvent(pointer);total+=this.processUpEvents(pointer);total+=this.processOutEvents(pointer);
break;case CONST.MOUSE_MOVE:case CONST.TOUCH_MOVE:total+=this.processDragMoveEvent(pointer);total+=this.processMoveEvents(pointer);total+=this.processOverOutEvents(pointer);break;case CONST.MOUSE_WHEEL:total+=this.processWheelEvent(pointer)}0<total&&(captured=!0)}this._updatedThisFrame=!0;return captured},clear:function(gameObject,skipQueue){void 0===skipQueue&&(skipQueue=!1);var input=gameObject.input;if(input)return skipQueue||this.queueForRemoval(gameObject),input.gameObject=void 0,input.target=
void 0,input.hitArea=void 0,input.hitAreaCallback=void 0,input.callbackContext=void 0,gameObject.input=null,skipQueue=this._draggable.indexOf(gameObject),-1<skipQueue&&this._draggable.splice(skipQueue,1),skipQueue=this._drag[0].indexOf(gameObject),-1<skipQueue&&this._drag[0].splice(skipQueue,1),skipQueue=this._over[0].indexOf(gameObject),-1<skipQueue&&(this._over[0].splice(skipQueue,1),this.manager.resetCursor(input)),gameObject},disable:function(gameObject){gameObject.input.enabled=!1},enable:function(gameObject,
hitArea,hitAreaCallback,dropZone){void 0===dropZone&&(dropZone=!1);gameObject.input?gameObject.input.enabled=!0:this.setHitArea(gameObject,hitArea,hitAreaCallback);gameObject.input&&dropZone&&!gameObject.input.dropZone&&(gameObject.input.dropZone=dropZone);return this},hitTestPointer:function(pointer){for(var cameras=this.cameras.getCamerasBelowPointer(pointer),c=0;c<cameras.length;c++){for(var camera=cameras[c],over=this.manager.hitTest(pointer,this._list,camera),i=0;i<over.length;i++){var obj=over[i];
obj.input.dropZone&&this._tempZones.push(obj)}if(0<over.length)return pointer.camera=camera,over}pointer.camera=cameras[0];return[]},processDownEvents:function(pointer){for(var total=0,currentlyOver=this._temp,_eventData=this._eventData,_eventContainer=this._eventContainer,aborted=_eventData.cancelled=!1,i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];if(gameObject.input){total++;gameObject.emit(Events.GAMEOBJECT_POINTER_DOWN,pointer,gameObject.input.localX,gameObject.input.localY,
_eventContainer);if(_eventData.cancelled||!gameObject.input){aborted=!0;break}this.emit(Events.GAMEOBJECT_DOWN,pointer,gameObject,_eventContainer);if(_eventData.cancelled||!gameObject.input){aborted=!0;break}}}!aborted&&this.manager&&(pointer.downElement===this.manager.game.canvas?this.emit(Events.POINTER_DOWN,pointer,currentlyOver):this.emit(Events.POINTER_DOWN_OUTSIDE,pointer));return total},getDragState:function(pointer){return this._dragState[pointer.id]},setDragState:function(pointer,state){this._dragState[pointer.id]=
state},processDragThresholdEvent:function(pointer,time){var passed=!1,timeThreshold=this.dragTimeThreshold,distanceThreshold=this.dragDistanceThreshold;0<distanceThreshold&&DistanceBetween(pointer.x,pointer.y,pointer.downX,pointer.downY)>=distanceThreshold?passed=!0:0<timeThreshold&&time>=pointer.downTime+timeThreshold&&(passed=!0);if(passed)return this.setDragState(pointer,3),this.processDragStartList(pointer)},processDragStartList:function(pointer){if(3!==this.getDragState(pointer))return 0;for(var list=
this._drag[pointer.id],i=0;i<list.length;i++){var gameObject=list[i],input=gameObject.input;input.dragState=2;input.dragStartX=gameObject.x;input.dragStartY=gameObject.y;input.dragStartXGlobal=pointer.worldX;input.dragStartYGlobal=pointer.worldY;input.dragX=input.dragStartXGlobal-input.dragStartX;input.dragY=input.dragStartYGlobal-input.dragStartY;gameObject.emit(Events.GAMEOBJECT_DRAG_START,pointer,input.dragX,input.dragY);this.emit(Events.DRAG_START,pointer,gameObject)}this.setDragState(pointer,
4);return list.length},processDragDownEvent:function(pointer){var currentlyOver=this._temp;if(0===this._draggable.length||0===currentlyOver.length||!pointer.primaryDown||0!==this.getDragState(pointer))return 0;this.setDragState(pointer,1);for(var draglist=[],i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];gameObject.input.draggable&&0===gameObject.input.dragState&&draglist.push(gameObject)}if(0===draglist.length)return this.setDragState(pointer,0),0;1<draglist.length&&(this.sortGameObjects(draglist,
pointer),this.topOnly&&draglist.splice(1));this._drag[pointer.id]=draglist;if(0===this.dragDistanceThreshold&&0===this.dragTimeThreshold)return this.setDragState(pointer,3),this.processDragStartList(pointer);this.setDragState(pointer,2);return 0},processDragMoveEvent:function(pointer){2===this.getDragState(pointer)&&this.processDragThresholdEvent(pointer,this.manager.game.loop.now);if(4!==this.getDragState(pointer))return 0;for(var dropZones=this._tempZones,list=this._drag[pointer.id],i=0;i<list.length;i++){var gameObject=
list[i],input=gameObject.input,target=input.target;if(target){var index=dropZones.indexOf(target);0===index?(gameObject.emit(Events.GAMEOBJECT_DRAG_OVER,pointer,target),this.emit(Events.DRAG_OVER,pointer,gameObject,target)):0<index?(gameObject.emit(Events.GAMEOBJECT_DRAG_LEAVE,pointer,target),this.emit(Events.DRAG_LEAVE,pointer,gameObject,target),input.target=dropZones[0],target=input.target,gameObject.emit(Events.GAMEOBJECT_DRAG_ENTER,pointer,target),this.emit(Events.DRAG_ENTER,pointer,gameObject,
target)):(gameObject.emit(Events.GAMEOBJECT_DRAG_LEAVE,pointer,target),this.emit(Events.DRAG_LEAVE,pointer,gameObject,target),dropZones[0]?(input.target=dropZones[0],target=input.target,gameObject.emit(Events.GAMEOBJECT_DRAG_ENTER,pointer,target),this.emit(Events.DRAG_ENTER,pointer,gameObject,target)):input.target=null)}else!target&&dropZones[0]&&(input.target=dropZones[0],target=input.target,gameObject.emit(Events.GAMEOBJECT_DRAG_ENTER,pointer,target),this.emit(Events.DRAG_ENTER,pointer,gameObject,
target));if(gameObject.parentContainer){index=pointer.worldX-input.dragStartXGlobal;var dy=pointer.worldY-input.dragStartYGlobal,rotation=gameObject.getParentRotation();target=index*Math.cos(rotation)+dy*Math.sin(rotation);index=dy*Math.cos(rotation)-index*Math.sin(rotation);target*=1/gameObject.parentContainer.scaleX;index*=1/gameObject.parentContainer.scaleY;target+=input.dragStartX;input=index+input.dragStartY}else target=pointer.worldX-input.dragX,input=pointer.worldY-input.dragY;gameObject.emit(Events.GAMEOBJECT_DRAG,
pointer,target,input);this.emit(Events.DRAG,pointer,gameObject,target,input)}return list.length},processDragUpEvent:function(pointer){for(var list=this._drag[pointer.id],i=0;i<list.length;i++){var gameObject=list[i],input=gameObject.input;if(input&&2===input.dragState){input.dragState=0;input.dragX=input.localX-gameObject.displayOriginX;input.dragY=input.localY-gameObject.displayOriginY;var dropped=!1,target=input.target;target&&(gameObject.emit(Events.GAMEOBJECT_DROP,pointer,target),this.emit(Events.DROP,
pointer,gameObject,target),input.target=null,dropped=!0);gameObject.input&&(gameObject.emit(Events.GAMEOBJECT_DRAG_END,pointer,input.dragX,input.dragY,dropped),this.emit(Events.DRAG_END,pointer,gameObject,dropped))}}this.setDragState(pointer,0);list.splice(0);return 0},processMoveEvents:function(pointer){for(var total=0,currentlyOver=this._temp,_eventData=this._eventData,_eventContainer=this._eventContainer,aborted=_eventData.cancelled=!1,i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];
if(gameObject.input){total++;gameObject.emit(Events.GAMEOBJECT_POINTER_MOVE,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer);if(_eventData.cancelled||!gameObject.input){aborted=!0;break}this.emit(Events.GAMEOBJECT_MOVE,pointer,gameObject,_eventContainer);if(_eventData.cancelled||!gameObject.input){aborted=!0;break}if(this.topOnly)break}}aborted||this.emit(Events.POINTER_MOVE,pointer,currentlyOver);return total},processWheelEvent:function(pointer){for(var total=0,currentlyOver=
this._temp,_eventData=this._eventData,_eventContainer=this._eventContainer,aborted=_eventData.cancelled=!1,dx=pointer.deltaX,dy=pointer.deltaY,dz=pointer.deltaZ,i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];if(gameObject.input){total++;gameObject.emit(Events.GAMEOBJECT_POINTER_WHEEL,pointer,dx,dy,dz,_eventContainer);if(_eventData.cancelled||!gameObject.input){aborted=!0;break}this.emit(Events.GAMEOBJECT_WHEEL,pointer,gameObject,dx,dy,dz,_eventContainer);if(_eventData.cancelled||
!gameObject.input){aborted=!0;break}}}aborted||this.emit(Events.POINTER_WHEEL,pointer,currentlyOver,dx,dy,dz);return total},processOverEvents:function(pointer){var currentlyOver=this._temp,totalInteracted=0,total=currentlyOver.length,justOver=[];if(0<total){for(var manager=this.manager,_eventData=this._eventData,_eventContainer=this._eventContainer,aborted=_eventData.cancelled=!1,i=0;i<total;i++){var gameObject=currentlyOver[i];if(gameObject.input){justOver.push(gameObject);manager.setCursor(gameObject.input);
gameObject.emit(Events.GAMEOBJECT_POINTER_OVER,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer);totalInteracted++;if(_eventData.cancelled||!gameObject.input){aborted=!0;break}this.emit(Events.GAMEOBJECT_OVER,pointer,gameObject,_eventContainer);if(_eventData.cancelled||!gameObject.input){aborted=!0;break}}}aborted||this.emit(Events.POINTER_OVER,pointer,justOver)}this._over[pointer.id]=justOver;return totalInteracted},processOutEvents:function(pointer){var previouslyOver=this._over[pointer.id],
totalInteracted=0,total=previouslyOver.length;if(0<total){var manager=this.manager,_eventData=this._eventData,_eventContainer=this._eventContainer;_eventData.cancelled=!1;this.sortGameObjects(previouslyOver,pointer);for(var i=0;i<total;i++){var gameObject=previouslyOver[i];if(gameObject.input){manager.resetCursor(gameObject.input);gameObject.emit(Events.GAMEOBJECT_POINTER_OUT,pointer,_eventContainer);totalInteracted++;if(_eventData.cancelled||!gameObject.input)break;this.emit(Events.GAMEOBJECT_OUT,
pointer,gameObject,_eventContainer);if(_eventData.cancelled||!gameObject.input)break;this.emit(Events.POINTER_OUT,pointer,previouslyOver)}}this._over[pointer.id]=[]}return totalInteracted},processOverOutEvents:function(pointer){var currentlyOver=this._temp,i,justOut=[],justOver=[],stillOver=[],previouslyOver=this._over[pointer.id],currentlyDragging=this._drag[pointer.id],manager=this.manager;for(i=0;i<previouslyOver.length;i++){var gameObject=previouslyOver[i];-1===currentlyOver.indexOf(gameObject)&&
-1===currentlyDragging.indexOf(gameObject)?justOut.push(gameObject):stillOver.push(gameObject)}for(i=0;i<currentlyOver.length;i++)gameObject=currentlyOver[i],-1===previouslyOver.indexOf(gameObject)&&justOver.push(gameObject);previouslyOver=justOut.length;currentlyOver=0;currentlyDragging=this._eventData;var _eventContainer=this._eventContainer,aborted=currentlyDragging.cancelled=!1;if(0<previouslyOver){this.sortGameObjects(justOut,pointer);for(i=0;i<previouslyOver;i++)if(gameObject=justOut[i],gameObject.input){manager.resetCursor(gameObject.input);
gameObject.emit(Events.GAMEOBJECT_POINTER_OUT,pointer,_eventContainer);currentlyOver++;if(currentlyDragging.cancelled||!gameObject.input){aborted=!0;break}this.emit(Events.GAMEOBJECT_OUT,pointer,gameObject,_eventContainer);if(currentlyDragging.cancelled||!gameObject.input){aborted=!0;break}}aborted||this.emit(Events.POINTER_OUT,pointer,justOut)}previouslyOver=justOver.length;aborted=currentlyDragging.cancelled=!1;if(0<previouslyOver){this.sortGameObjects(justOver,pointer);for(i=0;i<previouslyOver;i++)if(gameObject=
justOver[i],gameObject.input){manager.setCursor(gameObject.input);gameObject.emit(Events.GAMEOBJECT_POINTER_OVER,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer);currentlyOver++;if(currentlyDragging.cancelled||!gameObject.input){aborted=!0;break}this.emit(Events.GAMEOBJECT_OVER,pointer,gameObject,_eventContainer);if(currentlyDragging.cancelled||!gameObject.input){aborted=!0;break}}aborted||this.emit(Events.POINTER_OVER,pointer,justOver)}previouslyOver=stillOver.concat(justOver);
this._over[pointer.id]=this.sortGameObjects(previouslyOver,pointer);return currentlyOver},processUpEvents:function(pointer){for(var currentlyOver=this._temp,_eventData=this._eventData,_eventContainer=this._eventContainer,aborted=_eventData.cancelled=!1,i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];if(gameObject.input){gameObject.emit(Events.GAMEOBJECT_POINTER_UP,pointer,gameObject.input.localX,gameObject.input.localY,_eventContainer);if(_eventData.cancelled||!gameObject.input){aborted=
!0;break}this.emit(Events.GAMEOBJECT_UP,pointer,gameObject,_eventContainer);if(_eventData.cancelled||!gameObject.input){aborted=!0;break}}}!aborted&&this.manager&&(pointer.upElement===this.manager.game.canvas?this.emit(Events.POINTER_UP,pointer,currentlyOver):this.emit(Events.POINTER_UP_OUTSIDE,pointer));return currentlyOver.length},queueForInsertion:function(child){-1===this._pendingInsertion.indexOf(child)&&-1===this._list.indexOf(child)&&this._pendingInsertion.push(child);return this},queueForRemoval:function(child){this._pendingRemoval.push(child);
return this},setDraggable:function(gameObjects,value){void 0===value&&(value=!0);Array.isArray(gameObjects)||(gameObjects=[gameObjects]);for(var i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];gameObject.input.draggable=value;var index=this._draggable.indexOf(gameObject);value&&-1===index?this._draggable.push(gameObject):!value&&-1<index&&this._draggable.splice(index,1)}return this},makePixelPerfect:function(alphaTolerance){void 0===alphaTolerance&&(alphaTolerance=1);return CreatePixelPerfectHandler(this.systems.textures,
alphaTolerance)},setHitArea:function(gameObjects,hitArea,hitAreaCallback){if(void 0===hitArea)return this.setHitAreaFromTexture(gameObjects);Array.isArray(gameObjects)||(gameObjects=[gameObjects]);var draggable=!1,dropZone=!1,cursor=!1,useHandCursor=!1,pixelPerfect=!1,customHitArea=!0;if(IsPlainObject(hitArea)){var config=hitArea;hitArea=GetFastValue(config,"hitArea",null);hitAreaCallback=GetFastValue(config,"hitAreaCallback",null);draggable=GetFastValue(config,"draggable",!1);dropZone=GetFastValue(config,
"dropZone",!1);cursor=GetFastValue(config,"cursor",!1);useHandCursor=GetFastValue(config,"useHandCursor",!1);pixelPerfect=GetFastValue(config,"pixelPerfect",!1);config=GetFastValue(config,"alphaTolerance",1);pixelPerfect&&(hitArea={},hitAreaCallback=this.makePixelPerfect(config));hitArea&&hitAreaCallback||(this.setHitAreaFromTexture(gameObjects),customHitArea=!1)}else"function"!==typeof hitArea||hitAreaCallback||(hitAreaCallback=hitArea,hitArea={});for(config=0;config<gameObjects.length;config++){var gameObject=
gameObjects[config];if(pixelPerfect&&"Container"===gameObject.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var io=gameObject.input?gameObject.input:CreateInteractiveObject(gameObject,hitArea,hitAreaCallback);io.customHitArea=customHitArea;io.dropZone=dropZone;io.cursor=useHandCursor?"pointer":cursor;gameObject.input=io;draggable&&this.setDraggable(gameObject);this.queueForInsertion(gameObject)}}return this},setHitAreaCircle:function(gameObjects,x,y,radius,
callback){void 0===callback&&(callback=CircleContains);x=new Circle(x,y,radius);return this.setHitArea(gameObjects,x,callback)},setHitAreaEllipse:function(gameObjects,x,y,width,height,callback){void 0===callback&&(callback=EllipseContains);x=new Ellipse(x,y,width,height);return this.setHitArea(gameObjects,x,callback)},setHitAreaFromTexture:function(gameObjects,callback){void 0===callback&&(callback=RectangleContains);Array.isArray(gameObjects)||(gameObjects=[gameObjects]);for(var i=0;i<gameObjects.length;i++){var gameObject=
gameObjects[i],frame=gameObject.frame,width=0,height=0;gameObject.width?(width=gameObject.width,height=gameObject.height):frame&&(width=frame.realWidth,height=frame.realHeight);"Container"!==gameObject.type||0!==width&&0!==height?0!==width&&0!==height&&(gameObject.input=CreateInteractiveObject(gameObject,new Rectangle(0,0,width,height),callback),this.queueForInsertion(gameObject)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(gameObjects,
x,y,width,height,callback){void 0===callback&&(callback=RectangleContains);x=new Rectangle(x,y,width,height);return this.setHitArea(gameObjects,x,callback)},setHitAreaTriangle:function(gameObjects,x1,y1,x2,y2,x3,y3,callback){void 0===callback&&(callback=TriangleContains);x1=new Triangle(x1,y1,x2,y2,x3,y3);return this.setHitArea(gameObjects,x1,callback)},enableDebug:function(gameObject,color){void 0===color&&(color=65280);var input=gameObject.input;if(!input||!input.hitArea)return this;var shape=input.hitArea,
shapeType=shape.type,debug=input.hitAreaDebug,factory=this.systems.add,updateList=this.systems.updateList;debug&&(updateList.remove(debug),debug.destroy(),debug=null);var offsetx=0,offsety=0;switch(shapeType){case GEOM_CONST.CIRCLE:debug=factory.arc(0,0,shape.radius);offsetx=shape.x-shape.radius;offsety=shape.y-shape.radius;break;case GEOM_CONST.ELLIPSE:debug=factory.ellipse(0,0,shape.width,shape.height);offsetx=shape.x-shape.width/2;offsety=shape.y-shape.height/2;break;case GEOM_CONST.LINE:debug=
factory.line(0,0,shape.x1,shape.y1,shape.x2,shape.y2);break;case GEOM_CONST.POLYGON:debug=factory.polygon(0,0,shape.points);break;case GEOM_CONST.RECTANGLE:debug=factory.rectangle(0,0,shape.width,shape.height);offsetx=shape.x;offsety=shape.y;break;case GEOM_CONST.TRIANGLE:debug=factory.triangle(0,0,shape.x1,shape.y1,shape.x2,shape.y2,shape.x3,shape.y3)}debug&&(debug.isFilled=!1,debug.preUpdate=function(){debug.setStrokeStyle(1/gameObject.scale,color);debug.setDisplayOrigin(gameObject.displayOriginX,
gameObject.displayOriginY);var x=gameObject.x,y=gameObject.y,rotation=gameObject.rotation,scaleX=gameObject.scaleX,scaleY=gameObject.scaleY;gameObject.parentContainer&&(scaleY=gameObject.getWorldTransformMatrix(),x=scaleY.tx,y=scaleY.ty,rotation=scaleY.rotation,scaleX=scaleY.scaleX,scaleY=scaleY.scaleY);debug.setRotation(rotation);debug.setScale(scaleX,scaleY);debug.setPosition(x+offsetx,y+offsety);debug.setScrollFactor(gameObject.scrollFactorX,gameObject.scrollFactorY);debug.setDepth(gameObject.depth)},
updateList.add(debug),input.hitAreaDebug=debug);return this},removeDebug:function(gameObject){if((gameObject=gameObject.input)&&gameObject.hitAreaDebug){var debug=gameObject.hitAreaDebug;this.systems.updateList.remove(debug);debug.destroy();gameObject.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(value){this.pollRate=value;this._pollTimer=0;return this},setGlobalTopOnly:function(value){this.manager.globalTopOnly=
value;return this},setTopOnly:function(value){this.topOnly=value;return this},sortGameObjects:function(gameObjects,pointer){if(2>gameObjects.length)return gameObjects;var list=pointer.camera.renderList;return gameObjects.sort(function(childA,childB){return list.indexOf(childB)-list.indexOf(childA)})},sortDropZones:function(gameObjects){if(2>gameObjects.length)return gameObjects;this.scene.sys.depthSort();return gameObjects.sort(this.sortDropZoneHandler.bind(this))},sortDropZoneHandler:function(childA,
childB){if(childA.parentContainer||childB.parentContainer){if(childA.parentContainer===childB.parentContainer)return childB.parentContainer.getIndex(childB)-childA.parentContainer.getIndex(childA);if(childA.parentContainer===childB)return-1;if(childB.parentContainer===childA)return 1;childA=childA.getIndexList();childB=childB.getIndexList();for(var len=Math.min(childA.length,childB.length),i=0;i<len;i++){var indexA=childA[i],indexB=childB[i];if(indexA!==indexB)return indexB-indexA}return childB.length-
childA.length}return this.displayList.getIndex(childB)-this.displayList.getIndex(childA)},stopPropagation:function(){this.manager._tempSkip=!0;return this},addPointer:function(quantity){return this.manager.addPointer(quantity)},setDefaultCursor:function(cursor){this.manager.setDefaultCursor(cursor);return this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=
this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(Events.SHUTDOWN);this._temp.length=0;this._list.length=0;this._draggable.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;for(var i=this._dragState.length=0;10>i;i++)this._drag[i]=[],this._over[i]=[];this.removeAllListeners();i=this.manager;i.canvas.style.cursor=i.defaultCursor;var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.TRANSITION_START,this.transitionIn,this);eventEmitter.off(SceneEvents.TRANSITION_OUT,
this.transitionOut,this);eventEmitter.off(SceneEvents.TRANSITION_COMPLETE,this.transitionComplete,this);eventEmitter.off(SceneEvents.PRE_UPDATE,this.preUpdate,this);i.events.off(Events.GAME_OUT,this.onGameOut,this);i.events.off(Events.GAME_OVER,this.onGameOver,this);eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.pluginEvents.emit(Events.DESTROY);this.pluginEvents.removeAllListeners();this.scene.sys.events.off(SceneEvents.START,this.start,this);this.mouse=
this.events=this.manager=this.cameras=this.scene=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},
pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});exports.register("InputPlugin",__webpack_require__,"input");module.exports=__webpack_require__},
function(module,exports,__webpack_require__){module.exports={Events:__webpack_require__(152),KeyboardManager:__webpack_require__(404),KeyboardPlugin:__webpack_require__(1324),Key:__webpack_require__(506),KeyCodes:__webpack_require__(141),KeyCombo:__webpack_require__(507),AdvanceKeyCombo:__webpack_require__(509),ProcessKeyCombo:__webpack_require__(508),ResetKeyCombo:__webpack_require__(510),JustDown:__webpack_require__(1326),JustUp:__webpack_require__(1327),DownDuration:__webpack_require__(1328),UpDuration:__webpack_require__(1329)}},
function(module,exports){module.exports="keydown"},function(module,exports){module.exports="keyup"},function(module,exports){module.exports="keycombomatch"},function(module,exports){module.exports="down"},function(module,exports){module.exports="keydown-"},function(module,exports){module.exports="keyup-"},function(module,exports){module.exports="up"},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),EventEmitter=__webpack_require__(9),Events=__webpack_require__(152),GameEvents=
__webpack_require__(22),GetValue=__webpack_require__(6),InputEvents=__webpack_require__(49);exports=__webpack_require__(151);var Key=__webpack_require__(506),KeyCodes=__webpack_require__(141),KeyCombo=__webpack_require__(507),KeyMap=__webpack_require__(1325),SceneEvents=__webpack_require__(21),SnapFloor=__webpack_require__(76);__webpack_require__=new Class({Extends:EventEmitter,initialize:function(sceneInputPlugin){EventEmitter.call(this);this.game=sceneInputPlugin.systems.game;this.scene=sceneInputPlugin.scene;
this.settings=this.scene.sys.settings;this.sceneInputPlugin=sceneInputPlugin;this.manager=sceneInputPlugin.manager.keyboard;this.enabled=!0;this.keys=[];this.combos=[];this.prevCode=null;this.prevTime=0;this.prevType=null;sceneInputPlugin.pluginEvents.once(InputEvents.BOOT,this.boot,this);sceneInputPlugin.pluginEvents.on(InputEvents.START,this.start,this)},boot:function(){var settings=this.settings.input;this.enabled=GetValue(settings,"keyboard",!0);(settings=GetValue(settings,"keyboard.capture",
null))&&this.addCaptures(settings);this.sceneInputPlugin.pluginEvents.once(InputEvents.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(InputEvents.MANAGER_PROCESS,this.update,this);this.sceneInputPlugin.pluginEvents.once(InputEvents.SHUTDOWN,this.shutdown,this);this.game.events.on(GameEvents.BLUR,this.resetKeys,this);this.scene.sys.events.on(SceneEvents.PAUSE,this.resetKeys,this);this.scene.sys.events.on(SceneEvents.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&
this.scene.sys.isActive()},addCapture:function(keycode){this.manager.addCapture(keycode);return this},removeCapture:function(keycode){this.manager.removeCapture(keycode);return this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){this.manager.preventDefault=!0;return this},disableGlobalCapture:function(){this.manager.preventDefault=!1;return this},clearCaptures:function(){this.manager.clearCaptures();return this},createCursorKeys:function(){return this.addKeys({up:KeyCodes.UP,
down:KeyCodes.DOWN,left:KeyCodes.LEFT,right:KeyCodes.RIGHT,space:KeyCodes.SPACE,shift:KeyCodes.SHIFT})},addKeys:function(keys,enableCapture,emitOnRepeat){void 0===enableCapture&&(enableCapture=!0);void 0===emitOnRepeat&&(emitOnRepeat=!1);var output={};if("string"===typeof keys){keys=keys.split(",");for(var i=0;i<keys.length;i++){var currentKey=keys[i].trim();currentKey&&(output[currentKey]=this.addKey(currentKey,enableCapture,emitOnRepeat))}}else for(i in keys)output[i]=this.addKey(keys[i],enableCapture,
emitOnRepeat);return output},addKey:function(key,enableCapture,emitOnRepeat){void 0===enableCapture&&(enableCapture=!0);void 0===emitOnRepeat&&(emitOnRepeat=!1);var keys=this.keys;if(key instanceof Key){var idx=keys.indexOf(key);-1<idx?keys[idx]=key:keys[key.keyCode]=key;enableCapture&&this.addCapture(key.keyCode);key.setEmitOnRepeat(emitOnRepeat);return key}"string"===typeof key&&(key=KeyCodes[key.toUpperCase()]);keys[key]||(keys[key]=new Key(this,key),enableCapture&&this.addCapture(key),keys[key].setEmitOnRepeat(emitOnRepeat));
return keys[key]},removeKey:function(key,destroy){void 0===destroy&&(destroy=!1);var keys=this.keys;if(key instanceof Key){var idx=keys.indexOf(key);if(-1<idx){var ref=this.keys[idx];this.keys[idx]=void 0}}else"string"===typeof key&&(key=KeyCodes[key.toUpperCase()]);keys[key]&&(ref=keys[key],keys[key]=void 0);ref&&(ref.plugin=null,destroy&&ref.destroy());return this},removeAllKeys:function(destroy){for(var keys=this.keys,i=0;i<keys.length;i++){var key=keys[i];key&&(keys[i]=void 0,destroy&&key.destroy())}return this},
createCombo:function(keys,config){return new KeyCombo(this,keys,config)},checkDown:function(key,duration){void 0===duration&&(duration=0);return this.enabled&&key.isDown&&(duration=SnapFloor(this.time-key.timeDown,duration),duration>key._tick)?(key._tick=duration,!0):!1},update:function(){var queue=this.manager.queue,len=queue.length;if(this.isActive()&&0!==len)for(var keys=this.keys,i=0;i<len;i++){var event=queue[i],code=event.keyCode,key=keys[code],repeat=!1;void 0===event.cancelled&&(event.cancelled=
0,event.stopImmediatePropagation=function(){event.cancelled=1},event.stopPropagation=function(){event.cancelled=-1});if(-1!==event.cancelled&&(code!==this.prevCode||event.timeStamp!==this.prevTime||event.type!==this.prevType)){this.prevCode=code;this.prevTime=event.timeStamp;this.prevType=event.type;if("keydown"===event.type)key&&(repeat=key.isDown,key.onDown(event)),event.cancelled||key&&repeat||(KeyMap[code]&&this.emit(Events.KEY_DOWN+KeyMap[code],event),event.cancelled||this.emit(Events.ANY_KEY_DOWN,
event));else{if(key)key.onUp(event);event.cancelled||(KeyMap[code]&&this.emit(Events.KEY_UP+KeyMap[code],event),event.cancelled||this.emit(Events.ANY_KEY_UP,event))}1===event.cancelled&&(event.cancelled=0)}}},resetKeys:function(){for(var keys=this.keys,i=0;i<keys.length;i++)keys[i]&&keys[i].reset();return this},shutdown:function(){this.resetKeys();this.sceneInputPlugin.manager.events.off(InputEvents.MANAGER_PROCESS,this.update,this);this.game.events.off(GameEvents.BLUR,this.resetKeys);this.scene.sys.events.off(SceneEvents.PAUSE,
this.resetKeys,this);this.scene.sys.events.off(SceneEvents.SLEEP,this.resetKeys,this);this.removeAllListeners();this.queue=[]},destroy:function(){this.shutdown();for(var keys=this.keys,i=0;i<keys.length;i++)keys[i]&&keys[i].destroy();this.keys=[];this.combos=[];this.queue=[];this.manager=this.sceneInputPlugin=this.settings=this.scene=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});exports.register("KeyboardPlugin",__webpack_require__,"keyboard","keyboard","inputKeyboard");
module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(141);__webpack_require__={};for(var key in exports)__webpack_require__[exports[key]]=key;module.exports=__webpack_require__},function(module,exports){module.exports=function(key){return key._justDown?(key._justDown=!1,!0):!1}},function(module,exports){module.exports=function(key){return key._justUp?(key._justUp=!1,!0):!1}},function(module,exports){module.exports=function(key,duration){void 0===
duration&&(duration=50);var current=key.plugin.game.loop.time-key.timeDown;return key.isDown&&current<duration}},function(module,exports){module.exports=function(key,duration){void 0===duration&&(duration=50);var current=key.plugin.game.loop.time-key.timeUp;return key.isUp&&current<duration}},function(module,exports,__webpack_require__){module.exports={MouseManager:__webpack_require__(405)}},function(module,exports,__webpack_require__){module.exports={TouchManager:__webpack_require__(407)}},function(module,
exports,__webpack_require__){exports=__webpack_require__(20);var Extend=__webpack_require__(17);__webpack_require__={Events:__webpack_require__(91),FileTypes:__webpack_require__(1333),File:__webpack_require__(23),FileTypesManager:__webpack_require__(8),GetURL:__webpack_require__(153),LoaderPlugin:__webpack_require__(1359),MergeXHRSettings:__webpack_require__(237),MultiFile:__webpack_require__(47),XHRLoader:__webpack_require__(511),XHRSettings:__webpack_require__(154)};__webpack_require__=Extend(!1,
__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={AnimationJSONFile:__webpack_require__(1334),AsepriteFile:__webpack_require__(1335),AtlasJSONFile:__webpack_require__(1336),AtlasXMLFile:__webpack_require__(1337),AudioFile:__webpack_require__(512),AudioSpriteFile:__webpack_require__(1338),BinaryFile:__webpack_require__(1339),BitmapFontFile:__webpack_require__(1340),CSSFile:__webpack_require__(1341),GLSLFile:__webpack_require__(1342),
HTML5AudioFile:__webpack_require__(513),HTMLFile:__webpack_require__(1343),HTMLTextureFile:__webpack_require__(1344),ImageFile:__webpack_require__(70),JSONFile:__webpack_require__(59),MultiAtlasFile:__webpack_require__(1345),MultiScriptFile:__webpack_require__(1346),OBJFile:__webpack_require__(1347),PackFile:__webpack_require__(1348),PluginFile:__webpack_require__(1349),SceneFile:__webpack_require__(1350),ScenePluginFile:__webpack_require__(1351),ScriptFile:__webpack_require__(514),SpriteSheetFile:__webpack_require__(1352),
SVGFile:__webpack_require__(1353),TextFile:__webpack_require__(239),TilemapCSVFile:__webpack_require__(1354),TilemapImpactFile:__webpack_require__(1355),TilemapJSONFile:__webpack_require__(1356),UnityAtlasFile:__webpack_require__(1357),VideoFile:__webpack_require__(1358),XMLFile:__webpack_require__(238)}},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),JSONFile=__webpack_require__(59),LoaderEvents=__webpack_require__(91),AnimationJSONFile=
new exports({Extends:JSONFile,initialize:function(loader,key,url,xhrSettings,dataKey){JSONFile.call(this,loader,key,url,xhrSettings,dataKey);this.type="animationJSON"},onProcess:function(){this.loader.once(LoaderEvents.POST_PROCESS,this.onLoadComplete,this);JSONFile.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});FileTypesManager.register("animation",function(key,url,dataKey,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new AnimationJSONFile(this,
key[url]));else this.addFile(new AnimationJSONFile(this,key,url,xhrSettings,dataKey));return this});module.exports=AnimationJSONFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),ImageFile=__webpack_require__(70),IsPlainObject=__webpack_require__(7),JSONFile=__webpack_require__(59),MultiFile=__webpack_require__(47),AsepriteFile=new exports({Extends:MultiFile,initialize:function(loader,key,
textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){IsPlainObject(key)?(atlasURL=key,key=GetFastValue(atlasURL,"key"),textureURL=new ImageFile(loader,{key:key,url:GetFastValue(atlasURL,"textureURL"),extension:GetFastValue(atlasURL,"textureExtension","png"),normalMap:GetFastValue(atlasURL,"normalMap"),xhrSettings:GetFastValue(atlasURL,"textureXhrSettings")}),atlasURL=new JSONFile(loader,{key:key,url:GetFastValue(atlasURL,"atlasURL"),extension:GetFastValue(atlasURL,"atlasExtension","json"),xhrSettings:GetFastValue(atlasURL,
"atlasXhrSettings")})):(textureURL=new ImageFile(loader,key,textureURL,textureXhrSettings),atlasURL=new JSONFile(loader,key,atlasURL,atlasXhrSettings));textureURL.linkFile?MultiFile.call(this,loader,"atlasjson",key,[textureURL,atlasURL,textureURL.linkFile]):MultiFile.call(this,loader,"atlasjson",key,[textureURL,atlasURL])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],json=this.files[1];this.loader.textureManager.addAtlas(image.key,image.data,json.data,this.files[2]?this.files[2].data:
null);json.addToCache();this.complete=!0}}});FileTypesManager.register("aseprite",function(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){if(Array.isArray(key))for(atlasURL=0;atlasURL<key.length;atlasURL++)textureURL=new AsepriteFile(this,key[atlasURL]),this.addFile(textureURL.files);else textureURL=new AsepriteFile(this,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings),this.addFile(textureURL.files);return this});module.exports=AsepriteFile},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),ImageFile=__webpack_require__(70),IsPlainObject=__webpack_require__(7),JSONFile=__webpack_require__(59),MultiFile=__webpack_require__(47),AtlasJSONFile=new exports({Extends:MultiFile,initialize:function(loader,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){IsPlainObject(key)?(atlasURL=key,key=GetFastValue(atlasURL,"key"),textureURL=new ImageFile(loader,{key:key,url:GetFastValue(atlasURL,
"textureURL"),extension:GetFastValue(atlasURL,"textureExtension","png"),normalMap:GetFastValue(atlasURL,"normalMap"),xhrSettings:GetFastValue(atlasURL,"textureXhrSettings")}),atlasURL=new JSONFile(loader,{key:key,url:GetFastValue(atlasURL,"atlasURL"),extension:GetFastValue(atlasURL,"atlasExtension","json"),xhrSettings:GetFastValue(atlasURL,"atlasXhrSettings")})):(textureURL=new ImageFile(loader,key,textureURL,textureXhrSettings),atlasURL=new JSONFile(loader,key,atlasURL,atlasXhrSettings));textureURL.linkFile?
MultiFile.call(this,loader,"atlasjson",key,[textureURL,atlasURL,textureURL.linkFile]):MultiFile.call(this,loader,"atlasjson",key,[textureURL,atlasURL])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],json=this.files[1];this.loader.textureManager.addAtlas(image.key,image.data,json.data,this.files[2]?this.files[2].data:null);json.pendingDestroy();this.complete=!0}}});FileTypesManager.register("atlas",function(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){if(Array.isArray(key))for(atlasURL=
0;atlasURL<key.length;atlasURL++)textureURL=new AtlasJSONFile(this,key[atlasURL]),this.addFile(textureURL.files);else textureURL=new AtlasJSONFile(this,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings),this.addFile(textureURL.files);return this});module.exports=AtlasJSONFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),ImageFile=__webpack_require__(70),IsPlainObject=__webpack_require__(7),
MultiFile=__webpack_require__(47),XMLFile=__webpack_require__(238),AtlasXMLFile=new exports({Extends:MultiFile,initialize:function(loader,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){IsPlainObject(key)?(atlasURL=key,key=GetFastValue(atlasURL,"key"),textureURL=new ImageFile(loader,{key:key,url:GetFastValue(atlasURL,"textureURL"),extension:GetFastValue(atlasURL,"textureExtension","png"),normalMap:GetFastValue(atlasURL,"normalMap"),xhrSettings:GetFastValue(atlasURL,"textureXhrSettings")}),
atlasURL=new XMLFile(loader,{key:key,url:GetFastValue(atlasURL,"atlasURL"),extension:GetFastValue(atlasURL,"atlasExtension","xml"),xhrSettings:GetFastValue(atlasURL,"atlasXhrSettings")})):(textureURL=new ImageFile(loader,key,textureURL,textureXhrSettings),atlasURL=new XMLFile(loader,key,atlasURL,atlasXhrSettings));textureURL.linkFile?MultiFile.call(this,loader,"atlasxml",key,[textureURL,atlasURL,textureURL.linkFile]):MultiFile.call(this,loader,"atlasxml",key,[textureURL,atlasURL])},addToCache:function(){if(this.isReadyToProcess()){var image=
this.files[0],xml=this.files[1];this.loader.textureManager.addAtlasXML(image.key,image.data,xml.data,this.files[2]?this.files[2].data:null);xml.pendingDestroy();this.complete=!0}}});FileTypesManager.register("atlasXML",function(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){if(Array.isArray(key))for(atlasURL=0;atlasURL<key.length;atlasURL++)textureURL=new AtlasXMLFile(this,key[atlasURL]),this.addFile(textureURL.files);else textureURL=new AtlasXMLFile(this,key,textureURL,atlasURL,textureXhrSettings,
atlasXhrSettings),this.addFile(textureURL.files);return this});module.exports=AtlasXMLFile},function(module,exports,__webpack_require__){var AudioFile=__webpack_require__(512);module=__webpack_require__(0);exports=__webpack_require__(8);var GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),JSONFile=__webpack_require__(59),MultiFile=__webpack_require__(47),AudioSpriteFile=new module({Extends:MultiFile,initialize:function(loader,key,jsonURL,audioURL,audioConfig,audioXhrSettings,
jsonXhrSettings){IsPlainObject(key)&&(jsonXhrSettings=key,key=GetFastValue(jsonXhrSettings,"key"),jsonURL=GetFastValue(jsonXhrSettings,"jsonURL"),audioURL=GetFastValue(jsonXhrSettings,"audioURL"),audioConfig=GetFastValue(jsonXhrSettings,"audioConfig"),audioXhrSettings=GetFastValue(jsonXhrSettings,"audioXhrSettings"),jsonXhrSettings=GetFastValue(jsonXhrSettings,"jsonXhrSettings"));if(audioURL){if(audioConfig=AudioFile.create(loader,key,audioURL,audioConfig,audioXhrSettings))jsonURL=new JSONFile(loader,
key,jsonURL,jsonXhrSettings),MultiFile.call(this,loader,"audiosprite",key,[audioConfig,jsonURL]),this.config.resourceLoad=!1}else jsonURL=new JSONFile(loader,key,jsonURL,jsonXhrSettings),MultiFile.call(this,loader,"audiosprite",key,[jsonURL]),this.config.resourceLoad=!0,this.config.audioConfig=audioConfig,this.config.audioXhrSettings=audioXhrSettings},onFileComplete:function(file){if(-1!==this.files.indexOf(file)&&(this.pending--,this.config.resourceLoad&&"json"===file.type&&file.data.hasOwnProperty("resources"))){var urls=
file.data.resources,audioConfig=GetFastValue(this.config,"audioConfig"),audioXhrSettings=GetFastValue(this.config,"audioXhrSettings");if(file=AudioFile.create(this.loader,file.key,urls,audioConfig,audioXhrSettings))this.addToMultiFile(file),this.loader.addFile(file)}},addToCache:function(){if(this.isReadyToProcess()){var fileB=this.files[1];this.files[0].addToCache();fileB.addToCache();this.complete=!0}}});exports.register("audioSprite",function(key,jsonURL,audioURL,audioConfig,audioXhrSettings,jsonXhrSettings){var game=
this.systems.game,gameAudioConfig=game.config.audio;game=game.device.audio;if(gameAudioConfig&&gameAudioConfig.noAudio||!game.webAudio&&!game.audioData)return this;if(Array.isArray(key))for(audioURL=0;audioURL<key.length;audioURL++)jsonURL=new AudioSpriteFile(this,key[audioURL]),jsonURL.files&&this.addFile(jsonURL.files);else jsonURL=new AudioSpriteFile(this,key,jsonURL,audioURL,audioConfig,audioXhrSettings,jsonXhrSettings),jsonURL.files&&this.addFile(jsonURL.files);return this})},function(module,
exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),BinaryFile=new exports({Extends:File,initialize:function(loader,key,url,xhrSettings,dataType){var extension="bin";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=
GetFastValue(config,"extension",extension);dataType=GetFastValue(config,"dataType",dataType)}File.call(this,loader,{type:"binary",cache:loader.cacheManager.binary,extension:extension,responseType:"arraybuffer",key:key,url:url,xhrSettings:xhrSettings,config:{dataType:dataType}})},onProcess:function(){this.state=CONST.FILE_PROCESSING;var ctor=this.config.dataType;this.data=ctor?new ctor(this.xhrLoader.response):this.xhrLoader.response;this.onProcessComplete()}});FileTypesManager.register("binary",function(key,
url,dataType,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new BinaryFile(this,key[url]));else this.addFile(new BinaryFile(this,key,url,xhrSettings,dataType));return this});module.exports=BinaryFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),ImageFile=__webpack_require__(70),IsPlainObject=__webpack_require__(7),MultiFile=__webpack_require__(47),ParseXMLBitmapFont=
__webpack_require__(209),XMLFile=__webpack_require__(238),BitmapFontFile=new exports({Extends:MultiFile,initialize:function(loader,key,textureURL,fontDataURL,textureXhrSettings,fontDataXhrSettings){IsPlainObject(key)?(fontDataURL=key,key=GetFastValue(fontDataURL,"key"),textureURL=new ImageFile(loader,{key:key,url:GetFastValue(fontDataURL,"textureURL"),extension:GetFastValue(fontDataURL,"textureExtension","png"),normalMap:GetFastValue(fontDataURL,"normalMap"),xhrSettings:GetFastValue(fontDataURL,"textureXhrSettings")}),
fontDataURL=new XMLFile(loader,{key:key,url:GetFastValue(fontDataURL,"fontDataURL"),extension:GetFastValue(fontDataURL,"fontDataExtension","xml"),xhrSettings:GetFastValue(fontDataURL,"fontDataXhrSettings")})):(textureURL=new ImageFile(loader,key,textureURL,textureXhrSettings),fontDataURL=new XMLFile(loader,key,fontDataURL,fontDataXhrSettings));textureURL.linkFile?MultiFile.call(this,loader,"bitmapfont",key,[textureURL,fontDataURL,textureURL.linkFile]):MultiFile.call(this,loader,"bitmapfont",key,[textureURL,
fontDataURL])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],xml=this.files[1];image.addToCache();xml.pendingDestroy();var texture=image.cache.get(image.key);xml=ParseXMLBitmapFont(xml.data,image.cache.getFrame(image.key),0,0,texture);this.loader.cacheManager.bitmapFont.add(image.key,{data:xml,texture:image.key,frame:null});this.complete=!0}}});FileTypesManager.register("bitmapFont",function(key,textureURL,fontDataURL,textureXhrSettings,fontDataXhrSettings){if(Array.isArray(key))for(fontDataURL=
0;fontDataURL<key.length;fontDataURL++)textureURL=new BitmapFontFile(this,key[fontDataURL]),this.addFile(textureURL.files);else textureURL=new BitmapFontFile(this,key,textureURL,fontDataURL,textureXhrSettings,fontDataXhrSettings),this.addFile(textureURL.files);return this});module.exports=BitmapFontFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),
IsPlainObject=__webpack_require__(7),CSSFile=new exports({Extends:File,initialize:function(loader,key,url,xhrSettings){var extension="css";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}File.call(this,loader,{type:"script",cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings})},onProcess:function(){this.state=CONST.FILE_PROCESSING;
this.data=document.createElement("style");this.data.defer=!1;this.data.innerHTML=this.xhrLoader.responseText;document.head.appendChild(this.data);this.onProcessComplete()}});FileTypesManager.register("css",function(key,url,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new CSSFile(this,key[url]));else this.addFile(new CSSFile(this,key,url,xhrSettings));return this});module.exports=CSSFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);
var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),Shader=__webpack_require__(390),GLSLFile=new exports({Extends:File,initialize:function(loader,key,url,shaderType,xhrSettings){var extension="glsl";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");shaderType=GetFastValue(config,"shaderType","fragment");xhrSettings=GetFastValue(config,
"xhrSettings");extension=GetFastValue(config,"extension",extension)}else void 0===shaderType&&(shaderType="fragment");File.call(this,loader,{type:"glsl",cache:loader.cacheManager.shader,extension:extension,responseType:"text",key:key,url:url,config:{shaderType:shaderType},xhrSettings:xhrSettings})},onProcess:function(){this.state=CONST.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()},addToCache:function(){var data=this.data.split("\n"),block=this.extractBlock(data,0);
if(block)for(;block;){var key=this.getShaderName(block.header),shaderType=this.getShaderType(block.header),uniforms=this.getShaderUniforms(block.header),shaderSrc=block.shader;this.cache.has(key)?(key=this.cache.get(key),"fragment"===shaderType?key.fragmentSrc=shaderSrc:key.vertexSrc=shaderSrc,key.uniforms||(key.uniforms=uniforms)):"fragment"===shaderType?this.cache.add(key,new Shader(key,shaderSrc,"",uniforms)):this.cache.add(key,new Shader(key,"",shaderSrc,uniforms));block=this.extractBlock(data,
block.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new Shader(this.key,this.data)):this.cache.add(this.key,new Shader(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(headerSource){for(var i=0;i<headerSource.length;i++){var line=headerSource[i].trim();if("name:"===line.substring(0,5))return line.substring(5).trim()}return this.key},getShaderType:function(headerSource){for(var i=0;i<headerSource.length;i++){var line=headerSource[i].trim();if("type:"===
line.substring(0,5))return line.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(headerSource){for(var uniforms={},i=0;i<headerSource.length;i++){var line=headerSource[i].trim();if("uniform."===line.substring(0,8)){var pos=line.indexOf(":");if(pos){var key=line.substring(8,pos);try{uniforms[key]=JSON.parse(line.substring(pos+1))}catch(e){console.warn("Invalid uniform JSON: "+key)}}}}return uniforms},extractBlock:function(data,offset){for(var headerStart=-1,headerEnd=-1,
blockEnd=-1,headerOpen=!1,captureSource=!1,headerSource=[],shaderSource=[];offset<data.length;offset++){var line=data[offset].trim();if("---"===line)if(-1===headerStart)headerStart=offset,headerOpen=!0;else if(headerOpen)headerEnd=offset,headerOpen=!1,captureSource=!0;else break;else headerOpen?headerSource.push(line):captureSource&&(shaderSource.push(line),blockEnd=offset)}return headerOpen||-1===headerEnd?null:{header:headerSource,shader:shaderSource.join("\n"),offset:blockEnd}}});FileTypesManager.register("glsl",
function(key,url,shaderType,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new GLSLFile(this,key[url]));else this.addFile(new GLSLFile(this,key,url,shaderType,xhrSettings));return this});module.exports=GLSLFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),HTMLFile=
new exports({Extends:File,initialize:function(loader,key,url,xhrSettings){var extension="html";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}File.call(this,loader,{type:"text",cache:loader.cacheManager.html,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings})},onProcess:function(){this.state=CONST.FILE_PROCESSING;this.data=
this.xhrLoader.responseText;this.onProcessComplete()}});FileTypesManager.register("html",function(key,url,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new HTMLFile(this,key[url]));else this.addFile(new HTMLFile(this,key,url,xhrSettings));return this});module.exports=HTMLFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=
__webpack_require__(2),IsPlainObject=__webpack_require__(7),HTMLTextureFile=new exports({Extends:File,initialize:function(loader,key,url,width,height,xhrSettings){void 0===width&&(width=512);void 0===height&&(height=512);var extension="html";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension);width=GetFastValue(config,"width",width);height=GetFastValue(config,
"height",height)}File.call(this,loader,{type:"html",cache:loader.textureManager,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{width:width,height:height}})},onProcess:function(){this.state=CONST.FILE_PROCESSING;var w=this.config.width,h=this.config.height,data=[];data.push('\x3csvg width\x3d"'+w+'px" height\x3d"'+h+'px" viewBox\x3d"0 0 '+w+" "+h+'" xmlns\x3d"http://www.w3.org/2000/svg"\x3e');data.push('\x3cforeignObject width\x3d"100%" height\x3d"100%"\x3e');
data.push('\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e');data.push(this.xhrLoader.responseText);data.push("\x3c/body\x3e");data.push("\x3c/foreignObject\x3e");data.push("\x3c/svg\x3e");w=[data.join("\n")];var _this=this;try{var blob=new window.Blob(w,{type:"image/svg+xml;charset\x3dutf-8"})}catch(e){_this.state=CONST.FILE_ERRORED;_this.onProcessComplete();return}this.data=new Image;this.data.crossOrigin=this.crossOrigin;this.data.onload=function(){File.revokeObjectURL(_this.data);_this.onProcessComplete()};
this.data.onerror=function(){File.revokeObjectURL(_this.data);_this.onProcessError()};File.createObjectURL(this.data,blob,"image/svg+xml")},addToCache:function(){var texture=this.cache.addImage(this.key,this.data);this.pendingDestroy(texture)}});FileTypesManager.register("htmlTexture",function(key,url,width,height,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new HTMLTextureFile(this,key[url]));else this.addFile(new HTMLTextureFile(this,key,url,width,height,xhrSettings));
return this});module.exports=HTMLTextureFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),ImageFile=__webpack_require__(70),IsPlainObject=__webpack_require__(7),JSONFile=__webpack_require__(59),MultiFile=__webpack_require__(47),MultiAtlasFile=new exports({Extends:MultiFile,initialize:function(loader,key,atlasURL,path,baseURL,atlasXhrSettings,textureXhrSettings){IsPlainObject(key)&&(textureXhrSettings=
key,key=GetFastValue(textureXhrSettings,"key"),atlasURL=GetFastValue(textureXhrSettings,"url",!1)?GetFastValue(textureXhrSettings,"url"):GetFastValue(textureXhrSettings,"atlasURL"),atlasXhrSettings=GetFastValue(textureXhrSettings,"xhrSettings"),path=GetFastValue(textureXhrSettings,"path"),baseURL=GetFastValue(textureXhrSettings,"baseURL"),textureXhrSettings=GetFastValue(textureXhrSettings,"textureXhrSettings"));atlasURL=new JSONFile(loader,key,atlasURL,atlasXhrSettings);MultiFile.call(this,loader,
"multiatlas",key,[atlasURL]);this.config.path=path;this.config.baseURL=baseURL;this.config.textureXhrSettings=textureXhrSettings},onFileComplete:function(file){if(-1!==this.files.indexOf(file)&&(this.pending--,"json"===file.type&&file.data.hasOwnProperty("textures"))){file=file.data.textures;var config=this.config,loader=this.loader,currentBaseURL=loader.baseURL,currentPath=loader.path,currentPrefix=loader.prefix,baseURL=GetFastValue(config,"baseURL",this.baseURL),path=GetFastValue(config,"path",
this.path),prefix=GetFastValue(config,"prefix",this.prefix);config=GetFastValue(config,"textureXhrSettings");loader.setBaseURL(baseURL);loader.setPath(path);loader.setPrefix(prefix);for(baseURL=0;baseURL<file.length;baseURL++)prefix=file[baseURL].image,path="MA"+this.multiKeyIndex+"_"+prefix,prefix=new ImageFile(loader,path,prefix,config),this.addToMultiFile(prefix),loader.addFile(prefix),file[baseURL].normalMap&&(path=new ImageFile(loader,path,file[baseURL].normalMap,config),path.type="normalMap",
prefix.setLink(path),this.addToMultiFile(path),loader.addFile(path));loader.setBaseURL(currentBaseURL);loader.setPath(currentPath);loader.setPrefix(currentPrefix)}},addToCache:function(){if(this.isReadyToProcess()){for(var fileJSON=this.files[0],data=[],images=[],normalMaps=[],i=1;i<this.files.length;i++){var file=this.files[i];if("normalMap"!==file.type){var pos=file.key.indexOf("_");pos=file.key.substr(pos+1);for(var image=file.data,t=0;t<fileJSON.data.textures.length;t++){var item=fileJSON.data.textures[t];
if(item.image===pos){images.push(image);data.push(item);file.linkFile&&normalMaps.push(file.linkFile.data);break}}}}0===normalMaps.length&&(normalMaps=void 0);this.loader.textureManager.addAtlasJSONArray(this.key,images,data,normalMaps);this.complete=!0;for(i=0;i<this.files.length;i++)this.files[i].pendingDestroy()}}});FileTypesManager.register("multiatlas",function(key,atlasURL,path,baseURL,atlasXhrSettings){if(Array.isArray(key))for(path=0;path<key.length;path++)atlasURL=new MultiAtlasFile(this,
key[path]),this.addFile(atlasURL.files);else atlasURL=new MultiAtlasFile(this,key,atlasURL,path,baseURL,atlasXhrSettings),this.addFile(atlasURL.files);return this});module.exports=MultiAtlasFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),MultiFile=__webpack_require__(47),ScriptFile=__webpack_require__(514),MultiScriptFile=new exports({Extends:MultiFile,
initialize:function(loader,key,url,xhrSettings){var extension="js",files=[];if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}Array.isArray(url)||(url=[url]);for(config=0;config<url.length;config++){var scriptFile=new ScriptFile(loader,{key:key+"_"+config.toString(),url:url[config],extension:extension,xhrSettings:xhrSettings});scriptFile.onProcess=function(){this.onProcessComplete()};
files.push(scriptFile)}MultiFile.call(this,loader,"scripts",key,files)},addToCache:function(){if(this.isReadyToProcess()){for(var i=0;i<this.files.length;i++){var file=this.files[i];file.data=document.createElement("script");file.data.language="javascript";file.data.type="text/javascript";file.data.defer=!1;file.data.text=file.xhrLoader.responseText;document.head.appendChild(file.data)}this.complete=!0}}});FileTypesManager.register("scripts",function(key,url,xhrSettings){if(Array.isArray(key))for(xhrSettings=
0;xhrSettings<key.length;xhrSettings++)url=new MultiScriptFile(this,key[xhrSettings]),this.addFile(url.files);else url=new MultiScriptFile(this,key,url,xhrSettings),this.addFile(url.files);return this});module.exports=MultiScriptFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),MultiFile=__webpack_require__(47),ParseObj=__webpack_require__(492),ParseObjMaterial=
__webpack_require__(493),TextFile=__webpack_require__(239),OBJFile=new exports({Extends:MultiFile,initialize:function(loader,key,objURL,matURL,flipUV,xhrSettings){var mat,cache=loader.cacheManager.obj;IsPlainObject(key)?(xhrSettings=key,key=GetFastValue(xhrSettings,"key"),flipUV=new TextFile(loader,{key:key,type:"obj",cache:cache,url:GetFastValue(xhrSettings,"url"),extension:GetFastValue(xhrSettings,"extension","obj"),xhrSettings:GetFastValue(xhrSettings,"xhrSettings"),config:{flipUV:GetFastValue(xhrSettings,
"flipUV",flipUV)}}),(matURL=GetFastValue(xhrSettings,"matURL"))&&(mat=new TextFile(loader,{key:key,type:"mat",cache:cache,url:matURL,extension:GetFastValue(xhrSettings,"matExtension","mat"),xhrSettings:GetFastValue(xhrSettings,"xhrSettings")}))):(flipUV=new TextFile(loader,{key:key,url:objURL,type:"obj",cache:cache,extension:"obj",xhrSettings:xhrSettings,config:{flipUV:flipUV}}),matURL&&(mat=new TextFile(loader,{key:key,url:matURL,type:"mat",cache:cache,extension:"mat",xhrSettings:xhrSettings})));
MultiFile.call(this,loader,"obj",key,[flipUV,mat])},addToCache:function(){if(this.isReadyToProcess()){var obj=this.files[0],mat=this.files[1],objData=ParseObj(obj.data,obj.config.flipUV);mat&&(objData.materials=ParseObjMaterial(mat.data));obj.cache.add(obj.key,objData);this.complete=!0}}});FileTypesManager.register("obj",function(key,objURL,matURL,flipUVs,xhrSettings){if(Array.isArray(key))for(matURL=0;matURL<key.length;matURL++)objURL=new OBJFile(this,key[matURL]),this.addFile(objURL.files);else objURL=
new OBJFile(this,key,objURL,matURL,flipUVs,xhrSettings),this.addFile(objURL.files);return this});module.exports=OBJFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),FileTypesManager=__webpack_require__(8),JSONFile=__webpack_require__(59),PackFile=new exports({Extends:JSONFile,initialize:function(loader,key,url,xhrSettings,dataKey){JSONFile.call(this,loader,key,url,xhrSettings,dataKey);this.type="packfile"},onProcess:function(){this.state!==
CONST.FILE_POPULATED&&(this.state=CONST.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText));this.loader.addPack(this.data,this.config);this.onProcessComplete()}});FileTypesManager.register("pack",function(key,url,packKey,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new PackFile(this,key[url]));else this.addFile(new PackFile(this,key,url,xhrSettings,packKey));return this});module.exports=PackFile},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),PluginFile=new exports({Extends:File,initialize:function(loader,key,url,start,mapping,xhrSettings){var extension="js";IsPlainObject(key)&&(mapping=key,key=GetFastValue(mapping,"key"),url=GetFastValue(mapping,"url"),xhrSettings=GetFastValue(mapping,"xhrSettings"),extension=GetFastValue(mapping,"extension",
extension),start=GetFastValue(mapping,"start"),mapping=GetFastValue(mapping,"mapping"));File.call(this,loader,{type:"plugin",cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{start:start,mapping:mapping}});"function"===typeof url&&(this.data=url,this.state=CONST.FILE_POPULATED)},onProcess:function(){var pluginManager=this.loader.systems.plugins,config=this.config,start=GetFastValue(config,"start",!1);config=GetFastValue(config,"mapping",null);if(this.state===
CONST.FILE_POPULATED)pluginManager.install(this.key,this.data,start,config);else if(this.state=CONST.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),pluginManager=pluginManager.install(this.key,window[this.key],start,config),start||config)this.loader.systems[config]=pluginManager,this.loader.scene[config]=pluginManager;this.onProcessComplete()}});
FileTypesManager.register("plugin",function(key,url,start,mapping,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new PluginFile(this,key[url]));else this.addFile(new PluginFile(this,key,url,start,mapping,xhrSettings));return this});module.exports=PluginFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),
IsPlainObject=__webpack_require__(7),SceneFile=new exports({Extends:File,initialize:function(loader,key,url,xhrSettings){var extension="js";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}File.call(this,loader,{type:"text",extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings})},onProcess:function(){this.state=CONST.FILE_PROCESSING;
this.data=this.xhrLoader.responseText;this.onProcessComplete()},addToCache:function(){var code=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);");this.loader.sceneManager.add(this.key,(0,eval)(code));this.complete=!0}});FileTypesManager.register("sceneFile",function(key,url,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new SceneFile(this,key[url]));else this.addFile(new SceneFile(this,key,url,xhrSettings));return this});module.exports=SceneFile},
function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),ScenePluginFile=new exports({Extends:File,initialize:function(loader,key,url,systemKey,sceneKey,xhrSettings){var extension="js";IsPlainObject(key)&&(sceneKey=key,key=GetFastValue(sceneKey,"key"),url=GetFastValue(sceneKey,"url"),xhrSettings=GetFastValue(sceneKey,
"xhrSettings"),extension=GetFastValue(sceneKey,"extension",extension),systemKey=GetFastValue(sceneKey,"systemKey"),sceneKey=GetFastValue(sceneKey,"sceneKey"));File.call(this,loader,{type:"scenePlugin",cache:!1,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{systemKey:systemKey,sceneKey:sceneKey}});"function"===typeof url&&(this.data=url,this.state=CONST.FILE_POPULATED)},onProcess:function(){var pluginManager=this.loader.systems.plugins,config=this.config,key=
this.key,systemKey=GetFastValue(config,"systemKey",key);config=GetFastValue(config,"sceneKey",key);this.state===CONST.FILE_POPULATED?pluginManager.installScenePlugin(systemKey,this.data,config,this.loader.scene,!0):(this.state=CONST.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),pluginManager.installScenePlugin(systemKey,window[this.key],
config,this.loader.scene,!0));this.onProcessComplete()}});FileTypesManager.register("scenePlugin",function(key,url,systemKey,sceneKey,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new ScenePluginFile(this,key[url]));else this.addFile(new ScenePluginFile(this,key,url,systemKey,sceneKey,xhrSettings));return this});module.exports=ScenePluginFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),ImageFile=
__webpack_require__(70),SpriteSheetFile=new exports({Extends:ImageFile,initialize:function(loader,key,url,frameConfig,xhrSettings){ImageFile.call(this,loader,key,url,xhrSettings,frameConfig);this.type="spritesheet"},addToCache:function(){var texture=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(texture)}});FileTypesManager.register("spritesheet",function(key,url,frameConfig,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new SpriteSheetFile(this,
key[url]));else this.addFile(new SpriteSheetFile(this,key,url,frameConfig,xhrSettings));return this});module.exports=SpriteSheetFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),SVGFile=new exports({Extends:File,initialize:function(loader,key,url,svgConfig,xhrSettings){var extension="svg";if(IsPlainObject(key)){var config=
key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");svgConfig=GetFastValue(config,"svgConfig",{});xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}key={type:"svg",cache:loader.textureManager,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{width:GetFastValue(svgConfig,"width"),height:GetFastValue(svgConfig,"height"),scale:GetFastValue(svgConfig,"scale")}};File.call(this,loader,key)},onProcess:function(){this.state=
CONST.FILE_PROCESSING;var text=this.xhrLoader.responseText,svg=[text],width=this.config.width,height=this.config.height,scale=this.config.scale;a:if(width&&height||scale){var xml=null;xml=(new DOMParser).parseFromString(text,"text/xml");text=xml.getElementsByTagName("svg")[0];var hasViewBox=text.hasAttribute("viewBox");xml=parseFloat(text.getAttribute("width"));var svgHeight=parseFloat(text.getAttribute("height"));!hasViewBox&&xml&&svgHeight?text.setAttribute("viewBox","0  0 "+xml+" "+svgHeight):
!hasViewBox||xml||svgHeight||(hasViewBox=text.getAttribute("viewBox").split(/\s+|,/),xml=hasViewBox[2],svgHeight=hasViewBox[3]);if(scale)if(xml&&svgHeight)width=xml*scale,height=svgHeight*scale;else break a;text.setAttribute("width",width.toString()+"px");text.setAttribute("height",height.toString()+"px");svg=[(new XMLSerializer).serializeToString(text)]}try{var blob=new window.Blob(svg,{type:"image/svg+xml;charset\x3dutf-8"})}catch(e){this.onProcessError();return}this.data=new Image;this.data.crossOrigin=
this.crossOrigin;var _this=this,retry=!1;this.data.onload=function(){retry||File.revokeObjectURL(_this.data);_this.onProcessComplete()};this.data.onerror=function(){if(retry)_this.onProcessError();else retry=!0,File.revokeObjectURL(_this.data),_this.data.src="data:image/svg+xml,"+encodeURIComponent(svg.join(""))};File.createObjectURL(this.data,blob,"image/svg+xml")},addToCache:function(){var texture=this.cache.addImage(this.key,this.data);this.pendingDestroy(texture)}});FileTypesManager.register("svg",
function(key,url,svgConfig,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new SVGFile(this,key[url]));else this.addFile(new SVGFile(this,key,url,svgConfig,xhrSettings));return this});module.exports=SVGFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),TILEMAP_FORMATS=
__webpack_require__(39),TilemapCSVFile=new exports({Extends:File,initialize:function(loader,key,url,xhrSettings){var extension="csv";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}File.call(this,loader,{type:"tilemapCSV",cache:loader.cacheManager.tilemap,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings});this.tilemapFormat=
TILEMAP_FORMATS.CSV},onProcess:function(){this.state=CONST.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()},addToCache:function(){var tiledata={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,tiledata);this.pendingDestroy(tiledata)}});FileTypesManager.register("tilemapCSV",function(key,url,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new TilemapCSVFile(this,key[url]));else this.addFile(new TilemapCSVFile(this,key,url,
xhrSettings));return this});module.exports=TilemapCSVFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),JSONFile=__webpack_require__(59),TILEMAP_FORMATS=__webpack_require__(39),TilemapImpactFile=new exports({Extends:JSONFile,initialize:function(loader,key,url,xhrSettings){JSONFile.call(this,loader,key,url,xhrSettings);this.type="tilemapJSON";this.cache=loader.cacheManager.tilemap},addToCache:function(){var tiledata={format:TILEMAP_FORMATS.WELTMEISTER,
data:this.data};this.cache.add(this.key,tiledata);this.pendingDestroy(tiledata)}});FileTypesManager.register("tilemapImpact",function(key,url,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new TilemapImpactFile(this,key[url]));else this.addFile(new TilemapImpactFile(this,key,url,xhrSettings));return this});module.exports=TilemapImpactFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),JSONFile=
__webpack_require__(59),TILEMAP_FORMATS=__webpack_require__(39),TilemapJSONFile=new exports({Extends:JSONFile,initialize:function(loader,key,url,xhrSettings){JSONFile.call(this,loader,key,url,xhrSettings);this.type="tilemapJSON";this.cache=loader.cacheManager.tilemap},addToCache:function(){var tiledata={format:TILEMAP_FORMATS.TILED_JSON,data:this.data};this.cache.add(this.key,tiledata);this.pendingDestroy(tiledata)}});FileTypesManager.register("tilemapTiledJSON",function(key,url,xhrSettings){if(Array.isArray(key))for(url=
0;url<key.length;url++)this.addFile(new TilemapJSONFile(this,key[url]));else this.addFile(new TilemapJSONFile(this,key,url,xhrSettings));return this});module.exports=TilemapJSONFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var FileTypesManager=__webpack_require__(8),GetFastValue=__webpack_require__(2),ImageFile=__webpack_require__(70),IsPlainObject=__webpack_require__(7),MultiFile=__webpack_require__(47),TextFile=__webpack_require__(239),UnityAtlasFile=new exports({Extends:MultiFile,
initialize:function(loader,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){IsPlainObject(key)?(atlasURL=key,key=GetFastValue(atlasURL,"key"),textureURL=new ImageFile(loader,{key:key,url:GetFastValue(atlasURL,"textureURL"),extension:GetFastValue(atlasURL,"textureExtension","png"),normalMap:GetFastValue(atlasURL,"normalMap"),xhrSettings:GetFastValue(atlasURL,"textureXhrSettings")}),atlasURL=new TextFile(loader,{key:key,url:GetFastValue(atlasURL,"atlasURL"),extension:GetFastValue(atlasURL,
"atlasExtension","txt"),xhrSettings:GetFastValue(atlasURL,"atlasXhrSettings")})):(textureURL=new ImageFile(loader,key,textureURL,textureXhrSettings),atlasURL=new TextFile(loader,key,atlasURL,atlasXhrSettings));textureURL.linkFile?MultiFile.call(this,loader,"unityatlas",key,[textureURL,atlasURL,textureURL.linkFile]):MultiFile.call(this,loader,"unityatlas",key,[textureURL,atlasURL])},addToCache:function(){if(this.isReadyToProcess()){var image=this.files[0],text=this.files[1];this.loader.textureManager.addUnityAtlas(image.key,
image.data,text.data,this.files[2]?this.files[2].data:null);text.pendingDestroy();this.complete=!0}}});FileTypesManager.register("unityAtlas",function(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){if(Array.isArray(key))for(atlasURL=0;atlasURL<key.length;atlasURL++)textureURL=new UnityAtlasFile(this,key[atlasURL]),this.addFile(textureURL.files);else textureURL=new UnityAtlasFile(this,key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings),this.addFile(textureURL.files);return this});
module.exports=UnityAtlasFile},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var CONST=__webpack_require__(20),File=__webpack_require__(23),FileTypesManager=__webpack_require__(8),GetURL=__webpack_require__(153),GetFastValue=__webpack_require__(2),IsPlainObject=__webpack_require__(7),VideoFile=new exports({Extends:File,initialize:function(loader,key,urlConfig,loadEvent,asBlob,noAudio,xhrSettings){void 0===loadEvent&&(loadEvent="loadeddata");void 0===asBlob&&(asBlob=!1);
void 0===noAudio&&(noAudio=!1);"loadeddata"!==loadEvent&&"canplay"!==loadEvent&&"canplaythrough"!==loadEvent&&(loadEvent="loadeddata");key={type:"video",cache:loader.cacheManager.video,extension:urlConfig.type,responseType:"blob",key:key,url:urlConfig.url,xhrSettings:xhrSettings,config:{loadEvent:loadEvent,asBlob:asBlob,noAudio:noAudio}};this.onLoadCallback=this.onVideoLoadHandler.bind(this);this.onErrorCallback=this.onVideoErrorHandler.bind(this);File.call(this,loader,key)},onProcess:function(){this.state=
CONST.FILE_PROCESSING;if(this.config.asBlob){var video=this.createVideoElement();this.data=video;var _this=this;this.data.onloadeddata=function(){_this.onProcessComplete()};this.data.onerror=function(){File.revokeObjectURL(_this.data);_this.onProcessError()};File.createObjectURL(video,this.xhrLoader.response,"");video.load()}else this.onProcessComplete()},createVideoElement:function(){var video=document.createElement("video");video.controls=!1;video.crossOrigin=this.loader.crossOrigin;this.config.noAudio&&
(video.muted=!0,video.defaultMuted=!0,video.setAttribute("autoplay","autoplay"));video.setAttribute("playsinline","playsinline");video.setAttribute("preload","auto");return video},onVideoLoadHandler:function(event){event=event.target;event.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0);event.removeEventListener("error",this.onErrorCallback,!0);this.data=event;this.resetXHR();this.loader.nextFile(this,!0)},onVideoErrorHandler:function(event){if(event=event.target)event.removeEventListener(this.config.loadEvent,
this.onLoadCallback,!0),event.removeEventListener("error",this.onErrorCallback,!0);this.resetXHR();this.loader.nextFile(this,!1)},load:function(){var loadEvent=this.config.loadEvent;if(this.config.asBlob)File.prototype.load.call(this);else{this.percentComplete=0;var video=this.createVideoElement();video.addEventListener(loadEvent,this.onLoadCallback,!0);video.addEventListener("error",this.onErrorCallback,!0);video.src=GetURL(this,this.loader.baseURL);video.load()}}});VideoFile.create=function(loader,
key,urls,loadEvent,asBlob,noAudio,xhrSettings){var game=loader.systems.game;IsPlainObject(key)&&(urls=GetFastValue(key,"url",[]),loadEvent=GetFastValue(key,"loadEvent","loadeddata"),asBlob=GetFastValue(key,"asBlob",!1),noAudio=GetFastValue(key,"noAudio",!1),xhrSettings=GetFastValue(key,"xhrSettings"));if(urls=VideoFile.getVideoURL(game,urls))return new VideoFile(loader,key,urls,loadEvent,asBlob,noAudio,xhrSettings)};VideoFile.getVideoURL=function(game,urls){Array.isArray(urls)||(urls=[urls]);for(var i=
0;i<urls.length;i++){var url=GetFastValue(urls[i],"url",urls[i]);if(0===url.indexOf("blob:"))return{url:url,type:""};var videoType=0===url.indexOf("data:")?url.split(",")[0].match(/\/(.*?);/):url.match(/\.([a-zA-Z0-9]+)($|\?)/);videoType=GetFastValue(urls[i],"type",videoType?videoType[1]:"").toLowerCase();if(game.device.video[videoType])return{url:url,type:videoType}}return null};FileTypesManager.register("video",function(key,urls,loadEvent,asBlob,noAudio,xhrSettings){if(Array.isArray(key))for(loadEvent=
0;loadEvent<key.length;loadEvent++)(urls=VideoFile.create(this,key[loadEvent]))&&this.addFile(urls);else(urls=VideoFile.create(this,key,urls,loadEvent,asBlob,noAudio,xhrSettings))&&this.addFile(urls);return this});module.exports=VideoFile},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),CONST=__webpack_require__(20),CustomSet=__webpack_require__(148),EventEmitter=__webpack_require__(9),Events=__webpack_require__(91),FileTypesManager=__webpack_require__(8),GetFastValue=
__webpack_require__(2);exports=__webpack_require__(24);var SceneEvents=__webpack_require__(21),XHRSettings=__webpack_require__(154);__webpack_require__=new Class({Extends:EventEmitter,initialize:function(scene){EventEmitter.call(this);var gameConfig=scene.sys.game.config,sceneConfig=scene.sys.settings.loader;this.scene=scene;this.systems=scene.sys;this.cacheManager=scene.sys.cache;this.textureManager=scene.sys.textures;this.sceneManager=scene.sys.game.scene;FileTypesManager.install(this);this.baseURL=
this.path=this.prefix="";this.setBaseURL(GetFastValue(sceneConfig,"baseURL",gameConfig.loaderBaseURL));this.setPath(GetFastValue(sceneConfig,"path",gameConfig.loaderPath));this.setPrefix(GetFastValue(sceneConfig,"prefix",gameConfig.loaderPrefix));this.maxParallelDownloads=GetFastValue(sceneConfig,"maxParallelDownloads",gameConfig.loaderMaxParallelDownloads);this.xhr=XHRSettings(GetFastValue(sceneConfig,"responseType",gameConfig.loaderResponseType),GetFastValue(sceneConfig,"async",gameConfig.loaderAsync),
GetFastValue(sceneConfig,"user",gameConfig.loaderUser),GetFastValue(sceneConfig,"password",gameConfig.loaderPassword),GetFastValue(sceneConfig,"timeout",gameConfig.loaderTimeout),GetFastValue(sceneConfig,"withCredentials",gameConfig.loaderWithCredentials));this.crossOrigin=GetFastValue(sceneConfig,"crossOrigin",gameConfig.loaderCrossOrigin);this.progress=this.totalToLoad=0;this.list=new CustomSet;this.inflight=new CustomSet;this.queue=new CustomSet;this._deleteQueue=new CustomSet;this.totalComplete=
this.totalFailed=0;this.state=CONST.LOADER_IDLE;this.multiKeyIndex=0;scene.sys.events.once(SceneEvents.BOOT,this.boot,this);scene.sys.events.on(SceneEvents.START,this.pluginStart,this)},boot:function(){this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(SceneEvents.SHUTDOWN,this.shutdown,this)},setBaseURL:function(url){void 0===url&&(url="");""!==url&&"/"!==url.substr(-1)&&(url=url.concat("/"));this.baseURL=url;return this},setPath:function(path){void 0===
path&&(path="");""!==path&&"/"!==path.substr(-1)&&(path=path.concat("/"));this.path=path;return this},setPrefix:function(prefix){void 0===prefix&&(prefix="");this.prefix=prefix;return this},setCORS:function(crossOrigin){this.crossOrigin=crossOrigin;return this},addFile:function(file){Array.isArray(file)||(file=[file]);for(var i=0;i<file.length;i++){var item=file[i];this.keyExists(item)||(this.list.set(item),this.emit(Events.ADD,item.key,item.type,this,item),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},
keyExists:function(file){var keyConflict=file.hasCacheConflict();keyConflict||this.list.iterate(function(item){if(item.type===file.type&&item.key===file.key)return keyConflict=!0,!1});!keyConflict&&this.isLoading()&&(this.inflight.iterate(function(item){if(item.type===file.type&&item.key===file.key)return keyConflict=!0,!1}),this.queue.iterate(function(item){if(item.type===file.type&&item.key===file.key)return keyConflict=!0,!1}));return keyConflict},addPack:function(pack,packKey){packKey&&pack.hasOwnProperty(packKey)&&
(pack={packKey:pack[packKey]});packKey=0;var currentBaseURL=this.baseURL,currentPath=this.path,currentPrefix=this.prefix,key;for(key in pack)if(Object.prototype.hasOwnProperty.call(pack,key)){var config=pack[key],baseURL=GetFastValue(config,"baseURL",currentBaseURL),path=GetFastValue(config,"path",currentPath),prefix=GetFastValue(config,"prefix",currentPrefix),files=GetFastValue(config,"files",null);config=GetFastValue(config,"defaultType","void");if(Array.isArray(files))for(this.setBaseURL(baseURL),
this.setPath(path),this.setPrefix(prefix),baseURL=0;baseURL<files.length;baseURL++)path=files[baseURL],prefix=path.hasOwnProperty("type")?path.type:config,this[prefix]&&(this[prefix](path),packKey++)}this.setBaseURL(currentBaseURL);this.setPath(currentPath);this.setPrefix(currentPrefix);return 0<packKey},isLoading:function(){return this.state===CONST.LOADER_LOADING||this.state===CONST.LOADER_PROCESSING},isReady:function(){return this.state===CONST.LOADER_IDLE||this.state===CONST.LOADER_COMPLETE},
start:function(){this.isReady()&&(this.totalComplete=this.totalFailed=this.progress=0,this.totalToLoad=this.list.size,this.emit(Events.START,this),0===this.list.size?this.loadComplete():(this.state=CONST.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(SceneEvents.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad;this.emit(Events.PROGRESS,this.progress)},
update:function(){this.state===CONST.LOADER_LOADING&&0<this.list.size&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(file){if(file.state===CONST.FILE_POPULATED||file.state===CONST.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)this.inflight.set(file),this.list.delete(file),file.crossOrigin||(file.crossOrigin=this.crossOrigin),file.load();if(this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(file,
success){this.inflight&&(this.inflight.delete(file),this.updateProgress(),success?(this.totalComplete++,this.queue.set(file),this.emit(Events.FILE_LOAD,file),file.onProcess()):(this.totalFailed++,this._deleteQueue.set(file),this.emit(Events.FILE_LOAD_ERROR,file),this.fileProcessComplete(file)))},fileProcessComplete:function(file){if(this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy){if(file.state===CONST.FILE_ERRORED){if(file.multiFile)file.multiFile.onFileFailed(file)}else file.state===
CONST.FILE_COMPLETE&&(file.multiFile?file.multiFile.isReadyToProcess()&&file.multiFile.addToCache():file.addToCache());this.queue.delete(file);0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete()}},loadComplete:function(){this.emit(Events.POST_PROCESS,this);this.list.clear();this.inflight.clear();this.queue.clear();this.progress=1;this.state=CONST.LOADER_COMPLETE;this.systems.events.off(SceneEvents.UPDATE,this.update,this);this._deleteQueue.iterateLocal("destroy");
this._deleteQueue.clear();this.emit(Events.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(file){this._deleteQueue.set(file)},saveJSON:function(data,filename){return this.save(JSON.stringify(data),filename)},save:function(data,filename,filetype){void 0===filename&&(filename="file.json");void 0===filetype&&(filetype="application/json");data=new Blob([data],{type:filetype});data=URL.createObjectURL(data);filetype=document.createElement("a");filetype.download=filename;filetype.textContent=
"Download "+filename;filetype.href=data;filetype.click();return this},reset:function(){this.list.clear();this.inflight.clear();this.queue.clear();var gameConfig=this.systems.game.config,sceneConfig=this.systems.settings.loader;this.setBaseURL(GetFastValue(sceneConfig,"baseURL",gameConfig.loaderBaseURL));this.setPath(GetFastValue(sceneConfig,"path",gameConfig.loaderPath));this.setPrefix(GetFastValue(sceneConfig,"prefix",gameConfig.loaderPrefix));this.state=CONST.LOADER_IDLE},shutdown:function(){this.reset();
this.state=CONST.LOADER_SHUTDOWN;this.systems.events.off(SceneEvents.UPDATE,this.update,this);this.systems.events.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.state=CONST.LOADER_DESTROYED;this.systems.events.off(SceneEvents.UPDATE,this.update,this);this.systems.events.off(SceneEvents.START,this.pluginStart,this);this.sceneManager=this.cacheManager=this.textureManager=this.systems=this.scene=this.queue=this.inflight=this.list=null}});exports.register("Loader",
__webpack_require__,"load");module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(60);var Extend=__webpack_require__(17);__webpack_require__={ArcadePhysics:__webpack_require__(1361),Body:__webpack_require__(521),Collider:__webpack_require__(522),Components:__webpack_require__(240),Events:__webpack_require__(242),Factory:__webpack_require__(515),GetOverlapX:__webpack_require__(243),GetOverlapY:__webpack_require__(244),SeparateX:__webpack_require__(531),
SeparateY:__webpack_require__(532),Group:__webpack_require__(518),Image:__webpack_require__(516),Sprite:__webpack_require__(155),StaticBody:__webpack_require__(533),StaticGroup:__webpack_require__(519),Tilemap:__webpack_require__(1385),World:__webpack_require__(520)};__webpack_require__=Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Class=__webpack_require__(0),DegToRad=__webpack_require__(35),DistanceBetween=__webpack_require__(48),
DistanceSquared=__webpack_require__(347),Factory=__webpack_require__(515),GetFastValue=__webpack_require__(2),Merge=__webpack_require__(143),OverlapCirc=__webpack_require__(517),OverlapRect=__webpack_require__(241);exports=__webpack_require__(24);var SceneEvents=__webpack_require__(21),Vector2=__webpack_require__(3),World=__webpack_require__(520);__webpack_require__=new Class({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.config=this.getConfig();scene.sys.events.once(SceneEvents.BOOT,
this.boot,this);scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.world=new World(this.scene,this.config);this.add=new Factory(this.world);this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new World(this.scene,this.config),this.add=new Factory(this.world));var eventEmitter=this.systems.events;if(!GetFastValue(this.config,"customUpdate",!1))eventEmitter.on(SceneEvents.UPDATE,this.world.update,this.world);eventEmitter.on(SceneEvents.POST_UPDATE,
this.world.postUpdate,this.world);eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(SceneEvents.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(SceneEvents.UPDATE,this.world.update,this.world)},getConfig:function(){var gameConfig=this.systems.game.config.physics;return Merge(GetFastValue(this.systems.settings.physics,"arcade",{}),GetFastValue(gameConfig,"arcade",{}))},overlap:function(object1,object2,overlapCallback,
processCallback,callbackContext){void 0===overlapCallback&&(overlapCallback=null);void 0===processCallback&&(processCallback=null);void 0===callbackContext&&(callbackContext=overlapCallback);return this.world.collideObjects(object1,object2,overlapCallback,processCallback,callbackContext,!0)},collide:function(object1,object2,collideCallback,processCallback,callbackContext){void 0===collideCallback&&(collideCallback=null);void 0===processCallback&&(processCallback=null);void 0===callbackContext&&(callbackContext=
collideCallback);return this.world.collideObjects(object1,object2,collideCallback,processCallback,callbackContext,!1)},collideTiles:function(sprite,tiles,collideCallback,processCallback,callbackContext){return this.world.collideTiles(sprite,tiles,collideCallback,processCallback,callbackContext)},overlapTiles:function(sprite,tiles,collideCallback,processCallback,callbackContext){return this.world.overlapTiles(sprite,tiles,collideCallback,processCallback,callbackContext)},pause:function(){return this.world.pause()},
resume:function(){return this.world.resume()},accelerateTo:function(gameObject,x,y,speed,xSpeedMax,ySpeedMax){void 0===speed&&(speed=60);x=Math.atan2(y-gameObject.y,x-gameObject.x);gameObject.body.acceleration.setToPolar(x,speed);void 0!==xSpeedMax&&void 0!==ySpeedMax&&gameObject.body.maxVelocity.set(xSpeedMax,ySpeedMax);return x},accelerateToObject:function(gameObject,destination,speed,xSpeedMax,ySpeedMax){return this.accelerateTo(gameObject,destination.x,destination.y,speed,xSpeedMax,ySpeedMax)},
closest:function(source,targets){targets||(targets=this.world.bodies.entries);for(var min=Number.MAX_VALUE,closest=null,x=source.x,y=source.y,len=targets.length,i=0;i<len;i++){var target=targets[i],body=target.body||target;source!==target&&source!==body&&source!==body.gameObject&&source!==body.center&&(body=DistanceSquared(x,y,body.center.x,body.center.y),body<min&&(closest=target,min=body))}return closest},furthest:function(source,targets){targets||(targets=this.world.bodies.entries);for(var max=
-1,farthest=null,x=source.x,y=source.y,len=targets.length,i=0;i<len;i++){var target=targets[i],body=target.body||target;source!==target&&source!==body&&source!==body.gameObject&&source!==body.center&&(body=DistanceSquared(x,y,body.center.x,body.center.y),body>max&&(farthest=target,max=body))}return farthest},moveTo:function(gameObject,x,y,speed,maxTime){void 0===speed&&(speed=60);void 0===maxTime&&(maxTime=0);var angle=Math.atan2(y-gameObject.y,x-gameObject.x);0<maxTime&&(speed=DistanceBetween(gameObject.x,
gameObject.y,x,y)/(maxTime/1E3));gameObject.body.velocity.setToPolar(angle,speed);return angle},moveToObject:function(gameObject,destination,speed,maxTime){return this.moveTo(gameObject,destination.x,destination.y,speed,maxTime)},velocityFromAngle:function(angle,speed,vec2){void 0===speed&&(speed=60);void 0===vec2&&(vec2=new Vector2);return vec2.setToPolar(DegToRad(angle),speed)},velocityFromRotation:function(rotation,speed,vec2){void 0===speed&&(speed=60);void 0===vec2&&(vec2=new Vector2);return vec2.setToPolar(rotation,
speed)},overlapRect:function(x,y,width,height,includeDynamic,includeStatic){return OverlapRect(this.world,x,y,width,height,includeDynamic,includeStatic)},overlapCirc:function(x,y,radius,includeDynamic,includeStatic){return OverlapCirc(this.world,x,y,radius,includeDynamic,includeStatic)},shutdown:function(){if(this.world){var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.UPDATE,this.world.update,this.world);eventEmitter.off(SceneEvents.POST_UPDATE,this.world.postUpdate,this.world);
eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this);this.add.destroy();this.world.destroy();this.world=this.add=null}},destroy:function(){this.shutdown();this.scene.sys.events.off(SceneEvents.START,this.start,this);this.systems=this.scene=null}});exports.register("ArcadePhysics",__webpack_require__,"arcadePhysics");module.exports=__webpack_require__},function(module,exports){module.exports={setAcceleration:function(x,y){this.body.acceleration.set(x,y);return this},setAccelerationX:function(value){this.body.acceleration.x=
value;return this},setAccelerationY:function(value){this.body.acceleration.y=value;return this}}},function(module,exports){module.exports={setAngularVelocity:function(value){this.body.angularVelocity=value;return this},setAngularAcceleration:function(value){this.body.angularAcceleration=value;return this},setAngularDrag:function(value){this.body.angularDrag=value;return this}}},function(module,exports){module.exports={setBounce:function(x,y){this.body.bounce.set(x,y);return this},setBounceX:function(value){this.body.bounce.x=
value;return this},setBounceY:function(value){this.body.bounce.y=value;return this},setCollideWorldBounds:function(value,bounceX,bounceY){this.body.setCollideWorldBounds(value,bounceX,bounceY);return this}}},function(module,exports){module.exports={setDebug:function(showBody,showVelocity,bodyColor){this.debugShowBody=showBody;this.debugShowVelocity=showVelocity;this.debugBodyColor=bodyColor;return this},setDebugBodyColor:function(value){this.body.debugBodyColor=value;return this},debugShowBody:{get:function(){return this.body.debugShowBody},
set:function(value){this.body.debugShowBody=value}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(value){this.body.debugShowVelocity=value}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(value){this.body.debugBodyColor=value}}}},function(module,exports){module.exports={setDrag:function(x,y){this.body.drag.set(x,y);return this},setDragX:function(value){this.body.drag.x=value;return this},setDragY:function(value){this.body.drag.y=value;
return this},setDamping:function(value){this.body.useDamping=value;return this}}},function(module,exports){module.exports={enableBody:function(reset,x,y,enableGameObject,showGameObject){reset&&this.body.reset(x,y);enableGameObject&&(this.body.gameObject.active=!0);showGameObject&&(this.body.gameObject.visible=!0);this.body.enable=!0;return this},disableBody:function(disableGameObject,hideGameObject){void 0===disableGameObject&&(disableGameObject=!1);void 0===hideGameObject&&(hideGameObject=!1);this.body.stop();
this.body.enable=!1;disableGameObject&&(this.body.gameObject.active=!1);hideGameObject&&(this.body.gameObject.visible=!1);return this},refreshBody:function(){this.body.updateFromGameObject();return this}}},function(module,exports){module.exports={setFriction:function(x,y){this.body.friction.set(x,y);return this},setFrictionX:function(x){this.body.friction.x=x;return this},setFrictionY:function(y){this.body.friction.y=y;return this}}},function(module,exports){module.exports={setGravity:function(x,
y){this.body.gravity.set(x,y);return this},setGravityX:function(x){this.body.gravity.x=x;return this},setGravityY:function(y){this.body.gravity.y=y;return this}}},function(module,exports){module.exports={setImmovable:function(value){void 0===value&&(value=!0);this.body.immovable=value;return this}}},function(module,exports){module.exports={setMass:function(value){this.body.mass=value;return this}}},function(module,exports){module.exports={setPushable:function(value){void 0===value&&(value=!0);this.body.pushable=
value;return this}}},function(module,exports){module.exports={setOffset:function(x,y){this.body.setOffset(x,y);return this},setSize:function(width,height,center){this.body.setSize(width,height,center);return this},setBodySize:function(width,height,center){this.body.setSize(width,height,center);return this},setCircle:function(radius,offsetX,offsetY){this.body.setCircle(radius,offsetX,offsetY);return this}}},function(module,exports){module.exports={setVelocity:function(x,y){this.body.setVelocity(x,
y);return this},setVelocityX:function(x){this.body.setVelocityX(x);return this},setVelocityY:function(y){this.body.setVelocityY(y);return this},setMaxVelocity:function(x,y){this.body.maxVelocity.set(x,y);return this}}},function(module,exports){module.exports="collide"},function(module,exports){module.exports="overlap"},function(module,exports){module.exports="pause"},function(module,exports){module.exports="resume"},function(module,exports){module.exports="tilecollide"},function(module,exports){module.exports=
"tileoverlap"},function(module,exports){module.exports="worldbounds"},function(module,exports){module.exports="worldstep"},function(module,exports){var body1,body2,body1Pushable,body2Pushable,body1MassImpact,body2MassImpact,body1FullImpact,body2FullImpact,body1MovingLeft,body1MovingRight,body1Stationary,body2MovingLeft,body2MovingRight,body2Stationary,body1OnLeft,body2OnLeft,overlap,BlockCheck=function(){return body1MovingRight&&body1OnLeft&&body2.blocked.right?(body1.processX(-overlap,body1FullImpact,
!1,!0),1):body1MovingLeft&&body2OnLeft&&body2.blocked.left?(body1.processX(overlap,body1FullImpact,!0),1):body2MovingRight&&body2OnLeft&&body1.blocked.right?(body2.processX(-overlap,body2FullImpact,!1,!0),2):body2MovingLeft&&body1OnLeft&&body1.blocked.left?(body2.processX(overlap,body2FullImpact,!0),2):0},Run=function(side){if(body1Pushable&&body2Pushable)overlap*=.5,0===side||3===side?(body1.processX(overlap,body1MassImpact),body2.processX(-overlap,body2MassImpact)):(body1.processX(-overlap,body1MassImpact),
body2.processX(overlap,body2MassImpact));else if(body1Pushable&&!body2Pushable)0===side||3===side?body1.processX(overlap,body1FullImpact,!0):body1.processX(-overlap,body1FullImpact,!1,!0);else if(!body1Pushable&&body2Pushable)0===side||3===side?body2.processX(-overlap,body2FullImpact,!1,!0):body2.processX(overlap,body2FullImpact,!0);else{var halfOverlap=.5*overlap;0===side?body2Stationary?(body1.processX(overlap,0,!0),body2.processX(0,null,!1,!0)):body2MovingRight?(body1.processX(halfOverlap,0,!0),
body2.processX(-halfOverlap,0,!1,!0)):(body1.processX(halfOverlap,body2.velocity.x,!0),body2.processX(-halfOverlap,null,!1,!0)):1===side?body1Stationary?(body1.processX(0,null,!1,!0),body2.processX(overlap,0,!0)):body1MovingRight?(body1.processX(-halfOverlap,0,!1,!0),body2.processX(halfOverlap,0,!0)):(body1.processX(-halfOverlap,null,!1,!0),body2.processX(halfOverlap,body1.velocity.x,!0)):2===side?body2Stationary?(body1.processX(-overlap,0,!1,!0),body2.processX(0,null,!0)):body2MovingLeft?(body1.processX(-halfOverlap,
0,!1,!0),body2.processX(halfOverlap,0,!0)):(body1.processX(-halfOverlap,body2.velocity.x,!1,!0),body2.processX(halfOverlap,null,!0)):3===side&&(body1Stationary?(body1.processX(0,null,!0),body2.processX(-overlap,0,!1,!0)):body1MovingLeft?(body1.processX(halfOverlap,0,!0),body2.processX(-halfOverlap,0,!1,!0)):(body1.processX(halfOverlap,body2.velocity.y,!0),body2.processX(-halfOverlap,null,!1,!0)))}return!0};module.exports={BlockCheck:BlockCheck,Check:function(){var v1=body1.velocity.x,v2=body2.velocity.x;
v2=Math.sqrt(v2*v2*body2.mass/body1.mass)*(0<v2?1:-1);v1=Math.sqrt(v1*v1*body1.mass/body2.mass)*(0<v1?1:-1);var avg=.5*(v2+v1);body1MassImpact=avg+(v2-avg)*body1.bounce.x;body2MassImpact=avg+(v1-avg)*body2.bounce.x;return body1MovingLeft&&body2OnLeft?Run(0):body2MovingLeft&&body1OnLeft?Run(1):body1MovingRight&&body1OnLeft?Run(2):body2MovingRight&&body2OnLeft?Run(3):!1},Set:function(b1,b2,ov){body1=b1;body2=b2;b1=body1.velocity.x;b2=body2.velocity.x;body1Pushable=body1.pushable;body1MovingLeft=0>body1._dx;
body1MovingRight=0<body1._dx;body1Stationary=0===body1._dx;body1OnLeft=Math.abs(body1.right-body2.x)<=Math.abs(body2.right-body1.x);body1FullImpact=b2-b1*body1.bounce.x;body2Pushable=body2.pushable;body2MovingLeft=0>body2._dx;body2MovingRight=0<body2._dx;body2Stationary=0===body2._dx;body2OnLeft=!body1OnLeft;body2FullImpact=b1-b2*body2.bounce.x;overlap=Math.abs(ov);return BlockCheck()},Run:Run,RunImmovableBody1:function(blockedState){1===blockedState?body2.velocity.x=0:body1OnLeft?body2.processX(overlap,
body2FullImpact,!0):body2.processX(-overlap,body2FullImpact,!1,!0);body1.moves&&(body2.y+=(body1.y-body1.prev.y)*body1.friction.y,body2._dy=body2.y-body2.prev.y)},RunImmovableBody2:function(blockedState){2===blockedState&&(body1.velocity.x=0);body2OnLeft?body1.processX(overlap,body1FullImpact,!0):body1.processX(-overlap,body1FullImpact,!1,!0);body2.moves&&(body1.y+=(body2.y-body2.prev.y)*body2.friction.y,body1._dy=body1.y-body1.prev.y)}}},function(module,exports){var body1,body2,body1Pushable,body2Pushable,
body1MassImpact,body2MassImpact,body1FullImpact,body2FullImpact,body1MovingUp,body1MovingDown,body1Stationary,body2MovingUp,body2MovingDown,body2Stationary,body1OnTop,body2OnTop,overlap,BlockCheck=function(){return body1MovingDown&&body1OnTop&&body2.blocked.down?(body1.processY(-overlap,body1FullImpact,!1,!0),1):body1MovingUp&&body2OnTop&&body2.blocked.up?(body1.processY(overlap,body1FullImpact,!0),1):body2MovingDown&&body2OnTop&&body1.blocked.down?(body2.processY(-overlap,body2FullImpact,!1,!0),
2):body2MovingUp&&body1OnTop&&body1.blocked.up?(body2.processY(overlap,body2FullImpact,!0),2):0},Run=function(side){if(body1Pushable&&body2Pushable)overlap*=.5,0===side||3===side?(body1.processY(overlap,body1MassImpact),body2.processY(-overlap,body2MassImpact)):(body1.processY(-overlap,body1MassImpact),body2.processY(overlap,body2MassImpact));else if(body1Pushable&&!body2Pushable)0===side||3===side?body1.processY(overlap,body1FullImpact,!0):body1.processY(-overlap,body1FullImpact,!1,!0);else if(!body1Pushable&&
body2Pushable)0===side||3===side?body2.processY(-overlap,body2FullImpact,!1,!0):body2.processY(overlap,body2FullImpact,!0);else{var halfOverlap=.5*overlap;0===side?body2Stationary?(body1.processY(overlap,0,!0),body2.processY(0,null,!1,!0)):body2MovingDown?(body1.processY(halfOverlap,0,!0),body2.processY(-halfOverlap,0,!1,!0)):(body1.processY(halfOverlap,body2.velocity.y,!0),body2.processY(-halfOverlap,null,!1,!0)):1===side?body1Stationary?(body1.processY(0,null,!1,!0),body2.processY(overlap,0,!0)):
body1MovingDown?(body1.processY(-halfOverlap,0,!1,!0),body2.processY(halfOverlap,0,!0)):(body1.processY(-halfOverlap,null,!1,!0),body2.processY(halfOverlap,body1.velocity.y,!0)):2===side?body2Stationary?(body1.processY(-overlap,0,!1,!0),body2.processY(0,null,!0)):body2MovingUp?(body1.processY(-halfOverlap,0,!1,!0),body2.processY(halfOverlap,0,!0)):(body1.processY(-halfOverlap,body2.velocity.y,!1,!0),body2.processY(halfOverlap,null,!0)):3===side&&(body1Stationary?(body1.processY(0,null,!0),body2.processY(-overlap,
0,!1,!0)):body1MovingUp?(body1.processY(halfOverlap,0,!0),body2.processY(-halfOverlap,0,!1,!0)):(body1.processY(halfOverlap,body2.velocity.y,!0),body2.processY(-halfOverlap,null,!1,!0)))}return!0};module.exports={BlockCheck:BlockCheck,Check:function(){var v1=body1.velocity.y,v2=body2.velocity.y;v2=Math.sqrt(v2*v2*body2.mass/body1.mass)*(0<v2?1:-1);v1=Math.sqrt(v1*v1*body1.mass/body2.mass)*(0<v1?1:-1);var avg=.5*(v2+v1);body1MassImpact=avg+(v2-avg)*body1.bounce.y;body2MassImpact=avg+(v1-avg)*body2.bounce.y;
return body1MovingUp&&body2OnTop?Run(0):body2MovingUp&&body1OnTop?Run(1):body1MovingDown&&body1OnTop?Run(2):body2MovingDown&&body2OnTop?Run(3):!1},Set:function(b1,b2,ov){body1=b1;body2=b2;b1=body1.velocity.y;b2=body2.velocity.y;body1Pushable=body1.pushable;body1MovingUp=0>body1._dy;body1MovingDown=0<body1._dy;body1Stationary=0===body1._dy;body1OnTop=Math.abs(body1.bottom-body2.y)<=Math.abs(body2.bottom-body1.y);body1FullImpact=b2-b1*body1.bounce.y;body2Pushable=body2.pushable;body2MovingUp=0>body2._dy;
body2MovingDown=0<body2._dy;body2Stationary=0===body2._dy;body2OnTop=!body1OnTop;body2FullImpact=b1-b2*body2.bounce.y;overlap=Math.abs(ov);return BlockCheck()},Run:Run,RunImmovableBody1:function(blockedState){1===blockedState?body2.velocity.y=0:body1OnTop?body2.processY(overlap,body2FullImpact,!0):body2.processY(-overlap,body2FullImpact,!1,!0);body1.moves&&(body2.x+=(body1.x-body1.prev.x)*body1.friction.x,body2._dx=body2.x-body2.prev.x)},RunImmovableBody2:function(blockedState){2===blockedState?body1.velocity.y=
0:body2OnTop?body1.processY(overlap,body1FullImpact,!0):body1.processY(-overlap,body1FullImpact,!1,!0);body2.moves&&(body1.x+=(body2.x-body2.prev.x)*body2.friction.x,body1._dx=body1.x-body1.prev.x)}}},function(module,exports,__webpack_require__){exports={ProcessTileCallbacks:__webpack_require__(524),ProcessTileSeparationX:__webpack_require__(528),ProcessTileSeparationY:__webpack_require__(530),SeparateTile:__webpack_require__(526),TileCheckX:__webpack_require__(527),TileCheckY:__webpack_require__(529),
TileIntersectsBody:__webpack_require__(245)};module.exports=exports},function(module,exports,__webpack_require__){var Bodies=__webpack_require__(126),Body=__webpack_require__(71),Common=__webpack_require__(50),GetFastValue=__webpack_require__(2),Vertices=__webpack_require__(94);module.exports={parseBody:function(x,y,config,options){void 0===options&&(options={});for(var fixtureConfigs=GetFastValue(config,"fixtures",[]),fixtures=[],fc=0;fc<fixtureConfigs.length;fc++)for(var fixtureParts=this.parseFixture(fixtureConfigs[fc]),
i=0;i<fixtureParts.length;i++)fixtures.push(fixtureParts[i]);config=Common.clone(config,!0);Common.extend(config,options,!0);delete config.fixtures;delete config.type;options=Body.create(config);Body.setParts(options,fixtures);Body.setPosition(options,{x:x,y:y});return options},parseFixture:function(fixtureConfig){var matterConfig=Common.extend({},!1,fixtureConfig);delete matterConfig.circle;delete matterConfig.vertices;if(fixtureConfig.circle){var fixtures=GetFastValue(fixtureConfig.circle,"x");
var y=GetFastValue(fixtureConfig.circle,"y");fixtureConfig=GetFastValue(fixtureConfig.circle,"radius");fixtures=[Bodies.circle(fixtures,y,fixtureConfig,matterConfig)]}else fixtureConfig.vertices&&(fixtures=this.parseVertices(fixtureConfig.vertices,matterConfig));return fixtures},parseVertices:function(vertexSets,options){void 0===options&&(options={});for(var parts=[],v=0;v<vertexSets.length;v++)Vertices.clockwiseSort(vertexSets[v]),parts.push(Body.create(Common.extend({position:Vertices.centre(vertexSets[v]),
vertices:vertexSets[v]},options)));return Bodies.flagCoincidentParts(parts)}}},function(module,exports,__webpack_require__){var Bodies=__webpack_require__(126),Body=__webpack_require__(71);module.exports={parseBody:function(x,y,config,options){void 0===options&&(options={});var vertexSets=config.vertices;if(1===vertexSets.length)options.vertices=vertexSets[0],options=Body.create(options),Bodies.flagCoincidentParts(options.parts);else{for(var parts=[],i=0;i<vertexSets.length;i++){var part=Body.create({vertices:vertexSets[i]});
parts.push(part)}Bodies.flagCoincidentParts(parts);options.parts=parts;options=Body.create(options)}options.label=config.label;Body.setPosition(options,{x:x,y:y});return options}}},function(module,exports,__webpack_require__){var Composites={};module.exports=Composites;var Composite=__webpack_require__(163),Constraint=__webpack_require__(246),Common=__webpack_require__(50),Body=__webpack_require__(71),Bodies=__webpack_require__(126);(function(){Composites.stack=function(xx,yy,columns,rows,columnGap,
rowGap,callback){for(var stack=Composite.create({label:"Stack"}),x=xx,lastBody,i=0,row=0;row<rows;row++){for(var maxHeight=0,column=0;column<columns;column++){var body=callback(x,yy,column,row,lastBody,i);body?(x=body.bounds.max.y-body.bounds.min.y,lastBody=body.bounds.max.x-body.bounds.min.x,x>maxHeight&&(maxHeight=x),Body.translate(body,{x:.5*lastBody,y:.5*x}),x=body.bounds.max.x+columnGap,Composite.addBody(stack,body),lastBody=body,i+=1):x+=columnGap}yy+=maxHeight+rowGap;x=xx}return stack};Composites.chain=
function(composite,xOffsetA,yOffsetA,xOffsetB,yOffsetB,options){for(var bodies=composite.bodies,i=1;i<bodies.length;i++){var bodyA=bodies[i-1],bodyB=bodies[i];bodyA=Common.extend({bodyA:bodyA,pointA:{x:(bodyA.bounds.max.x-bodyA.bounds.min.x)*xOffsetA,y:(bodyA.bounds.max.y-bodyA.bounds.min.y)*yOffsetA},bodyB:bodyB,pointB:{x:(bodyB.bounds.max.x-bodyB.bounds.min.x)*xOffsetB,y:(bodyB.bounds.max.y-bodyB.bounds.min.y)*yOffsetB}},options);Composite.addConstraint(composite,Constraint.create(bodyA))}composite.label+=
" Chain";return composite};Composites.mesh=function(composite,columns,rows,crossBrace,options){var bodies=composite.bodies,row,col;for(row=0;row<rows;row++){for(col=1;col<columns;col++){var bodyA=bodies[col-1+row*columns];var bodyB=bodies[col+row*columns];Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,bodyB:bodyB},options)))}if(0<row)for(col=0;col<columns;col++)bodyA=bodies[col+(row-1)*columns],bodyB=bodies[col+row*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,
bodyB:bodyB},options))),crossBrace&&0<col&&(bodyA=bodies[col-1+(row-1)*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,bodyB:bodyB},options)))),crossBrace&&col<columns-1&&(bodyA=bodies[col+1+(row-1)*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,bodyB:bodyB},options))))}composite.label+=" Mesh";return composite};Composites.pyramid=function(xx,yy,columns,rows,columnGap,rowGap,callback){return Composites.stack(xx,yy,columns,
rows,columnGap,rowGap,function(x,y,column,row,lastBody,i){var actualRows=Math.min(rows,Math.ceil(columns/2));x=lastBody?lastBody.bounds.max.x-lastBody.bounds.min.x:0;if(!(row>actualRows||(row=actualRows-row,actualRows=columns-1-row,column<row||column>actualRows)))return 1===i&&Body.translate(lastBody,{x:(column+(1===columns%2?1:-1))*x,y:0}),callback(xx+(lastBody?column*x:0)+column*columnGap,y,column,row,lastBody,i)})};Composites.newtonsCradle=function(xx,yy,number,size,length){for(var newtonsCradle=
Composite.create({label:"Newtons Cradle"}),i=0;i<number;i++){var circle=Bodies.circle(xx+1.9*i*size,yy+length,size,{inertia:Infinity,restitution:1,friction:0,frictionAir:1E-4,slop:1}),constraint=Constraint.create({pointA:{x:xx+1.9*i*size,y:yy},bodyB:circle});Composite.addBody(newtonsCradle,circle);Composite.addConstraint(newtonsCradle,constraint)}return newtonsCradle};Composites.car=function(xx,yy,width,height,wheelSize){var group=Body.nextGroup(!0),wheelAOffset=.5*-width+20,wheelBOffset=.5*width-
20,car=Composite.create({label:"Car"});width=Bodies.rectangle(xx,yy,width,height,{collisionFilter:{group:group},chamfer:{radius:.5*height},density:2E-4});height=Bodies.circle(xx+wheelAOffset,yy+0,wheelSize,{collisionFilter:{group:group},friction:.8});xx=Bodies.circle(xx+wheelBOffset,yy+0,wheelSize,{collisionFilter:{group:group},friction:.8});wheelAOffset=Constraint.create({bodyB:width,pointB:{x:wheelAOffset,y:0},bodyA:height,stiffness:1,length:0});wheelBOffset=Constraint.create({bodyB:width,pointB:{x:wheelBOffset,
y:0},bodyA:xx,stiffness:1,length:0});Composite.addBody(car,width);Composite.addBody(car,height);Composite.addBody(car,xx);Composite.addConstraint(car,wheelAOffset);Composite.addConstraint(car,wheelBOffset);return car};Composites.softBody=function(xx,yy,columns,rows,columnGap,rowGap,crossBrace,particleRadius,particleOptions,constraintOptions){particleOptions=Common.extend({inertia:Infinity},particleOptions);constraintOptions=Common.extend({stiffness:.2,render:{type:"line",anchors:!1}},constraintOptions);
xx=Composites.stack(xx,yy,columns,rows,columnGap,rowGap,function(x,y){return Bodies.circle(x,y,particleRadius,particleOptions)});Composites.mesh(xx,columns,rows,crossBrace,constraintOptions);xx.label="Soft Body";return xx}})()},function(module,exports,__webpack_require__){var Svg={};module.exports=Svg;__webpack_require__(117);var Common=__webpack_require__(50);(function(){Svg.pathToVertices=function(path,sampleLength){"undefined"===typeof window||"SVGPathSeg"in window||Common.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");
var i,segmentsQueue,lastPoint,points=[],lx,ly,length=0,x=0,y=0;sampleLength=sampleLength||15;var addPoint=function(px,py,pathSegType){pathSegType=1===pathSegType%2&&1<pathSegType;if(!lastPoint||px!=lastPoint.x||py!=lastPoint.y){lastPoint&&pathSegType?(lx=lastPoint.x,ly=lastPoint.y):ly=lx=0;var point={x:lx+px,y:ly+py};if(pathSegType||!lastPoint)lastPoint=point;points.push(point);x=lx+px;y=ly+py}},addSegmentPoint=function(segment){var segType=segment.pathSegTypeAsLetter.toUpperCase();if("Z"!==segType){switch(segType){case "M":case "L":case "T":case "C":case "S":case "Q":x=
segment.x;y=segment.y;break;case "H":x=segment.x;break;case "V":y=segment.y}addPoint(x,y,segment.pathSegType)}};Svg._svgPathToAbsolute(path);var total=path.getTotalLength();var segments=[];for(i=0;i<path.pathSegList.numberOfItems;i+=1)segments.push(path.pathSegList.getItem(i));for(segmentsQueue=segments.concat();length<total;){i=path.getPathSegAtLength(length);i=segments[i];if(i!=lastSegment){for(;segmentsQueue.length&&segmentsQueue[0]!=i;)addSegmentPoint(segmentsQueue.shift());var lastSegment=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case "C":case "T":case "S":case "Q":case "A":i=
path.getPointAtLength(length),addPoint(i.x,i.y,0)}length+=sampleLength}i=0;for(path=segmentsQueue.length;i<path;++i)addSegmentPoint(segmentsQueue[i]);return points};Svg._svgPathToAbsolute=function(path){for(var x0,y0,x1,y1,x2,y2,segs=path.pathSegList,x=0,y=0,len=segs.numberOfItems,i=0;i<len;++i){var seg=segs.getItem(i),segType=seg.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(segType))"x"in seg&&(x=seg.x),"y"in seg&&(y=seg.y);else switch("x1"in seg&&(x1=x+seg.x1),"x2"in seg&&(x2=x+seg.x2),"y1"in seg&&
(y1=y+seg.y1),"y2"in seg&&(y2=y+seg.y2),"x"in seg&&(x+=seg.x),"y"in seg&&(y+=seg.y),segType){case "m":segs.replaceItem(path.createSVGPathSegMovetoAbs(x,y),i);break;case "l":segs.replaceItem(path.createSVGPathSegLinetoAbs(x,y),i);break;case "h":segs.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(x),i);break;case "v":segs.replaceItem(path.createSVGPathSegLinetoVerticalAbs(y),i);break;case "c":segs.replaceItem(path.createSVGPathSegCurvetoCubicAbs(x,y,x1,y1,x2,y2),i);break;case "s":segs.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(x,
y,x2,y2),i);break;case "q":segs.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(x,y,x1,y1),i);break;case "t":segs.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(x,y),i);break;case "a":segs.replaceItem(path.createSVGPathSegArcAbs(x,y,seg.r1,seg.r2,seg.angle,seg.largeArcFlag,seg.sweepFlag),i);break;case "z":case "Z":x=x0,y=y0}if("M"==segType||"m"==segType)x0=x,y0=y}}})()},function(module,exports,__webpack_require__){var Bodies=__webpack_require__(126),Body=__webpack_require__(71);exports=
__webpack_require__(0);var Components=__webpack_require__(534),EventEmitter=__webpack_require__(9),GetFastValue=__webpack_require__(2),HasValue=__webpack_require__(125),Vertices=__webpack_require__(94);__webpack_require__=new exports({Extends:EventEmitter,Mixins:[Components.Bounce,Components.Collision,Components.Friction,Components.Gravity,Components.Mass,Components.Sensor,Components.Sleep,Components.Static],initialize:function(world,tile,options){EventEmitter.call(this);this.tile=tile;this.world=
world;tile.physics.matterBody&&tile.physics.matterBody.destroy();tile.physics.matterBody=this;world=GetFastValue(options,"body",null);var addToWorld=GetFastValue(options,"addToWorld",!0);world?this.setBody(world,addToWorld):(tile=tile.getCollisionGroup(),0<GetFastValue(tile,"objects",[]).length?this.setFromTileCollision(options):this.setFromTileRectangle(options))},setFromTileRectangle:function(options){void 0===options&&(options={});HasValue(options,"isStatic")||(options.isStatic=!0);HasValue(options,
"addToWorld")||(options.addToWorld=!0);var bounds=this.tile.getBounds();bounds=Bodies.rectangle(bounds.x+bounds.width/2,bounds.y+bounds.height/2,bounds.width,bounds.height,options);this.setBody(bounds,options.addToWorld);return this},setFromTileCollision:function(options){void 0===options&&(options={});HasValue(options,"isStatic")||(options.isStatic=!0);HasValue(options,"addToWorld")||(options.addToWorld=!0);var sx=this.tile.tilemapLayer.scaleX,sy=this.tile.tilemapLayer.scaleY,tileX=this.tile.getLeft(),
tileY=this.tile.getTop(),collisionGroup=this.tile.getCollisionGroup();collisionGroup=GetFastValue(collisionGroup,"objects",[]);for(var parts=[],i=0;i<collisionGroup.length;i++){var object=collisionGroup[i],ox=tileX+object.x*sx,oy=tileY+object.y*sy,ow=object.width*sx,oh=object.height*sy,body=null;if(object.rectangle)body=Bodies.rectangle(ox+ow/2,oy+oh/2,ow,oh,options);else if(object.ellipse)body=Bodies.circle(ox+ow/2,oy+oh/2,ow/2,options);else if(object.polygon||object.polyline)object=(object.polygon?
object.polygon:object.polyline).map(function(p){return{x:p.x*sx,y:p.y*sy}}),object=Vertices.create(object),ow=Vertices.centre(object),ox+=ow.x,oy+=ow.y,body=Bodies.fromVertices(ox,oy,object,options);body&&parts.push(body)}1===parts.length?this.setBody(parts[0],options.addToWorld):1<parts.length&&(options.parts=parts,this.setBody(Body.create(options),options.addToWorld));return this},setBody:function(body,addToWorld){void 0===addToWorld&&(addToWorld=!0);this.body&&this.removeBody();this.body=body;
this.body.gameObject=this;addToWorld&&this.world.add(this.body);return this},removeBody:function(){this.body&&(this.world.remove(this.body),this.body=this.body.gameObject=void 0);return this},destroy:function(){this.removeBody();this.tile.physics.matterBody=void 0;this.removeAllListeners()}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(1493);exports.Body=__webpack_require__(71);exports.Composite=__webpack_require__(163);exports.World=
__webpack_require__(1393);exports.Detector=__webpack_require__(587);exports.Grid=__webpack_require__(1394);exports.Pairs=__webpack_require__(1395);exports.Pair=__webpack_require__(535);exports.Query=__webpack_require__(1494);exports.Resolver=__webpack_require__(1396);exports.SAT=__webpack_require__(588);exports.Constraint=__webpack_require__(246);exports.Common=__webpack_require__(50);exports.Engine=__webpack_require__(1495);exports.Events=__webpack_require__(268);exports.Sleeping=__webpack_require__(267);
exports.Plugin=__webpack_require__(1392);exports.Bodies=__webpack_require__(126);exports.Composites=__webpack_require__(1388);exports.Axes=__webpack_require__(585);exports.Bounds=__webpack_require__(117);exports.Svg=__webpack_require__(1389);exports.Vector=__webpack_require__(116);exports.Vertices=__webpack_require__(94);exports.World.add=exports.Composite.add;exports.World.remove=exports.Composite.remove;exports.World.addComposite=exports.Composite.addComposite;exports.World.addBody=exports.Composite.addBody;
exports.World.addConstraint=exports.Composite.addConstraint;exports.World.clear=exports.Composite.clear;module.exports=exports},function(module$jscomp$0,exports,__webpack_require__){var Plugin={};module$jscomp$0.exports=Plugin;var Common=__webpack_require__(50);(function(){Plugin._registry={};Plugin.register=function(plugin){Plugin.isPlugin(plugin)||Common.warn("Plugin.register:",Plugin.toString(plugin),"does not implement all required fields.");if(plugin.name in Plugin._registry){var registered=
Plugin._registry[plugin.name],pluginVersion=Plugin.versionParse(plugin.version).number,registeredVersion=Plugin.versionParse(registered.version).number;pluginVersion>registeredVersion?(Common.warn("Plugin.register:",Plugin.toString(registered),"was upgraded to",Plugin.toString(plugin)),Plugin._registry[plugin.name]=plugin):pluginVersion<registeredVersion?Common.warn("Plugin.register:",Plugin.toString(registered),"can not be downgraded to",Plugin.toString(plugin)):plugin!==registered&&Common.warn("Plugin.register:",
Plugin.toString(plugin),"is already registered to different plugin object")}else Plugin._registry[plugin.name]=plugin;return plugin};Plugin.resolve=function(dependency){return Plugin._registry[Plugin.dependencyParse(dependency).name]};Plugin.toString=function(plugin){return"string"===typeof plugin?plugin:(plugin.name||"anonymous")+"@"+(plugin.version||plugin.range||"0.0.0")};Plugin.isPlugin=function(obj){return obj&&obj.name&&obj.version&&obj.install};Plugin.isUsed=function(module,name){return-1<
module.used.indexOf(name)};Plugin.isFor=function(plugin,module){var parsed=plugin.for&&Plugin.dependencyParse(plugin.for);return!plugin.for||module.name===parsed.name&&Plugin.versionSatisfies(module.version,parsed.range)};Plugin.use=function(module,plugins){module.uses=(module.uses||[]).concat(plugins||[]);if(0===module.uses.length)Common.warn("Plugin.use:",Plugin.toString(module),"does not specify any dependencies to install.");else{plugins=Plugin.dependencies(module);plugins=Common.topologicalSort(plugins);
for(var status=[],i=0;i<plugins.length;i+=1)if(plugins[i]!==module.name){var plugin=Plugin.resolve(plugins[i]);plugin?Plugin.isUsed(module,plugin.name)||(Plugin.isFor(plugin,module)||(Common.warn("Plugin.use:",Plugin.toString(plugin),"is for",plugin.for,"but installed on",Plugin.toString(module)+"."),plugin._warned=!0),plugin.install?plugin.install(module):(Common.warn("Plugin.use:",Plugin.toString(plugin),"does not specify an install function."),plugin._warned=!0),plugin._warned?(status.push("\ud83d\udd36 "+
Plugin.toString(plugin)),delete plugin._warned):status.push("✅ "+Plugin.toString(plugin)),module.used.push(plugin.name)):status.push("❌ "+plugins[i])}0<status.length&&!plugin.silent&&Common.info(status.join("  "))}};Plugin.dependencies=function(module,tracked){var parsedBase=Plugin.dependencyParse(module),name=parsedBase.name;tracked=tracked||{};if(!(name in tracked)){module=Plugin.resolve(module)||module;tracked[name]=Common.map(module.uses||[],function(dependency){Plugin.isPlugin(dependency)&&Plugin.register(dependency);
var parsed=Plugin.dependencyParse(dependency),resolved=Plugin.resolve(dependency);resolved&&!Plugin.versionSatisfies(resolved.version,parsed.range)?(Common.warn("Plugin.dependencies:",Plugin.toString(resolved),"does not satisfy",Plugin.toString(parsed),"used by",Plugin.toString(parsedBase)+"."),resolved._warned=!0,module._warned=!0):resolved||(Common.warn("Plugin.dependencies:",Plugin.toString(dependency),"used by",Plugin.toString(parsedBase),"could not be resolved."),module._warned=!0);return parsed.name});
for(var i=0;i<tracked[name].length;i+=1)Plugin.dependencies(tracked[name][i],tracked);return tracked}};Plugin.dependencyParse=function(dependency){return Common.isString(dependency)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(dependency)||Common.warn("Plugin.dependencyParse:",dependency,"is not a valid dependency string."),{name:dependency.split("@")[0],range:dependency.split("@")[1]||"*"}):{name:dependency.name,range:dependency.range||dependency.version}};Plugin.versionParse=function(range){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(range)||
Common.warn("Plugin.versionParse:",range,"is not a valid version or range.");var identifiers=range.split("-");range=identifiers[0];var isRange=isNaN(Number(range[0])),version=isRange?range.substr(1):range,parts=Common.map(version.split("."),function(part){return Number(part)});return{isRange:isRange,version:version,range:range,operator:isRange?range[0]:"",parts:parts,prerelease:identifiers[1],number:1E8*parts[0]+1E4*parts[1]+parts[2]}};Plugin.versionSatisfies=function(version,range){range=range||
"*";var rangeParsed=Plugin.versionParse(range),rangeParts=rangeParsed.parts,versionParsed=Plugin.versionParse(version),versionParts=versionParsed.parts;if(rangeParsed.isRange){if("*"===rangeParsed.operator||"*"===version)return!0;if("~"===rangeParsed.operator)return versionParts[0]===rangeParts[0]&&versionParts[1]===rangeParts[1]&&versionParts[2]>=rangeParts[2];if("^"===rangeParsed.operator)return 0<rangeParts[0]?versionParts[0]===rangeParts[0]&&versionParsed.number>=rangeParsed.number:0<rangeParts[1]?
versionParts[1]===rangeParts[1]&&versionParts[2]>=rangeParts[2]:versionParts[2]===rangeParts[2]}return version===range||"*"===version}})()},function(module,exports,__webpack_require__){var World={};module.exports=World;var Composite=__webpack_require__(163);__webpack_require__(246);var Common=__webpack_require__(50);(function(){World.create=function(options){var composite=Composite.create();return Common.extend(composite,{label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-Infinity,y:-Infinity},
max:{x:Infinity,y:Infinity}}},options)}})()},function(module,exports,__webpack_require__){var Grid={};module.exports=Grid;var Pair=__webpack_require__(535),Detector=__webpack_require__(587),Common=__webpack_require__(50);(function(){Grid.create=function(options){return Common.extend({controller:Grid,detector:Detector.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},options)};Grid.update=function(grid,bodies,engine,forceUpdate){var row,world=engine.world,buckets=grid.buckets;
var col=!1;var metrics=engine.metrics;for(engine=metrics.broadphaseTests=0;engine<bodies.length;engine++){var body=bodies[engine];if(!(body.isSleeping&&!forceUpdate||body.bounds.max.x<world.bounds.min.x||body.bounds.min.x>world.bounds.max.x||body.bounds.max.y<world.bounds.min.y||body.bounds.min.y>world.bounds.max.y)){var newRegion=Grid._getRegion(grid,body);if(!body.region||newRegion.id!==body.region.id||forceUpdate){metrics.broadphaseTests+=1;if(!body.region||forceUpdate)body.region=newRegion;var union=
Grid._regionUnion(newRegion,body.region);for(col=union.startCol;col<=union.endCol;col++)for(row=union.startRow;row<=union.endRow;row++){var bucketId=Grid._getBucketId(col,row);var bucket=buckets[bucketId];var isInsideNewRegion=col>=newRegion.startCol&&col<=newRegion.endCol&&row>=newRegion.startRow&&row<=newRegion.endRow,isInsideOldRegion=col>=body.region.startCol&&col<=body.region.endCol&&row>=body.region.startRow&&row<=body.region.endRow;!isInsideNewRegion&&isInsideOldRegion&&isInsideOldRegion&&
bucket&&Grid._bucketRemoveBody(grid,bucket,body);if(body.region===newRegion||isInsideNewRegion&&!isInsideOldRegion||forceUpdate)bucket||(bucket=Grid._createBucket(buckets,bucketId)),Grid._bucketAddBody(grid,bucket,body)}body.region=newRegion;col=!0}}}col&&(grid.pairsList=Grid._createActivePairsList(grid))};Grid.clear=function(grid){grid.buckets={};grid.pairs={};grid.pairsList=[]};Grid._regionUnion=function(regionA,regionB){return Grid._createRegion(Math.min(regionA.startCol,regionB.startCol),Math.max(regionA.endCol,
regionB.endCol),Math.min(regionA.startRow,regionB.startRow),Math.max(regionA.endRow,regionB.endRow))};Grid._getRegion=function(grid,body){body=body.bounds;return Grid._createRegion(Math.floor(body.min.x/grid.bucketWidth),Math.floor(body.max.x/grid.bucketWidth),Math.floor(body.min.y/grid.bucketHeight),Math.floor(body.max.y/grid.bucketHeight))};Grid._createRegion=function(startCol,endCol,startRow,endRow){return{id:startCol+","+endCol+","+startRow+","+endRow,startCol:startCol,endCol:endCol,startRow:startRow,
endRow:endRow}};Grid._getBucketId=function(column,row){return"C"+column+"R"+row};Grid._createBucket=function(buckets,bucketId){return buckets[bucketId]=[]};Grid._bucketAddBody=function(grid,bucket,body){for(var i=0;i<bucket.length;i++){var bodyB=bucket[i];if(!(body.id===bodyB.id||body.isStatic&&bodyB.isStatic)){var pairId=Pair.id(body,bodyB),pair=grid.pairs[pairId];pair?pair[2]+=1:grid.pairs[pairId]=[body,bodyB,1]}}bucket.push(body)};Grid._bucketRemoveBody=function(grid,bucket,body){bucket.splice(bucket.indexOf(body),
1);for(var i=0;i<bucket.length;i++){var pairId=Pair.id(body,bucket[i]);(pairId=grid.pairs[pairId])&&--pairId[2]}};Grid._createActivePairsList=function(grid){var pairs=[];var pairKeys=Common.keys(grid.pairs);for(var k=0;k<pairKeys.length;k++){var pair=grid.pairs[pairKeys[k]];0<pair[2]?pairs.push(pair):delete grid.pairs[pairKeys[k]]}return pairs}})()},function(module,exports,__webpack_require__){var Pairs={};module.exports=Pairs;var Pair=__webpack_require__(535),Common=__webpack_require__(50);(function(){Pairs._pairMaxIdleLife=
1E3;Pairs.create=function(options){return Common.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},options)};Pairs.update=function(pairs,collisions,timestamp){var pairsList=pairs.list,pairsTable=pairs.table,collisionStart=pairs.collisionStart,collisionEnd=pairs.collisionEnd;pairs=pairs.collisionActive;var pair,i;collisionStart.length=0;collisionEnd.length=0;for(i=pairs.length=0;i<pairsList.length;i++)pairsList[i].confirmedActive=!1;for(i=0;i<collisions.length;i++){var collision=
collisions[i];if(collision.collided){var pairId=Pair.id(collision.bodyA,collision.bodyB);(pair=pairsTable[pairId])?(pair.isActive?pairs.push(pair):collisionStart.push(pair),Pair.update(pair,collision,timestamp),pair.confirmedActive=!0):(pair=Pair.create(collision,timestamp),pairsTable[pairId]=pair,collisionStart.push(pair),pairsList.push(pair))}}for(i=0;i<pairsList.length;i++)pair=pairsList[i],pair.isActive&&!pair.confirmedActive&&(Pair.setActive(pair,!1,timestamp),collisionEnd.push(pair))};Pairs.removeOld=
function(pairs,timestamp){var pairsList=pairs.list;pairs=pairs.table;var indexesToRemove=[],i;for(i=0;i<pairsList.length;i++){var pair=pairsList[i];var collision=pair.collision;collision.bodyA.isSleeping||collision.bodyB.isSleeping?pair.timeUpdated=timestamp:timestamp-pair.timeUpdated>Pairs._pairMaxIdleLife&&indexesToRemove.push(i)}for(i=0;i<indexesToRemove.length;i++)timestamp=indexesToRemove[i]-i,pair=pairsList[timestamp],delete pairs[pair.id],pairsList.splice(timestamp,1)};Pairs.clear=function(pairs){pairs.table=
{};pairs.list.length=0;pairs.collisionStart.length=0;pairs.collisionActive.length=0;pairs.collisionEnd.length=0;return pairs}})()},function(module,exports,__webpack_require__){var Resolver={};module.exports=Resolver;var Vertices=__webpack_require__(94),Vector=__webpack_require__(116),Common=__webpack_require__(50),Bounds=__webpack_require__(117);(function(){Resolver._restingThresh=4;Resolver._restingThreshTangent=6;Resolver._positionDampen=.9;Resolver._positionWarming=.8;Resolver._frictionNormalMultiplier=
5;Resolver.preSolvePosition=function(pairs){var i;for(i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive){var activeCount=pair.activeContacts.length;pair.collision.parentA.totalContacts+=activeCount;pair.collision.parentB.totalContacts+=activeCount}}};Resolver.solvePosition=function(pairs,bodies,timeScale){var impulseCoefficient=timeScale*Resolver._positionDampen;for(timeScale=0;timeScale<bodies.length;timeScale++){var bodyB=bodies[timeScale];bodyB.previousPositionImpulse.x=bodyB.positionImpulse.x;
bodyB.previousPositionImpulse.y=bodyB.positionImpulse.y}for(timeScale=0;timeScale<pairs.length;timeScale++){var pair=pairs[timeScale];if(pair.isActive&&!pair.isSensor){var collision=pair.collision;bodies=collision.parentA;bodyB=collision.parentB;var normalY=collision.normal;var normalX=bodies.previousPositionImpulse;var positionImpulseB=bodyB.previousPositionImpulse;var penetration=collision.penetration;collision=positionImpulseB.x-normalX.x+penetration.x;positionImpulseB=positionImpulseB.y-normalX.y+
penetration.y;normalX=normalY.x;normalY=normalY.y;collision=normalX*collision+normalY*positionImpulseB;pair.separation=collision;collision=(collision-pair.slop)*impulseCoefficient;if(bodies.isStatic||bodyB.isStatic)collision*=2;bodies.isStatic||bodies.isSleeping||(pair=collision/bodies.totalContacts,bodies.positionImpulse.x+=normalX*pair,bodies.positionImpulse.y+=normalY*pair);bodyB.isStatic||bodyB.isSleeping||(pair=collision/bodyB.totalContacts,bodyB.positionImpulse.x-=normalX*pair,bodyB.positionImpulse.y-=
normalY*pair)}}};Resolver.postSolvePosition=function(bodies){for(var i=0;i<bodies.length;i++){var body=bodies[i];body.totalContacts=0;if(0!==body.positionImpulse.x||0!==body.positionImpulse.y){for(var j=0;j<body.parts.length;j++){var part=body.parts[j];Vertices.translate(part.vertices,body.positionImpulse);Bounds.update(part.bounds,part.vertices,body.velocity);part.position.x+=body.positionImpulse.x;part.position.y+=body.positionImpulse.y}body.positionPrev.x+=body.positionImpulse.x;body.positionPrev.y+=
body.positionImpulse.y;0>Vector.dot(body.positionImpulse,body.velocity)?(body.positionImpulse.x=0,body.positionImpulse.y=0):(body.positionImpulse.x*=Resolver._positionWarming,body.positionImpulse.y*=Resolver._positionWarming)}}};Resolver.preSolveVelocity=function(pairs){var i,impulse=Vector._temp[0],tempA=Vector._temp[1];for(i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive&&!pair.isSensor){var contacts=pair.activeContacts;var j=pair.collision;pair=j.parentA;var bodyB=j.parentB;var normal=
j.normal;var tangent=j.tangent;for(j=0;j<contacts.length;j++){var contact=contacts[j];var contactVertex=contact.vertex;var normalImpulse=contact.normalImpulse;contact=contact.tangentImpulse;if(0!==normalImpulse||0!==contact)impulse.x=normal.x*normalImpulse+tangent.x*contact,impulse.y=normal.y*normalImpulse+tangent.y*contact,pair.isStatic||pair.isSleeping||(normalImpulse=Vector.sub(contactVertex,pair.position,tempA),pair.positionPrev.x+=impulse.x*pair.inverseMass,pair.positionPrev.y+=impulse.y*pair.inverseMass,
pair.anglePrev+=Vector.cross(normalImpulse,impulse)*pair.inverseInertia),bodyB.isStatic||bodyB.isSleeping||(normalImpulse=Vector.sub(contactVertex,bodyB.position,tempA),bodyB.positionPrev.x-=impulse.x*bodyB.inverseMass,bodyB.positionPrev.y-=impulse.y*bodyB.inverseMass,bodyB.anglePrev-=Vector.cross(normalImpulse,impulse)*bodyB.inverseInertia)}}}};Resolver.solveVelocity=function(pairs,timeScale){timeScale*=timeScale;for(var impulse=Vector._temp[0],tempA=Vector._temp[1],tempB=Vector._temp[2],tempC=Vector._temp[3],
tempD=Vector._temp[4],tempE=Vector._temp[5],i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive&&!pair.isSensor){var collision=pair.collision,bodyA=collision.parentA,bodyB=collision.parentB,normal=collision.normal;collision=collision.tangent;var contacts=pair.activeContacts,contactShare=1/contacts.length;bodyA.velocity.x=bodyA.position.x-bodyA.positionPrev.x;bodyA.velocity.y=bodyA.position.y-bodyA.positionPrev.y;bodyB.velocity.x=bodyB.position.x-bodyB.positionPrev.x;bodyB.velocity.y=bodyB.position.y-
bodyB.positionPrev.y;bodyA.angularVelocity=bodyA.angle-bodyA.anglePrev;bodyB.angularVelocity=bodyB.angle-bodyB.anglePrev;for(var j=0;j<contacts.length;j++){var contact=contacts[j],contactVertex=contact.vertex,offsetA=Vector.sub(contactVertex,bodyA.position,tempA);contactVertex=Vector.sub(contactVertex,bodyB.position,tempB);var velocityPointA=Vector.add(bodyA.velocity,Vector.mult(Vector.perp(offsetA),bodyA.angularVelocity),tempC),velocityPointB=Vector.add(bodyB.velocity,Vector.mult(Vector.perp(contactVertex),
bodyB.angularVelocity),tempD);velocityPointA=Vector.sub(velocityPointA,velocityPointB,tempE);var normalVelocity=Vector.dot(normal,velocityPointA),tangentVelocity=Vector.dot(collision,velocityPointA),tangentSpeed=Math.abs(tangentVelocity),tangentVelocityDirection=Common.sign(tangentVelocity);velocityPointA=(1+pair.restitution)*normalVelocity;var normalForce=Common.clamp(pair.separation+normalVelocity,0,1)*Resolver._frictionNormalMultiplier;velocityPointB=tangentVelocity;var maxFriction=Infinity;tangentSpeed>
pair.friction*pair.frictionStatic*normalForce*timeScale&&(maxFriction=tangentSpeed,velocityPointB=Common.clamp(pair.friction*tangentVelocityDirection*timeScale,-maxFriction,maxFriction));tangentSpeed=Vector.cross(offsetA,normal);tangentVelocityDirection=Vector.cross(contactVertex,normal);tangentSpeed=contactShare/(bodyA.inverseMass+bodyB.inverseMass+bodyA.inverseInertia*tangentSpeed*tangentSpeed+bodyB.inverseInertia*tangentVelocityDirection*tangentVelocityDirection);velocityPointA*=tangentSpeed;velocityPointB*=
tangentSpeed;0>normalVelocity&&normalVelocity*normalVelocity>Resolver._restingThresh*timeScale?contact.normalImpulse=0:(normalVelocity=contact.normalImpulse,contact.normalImpulse=Math.min(contact.normalImpulse+velocityPointA,0),velocityPointA=contact.normalImpulse-normalVelocity);tangentVelocity*tangentVelocity>Resolver._restingThreshTangent*timeScale?contact.tangentImpulse=0:(normalVelocity=contact.tangentImpulse,contact.tangentImpulse=Common.clamp(contact.tangentImpulse+velocityPointB,-maxFriction,
maxFriction),velocityPointB=contact.tangentImpulse-normalVelocity);impulse.x=normal.x*velocityPointA+collision.x*velocityPointB;impulse.y=normal.y*velocityPointA+collision.y*velocityPointB;bodyA.isStatic||bodyA.isSleeping||(bodyA.positionPrev.x+=impulse.x*bodyA.inverseMass,bodyA.positionPrev.y+=impulse.y*bodyA.inverseMass,bodyA.anglePrev+=Vector.cross(offsetA,impulse)*bodyA.inverseInertia);bodyB.isStatic||bodyB.isSleeping||(bodyB.positionPrev.x-=impulse.x*bodyB.inverseMass,bodyB.positionPrev.y-=impulse.y*
bodyB.inverseMass,bodyB.anglePrev-=Vector.cross(contactVertex,impulse)*bodyB.inverseInertia)}}}}})()},function(module,exports,__webpack_require__){module.exports={BasePlugin:__webpack_require__(536),DefaultPlugins:__webpack_require__(194),PluginCache:__webpack_require__(24),PluginManager:__webpack_require__(408),ScenePlugin:__webpack_require__(1398)}},function(module,exports,__webpack_require__){var BasePlugin=__webpack_require__(536);exports=__webpack_require__(0);var SceneEvents=__webpack_require__(21);
__webpack_require__=new exports({Extends:BasePlugin,initialize:function(scene,pluginManager){BasePlugin.call(this,pluginManager);this.scene=scene;this.systems=scene.sys;scene.sys.events.once(SceneEvents.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.systems=this.scene=this.game=this.pluginManager=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={Canvas:__webpack_require__(1400),Events:__webpack_require__(88),Snapshot:__webpack_require__(1401),
WebGL:__webpack_require__(1402)}},function(module,exports,__webpack_require__){module.exports={CanvasRenderer:__webpack_require__(362),GetBlendModes:__webpack_require__(364),SetTransform:__webpack_require__(30)}},function(module,exports,__webpack_require__){module.exports={Canvas:__webpack_require__(363),WebGL:__webpack_require__(377)}},function(module,exports,__webpack_require__){exports=__webpack_require__(104);var Extend=__webpack_require__(17);__webpack_require__={PipelineManager:__webpack_require__(366),
Pipelines:__webpack_require__(1403),RenderTarget:__webpack_require__(139),Utils:__webpack_require__(12),WebGLPipeline:__webpack_require__(57),WebGLRenderer:__webpack_require__(365),WebGLShader:__webpack_require__(369)};__webpack_require__=Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(65);var Extend=__webpack_require__(17);__webpack_require__={BitmapMaskPipeline:__webpack_require__(367),Events:__webpack_require__(368),
GraphicsPipeline:__webpack_require__(370),LightPipeline:__webpack_require__(371),MultiPipeline:__webpack_require__(105),PointLightPipeline:__webpack_require__(372),PostFXPipeline:__webpack_require__(1404),RopePipeline:__webpack_require__(373),SinglePipeline:__webpack_require__(374),UtilityPipeline:__webpack_require__(375)};__webpack_require__=Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(0);var ColorMatrix=
__webpack_require__(195),GetFastValue=__webpack_require__(2),ShaderSourceFS=__webpack_require__(1405),ShaderSourceVS=__webpack_require__(376),WebGLPipeline=__webpack_require__(57);__webpack_require__=new exports({Extends:WebGLPipeline,initialize:function(config){config.renderTarget=GetFastValue(config,"renderTarget",1);config.fragShader=GetFastValue(config,"fragShader",ShaderSourceFS);config.vertShader=GetFastValue(config,"vertShader",ShaderSourceVS);config.attributes=GetFastValue(config,"attributes",
[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]);config.batchSize=1;config.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0];WebGLPipeline.call(this,config);this.isPostFX=!0;this.colorMatrix=new ColorMatrix;this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){WebGLPipeline.prototype.boot.call(this);var utility=this.manager.UTILITY_PIPELINE;this.fullFrame1=utility.fullFrame1;this.fullFrame2=utility.fullFrame2;this.halfFrame1=utility.halfFrame1;
this.halfFrame2=utility.halfFrame2;this.set1i("uMainSampler",0)},onDraw:function(renderTarget){this.bindAndDraw(renderTarget)},copyFrame:function(source,target,brightness,clear,clearAlpha){this.manager.copyFrame(source,target,brightness,clear,clearAlpha)},copyToGame:function(source){this.manager.copyToGame(source)},drawFrame:function(source,target,clearAlpha){this.manager.drawFrame(source,target,clearAlpha,this.colorMatrix)},blendFrames:function(source1,source2,target,strength,clearAlpha){this.manager.blendFrames(source1,
source2,target,strength,clearAlpha)},blendFramesAdditive:function(source1,source2,target,strength,clearAlpha){this.manager.blendFramesAdditive(source1,source2,target,strength,clearAlpha)},clearFrame:function(target,clearAlpha){this.manager.clearFrame(target,clearAlpha)},blitFrame:function(source,target,brightness,clear,clearAlpha,eraseMode){this.manager.blitFrame(source,target,brightness,clear,clearAlpha,eraseMode)},copyFrameRect:function(source,target,x,y,width,height,clear,clearAlpha){this.manager.copyFrameRect(source,
target,x,y,width,height,clear,clearAlpha)},bindAndDraw:function(source,target,clear,clearAlpha,currentShader){void 0===clear&&(clear=!0);void 0===clearAlpha&&(clearAlpha=!0);var gl=this.gl,renderer=this.renderer;this.bind(currentShader);this.set1i("uMainSampler",0);target?(gl.viewport(0,0,target.width,target.height),gl.bindFramebuffer(gl.FRAMEBUFFER,target.framebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,target.texture,0),clear&&(clearAlpha?gl.clearColor(0,0,
0,0):gl.clearColor(0,0,0,1),gl.clear(gl.COLOR_BUFFER_BIT))):(renderer.popFramebuffer(!1,!1,!1),renderer.currentFramebuffer||gl.viewport(0,0,renderer.width,renderer.height));gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,source.texture);gl.bufferData(gl.ARRAY_BUFFER,this.vertexData,gl.STATIC_DRAW);gl.drawArrays(gl.TRIANGLES,0,6);target?(gl.bindTexture(gl.TEXTURE_2D,null),gl.bindFramebuffer(gl.FRAMEBUFFER,null)):renderer.resetTextures()}});module.exports=__webpack_require__},function(module,
exports){module.exports="#define SHADER_NAME PHASER_POSTFX_FS\n\nprecision mediump float;\n\nuniform sampler2D uMainSampler;\n\nvarying vec2 outTexCoord;\n\nvoid main ()\n{\n    gl_FragColor \x3d texture2D(uMainSampler, outTexCoord);\n}\n"},function(module,exports,__webpack_require__){exports=__webpack_require__(17);var CONST=__webpack_require__(198);__webpack_require__={Center:__webpack_require__(397),Events:__webpack_require__(101),Orientation:__webpack_require__(398),ScaleManager:__webpack_require__(409),
ScaleModes:__webpack_require__(399),Zoom:__webpack_require__(400)};__webpack_require__=exports(!1,__webpack_require__,CONST.CENTER);__webpack_require__=exports(!1,__webpack_require__,CONST.ORIENTATION);__webpack_require__=exports(!1,__webpack_require__,CONST.SCALE_MODE);__webpack_require__=exports(!1,__webpack_require__,CONST.ZOOM);module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(142);var Extend=__webpack_require__(17);__webpack_require__=
{Events:__webpack_require__(21),GetPhysicsPlugins:__webpack_require__(413),GetScenePlugins:__webpack_require__(414),SceneManager:__webpack_require__(411),ScenePlugin:__webpack_require__(1408),Settings:__webpack_require__(415),Systems:__webpack_require__(201)};__webpack_require__=Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Clamp=__webpack_require__(18);exports=__webpack_require__(0);var Events=__webpack_require__(21),GetFastValue=
__webpack_require__(2);__webpack_require__=__webpack_require__(24);exports=new exports({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.settings=scene.sys.settings;this.key=scene.sys.settings.key;this.manager=scene.sys.game.scene;this._elapsed=this.transitionProgress=0;this._target=null;this._duration=0;this._willRemove=this._willSleep=!1;scene.sys.events.once(Events.BOOT,this.boot,this);scene.sys.events.on(Events.START,this.pluginStart,this)},boot:function(){this.systems.events.once(Events.DESTROY,
this.destroy,this)},pluginStart:function(){this._target=null;this.systems.events.once(Events.SHUTDOWN,this.shutdown,this)},start:function(key,data){void 0===key&&(key=this.key);this.manager.queueOp("stop",this.key);this.manager.queueOp("start",key,data);return this},restart:function(data){var key=this.key;this.manager.queueOp("stop",key);this.manager.queueOp("start",key,data);return this},transition:function(config){void 0===config&&(config={});var key=GetFastValue(config,"target",!1),target=this.manager.getScene(key);
if(!key||!this.checkValidTransition(target))return!1;var duration=GetFastValue(config,"duration",1E3);this._elapsed=0;this._target=target;this._duration=duration;this._willSleep=GetFastValue(config,"sleep",!1);this._willRemove=GetFastValue(config,"remove",!1);var callback=GetFastValue(config,"onUpdate",null);callback&&(this._onUpdate=callback,this._onUpdateScope=GetFastValue(config,"onUpdateScope",this.scene));callback=GetFastValue(config,"allowInput",!1);this.settings.transitionAllowInput=callback;
var targetSettings=target.sys.settings;targetSettings.isTransition=!0;targetSettings.transitionFrom=this.scene;targetSettings.transitionDuration=duration;targetSettings.transitionAllowInput=callback;GetFastValue(config,"moveAbove",!1)?this.manager.moveAbove(this.key,key):GetFastValue(config,"moveBelow",!1)&&this.manager.moveBelow(this.key,key);target.sys.isSleeping()?target.sys.wake(GetFastValue(config,"data")):this.manager.start(key,GetFastValue(config,"data"));this.systems.events.emit(Events.TRANSITION_OUT,
target,duration);this.systems.events.on(Events.UPDATE,this.step,this);return!0},checkValidTransition:function(target){return!target||target.sys.isActive()||target.sys.isTransitioning()||target===this.scene||this.systems.isTransitioning()?!1:!0},step:function(time,delta){this._elapsed+=delta;this.transitionProgress=Clamp(this._elapsed/this._duration,0,1);this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress);this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var targetSys=
this._target.sys,targetSettings=this._target.sys.settings;this.systems.events.off(Events.UPDATE,this.step,this);targetSys.events.emit(Events.TRANSITION_COMPLETE,this.scene);targetSettings.isTransition=!1;targetSettings.transitionFrom=null;this._duration=0;this._onUpdateScope=this._onUpdate=this._target=null;this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(key,sceneConfig,autoStart,data){return this.manager.add(key,sceneConfig,
autoStart,data)},launch:function(key,data){key&&key!==this.key&&this.manager.queueOp("start",key,data);return this},run:function(key,data){key&&key!==this.key&&this.manager.queueOp("run",key,data);return this},pause:function(key,data){void 0===key&&(key=this.key);this.manager.queueOp("pause",key,data);return this},resume:function(key,data){void 0===key&&(key=this.key);this.manager.queueOp("resume",key,data);return this},sleep:function(key,data){void 0===key&&(key=this.key);this.manager.queueOp("sleep",
key,data);return this},wake:function(key,data){void 0===key&&(key=this.key);this.manager.queueOp("wake",key,data);return this},switch:function(key){key!==this.key&&this.manager.queueOp("switch",this.key,key);return this},stop:function(key,data){void 0===key&&(key=this.key);this.manager.queueOp("stop",key,data);return this},setActive:function(value,key,data){void 0===key&&(key=this.key);(key=this.manager.getScene(key))&&key.sys.setActive(value,data);return this},setVisible:function(value,key){void 0===
key&&(key=this.key);(key=this.manager.getScene(key))&&key.sys.setVisible(value);return this},isSleeping:function(key){void 0===key&&(key=this.key);return this.manager.isSleeping(key)},isActive:function(key){void 0===key&&(key=this.key);return this.manager.isActive(key)},isPaused:function(key){void 0===key&&(key=this.key);return this.manager.isPaused(key)},isVisible:function(key){void 0===key&&(key=this.key);return this.manager.isVisible(key)},swapPosition:function(keyA,keyB){void 0===keyB&&(keyB=
this.key);keyA!==keyB&&this.manager.swapPosition(keyA,keyB);return this},moveAbove:function(keyA,keyB){void 0===keyB&&(keyB=this.key);keyA!==keyB&&this.manager.moveAbove(keyA,keyB);return this},moveBelow:function(keyA,keyB){void 0===keyB&&(keyB=this.key);keyA!==keyB&&this.manager.moveBelow(keyA,keyB);return this},remove:function(key){void 0===key&&(key=this.key);this.manager.remove(key);return this},moveUp:function(key){void 0===key&&(key=this.key);this.manager.moveUp(key);return this},moveDown:function(key){void 0===
key&&(key=this.key);this.manager.moveDown(key);return this},bringToTop:function(key){void 0===key&&(key=this.key);this.manager.bringToTop(key);return this},sendToBack:function(key){void 0===key&&(key=this.key);this.manager.sendToBack(key);return this},get:function(key){return this.manager.getScene(key)},getIndex:function(key){void 0===key&&(key=this.key);return this.manager.getIndex(key)},shutdown:function(){var eventEmitter=this.systems.events;eventEmitter.off(Events.SHUTDOWN,this.shutdown,this);
eventEmitter.off(Events.POST_UPDATE,this.step,this);eventEmitter.off(Events.TRANSITION_OUT)},destroy:function(){this.shutdown();this.scene.sys.events.off(Events.START,this.start,this);this.manager=this.settings=this.systems=this.scene=null}});__webpack_require__.register("ScenePlugin",exports,"scenePlugin");module.exports=exports},function(module,exports,__webpack_require__){module.exports={Events:__webpack_require__(432),List:__webpack_require__(107),Map:__webpack_require__(99),ProcessQueue:__webpack_require__(208),
RTree:__webpack_require__(525),Set:__webpack_require__(148),Size:__webpack_require__(410)}},function(module,exports,__webpack_require__){exports=__webpack_require__(17);var FilterMode=__webpack_require__(1411);__webpack_require__={CanvasTexture:__webpack_require__(417),Events:__webpack_require__(103),FilterMode:FilterMode,Frame:__webpack_require__(106),Parsers:__webpack_require__(419),Texture:__webpack_require__(203),TextureManager:__webpack_require__(416),TextureSource:__webpack_require__(418)};
__webpack_require__=exports(!1,__webpack_require__,FilterMode);module.exports=__webpack_require__},function(module,exports){module.exports={LINEAR:0,NEAREST:1}},function(module,exports,__webpack_require__){exports=__webpack_require__(17);var CONST=__webpack_require__(1413);__webpack_require__={Components:__webpack_require__(247),Parsers:__webpack_require__(1446),Formats:__webpack_require__(39),ImageCollection:__webpack_require__(572),ParseToTilemap:__webpack_require__(258),Tile:__webpack_require__(83),
Tilemap:__webpack_require__(576),TilemapCreator:__webpack_require__(1452),TilemapFactory:__webpack_require__(1453),Tileset:__webpack_require__(121),TilemapLayer:__webpack_require__(577),Orientation:__webpack_require__(29),LayerData:__webpack_require__(119),MapData:__webpack_require__(120),ObjectLayer:__webpack_require__(568)};__webpack_require__=exports(!1,__webpack_require__,CONST.ORIENTATION);module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports={ORIENTATION:__webpack_require__(29)};
module.exports=exports},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26),CalculateFacesWithin=__webpack_require__(61);module.exports=function(srcTileX,srcTileY,width,height,destTileX,destTileY,recalculateFaces,layer){void 0===recalculateFaces&&(recalculateFaces=!0);0>srcTileX&&(srcTileX=0);0>srcTileY&&(srcTileY=0);var srcTiles=GetTilesWithin(srcTileX,srcTileY,width,height,null,layer);srcTileX=destTileX-srcTileX;srcTileY=destTileY-srcTileY;for(var i=0;i<srcTiles.length;i++){var tileX=
srcTiles[i].x+srcTileX,tileY=srcTiles[i].y+srcTileY;0<=tileX&&tileX<layer.width&&0<=tileY&&tileY<layer.height&&layer.data[tileY][tileX]&&layer.data[tileY][tileX].copy(srcTiles[i])}recalculateFaces&&CalculateFacesWithin(destTileX-1,destTileY-1,width+2,height+2,layer)}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26),ReplaceByIndex=__webpack_require__(538);module.exports=function(indexes,replacements,spriteConfig,scene,camera,layer){spriteConfig||(spriteConfig=
{});Array.isArray(indexes)||(indexes=[indexes]);var tilemapLayer=layer.tilemapLayer;scene||(scene=tilemapLayer.scene);camera||(camera=scene.cameras.main);var tiles=GetTilesWithin(0,0,layer.width,layer.height,null,layer),sprites=[],i;for(i=0;i<tiles.length;i++){var tile=tiles[i];-1!==indexes.indexOf(tile.index)&&(tile=tilemapLayer.tileToWorldXY(tile.x,tile.y,void 0,camera,layer),spriteConfig.x=tile.x,spriteConfig.y=tile.y,sprites.push(scene.make.sprite(spriteConfig)))}if("number"===typeof replacements)for(i=
0;i<indexes.length;i++)ReplaceByIndex(indexes[i],replacements,0,0,layer.width,layer.height,layer);else if(Array.isArray(replacements))for(i=0;i<indexes.length;i++)ReplaceByIndex(indexes[i],replacements[i],0,0,layer.width,layer.height,layer);return sprites}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26),CalculateFacesWithin=__webpack_require__(61),SetTileCollision=__webpack_require__(72);module.exports=function(index,tileX,tileY,width,height,recalculateFaces,
layer){for(var doesIndexCollide=-1!==layer.collideIndexes.indexOf(index),tiles=GetTilesWithin(tileX,tileY,width,height,null,layer),i=0;i<tiles.length;i++)tiles[i].index=index,SetTileCollision(tiles[i],doesIndexCollide);recalculateFaces&&CalculateFacesWithin(tileX-1,tileY-1,width+2,height+2,layer)}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);module.exports=function(callback,context,tileX,tileY,width,height,filteringOptions,layer){return GetTilesWithin(tileX,
tileY,width,height,filteringOptions,layer).filter(callback,context)}},function(module,exports){module.exports=function(findIndex,skip,reverse,layer){void 0===skip&&(skip=0);void 0===reverse&&(reverse=!1);var count=0,ty,tile;if(reverse)for(ty=layer.height-1;0<=ty;ty--)for(reverse=layer.width-1;0<=reverse;reverse--){if((tile=layer.data[ty][reverse])&&tile.index===findIndex){if(count===skip)return tile;count+=1}}else for(ty=0;ty<layer.height;ty++)for(reverse=0;reverse<layer.width;reverse++)if((tile=
layer.data[ty][reverse])&&tile.index===findIndex){if(count===skip)return tile;count+=1}return null}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);module.exports=function(callback,context,tileX,tileY,width,height,filteringOptions,layer){return GetTilesWithin(tileX,tileY,width,height,filteringOptions,layer).find(callback,context)||null}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);module.exports=function(callback,
context,tileX,tileY,width,height,filteringOptions,layer){GetTilesWithin(tileX,tileY,width,height,filteringOptions,layer).forEach(callback,context)}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(29),CullTiles=__webpack_require__(540),HexagonalCullTiles=__webpack_require__(541),IsometricCullTiles=__webpack_require__(543),NOOP=__webpack_require__(1),StaggeredCullTiles=__webpack_require__(544);module.exports=function(orientation){return orientation===CONST.ORTHOGONAL?CullTiles:
orientation===CONST.HEXAGONAL?HexagonalCullTiles:orientation===CONST.STAGGERED?StaggeredCullTiles:orientation===CONST.ISOMETRIC?IsometricCullTiles:NOOP}},function(module,exports,__webpack_require__){var GetTileAt=__webpack_require__(156),point=new (__webpack_require__(3));module.exports=function(worldX,worldY,nonNull,camera,layer){layer.tilemapLayer.worldToTileXY(worldX,worldY,!0,point,camera);return GetTileAt(point.x,point.y,nonNull,layer)}},function(module,exports,__webpack_require__){var Geom=
__webpack_require__(477),GetTilesWithin=__webpack_require__(26),Intersects=__webpack_require__(478),NOOP=__webpack_require__(1);exports=__webpack_require__(3);var TriangleToRectangle=function(triangle,rect){return Intersects.RectangleToTriangle(rect,triangle)},point=new exports,pointStart=new exports,pointEnd=new exports;module.exports=function(shape,filteringOptions,camera,layer){if(void 0===shape)return[];var intersectTest=NOOP;shape instanceof Geom.Circle?intersectTest=Intersects.CircleToRectangle:
shape instanceof Geom.Rectangle?intersectTest=Intersects.RectangleToRectangle:shape instanceof Geom.Triangle?intersectTest=TriangleToRectangle:shape instanceof Geom.Line&&(intersectTest=Intersects.LineToRectangle);layer.tilemapLayer.worldToTileXY(shape.left,shape.top,!0,pointStart,camera);var xStart=pointStart.x,yStart=pointStart.y;layer.tilemapLayer.worldToTileXY(shape.right,shape.bottom,!0,pointEnd,camera);filteringOptions=GetTilesWithin(xStart,yStart,Math.max(Math.ceil(pointEnd.x)-xStart,1),Math.max(Math.ceil(pointEnd.y)-
yStart,1),filteringOptions,layer);yStart=layer.tileWidth;var tileHeight=layer.tileHeight;layer.tilemapLayer&&(yStart*=layer.tilemapLayer.scaleX,tileHeight*=layer.tilemapLayer.scaleY);xStart=[];yStart=new Geom.Rectangle(0,0,yStart,tileHeight);for(tileHeight=0;tileHeight<filteringOptions.length;tileHeight++){var tile=filteringOptions[tileHeight];layer.tilemapLayer.tileToWorldXY(tile.x,tile.y,point,camera);yStart.x=point.x;yStart.y=point.y;intersectTest(shape,yStart)&&xStart.push(tile)}return xStart}},
function(module,exports,__webpack_require__){var CONST=__webpack_require__(29),NOOP=__webpack_require__(1),TileToWorldX=__webpack_require__(249);module.exports=function(orientation){return orientation===CONST.ORTHOGONAL?TileToWorldX:NOOP}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(29),HexagonalTileToWorldXY=__webpack_require__(546),IsometricTileToWorldXY=__webpack_require__(547),NOOP=__webpack_require__(1),StaggeredTileToWorldXY=__webpack_require__(548),TileToWorldXY=
__webpack_require__(549);module.exports=function(orientation){return orientation===CONST.ORTHOGONAL?TileToWorldXY:orientation===CONST.ISOMETRIC?IsometricTileToWorldXY:orientation===CONST.HEXAGONAL?HexagonalTileToWorldXY:orientation===CONST.STAGGERED?StaggeredTileToWorldXY:NOOP}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(29),HexagonalTileToWorldY=__webpack_require__(550),NOOP=__webpack_require__(1),StaggeredTileToWorldY=__webpack_require__(551),TileToWorldY=__webpack_require__(250);
module.exports=function(orientation){return orientation===CONST.ORTHOGONAL?TileToWorldY:orientation===CONST.HEXAGONAL?HexagonalTileToWorldY:orientation===CONST.STAGGERED?StaggeredTileToWorldY:NOOP}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(29),NOOP=__webpack_require__(1),WorldToTileX=__webpack_require__(251);module.exports=function(orientation){return orientation===CONST.ORTHOGONAL?WorldToTileX:NOOP}},function(module,exports,__webpack_require__){var CONST=__webpack_require__(29),
HexagonalWorldToTileXY=__webpack_require__(552),IsometricWorldToTileXY=__webpack_require__(553),NOOP=__webpack_require__(1),StaggeredWorldToTileXY=__webpack_require__(554),WorldToTileXY=__webpack_require__(555);module.exports=function(orientation){return orientation===CONST.ORTHOGONAL?WorldToTileXY:orientation===CONST.ISOMETRIC?IsometricWorldToTileXY:orientation===CONST.HEXAGONAL?HexagonalWorldToTileXY:orientation===CONST.STAGGERED?StaggeredWorldToTileXY:NOOP}},function(module,exports,__webpack_require__){var CONST=
__webpack_require__(29),HexagonalWorldToTileY=__webpack_require__(556),NOOP=__webpack_require__(1),StaggeredWorldToTileY=__webpack_require__(557),WorldToTileY=__webpack_require__(252);module.exports=function(orientation){return orientation===CONST.ORTHOGONAL?WorldToTileY:orientation===CONST.HEXAGONAL?HexagonalWorldToTileY:orientation===CONST.STAGGERED?StaggeredWorldToTileY:NOOP}},function(module,exports,__webpack_require__){var HasTileAt=__webpack_require__(558),point=new (__webpack_require__(3));
module.exports=function(worldX,worldY,camera,layer){layer.tilemapLayer.worldToTileXY(worldX,worldY,!0,point,camera);return HasTileAt(point.x,point.y,layer)}},function(module,exports,__webpack_require__){var PutTileAt=__webpack_require__(253),point=new (__webpack_require__(3));module.exports=function(tile,worldX,worldY,recalculateFaces,camera,layer){layer.tilemapLayer.worldToTileXY(worldX,worldY,!0,point,camera,layer);return PutTileAt(tile,point.x,point.y,recalculateFaces,layer)}},function(module,
exports,__webpack_require__){var CalculateFacesWithin=__webpack_require__(61),PutTileAt=__webpack_require__(253);module.exports=function(tilesArray,tileX,tileY,recalculateFaces,layer){void 0===recalculateFaces&&(recalculateFaces=!0);if(!Array.isArray(tilesArray))return null;Array.isArray(tilesArray[0])||(tilesArray=[tilesArray]);for(var height=tilesArray.length,width=tilesArray[0].length,ty=0;ty<height;ty++)for(var tx=0;tx<width;tx++)PutTileAt(tilesArray[ty][tx],tileX+tx,tileY+ty,!1,layer);recalculateFaces&&
CalculateFacesWithin(tileX-1,tileY-1,width+2,height+2,layer)}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26),GetRandom=__webpack_require__(207);module.exports=function(tileX,tileY,width,height,indexes,layer){tileY=GetTilesWithin(tileX,tileY,width,height,{},layer);if(!indexes)for(indexes=[],tileX=0;tileX<tileY.length;tileX++)-1===indexes.indexOf(tileY[tileX].index)&&indexes.push(tileY[tileX].index);for(tileX=0;tileX<tileY.length;tileX++)tileY[tileX].index=
GetRandom(indexes)}},function(module,exports,__webpack_require__){var RemoveTileAt=__webpack_require__(559),point=new (__webpack_require__(3));module.exports=function(worldX,worldY,replaceWithNull,recalculateFaces,camera,layer){layer.tilemapLayer.worldToTileXY(worldX,worldY,!0,point,camera,layer);return RemoveTileAt(point.x,point.y,replaceWithNull,recalculateFaces,layer)}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);exports=__webpack_require__(391);var defaultTileColor=
new exports(105,210,231,150),defaultCollidingTileColor=new exports(243,134,48,200),defaultFaceColor=new exports(40,39,37,150);module.exports=function(graphics,styleConfig,layer){void 0===styleConfig&&(styleConfig={});var tileColor=void 0!==styleConfig.tileColor?styleConfig.tileColor:defaultTileColor,collidingTileColor=void 0!==styleConfig.collidingTileColor?styleConfig.collidingTileColor:defaultCollidingTileColor;styleConfig=void 0!==styleConfig.faceColor?styleConfig.faceColor:defaultFaceColor;var tiles=
GetTilesWithin(0,0,layer.width,layer.height,null,layer);graphics.translateCanvas(layer.tilemapLayer.x,layer.tilemapLayer.y);graphics.scaleCanvas(layer.tilemapLayer.scaleX,layer.tilemapLayer.scaleY);for(layer=0;layer<tiles.length;layer++){var tile=tiles[layer],tw=tile.width,th=tile.height,x=tile.pixelX,y=tile.pixelY,color=tile.collides?collidingTileColor:tileColor;null!==color&&(graphics.fillStyle(color.color,color.alpha/255),graphics.fillRect(x,y,tw,th));x+=1;y+=1;tw-=2;th-=2;null!==styleConfig&&
(graphics.lineStyle(1,styleConfig.color,styleConfig.alpha/255),tile.faceTop&&graphics.lineBetween(x,y,x+tw,y),tile.faceRight&&graphics.lineBetween(x+tw,y,x+tw,y+th),tile.faceBottom&&graphics.lineBetween(x,y+th,x+tw,y+th),tile.faceLeft&&graphics.lineBetween(x,y,x,y+th))}}},function(module,exports,__webpack_require__){var SetTileCollision=__webpack_require__(72),CalculateFacesWithin=__webpack_require__(61),SetLayerCollisionIndex=__webpack_require__(158);module.exports=function(indexes,collides,recalculateFaces,
layer,updateLayer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);void 0===updateLayer&&(updateLayer=!0);Array.isArray(indexes)||(indexes=[indexes]);for(var i=0;i<indexes.length;i++)SetLayerCollisionIndex(indexes[i],collides,layer);if(updateLayer)for(updateLayer=0;updateLayer<layer.height;updateLayer++)for(i=0;i<layer.width;i++){var tile=layer.data[updateLayer][i];tile&&-1!==indexes.indexOf(tile.index)&&SetTileCollision(tile,collides)}recalculateFaces&&CalculateFacesWithin(0,
0,layer.width,layer.height,layer)}},function(module,exports,__webpack_require__){var SetTileCollision=__webpack_require__(72),CalculateFacesWithin=__webpack_require__(61),SetLayerCollisionIndex=__webpack_require__(158);module.exports=function(start,stop,collides,recalculateFaces,layer,updateLayer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);void 0===updateLayer&&(updateLayer=!0);if(!(start>stop)){for(var index=start;index<=stop;index++)SetLayerCollisionIndex(index,
collides,layer);if(updateLayer)for(updateLayer=0;updateLayer<layer.height;updateLayer++)for(index=0;index<layer.width;index++){var tile=layer.data[updateLayer][index];tile&&tile.index>=start&&tile.index<=stop&&SetTileCollision(tile,collides)}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}}},function(module,exports,__webpack_require__){var SetTileCollision=__webpack_require__(72),CalculateFacesWithin=__webpack_require__(61),SetLayerCollisionIndex=__webpack_require__(158);
module.exports=function(indexes,collides,recalculateFaces,layer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);Array.isArray(indexes)||(indexes=[indexes]);for(var ty=0;ty<layer.height;ty++)for(var tx=0;tx<layer.width;tx++){var tile=layer.data[ty][tx];tile&&-1===indexes.indexOf(tile.index)&&(SetTileCollision(tile,collides),SetLayerCollisionIndex(tile.index,collides,layer))}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}},function(module,
exports,__webpack_require__){var SetTileCollision=__webpack_require__(72),CalculateFacesWithin=__webpack_require__(61),HasValue=__webpack_require__(125);module.exports=function(properties,collides,recalculateFaces,layer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);for(var ty=0;ty<layer.height;ty++)for(var tx=0;tx<layer.width;tx++){var tile=layer.data[ty][tx];if(tile)for(var property in properties)if(HasValue(tile.properties,property)){var values=properties[property];
Array.isArray(values)||(values=[values]);for(var i=0;i<values.length;i++)tile.properties[property]===values[i]&&SetTileCollision(tile,collides)}}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}},function(module,exports,__webpack_require__){var SetTileCollision=__webpack_require__(72),CalculateFacesWithin=__webpack_require__(61);module.exports=function(collides,recalculateFaces,layer){void 0===collides&&(collides=!0);void 0===recalculateFaces&&(recalculateFaces=!0);for(var ty=
0;ty<layer.height;ty++)for(var tx=0;tx<layer.width;tx++){var tile=layer.data[ty][tx];if(tile){var collisionGroup=tile.getCollisionGroup();collisionGroup&&collisionGroup.objects&&0<collisionGroup.objects.length&&SetTileCollision(tile,collides)}}recalculateFaces&&CalculateFacesWithin(0,0,layer.width,layer.height,layer)}},function(module,exports){module.exports=function(indexes,callback,callbackContext,layer){if("number"===typeof indexes)layer.callbacks[indexes]=null!==callback?{callback:callback,callbackContext:callbackContext}:
void 0;else for(var i=0,len=indexes.length;i<len;i++)layer.callbacks[indexes[i]]=null!==callback?{callback:callback,callbackContext:callbackContext}:void 0}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);module.exports=function(tileX,tileY,width,height,callback,callbackContext,layer){tileX=GetTilesWithin(tileX,tileY,width,height,null,layer);for(tileY=0;tileY<tileX.length;tileY++)tileX[tileY].setCollisionCallback(callback,callbackContext)}},function(module,
exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26),ShuffleArray=__webpack_require__(129);module.exports=function(tileX,tileY,width,height,layer){tileX=GetTilesWithin(tileX,tileY,width,height,null,layer);tileY=tileX.map(function(tile){return tile.index});ShuffleArray(tileY);for(width=0;width<tileX.length;width++)tileX[width].index=tileY[width]}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);module.exports=function(indexA,indexB,tileX,tileY,
width,height,layer){tileX=GetTilesWithin(tileX,tileY,width,height,null,layer);for(tileY=0;tileY<tileX.length;tileY++)tileX[tileY]&&(tileX[tileY].index===indexA?tileX[tileY].index=indexB:tileX[tileY].index===indexB&&(tileX[tileY].index=indexA))}},function(module,exports,__webpack_require__){var GetTilesWithin=__webpack_require__(26);module.exports=function(tileX,tileY,width,height,weightedIndexes,layer){if(weightedIndexes){tileY=GetTilesWithin(tileX,tileY,width,height,null,layer);for(tileX=width=0;tileX<
weightedIndexes.length;tileX++)width+=weightedIndexes[tileX].weight;if(!(0>=width))for(tileX=0;tileX<tileY.length;tileX++){height=Math.random()*width;layer=0;for(var randomIndex=-1,j=0;j<weightedIndexes.length;j++)if(layer+=weightedIndexes[j].weight,height<=layer){height=weightedIndexes[j].index;randomIndex=Array.isArray(height)?height[Math.floor(Math.random()*height.length)]:height;break}tileY[tileX].index=randomIndex}}}},function(module,exports,__webpack_require__){module.exports={FromOrientationString:__webpack_require__(254),
Parse:__webpack_require__(560),Parse2DArray:__webpack_require__(255),ParseCSV:__webpack_require__(561),Impact:__webpack_require__(1447),Tiled:__webpack_require__(1448)}},function(module,exports,__webpack_require__){module.exports={ParseTileLayers:__webpack_require__(574),ParseTilesets:__webpack_require__(575),ParseWeltmeister:__webpack_require__(573)}},function(module,exports,__webpack_require__){module.exports={AssignTileProperties:__webpack_require__(563),Base64Decode:__webpack_require__(570),BuildTilesetIndex:__webpack_require__(564),
CreateGroupLayer:__webpack_require__(159),ParseGID:__webpack_require__(257),ParseImageLayers:__webpack_require__(565),ParseJSONTiled:__webpack_require__(562),ParseObject:__webpack_require__(256),ParseObjectLayers:__webpack_require__(566),ParseTileLayers:__webpack_require__(569),ParseTilesets:__webpack_require__(571)}},function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(1);exports=__webpack_require__(1450);__webpack_require__=__webpack_require__(1451);module.exports=
{renderWebGL:exports,renderCanvas:__webpack_require__}},function(module,exports,__webpack_require__){var Utils=__webpack_require__(12);module.exports=function(renderer,src,camera){var renderTiles=src.cull(camera),tileCount=renderTiles.length,alpha=camera.alpha*src.alpha;if(!(0===tileCount||0>=alpha)){var gidMap=src.gidMap,pipeline=renderer.pipelines.set(src.pipeline,src),getTint=Utils.getTintAppendFloatAlpha,scrollFactorX=src.scrollFactorX,scrollFactorY=src.scrollFactorY,x=src.x,y=src.y,sx=src.scaleX,
sy=src.scaleY;renderer.pipelines.preBatch(src);for(var i=0;i<tileCount;i++){var tile=renderTiles[i],tileset=gidMap[tile.index];if(tileset){var tileTexCoords=tileset.getTileTextureCoordinates(tile.index);if(null!==tileTexCoords){var texture=tileset.glTexture,textureUnit=pipeline.setTexture2D(texture,src),frameWidth=tileset.tileWidth,frameHeight=tileset.tileHeight,frameX=tileTexCoords.x;tileTexCoords=tileTexCoords.y;var tw=.5*tileset.tileWidth;tileset=.5*tileset.tileHeight;var tint=getTint(tile.tint,
alpha*tile.alpha);pipeline.batchTexture(src,texture,texture.width,texture.height,x+(tw+tile.pixelX)*sx,y+(tileset+tile.pixelY)*sy,tile.width,tile.height,sx,sy,tile.rotation,tile.flipX,tile.flipY,scrollFactorX,scrollFactorY,tw,tileset,frameX,tileTexCoords,frameWidth,frameHeight,tint,tint,tint,tint,!1,0,0,camera,null,!0,textureUnit)}}}renderer.pipelines.postBatch(src)}}},function(module,exports,__webpack_require__){exports=__webpack_require__(25);var tempMatrix1=new exports,tempMatrix2=new exports,
tempMatrix3=new exports;module.exports=function(renderer,src,camera,parentMatrix){var renderTiles=src.cull(camera),tileCount=renderTiles.length,alpha=camera.alpha*src.alpha;if(!(0===tileCount||0>=alpha)){tempMatrix2.applyITRS(src.x,src.y,src.rotation,src.scaleX,src.scaleY);tempMatrix1.copyFrom(camera.matrix);var ctx=renderer.currentContext,gidMap=src.gidMap;ctx.save();parentMatrix?(tempMatrix1.multiplyWithOffset(parentMatrix,-camera.scrollX*src.scrollFactorX,-camera.scrollY*src.scrollFactorY),tempMatrix2.e=
src.x,tempMatrix2.f=src.y,tempMatrix1.multiply(tempMatrix2,tempMatrix3),tempMatrix3.copyToContext(ctx)):(tempMatrix2.e-=camera.scrollX*src.scrollFactorX,tempMatrix2.f-=camera.scrollY*src.scrollFactorY,tempMatrix2.copyToContext(ctx));if(!renderer.antialias||1<src.scaleX||1<src.scaleY)ctx.imageSmoothingEnabled=!1;for(renderer=0;renderer<tileCount;renderer++){src=renderTiles[renderer];var tileset=gidMap[src.index];if(tileset&&(camera=tileset.image.getSourceImage(),parentMatrix=tileset.getTileTextureCoordinates(src.index),
null!==parentMatrix)){var tileWidth=tileset.tileWidth;tileset=tileset.tileHeight;var halfWidth=.5*tileWidth,halfHeight=.5*tileset;ctx.save();ctx.translate(src.pixelX+halfWidth,src.pixelY+halfHeight);0!==src.rotation&&ctx.rotate(src.rotation);(src.flipX||src.flipY)&&ctx.scale(src.flipX?-1:1,src.flipY?-1:1);ctx.globalAlpha=alpha*src.alpha;ctx.drawImage(camera,parentMatrix.x,parentMatrix.y,tileWidth,tileset,-halfWidth,-halfHeight,tileWidth,tileset);ctx.restore()}}ctx.restore()}}},function(module,exports,
__webpack_require__){module=__webpack_require__(16);var ParseToTilemap=__webpack_require__(258);module.register("tilemap",function(config){config=void 0!==config?config:{};return ParseToTilemap(this.scene,config.key,config.tileWidth,config.tileHeight,config.width,config.height,config.data,config.insertNull)})},function(module,exports,__webpack_require__){module=__webpack_require__(5);var ParseToTilemap=__webpack_require__(258);module.register("tilemap",function(key,tileWidth,tileHeight,width,height,
data,insertNull){null===key&&(key=void 0);null===tileWidth&&(tileWidth=void 0);null===tileHeight&&(tileHeight=void 0);null===width&&(width=void 0);null===height&&(height=void 0);return ParseToTilemap(this.scene,key,tileWidth,tileHeight,width,height,data,insertNull)})},function(module,exports,__webpack_require__){module.exports={Clock:__webpack_require__(1455),TimerEvent:__webpack_require__(578)}},function(module,exports,__webpack_require__){var Class=__webpack_require__(0);exports=__webpack_require__(24);
var SceneEvents=__webpack_require__(21),TimerEvent=__webpack_require__(578),Remove=__webpack_require__(89);__webpack_require__=new Class({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.now=0;this.timeScale=1;this.paused=!1;this._active=[];this._pendingInsertion=[];this._pendingRemoval=[];scene.sys.events.once(SceneEvents.BOOT,this.boot,this);scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time;this.systems.events.once(SceneEvents.DESTROY,
this.destroy,this)},start:function(){var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.PRE_UPDATE,this.preUpdate,this);eventEmitter.on(SceneEvents.UPDATE,this.update,this);eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},addEvent:function(config){config instanceof TimerEvent?(this.removeEvent(config),config.elapsed=config.startAt,config.hasDispatched=!1,config.repeatCount=-1===config.repeat||config.loop?999999999999:config.repeat):config=new TimerEvent(config);this._pendingInsertion.push(config);
return config},delayedCall:function(delay,callback,args,callbackScope){return this.addEvent({delay:delay,callback:callback,args:args,callbackScope:callbackScope})},clearPendingEvents:function(){this._pendingInsertion=[];return this},removeEvent:function(events){Array.isArray(events)||(events=[events]);for(var i=0;i<events.length;i++){var event=events[i];Remove(this._pendingRemoval,event);Remove(this._pendingInsertion,event);Remove(this._active,event)}return this},removeAllEvents:function(){this._pendingRemoval=
this._pendingRemoval.concat(this._active);return this},preUpdate:function(){var toRemove=this._pendingRemoval.length,toInsert=this._pendingInsertion.length;if(0!==toRemove||0!==toInsert){var i;for(i=0;i<toRemove;i++){var event=this._pendingRemoval[i];var index=this._active.indexOf(event);-1<index&&this._active.splice(index,1);event.destroy()}for(i=0;i<toInsert;i++)event=this._pendingInsertion[i],this._active.push(event);this._pendingRemoval.length=0;this._pendingInsertion.length=0}},update:function(time,
delta){this.now=time;if(!this.paused)for(delta*=this.timeScale,time=0;time<this._active.length;time++){var event=this._active[time];if(!event.paused&&(event.elapsed+=delta*event.timeScale,event.elapsed>=event.delay)){var remainder=event.elapsed-event.delay;event.elapsed=event.delay;!event.hasDispatched&&event.callback&&(event.hasDispatched=!0,event.callback.apply(event.callbackScope,event.args));0<event.repeatCount?(event.repeatCount--,event.elapsed=remainder,event.hasDispatched=!1):this._pendingRemoval.push(event)}}},
shutdown:function(){var i;for(i=0;i<this._pendingInsertion.length;i++)this._pendingInsertion[i].destroy();for(i=0;i<this._active.length;i++)this._active[i].destroy();for(i=0;i<this._pendingRemoval.length;i++)this._pendingRemoval[i].destroy();this._active.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;i=this.systems.events;i.off(SceneEvents.PRE_UPDATE,this.preUpdate,this);i.off(SceneEvents.UPDATE,this.update,this);i.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();
this.scene.sys.events.off(SceneEvents.START,this.start,this);this.systems=this.scene=null}});exports.register("Clock",__webpack_require__,"time");module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(97);var Extend=__webpack_require__(17);__webpack_require__={Builders:__webpack_require__(1457),Events:__webpack_require__(263),TweenManager:__webpack_require__(1473),Tween:__webpack_require__(262),TweenData:__webpack_require__(264),Timeline:__webpack_require__(584)};
__webpack_require__=Extend(!1,__webpack_require__,exports);module.exports=__webpack_require__},function(module,exports,__webpack_require__){module.exports={GetBoolean:__webpack_require__(96),GetEaseFunction:__webpack_require__(80),GetNewValue:__webpack_require__(160),GetProps:__webpack_require__(579),GetTargets:__webpack_require__(259),GetTweens:__webpack_require__(580),GetValueOp:__webpack_require__(260),NumberTweenBuilder:__webpack_require__(581),StaggerBuilder:__webpack_require__(582),TimelineBuilder:__webpack_require__(583),
TweenBuilder:__webpack_require__(161)}},function(module,exports){module.exports="callbackScope completeDelay delay duration ease easeParams flipX flipY hold loop loopDelay offset onActive onActiveParams onActiveScope onComplete onCompleteParams onCompleteScope onLoop onLoopParams onLoopScope onRepeat onRepeatParams onRepeatScope onStart onStartParams onStartScope onStop onStopParams onStopScope onUpdate onUpdateParams onUpdateScope onYoyo onYoyoParams onYoyoScope paused props repeat repeatDelay targets useFrames yoyo".split(" ")},
function(module,exports){module.exports="complete"},function(module,exports){module.exports="loop"},function(module,exports){module.exports="pause"},function(module,exports){module.exports="resume"},function(module,exports){module.exports="start"},function(module,exports){module.exports="update"},function(module,exports){module.exports="active"},function(module,exports){module.exports="complete"},function(module,exports){module.exports="loop"},function(module,exports){module.exports="repeat"},function(module,
exports){module.exports="start"},function(module,exports){module.exports="stop"},function(module,exports){module.exports="update"},function(module,exports){module.exports="yoyo"},function(module,exports,__webpack_require__){var ArrayRemove=__webpack_require__(89),Class=__webpack_require__(0),NumberTweenBuilder=__webpack_require__(581);exports=__webpack_require__(24);var SceneEvents=__webpack_require__(21),StaggerBuilder=__webpack_require__(582),TimelineBuilder=__webpack_require__(583),TWEEN_CONST=
__webpack_require__(97),TweenBuilder=__webpack_require__(161);__webpack_require__=new Class({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.timeScale=1;this._add=[];this._pending=[];this._active=[];this._destroy=[];this._toProcess=0;scene.sys.events.once(SceneEvents.BOOT,this.boot,this);scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.systems.events.once(SceneEvents.DESTROY,this.destroy,this)},start:function(){var eventEmitter=this.systems.events;
eventEmitter.on(SceneEvents.PRE_UPDATE,this.preUpdate,this);eventEmitter.on(SceneEvents.UPDATE,this.update,this);eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this);this.timeScale=1},createTimeline:function(config){return TimelineBuilder(this,config)},timeline:function(config){config=TimelineBuilder(this,config);config.paused||(this._add.push(config),this._toProcess++);return config},create:function(config){return TweenBuilder(this,config)},add:function(config){config=TweenBuilder(this,config);
this._add.push(config);this._toProcess++;return config},existing:function(tween){this._add.push(tween);this._toProcess++;return this},addCounter:function(config){config=NumberTweenBuilder(this,config);this._add.push(config);this._toProcess++;return config},stagger:function(value,options){return StaggerBuilder(value,options)},preUpdate:function(){if(0!==this._toProcess){var list=this._destroy,active=this._active,pending=this._pending,i;for(i=0;i<list.length;i++){var tween=list[i];var idx=active.indexOf(tween);
-1===idx?(idx=pending.indexOf(tween),-1<idx&&(tween.state=TWEEN_CONST.REMOVED,pending.splice(idx,1))):(tween.state=TWEEN_CONST.REMOVED,active.splice(idx,1))}list.length=0;list=this._add;for(i=0;i<list.length;i++)tween=list[i],tween.state===TWEEN_CONST.PENDING_ADD&&(tween.init()?(tween.play(),this._active.push(tween)):this._pending.push(tween));this._toProcess=list.length=0}},update:function(timestamp,delta){var list=this._active;delta*=this.timeScale;for(var i=0;i<list.length;i++){var tween=list[i];
tween.update(timestamp,delta)&&(this._destroy.push(tween),this._toProcess++)}},remove:function(tween){ArrayRemove(this._add,tween);ArrayRemove(this._pending,tween);ArrayRemove(this._active,tween);ArrayRemove(this._destroy,tween);tween.state=TWEEN_CONST.REMOVED;return this},makeActive:function(tween){if(-1!==this._add.indexOf(tween)||-1!==this._active.indexOf(tween))return this;var idx=this._pending.indexOf(tween);-1!==idx&&this._pending.splice(idx,1);this._add.push(tween);tween.state=TWEEN_CONST.PENDING_ADD;
this._toProcess++;return this},each:function(callback,scope){for(var args=[null],i=1;i<arguments.length;i++)args.push(arguments[i]);for(var texture in this.list)args[0]=this.list[texture],callback.apply(scope,args)},getAllTweens:function(){for(var list=this._active,output=[],i=0;i<list.length;i++)output.push(list[i]);return output},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(target,includePending){void 0===includePending&&(includePending=!1);var list=this._active,output=
[],i,t;Array.isArray(target)||(target=[target]);for(i=0;i<list.length;i++){var tween=list[i];for(t=0;t<target.length;t++)tween.hasTarget(target[t])&&output.push(tween)}if(includePending)for(list=this._pending,i=0;i<list.length;i++)for(tween=list[i],t=0;t<target.length;t++)tween.hasTarget(target[t])&&output.push(tween);return output},isTweening:function(target){for(var list=this._active,tween,i=0;i<list.length;i++)if(tween=list[i],tween.hasTarget(target)&&tween.isPlaying())return!0;return!1},killAll:function(){for(var tweens=
this.getAllTweens(),i=0;i<tweens.length;i++)tweens[i].stop();return this},killTweensOf:function(target){target=this.getTweensOf(target);for(var i=0;i<target.length;i++)target[i].stop();return this},pauseAll:function(){for(var list=this._active,i=0;i<list.length;i++)list[i].pause();return this},resumeAll:function(){for(var list=this._active,i=0;i<list.length;i++)list[i].resume();return this},setGlobalTimeScale:function(value){this.timeScale=value;return this},shutdown:function(){this.killAll();this._add=
[];this._pending=[];this._active=[];this._destroy=[];this._toProcess=0;var eventEmitter=this.systems.events;eventEmitter.off(SceneEvents.PRE_UPDATE,this.preUpdate,this);eventEmitter.off(SceneEvents.UPDATE,this.update,this);eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.scene.sys.events.off(SceneEvents.START,this.start,this);this.systems=this.scene=null}});exports.register("TweenManager",__webpack_require__,"tweens");module.exports=__webpack_require__},
function(module,exports,__webpack_require__){module.exports={Array:__webpack_require__(205),Base64:__webpack_require__(1475),Objects:__webpack_require__(1477),String:__webpack_require__(1481),NOOP:__webpack_require__(1)}},function(module,exports,__webpack_require__){module.exports={ArrayBufferToBase64:__webpack_require__(1476),Base64ToArrayBuffer:__webpack_require__(427)}},function(module,exports){module.exports=function(arrayBuffer,mediaType){arrayBuffer=new Uint8Array(arrayBuffer);var len=arrayBuffer.length;
mediaType=mediaType?"data:"+mediaType+";base64,":"";for(var i=0;i<len;i+=3)mediaType+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[arrayBuffer[i]>>2],mediaType+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(arrayBuffer[i]&3)<<4|arrayBuffer[i+1]>>4],mediaType+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(arrayBuffer[i+1]&15)<<2|arrayBuffer[i+2]>>6],mediaType+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[arrayBuffer[i+
2]&63];2===len%3?mediaType=mediaType.substring(0,mediaType.length-1)+"\x3d":1===len%3&&(mediaType=mediaType.substring(0,mediaType.length-2)+"\x3d\x3d");return mediaType}},function(module,exports,__webpack_require__){module.exports={Clone:__webpack_require__(77),DeepCopy:__webpack_require__(172),Extend:__webpack_require__(17),GetAdvancedValue:__webpack_require__(13),GetFastValue:__webpack_require__(2),GetMinMaxValue:__webpack_require__(1478),GetValue:__webpack_require__(6),HasAll:__webpack_require__(1479),
HasAny:__webpack_require__(449),HasValue:__webpack_require__(125),IsPlainObject:__webpack_require__(7),Merge:__webpack_require__(143),MergeRight:__webpack_require__(1480),Pick:__webpack_require__(567),SetValue:__webpack_require__(472)}},function(module,exports,__webpack_require__){var GetValue=__webpack_require__(6),Clamp=__webpack_require__(18);module.exports=function(source,key,min,max,defaultValue){void 0===defaultValue&&(defaultValue=min);source=GetValue(source,key,defaultValue);return Clamp(source,
min,max)}},function(module,exports){module.exports=function(source,keys){for(var i=0;i<keys.length;i++)if(!source.hasOwnProperty(keys[i]))return!1;return!0}},function(module,exports,__webpack_require__){var Clone=__webpack_require__(77);module.exports=function(obj1,obj2){obj1=Clone(obj1);for(var key in obj2)obj1.hasOwnProperty(key)&&(obj1[key]=obj2[key]);return obj1}},function(module,exports,__webpack_require__){module.exports={Format:__webpack_require__(1482),Pad:__webpack_require__(183),RemoveAt:__webpack_require__(1483),
Reverse:__webpack_require__(1484),UppercaseFirst:__webpack_require__(202),UUID:__webpack_require__(219)}},function(module,exports){module.exports=function(string,values){return string.replace(/%([0-9]+)/g,function(s,n){return values[Number(n)-1]})}},function(module,exports){module.exports=function(string,index){return 0===index?string.slice(1):string.slice(0,index-1)+string.slice(index)}},function(module,exports){module.exports=function(string){return string.split("").reverse().join("")}},function(module,
exports,__webpack_require__){module.exports={SoundManagerCreator:__webpack_require__(420),Events:__webpack_require__(69),BaseSound:__webpack_require__(145),BaseSoundManager:__webpack_require__(144),WebAudioSound:__webpack_require__(428),WebAudioSoundManager:__webpack_require__(426),HTML5AudioSound:__webpack_require__(423),HTML5AudioSoundManager:__webpack_require__(421),NoAudioSound:__webpack_require__(425),NoAudioSoundManager:__webpack_require__(424)}},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var Vector2=__webpack_require__(3);__webpack_require__=new exports({initialize:function(){this.boundsCenter=new Vector2;this.centerDiff=new Vector2},parseBody:function(body){body=body.hasOwnProperty("body")?body.body:body;if(!body.hasOwnProperty("bounds")||!body.hasOwnProperty("centerOfMass"))return!1;var boundsCenter=this.boundsCenter,centerDiff=this.centerDiff,boundsWidth=body.bounds.max.x-body.bounds.min.x,boundsHeight=body.bounds.max.y-body.bounds.min.y,bodyCenterX=boundsWidth*
body.centerOfMass.x;body=boundsHeight*body.centerOfMass.y;boundsCenter.set(boundsWidth/2,boundsHeight/2);centerDiff.set(bodyCenterX-boundsCenter.x,body-boundsCenter.y);return!0},getTopLeft:function(body,x,y){void 0===x&&(x=0);void 0===y&&(y=0);if(this.parseBody(body)){body=this.boundsCenter;var diff=this.centerDiff;return new Vector2(x+body.x+diff.x,y+body.y+diff.y)}return!1},getTopCenter:function(body,x,y){void 0===x&&(x=0);void 0===y&&(y=0);return this.parseBody(body)?(body=this.centerDiff,new Vector2(x+
body.x,y+this.boundsCenter.y+body.y)):!1},getTopRight:function(body,x,y){void 0===x&&(x=0);void 0===y&&(y=0);if(this.parseBody(body)){body=this.boundsCenter;var diff=this.centerDiff;return new Vector2(x-(body.x-diff.x),y+body.y+diff.y)}return!1},getLeftCenter:function(body,x,y){void 0===x&&(x=0);void 0===y&&(y=0);return this.parseBody(body)?(body=this.centerDiff,new Vector2(x+this.boundsCenter.x+body.x,y+body.y)):!1},getCenter:function(body,x,y){void 0===x&&(x=0);void 0===y&&(y=0);return this.parseBody(body)?
(body=this.centerDiff,new Vector2(x+body.x,y+body.y)):!1},getRightCenter:function(body,x,y){void 0===x&&(x=0);void 0===y&&(y=0);return this.parseBody(body)?(body=this.centerDiff,new Vector2(x-(this.boundsCenter.x-body.x),y+body.y)):!1},getBottomLeft:function(body,x,y){void 0===x&&(x=0);void 0===y&&(y=0);if(this.parseBody(body)){body=this.boundsCenter;var diff=this.centerDiff;return new Vector2(x+body.x+diff.x,y-(body.y-diff.y))}return!1},getBottomCenter:function(body,x,y){void 0===x&&(x=0);void 0===
y&&(y=0);return this.parseBody(body)?(body=this.centerDiff,new Vector2(x+body.x,y-(this.boundsCenter.y-body.y))):!1},getBottomRight:function(body,x,y){void 0===x&&(x=0);void 0===y&&(y=0);if(this.parseBody(body)){body=this.boundsCenter;var diff=this.centerDiff;return new Vector2(x-(body.x-diff.x),y-(body.y-diff.y))}return!1}});module.exports=__webpack_require__},function(module,exports){function lineSegmentsIntersect(p1,p2,q1,q2){var dx=p2[0]-p1[0];p2=p2[1]-p1[1];var da=q2[0]-q1[0],db=q2[1]-q1[1];
if(0===da*p2-db*dx)return!1;q2=(dx*(q1[1]-p1[1])+p2*(p1[0]-q1[0]))/(da*p2-db*dx);p1=(da*(p1[1]-q1[1])+db*(q1[0]-p1[0]))/(db*dx-da*p2);return 0<=q2&&1>=q2&&0<=p1&&1>=p1}function triangleArea(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1])}function isLeft(a,b,c){return 0<triangleArea(a,b,c)}function isLeftOn(a,b,c){return 0<=triangleArea(a,b,c)}function isRightOn(a,b,c){return 0>=triangleArea(a,b,c)}function sqdist(a,b){var dx=b[0]-a[0];a=b[1]-a[1];return dx*dx+a*a}function polygonAt(polygon,
i){var s=polygon.length;return polygon[0>i?i%s+s:i%s]}function polygonAppend(polygon,poly,from,to){for(;from<to;from++)polygon.push(poly[from])}function polygonIsReflex(polygon,i){var a=polygonAt(polygon,i-1),b=polygonAt(polygon,i);polygon=polygonAt(polygon,i+1);return 0>triangleArea(a,b,polygon)}function polygonCopy(polygon,i,j,targetPoly){targetPoly=targetPoly||[];targetPoly.length=0;if(i<j)for(var k=i;k<=j;k++)targetPoly.push(polygon[k]);else{for(k=0;k<=j;k++)targetPoly.push(polygon[k]);for(k=
i;k<polygon.length;k++)targetPoly.push(polygon[k])}return targetPoly}function polygonGetCutEdges(polygon){for(var min=[],tmp1,tmp2,tmpPoly=[],nDiags=Number.MAX_VALUE,i=0;i<polygon.length;++i)if(polygonIsReflex(polygon,i))for(var j=0;j<polygon.length;++j){a:{tmp2=polygon;var a=i,b=j,l1=tmpLine1,l2=tmpLine2;if(isLeftOn(polygonAt(tmp2,a+1),polygonAt(tmp2,a),polygonAt(tmp2,b))&&isRightOn(polygonAt(tmp2,a-1),polygonAt(tmp2,a),polygonAt(tmp2,b)))tmp1=!1;else{tmp1=sqdist(polygonAt(tmp2,a),polygonAt(tmp2,
b));for(var i$jscomp$0=0;i$jscomp$0!==tmp2.length;++i$jscomp$0)if((i$jscomp$0+1)%tmp2.length!==a&&i$jscomp$0!==a&&isLeftOn(polygonAt(tmp2,a),polygonAt(tmp2,b),polygonAt(tmp2,i$jscomp$0+1))&&isRightOn(polygonAt(tmp2,a),polygonAt(tmp2,b),polygonAt(tmp2,i$jscomp$0))){l1[0]=polygonAt(tmp2,a);l1[1]=polygonAt(tmp2,b);l2[0]=polygonAt(tmp2,i$jscomp$0);l2[1]=polygonAt(tmp2,i$jscomp$0+1);var i$jscomp$1=[0,0];var a1=l1[1][1]-l1[0][1];var b1=l1[0][0]-l1[1][0];var c1=a1*l1[0][0]+b1*l1[0][1];var a2=l2[1][1]-l2[0][1];
var b2=l2[0][0]-l2[1][0];var c2=a2*l2[0][0]+b2*l2[0][1];var p=a1*b2-a2*b1;0>=Math.abs(p-0)||(i$jscomp$1[0]=(b2*c1-b1*c2)/p,i$jscomp$1[1]=(a1*c2-a2*c1)/p);p=i$jscomp$1;if(sqdist(polygonAt(tmp2,a),p)<tmp1){tmp1=!1;break a}}tmp1=!0}}if(tmp1){tmp1=polygonGetCutEdges(polygonCopy(polygon,i,j,tmpPoly));tmp2=polygonGetCutEdges(polygonCopy(polygon,j,i,tmpPoly));for(a=0;a<tmp2.length;a++)tmp1.push(tmp2[a]);tmp1.length<nDiags&&(min=tmp1,nDiags=tmp1.length,min.push([polygonAt(polygon,i),polygonAt(polygon,j)]))}}return min}
function polygonSlice(polygon,cutEdges){if(0===cutEdges.length)return[polygon];if(cutEdges instanceof Array&&cutEdges.length&&cutEdges[0]instanceof Array&&2===cutEdges[0].length&&cutEdges[0][0]instanceof Array){polygon=[polygon];for(var i=0;i<cutEdges.length;i++)for(var cutEdge=cutEdges[i],j=0;j<polygon.length;j++){var result=polygonSlice(polygon[j],cutEdge);if(result){polygon.splice(j,1);polygon.push(result[0],result[1]);break}}return polygon}cutEdge=cutEdges;i=polygon.indexOf(cutEdge[0]);j=polygon.indexOf(cutEdge[1]);
return-1!==i&&-1!==j?[polygonCopy(polygon,i,j),polygonCopy(polygon,j,i)]:!1}function getIntersectionPoint(p1,p2,q1,q2,delta){var a1=p2[1]-p1[1];p2=p1[0]-p2[0];p1=a1*p1[0]+p2*p1[1];var a2=q2[1]-q1[1];q2=q1[0]-q2[0];q1=a2*q1[0]+q2*q1[1];var det=a1*q2-a2*p2;return Math.abs(det-0)<=(delta||0)?[0,0]:[(q2*p1-p2*q1)/det,(a1*q1-a2*p1)/det]}function polygonQuickDecomp(polygon,result,reflexVertices,steinerPoints,delta,maxlevel,level){maxlevel=maxlevel||100;level=level||0;delta=delta||25;result="undefined"!==
typeof result?result:[];reflexVertices=reflexVertices||[];steinerPoints=steinerPoints||[];var upperInt=[0,0],lowerInt=[0,0],p=[0,0],lowerDist,upperIndex=0,lowerIndex=0,closestIndex=0,lowerPoly=[],upperPoly=[];if(3>polygon.length)return result;level++;if(level>maxlevel)return console.warn("quickDecomp: max level ("+maxlevel+") reached."),result;for(var i=0;i<polygon.length;++i)if(polygonIsReflex(polygon,i)){reflexVertices.push(polygon[i]);var upperDist=lowerDist=Number.MAX_VALUE;for(var j=0;j<polygon.length;++j){if(isLeft(polygonAt(polygon,
i-1),polygonAt(polygon,i),polygonAt(polygon,j))&&isRightOn(polygonAt(polygon,i-1),polygonAt(polygon,i),polygonAt(polygon,j-1))){p=getIntersectionPoint(polygonAt(polygon,i-1),polygonAt(polygon,i),polygonAt(polygon,j),polygonAt(polygon,j-1));var d=polygonAt(polygon,i+1);var b=polygonAt(polygon,i);0>triangleArea(d,b,p)&&(d=sqdist(polygon[i],p),d<lowerDist&&(lowerDist=d,lowerInt=p,lowerIndex=j))}isLeft(polygonAt(polygon,i+1),polygonAt(polygon,i),polygonAt(polygon,j+1))&&isRightOn(polygonAt(polygon,i+
1),polygonAt(polygon,i),polygonAt(polygon,j))&&(p=getIntersectionPoint(polygonAt(polygon,i+1),polygonAt(polygon,i),polygonAt(polygon,j),polygonAt(polygon,j+1)),isLeft(polygonAt(polygon,i-1),polygonAt(polygon,i),p)&&(d=sqdist(polygon[i],p),d<upperDist&&(upperDist=d,upperInt=p,upperIndex=j)))}if(lowerIndex===(upperIndex+1)%polygon.length)p[0]=(lowerInt[0]+upperInt[0])/2,p[1]=(lowerInt[1]+upperInt[1])/2,steinerPoints.push(p),i<upperIndex?(polygonAppend(lowerPoly,polygon,i,upperIndex+1),lowerPoly.push(p),
upperPoly.push(p),0!==lowerIndex&&polygonAppend(upperPoly,polygon,lowerIndex,polygon.length),polygonAppend(upperPoly,polygon,0,i+1)):(0!==i&&polygonAppend(lowerPoly,polygon,i,polygon.length),polygonAppend(lowerPoly,polygon,0,upperIndex+1),lowerPoly.push(p),upperPoly.push(p),polygonAppend(upperPoly,polygon,lowerIndex,i+1));else{lowerIndex>upperIndex&&(upperIndex+=polygon.length);upperInt=Number.MAX_VALUE;if(upperIndex<lowerIndex)return result;for(j=lowerIndex;j<=upperIndex;++j)if(isLeftOn(polygonAt(polygon,
i-1),polygonAt(polygon,i),polygonAt(polygon,j))&&isRightOn(polygonAt(polygon,i+1),polygonAt(polygon,i),polygonAt(polygon,j))){d=sqdist(polygonAt(polygon,i),polygonAt(polygon,j));if(lowerIndex=d<upperInt)a:{lowerIndex=polygon;lowerInt=i;p=j;for(upperDist=0;upperDist!==lowerIndex.length;++upperDist)if(upperDist!==lowerInt&&upperDist!==p&&(upperDist+1)%lowerIndex.length!==lowerInt&&(upperDist+1)%lowerIndex.length!==p&&lineSegmentsIntersect(polygonAt(lowerIndex,lowerInt),polygonAt(lowerIndex,p),polygonAt(lowerIndex,
upperDist),polygonAt(lowerIndex,upperDist+1))){lowerIndex=!1;break a}lowerIndex=!0}lowerIndex&&(upperInt=d,closestIndex=j%polygon.length)}i<closestIndex?(polygonAppend(lowerPoly,polygon,i,closestIndex+1),0!==closestIndex&&polygonAppend(upperPoly,polygon,closestIndex,polygon.length),polygonAppend(upperPoly,polygon,0,i+1)):(0!==i&&polygonAppend(lowerPoly,polygon,i,polygon.length),polygonAppend(lowerPoly,polygon,0,closestIndex+1),polygonAppend(upperPoly,polygon,closestIndex,i+1))}lowerPoly.length<upperPoly.length?
(polygonQuickDecomp(lowerPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level),polygonQuickDecomp(upperPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level)):(polygonQuickDecomp(upperPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level),polygonQuickDecomp(lowerPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level));return result}result.push(polygon);return result}module.exports={decomp:function(polygon){var edges=polygonGetCutEdges(polygon);return 0<edges.length?
polygonSlice(polygon,edges):[polygon]},quickDecomp:polygonQuickDecomp,isSimple:function(polygon){var i;for(i=0;i<polygon.length-1;i++)for(var j=0;j<i-1;j++)if(lineSegmentsIntersect(polygon[i],polygon[i+1],polygon[j],polygon[j+1]))return!1;for(i=1;i<polygon.length-2;i++)if(lineSegmentsIntersect(polygon[0],polygon[polygon.length-1],polygon[i],polygon[i+1]))return!1;return!0},removeCollinearPoints:function(polygon,precision){for(var num=0,i=polygon.length-1;3<polygon.length&&0<=i;--i){var JSCompiler_inline_result=
polygonAt(polygon,i-1);var b=polygonAt(polygon,i),c=polygonAt(polygon,i+1),thresholdAngle=precision;if(thresholdAngle){var ab=tmpPoint1,bc=tmpPoint2;ab[0]=b[0]-JSCompiler_inline_result[0];ab[1]=b[1]-JSCompiler_inline_result[1];bc[0]=c[0]-b[0];bc[1]=c[1]-b[1];JSCompiler_inline_result=Math.acos((ab[0]*bc[0]+ab[1]*bc[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bc[0]*bc[0]+bc[1]*bc[1])))<thresholdAngle}else JSCompiler_inline_result=0===triangleArea(JSCompiler_inline_result,b,c);JSCompiler_inline_result&&
(polygon.splice(i%polygon.length,1),num++)}return num},removeDuplicatePoints:function(polygon,precision$jscomp$0){for(var i=polygon.length-1;1<=i;--i)for(var pi=polygon[i],j=i-1;0<=j;--j){var a=pi,b=polygon[j],precision=precision$jscomp$0;Math.abs(a[0]-b[0])<=(precision||0)&&Math.abs(a[1]-b[1])<=(precision||0)&&polygon.splice(i,1)}},makeCCW:function(polygon){for(var br=0,i=1;i<polygon.length;++i)if(polygon[i][1]<polygon[br][1]||polygon[i][1]===polygon[br][1]&&polygon[i][0]>polygon[br][0])br=i;if(isLeft(polygonAt(polygon,
br-1),polygonAt(polygon,br),polygonAt(polygon,br+1)))return!1;br=[];i=polygon.length;for(var i$jscomp$0=0;i$jscomp$0!==i;i$jscomp$0++)br.push(polygon.pop());for(i$jscomp$0=0;i$jscomp$0!==i;i$jscomp$0++)polygon[i$jscomp$0]=br[i$jscomp$0];return!0}};var tmpPoint1=[],tmpPoint2=[],tmpLine1=[],tmpLine2=[]},function(module,exports,__webpack_require__){var Bodies=__webpack_require__(126);exports=__webpack_require__(0);var Composites=__webpack_require__(1388),Constraint=__webpack_require__(246),Svg=__webpack_require__(1389),
MatterGameObject=__webpack_require__(1489),MatterImage=__webpack_require__(1490),MatterSprite=__webpack_require__(1491),MatterTileBody=__webpack_require__(1390),PhysicsEditorParser=__webpack_require__(1386),PhysicsJSONParser=__webpack_require__(1387),PointerConstraint=__webpack_require__(1492),Vertices=__webpack_require__(94);__webpack_require__=new exports({initialize:function(world){this.world=world;this.scene=world.scene;this.sys=world.scene.sys},rectangle:function(x,y,width,height,options){x=
Bodies.rectangle(x,y,width,height,options);this.world.add(x);return x},trapezoid:function(x,y,width,height,slope,options){x=Bodies.trapezoid(x,y,width,height,slope,options);this.world.add(x);return x},circle:function(x,y,radius,options,maxSides){x=Bodies.circle(x,y,radius,options,maxSides);this.world.add(x);return x},polygon:function(x,y,sides,radius,options){x=Bodies.polygon(x,y,sides,radius,options);this.world.add(x);return x},fromVertices:function(x,y,vertexSets,options,flagInternal,removeCollinear,
minimumArea){"string"===typeof vertexSets&&(vertexSets=Vertices.fromPath(vertexSets));x=Bodies.fromVertices(x,y,vertexSets,options,flagInternal,removeCollinear,minimumArea);this.world.add(x);return x},fromPhysicsEditor:function(x,y,config,options,addToWorld){void 0===addToWorld&&(addToWorld=!0);x=PhysicsEditorParser.parseBody(x,y,config,options);addToWorld&&!this.world.has(x)&&this.world.add(x);return x},fromSVG:function(x,y,xml,scale,options,addToWorld){void 0===scale&&(scale=1);void 0===options&&
(options={});void 0===addToWorld&&(addToWorld=!0);xml=xml.getElementsByTagName("path");for(var vertexSets=[],i=0;i<xml.length;i++){var points=Svg.pathToVertices(xml[i],30);1!==scale&&Vertices.scale(points,scale,scale);vertexSets.push(points)}x=Bodies.fromVertices(x,y,vertexSets,options);addToWorld&&this.world.add(x);return x},fromJSON:function(x,y,config,options,addToWorld){void 0===options&&(options={});void 0===addToWorld&&(addToWorld=!0);(x=PhysicsJSONParser.parseBody(x,y,config,options))&&addToWorld&&
this.world.add(x);return x},imageStack:function(key,frame,x$jscomp$0,y$jscomp$0,columns,rows,columnGap,rowGap,options){void 0===columnGap&&(columnGap=0);void 0===rowGap&&(rowGap=0);void 0===options&&(options={});var world=this.world,displayList=this.sys.displayList;options.addToWorld=!1;x$jscomp$0=Composites.stack(x$jscomp$0,y$jscomp$0,columns,rows,columnGap,rowGap,function(x,y){x=new MatterImage(world,x,y,key,frame,options);displayList.add(x);return x.body});world.add(x$jscomp$0);return x$jscomp$0},
stack:function(x,y,columns,rows,columnGap,rowGap,callback){x=Composites.stack(x,y,columns,rows,columnGap,rowGap,callback);this.world.add(x);return x},pyramid:function(x,y,columns,rows,columnGap,rowGap,callback){x=Composites.pyramid(x,y,columns,rows,columnGap,rowGap,callback);this.world.add(x);return x},chain:function(composite,xOffsetA,yOffsetA,xOffsetB,yOffsetB,options){return Composites.chain(composite,xOffsetA,yOffsetA,xOffsetB,yOffsetB,options)},mesh:function(composite,columns,rows,crossBrace,
options){return Composites.mesh(composite,columns,rows,crossBrace,options)},newtonsCradle:function(x,y,number,size,length){x=Composites.newtonsCradle(x,y,number,size,length);this.world.add(x);return x},car:function(x,y,width,height,wheelSize){x=Composites.car(x,y,width,height,wheelSize);this.world.add(x);return x},softBody:function(x,y,columns,rows,columnGap,rowGap,crossBrace,particleRadius,particleOptions,constraintOptions){x=Composites.softBody(x,y,columns,rows,columnGap,rowGap,crossBrace,particleRadius,
particleOptions,constraintOptions);this.world.add(x);return x},joint:function(bodyA,bodyB,length,stiffness,options){return this.constraint(bodyA,bodyB,length,stiffness,options)},spring:function(bodyA,bodyB,length,stiffness,options){return this.constraint(bodyA,bodyB,length,stiffness,options)},constraint:function(bodyA,bodyB,length,stiffness,options){void 0===stiffness&&(stiffness=1);void 0===options&&(options={});options.bodyA="body"===bodyA.type?bodyA:bodyA.body;options.bodyB="body"===bodyB.type?
bodyB:bodyB.body;isNaN(length)||(options.length=length);options.stiffness=stiffness;bodyA=Constraint.create(options);this.world.add(bodyA);return bodyA},worldConstraint:function(body,length,stiffness,options){void 0===stiffness&&(stiffness=1);void 0===options&&(options={});options.bodyB="body"===body.type?body:body.body;isNaN(length)||(options.length=length);options.stiffness=stiffness;body=Constraint.create(options);this.world.add(body);return body},mouseSpring:function(options){return this.pointerConstraint(options)},
pointerConstraint:function(options){void 0===options&&(options={});options.hasOwnProperty("render")||(options.render={visible:!1});options=new PointerConstraint(this.scene,this.world,options);this.world.add(options.constraint);return options},image:function(x,y,key,frame,options){x=new MatterImage(this.world,x,y,key,frame,options);this.sys.displayList.add(x);return x},tileBody:function(tile,options){return new MatterTileBody(this.world,tile,options)},sprite:function(x,y,key,frame,options){x=new MatterSprite(this.world,
x,y,key,frame,options);this.sys.displayList.add(x);this.sys.updateList.add(x);return x},gameObject:function(gameObject,options,addToWorld){return MatterGameObject(this.world,gameObject,options,addToWorld)},destroy:function(){this.sys=this.scene=this.world=null}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Components=__webpack_require__(534),GetFastValue=__webpack_require__(2),Vector2=__webpack_require__(3);module.exports=function(world,gameObject,options,
addToWorld){void 0===options&&(options={});void 0===addToWorld&&(addToWorld=!0);var x=gameObject.x,y=gameObject.y;gameObject.body={temp:!0,position:{x:x,y:y}};[Components.Bounce,Components.Collision,Components.Force,Components.Friction,Components.Gravity,Components.Mass,Components.Sensor,Components.SetBody,Components.Sleep,Components.Static,Components.Transform,Components.Velocity].forEach(function(mixin){for(var key in mixin){var def=mixin[key];def.get&&"function"===typeof def.get||def.set&&"function"===
typeof def.set?Object.defineProperty(gameObject,key,{get:mixin[key].get,set:mixin[key].set}):Object.defineProperty(gameObject,key,{value:mixin[key]})}});gameObject.world=world;gameObject._tempVec2=new Vector2(x,y);options.hasOwnProperty("type")&&"body"===options.type?gameObject.setExistingBody(options,addToWorld):((world=GetFastValue(options,"shape",null))||(world="rectangle"),options.addToWorld=addToWorld,gameObject.setBody(world,options));return gameObject}},function(module,exports,__webpack_require__){exports=
__webpack_require__(0);var Components=__webpack_require__(534),GameObject=__webpack_require__(15),GetFastValue=__webpack_require__(2),Image=__webpack_require__(124),Pipeline=__webpack_require__(171),Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:Image,Mixins:[Components.Bounce,Components.Collision,Components.Force,Components.Friction,Components.Gravity,Components.Mass,Components.Sensor,Components.SetBody,Components.Sleep,Components.Static,Components.Transform,Components.Velocity,
Pipeline],initialize:function(world,x,y,texture,frame,options){GameObject.call(this,world.scene,"Image");this._crop=this.resetCropObject();this.setTexture(texture,frame);this.setSizeToFrame();this.setOrigin();this.world=world;this._tempVec2=new Vector2(x,y);(world=GetFastValue(options,"shape",null))?this.setBody(world,options):this.setRectangle(this.width,this.height,options);this.setPosition(x,y);this.initPipeline()}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){var AnimationState=
__webpack_require__(162);exports=__webpack_require__(0);var Components=__webpack_require__(534),GameObject=__webpack_require__(15),GetFastValue=__webpack_require__(2),Pipeline=__webpack_require__(171),Sprite=__webpack_require__(73),Vector2=__webpack_require__(3);__webpack_require__=new exports({Extends:Sprite,Mixins:[Components.Bounce,Components.Collision,Components.Force,Components.Friction,Components.Gravity,Components.Mass,Components.Sensor,Components.SetBody,Components.Sleep,Components.Static,
Components.Transform,Components.Velocity,Pipeline],initialize:function(world,x,y,texture,frame,options){GameObject.call(this,world.scene,"Sprite");this._crop=this.resetCropObject();this.anims=new AnimationState(this);this.setTexture(texture,frame);this.setSizeToFrame();this.setOrigin();this.world=world;this._tempVec2=new Vector2(x,y);(world=GetFastValue(options,"shape",null))?this.setBody(world,options):this.setRectangle(this.width,this.height,options);this.setPosition(x,y);this.initPipeline()}});
module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Bounds=__webpack_require__(117);exports=__webpack_require__(0);var Composite=__webpack_require__(163),Constraint=__webpack_require__(246),Detector=__webpack_require__(587),Events=__webpack_require__(586),InputEvents=__webpack_require__(49),Merge=__webpack_require__(143),Sleeping=__webpack_require__(267),Vector2=__webpack_require__(3),Vertices=__webpack_require__(94);__webpack_require__=new exports({initialize:function(scene,
world,options){void 0===options&&(options={});this.scene=scene;this.world=world;this.pointer=this.camera=null;this.active=!0;this.position=new Vector2;this.part=this.body=null;this.constraint=Constraint.create(Merge(options,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}}));this.world.on(Events.BEFORE_UPDATE,this.update,this);scene.sys.input.on(InputEvents.POINTER_DOWN,this.onDown,this);scene.sys.input.on(InputEvents.POINTER_UP,
this.onUp,this)},onDown:function(pointer){this.pointer||(this.pointer=pointer,this.camera=pointer.camera)},onUp:function(pointer){pointer===this.pointer&&(this.pointer=null)},getBody:function(pointer){var pos=this.position,constraint=this.constraint;this.camera.getWorldPoint(pointer.x,pointer.y,pos);pointer=Composite.allBodies(this.world.localWorld);for(var i=0;i<pointer.length;i++){var body=pointer[i];if(!body.ignorePointer&&Bounds.contains(body.bounds,pos)&&Detector.canCollide(body.collisionFilter,
constraint.collisionFilter)&&this.hitTestBody(body,pos))return this.world.emit(Events.DRAG_START,body,this.part,this),!0}return!1},hitTestBody:function(body,position){for(var constraint=this.constraint,partsLength=body.parts.length,i=1<partsLength?1:0;i<partsLength;i++){var part=body.parts[i];if(Vertices.contains(part.vertices,position))return constraint.pointA=position,constraint.pointB={x:position.x-body.position.x,y:position.y-body.position.y},constraint.bodyB=body,constraint.angleB=body.angle,
Sleeping.set(body,!1),this.part=part,this.body=body,!0}return!1},update:function(){var pointer=this.pointer,body=this.body;if(!this.active||!pointer)body&&this.stopDrag();else if(!pointer.isDown&&body)this.stopDrag();else if(pointer.isDown&&(body||this.getBody(pointer))){body=this.body;var pos=this.position,constraint=this.constraint;this.camera.getWorldPoint(pointer.x,pointer.y,pos);constraint.pointA.x=pos.x;constraint.pointA.y=pos.y;Sleeping.set(body,!1);this.world.emit(Events.DRAG,body,this)}},
stopDrag:function(){var body=this.body,constraint=this.constraint;constraint.bodyB=null;this.part=this.body=this.pointer=constraint.pointB=null;body&&this.world.emit(Events.DRAG_END,body,this)},destroy:function(){this.world.removeConstraint(this.constraint);this.part=this.body=this.constraint=this.pointer=null;this.world.off(Events.BEFORE_UPDATE,this.update);this.scene.sys.input.off(InputEvents.POINTER_DOWN,this.onDown,this);this.scene.sys.input.off(InputEvents.POINTER_UP,this.onUp,this)}});module.exports=
__webpack_require__},function(module,exports,__webpack_require__){var Matter={};module.exports=Matter;var Plugin=__webpack_require__(1392),Common=__webpack_require__(50);(function(){Matter.name="matter-js";Matter.version="0.14.2";Matter.uses=[];Matter.used=[];Matter.use=function(){Plugin.use(Matter,Array.prototype.slice.call(arguments))};Matter.before=function(path,func){path=path.replace(/^Matter./,"");return Common.chainPathBefore(Matter,path,func)};Matter.after=function(path,func){path=path.replace(/^Matter./,
"");return Common.chainPathAfter(Matter,path,func)}})()},function(module,exports,__webpack_require__){var Query={};module.exports=Query;var Vector=__webpack_require__(116),SAT=__webpack_require__(588),Bounds=__webpack_require__(117),Bodies=__webpack_require__(126),Vertices=__webpack_require__(94);(function(){Query.collides=function(body,bodies){for(var collisions=[],i=0;i<bodies.length;i++){var bodyA=bodies[i];if(body!==bodyA&&Bounds.overlaps(bodyA.bounds,body.bounds))for(var j=1===bodyA.parts.length?
0:1;j<bodyA.parts.length;j++){var part=bodyA.parts[j];if(Bounds.overlaps(part.bounds,body.bounds)&&(part=SAT.collides(part,body),part.collided)){collisions.push(part);break}}}return collisions};Query.ray=function(bodies,startPoint,endPoint,rayWidth){rayWidth=rayWidth||1E-100;var rayAngle=Vector.angle(startPoint,endPoint),rayLength=Vector.magnitude(Vector.sub(startPoint,endPoint));startPoint=Bodies.rectangle(.5*(endPoint.x+startPoint.x),.5*(endPoint.y+startPoint.y),rayLength,rayWidth,{angle:rayAngle});
bodies=Query.collides(startPoint,bodies);for(startPoint=0;startPoint<bodies.length;startPoint+=1)endPoint=bodies[startPoint],endPoint.body=endPoint.bodyB=endPoint.bodyA;return bodies};Query.region=function(bodies,bounds,outside){for(var result=[],i=0;i<bodies.length;i++){var body=bodies[i],overlaps=Bounds.overlaps(body.bounds,bounds);(overlaps&&!outside||!overlaps&&outside)&&result.push(body)}return result};Query.point=function(bodies,point){for(var result=[],i=0;i<bodies.length;i++){var body=bodies[i];
if(Bounds.contains(body.bounds,point))for(var j=1===body.parts.length?0:1;j<body.parts.length;j++){var part=body.parts[j];if(Bounds.contains(part.bounds,point)&&Vertices.contains(part.vertices,point)){result.push(body);break}}}return result}})()},function(module,exports,__webpack_require__){var Engine={};module.exports=Engine;var World=__webpack_require__(1393),Sleeping=__webpack_require__(267),Resolver=__webpack_require__(1396),Pairs=__webpack_require__(1395),Metrics=__webpack_require__(1528),Grid=
__webpack_require__(1394),Events=__webpack_require__(268),Composite=__webpack_require__(163),Constraint=__webpack_require__(246),Common=__webpack_require__(50),Body=__webpack_require__(71);(function(){Engine.create=function(element,options){options=Common.isElement(element)?options:element;element=Common.isElement(element)?element:null;options=options||{};(element||options.render)&&Common.warn("Engine.create: engine.render is deprecated (see docs)");element=Common.extend({positionIterations:6,velocityIterations:4,
constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:Grid}},options);element.world=options.world||World.create(element.world);element.pairs=Pairs.create();element.broadphase=element.broadphase.controller.create(element.broadphase);element.metrics=element.metrics||{extended:!1};element.metrics=Metrics.create(element.metrics);return element};Engine.update=function(engine,delta,correction){delta=delta||1E3/60;correction=correction||1;var world=
engine.world,timing=engine.timing,broadphase=engine.broadphase;timing.timestamp+=delta*timing.timeScale;var event={timestamp:timing.timestamp};Events.trigger(engine,"beforeUpdate",event);var allBodies=Composite.allBodies(world),allConstraints=Composite.allConstraints(world);Metrics.reset(engine.metrics);engine.enableSleeping&&Sleeping.update(allBodies,timing.timeScale);Engine._bodiesApplyGravity(allBodies,world.gravity);Engine._bodiesUpdate(allBodies,delta,timing.timeScale,correction,world.bounds);
Constraint.preSolveAll(allBodies);for(delta=0;delta<engine.constraintIterations;delta++)Constraint.solveAll(allConstraints,timing.timeScale);Constraint.postSolveAll(allBodies);broadphase.controller?(world.isModified&&broadphase.controller.clear(broadphase),broadphase.controller.update(broadphase,allBodies,engine,world.isModified),delta=broadphase.pairsList):delta=allBodies;world.isModified&&Composite.setModified(world,!1,!1,!0);broadphase=broadphase.detector(delta,engine);world=engine.pairs;delta=
timing.timestamp;Pairs.update(world,broadphase,delta);Pairs.removeOld(world,delta);engine.enableSleeping&&Sleeping.afterCollisions(world.list,timing.timeScale);0<world.collisionStart.length&&Events.trigger(engine,"collisionStart",{pairs:world.collisionStart});Resolver.preSolvePosition(world.list);for(delta=0;delta<engine.positionIterations;delta++)Resolver.solvePosition(world.list,allBodies,timing.timeScale);Resolver.postSolvePosition(allBodies);Constraint.preSolveAll(allBodies);for(delta=0;delta<
engine.constraintIterations;delta++)Constraint.solveAll(allConstraints,timing.timeScale);Constraint.postSolveAll(allBodies);Resolver.preSolveVelocity(world.list);for(delta=0;delta<engine.velocityIterations;delta++)Resolver.solveVelocity(world.list,timing.timeScale);0<world.collisionActive.length&&Events.trigger(engine,"collisionActive",{pairs:world.collisionActive});0<world.collisionEnd.length&&Events.trigger(engine,"collisionEnd",{pairs:world.collisionEnd});Metrics.update(engine.metrics,engine);
Engine._bodiesClearForces(allBodies);Events.trigger(engine,"afterUpdate",event);return engine};Engine.merge=function(engineA,engineB){Common.extend(engineA,engineB);if(engineB.world)for(engineA.world=engineB.world,Engine.clear(engineA),engineA=Composite.allBodies(engineA.world),engineB=0;engineB<engineA.length;engineB++){var body=engineA[engineB];Sleeping.set(body,!1);body.id=Common.nextId()}};Engine.clear=function(engine){var world=engine.world;Pairs.clear(engine.pairs);var broadphase=engine.broadphase;
broadphase.controller&&(world=Composite.allBodies(world),broadphase.controller.clear(broadphase),broadphase.controller.update(broadphase,world,engine,!0))};Engine._bodiesClearForces=function(bodies){for(var i=0;i<bodies.length;i++){var body=bodies[i];body.force.x=0;body.force.y=0;body.torque=0}};Engine._bodiesApplyGravity=function(bodies,gravity){var gravityScale="undefined"!==typeof gravity.scale?gravity.scale:.001;if((0!==gravity.x||0!==gravity.y)&&0!==gravityScale)for(var i=0;i<bodies.length;i++){var body=
bodies[i];body.ignoreGravity||body.isStatic||body.isSleeping||(body.force.x+=body.mass*gravity.x*gravityScale*body.gravityScale.x,body.force.y+=body.mass*gravity.y*gravityScale*body.gravityScale.y)}};Engine._bodiesUpdate=function(bodies,deltaTime,timeScale,correction,worldBounds){for(worldBounds=0;worldBounds<bodies.length;worldBounds++){var body=bodies[worldBounds];body.isStatic||body.isSleeping||Body.update(body,deltaTime,timeScale,correction)}}})()},function(module,exports,__webpack_require__){var Bodies=
__webpack_require__(126),Body=__webpack_require__(71);exports=__webpack_require__(0);var Common=__webpack_require__(50),Composite=__webpack_require__(163),Engine=__webpack_require__(1495),EventEmitter=__webpack_require__(9),Events=__webpack_require__(586),GetFastValue=__webpack_require__(2),GetValue=__webpack_require__(6),MatterBody=__webpack_require__(71),MatterEvents=__webpack_require__(268),MatterTileBody=__webpack_require__(1390),MatterWorld=__webpack_require__(1393),Vector=__webpack_require__(116);
__webpack_require__=new exports({Extends:EventEmitter,initialize:function(scene,config){EventEmitter.call(this);this.scene=scene;this.engine=Engine.create(config);this.localWorld=this.engine.world;var gravity=GetValue(config,"gravity",null);gravity?this.setGravity(gravity.x,gravity.y,gravity.scale):!1===gravity&&this.setGravity(0,0,0);this.walls={left:null,right:null,top:null,bottom:null};this.enabled=GetValue(config,"enabled",!0);this.correction=GetValue(config,"correction",1);this.getDelta=GetValue(config,
"getDelta",this.update60Hz);gravity=GetFastValue(config,"runner",{});var hasFPS=GetFastValue(gravity,"fps",!1),fps=GetFastValue(gravity,"fps",60),delta=GetFastValue(gravity,"delta",1E3/fps),deltaMin=GetFastValue(gravity,"deltaMin",1E3/fps),deltaMax=GetFastValue(gravity,"deltaMax",1E3/(.5*fps));hasFPS||(fps=1E3/delta);this.runner={fps:fps,correction:GetFastValue(gravity,"correction",1),deltaSampleSize:GetFastValue(gravity,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,
timeScalePrev:1,frameRequestId:null,isFixed:GetFastValue(gravity,"isFixed",!1),delta:delta,deltaMin:deltaMin,deltaMax:deltaMax};this.autoUpdate=GetValue(config,"autoUpdate",!0);gravity=GetValue(config,"debug",!1);this.drawDebug="object"===typeof gravity?!0:gravity;this.debugConfig={showAxes:GetFastValue(gravity,"showAxes",!1),showAngleIndicator:GetFastValue(gravity,"showAngleIndicator",!1),angleColor:GetFastValue(gravity,"angleColor",15208787),showBroadphase:GetFastValue(gravity,"showBroadphase",
!1),broadphaseColor:GetFastValue(gravity,"broadphaseColor",16757760),showBounds:GetFastValue(gravity,"showBounds",!1),boundsColor:GetFastValue(gravity,"boundsColor",16777215),showVelocity:GetFastValue(gravity,"showVelocity",!1),velocityColor:GetFastValue(gravity,"velocityColor",44783),showCollisions:GetFastValue(gravity,"showCollisions",!1),collisionColor:GetFastValue(gravity,"collisionColor",16094476),showSeparations:GetFastValue(gravity,"showSeparations",!1),separationColor:GetFastValue(gravity,
"separationColor",16753920),showBody:GetFastValue(gravity,"showBody",!0),showStaticBody:GetFastValue(gravity,"showStaticBody",!0),showInternalEdges:GetFastValue(gravity,"showInternalEdges",!1),renderFill:GetFastValue(gravity,"renderFill",!1),renderLine:GetFastValue(gravity,"renderLine",!0),fillColor:GetFastValue(gravity,"fillColor",1075465),fillOpacity:GetFastValue(gravity,"fillOpacity",1),lineColor:GetFastValue(gravity,"lineColor",2678297),lineOpacity:GetFastValue(gravity,"lineOpacity",1),lineThickness:GetFastValue(gravity,
"lineThickness",1),staticFillColor:GetFastValue(gravity,"staticFillColor",857979),staticLineColor:GetFastValue(gravity,"staticLineColor",1255396),showSleeping:GetFastValue(gravity,"showSleeping",!1),staticBodySleepOpacity:GetFastValue(gravity,"staticBodySleepOpacity",.7),sleepFillColor:GetFastValue(gravity,"sleepFillColor",4605510),sleepLineColor:GetFastValue(gravity,"sleepLineColor",10066585),showSensors:GetFastValue(gravity,"showSensors",!0),sensorFillColor:GetFastValue(gravity,"sensorFillColor",
857979),sensorLineColor:GetFastValue(gravity,"sensorLineColor",1255396),showPositions:GetFastValue(gravity,"showPositions",!0),positionSize:GetFastValue(gravity,"positionSize",4),positionColor:GetFastValue(gravity,"positionColor",14697178),showJoint:GetFastValue(gravity,"showJoint",!0),jointColor:GetFastValue(gravity,"jointColor",14737474),jointLineOpacity:GetFastValue(gravity,"jointLineOpacity",1),jointLineThickness:GetFastValue(gravity,"jointLineThickness",2),pinSize:GetFastValue(gravity,"pinSize",
4),pinColor:GetFastValue(gravity,"pinColor",4382944),springColor:GetFastValue(gravity,"springColor",14697184),anchorColor:GetFastValue(gravity,"anchorColor",15724527),anchorSize:GetFastValue(gravity,"anchorSize",4),showConvexHulls:GetFastValue(gravity,"showConvexHulls",!1),hullColor:GetFastValue(gravity,"hullColor",14091216)};this.drawDebug&&this.createDebugGraphic();this.setEventsProxy();if(GetFastValue(config,"setBounds",!1))if(fps=config.setBounds,"boolean"===typeof fps)this.setBounds();else{config=
GetFastValue(fps,"x",0);gravity=GetFastValue(fps,"y",0);hasFPS=GetFastValue(fps,"width",scene.sys.scale.width);scene=GetFastValue(fps,"height",scene.sys.scale.height);delta=GetFastValue(fps,"thickness",64);deltaMin=GetFastValue(fps,"left",!0);deltaMax=GetFastValue(fps,"right",!0);var top=GetFastValue(fps,"top",!0);fps=GetFastValue(fps,"bottom",!0);this.setBounds(config,gravity,hasFPS,scene,delta,deltaMin,deltaMax,top,fps)}},setCompositeRenderStyle:function(composite){var bodies=composite.bodies,constraints=
composite.constraints;composite=composite.composites;var i;for(i=0;i<bodies.length;i++){var obj=bodies[i];var render=obj.render;this.setBodyRenderStyle(obj,render.lineColor,render.lineOpacity,render.lineThickness,render.fillColor,render.fillOpacity)}for(i=0;i<constraints.length;i++)obj=constraints[i],render=obj.render,this.setConstraintRenderStyle(obj,render.lineColor,render.lineOpacity,render.lineThickness,render.pinSize,render.anchorColor,render.anchorSize);for(i=0;i<composite.length;i++)obj=composite[i],
this.setCompositeRenderStyle(obj);return this},setBodyRenderStyle:function(body,lineColor,lineOpacity,lineThickness,fillColor,fillOpacity){var render=body.render,config=this.debugConfig;if(!render)return this;if(void 0===lineColor||null===lineColor)lineColor=body.isStatic?config.staticLineColor:config.lineColor;if(void 0===lineOpacity||null===lineOpacity)lineOpacity=config.lineOpacity;if(void 0===lineThickness||null===lineThickness)lineThickness=config.lineThickness;if(void 0===fillColor||null===
fillColor)fillColor=body.isStatic?config.staticFillColor:config.fillColor;if(void 0===fillOpacity||null===fillOpacity)fillOpacity=config.fillOpacity;!1!==lineColor&&(render.lineColor=lineColor);!1!==lineOpacity&&(render.lineOpacity=lineOpacity);!1!==lineThickness&&(render.lineThickness=lineThickness);!1!==fillColor&&(render.fillColor=fillColor);!1!==fillOpacity&&(render.fillOpacity=fillOpacity);return this},setConstraintRenderStyle:function(constraint,lineColor,lineOpacity,lineThickness,pinSize,anchorColor,
anchorSize){constraint=constraint.render;var config=this.debugConfig;if(!constraint)return this;if(void 0===lineColor||null===lineColor){var type=constraint.type;"line"===type?lineColor=config.jointColor:"pin"===type?lineColor=config.pinColor:"spring"===type&&(lineColor=config.springColor)}if(void 0===lineOpacity||null===lineOpacity)lineOpacity=config.jointLineOpacity;if(void 0===lineThickness||null===lineThickness)lineThickness=config.jointLineThickness;if(void 0===pinSize||null===pinSize)pinSize=
config.pinSize;if(void 0===anchorColor||null===anchorColor)anchorColor=config.anchorColor;if(void 0===anchorSize||null===anchorSize)anchorSize=config.anchorSize;!1!==lineColor&&(constraint.lineColor=lineColor);!1!==lineOpacity&&(constraint.lineOpacity=lineOpacity);!1!==lineThickness&&(constraint.lineThickness=lineThickness);!1!==pinSize&&(constraint.pinSize=pinSize);!1!==anchorColor&&(constraint.anchorColor=anchorColor);!1!==anchorSize&&(constraint.anchorSize=anchorSize);return this},setEventsProxy:function(){var _this=
this,engine=this.engine,world=this.localWorld;this.drawDebug&&(MatterEvents.on(world,"compositeModified",function(composite){_this.setCompositeRenderStyle(composite)}),MatterEvents.on(world,"beforeAdd",function(event){event=[].concat(event.object);for(var i=0;i<event.length;i++){var obj=event[i],render=obj.render;"body"===obj.type?_this.setBodyRenderStyle(obj,render.lineColor,render.lineOpacity,render.lineThickness,render.fillColor,render.fillOpacity):"composite"===obj.type?_this.setCompositeRenderStyle(obj):
"constraint"===obj.type&&_this.setConstraintRenderStyle(obj,render.lineColor,render.lineOpacity,render.lineThickness,render.pinSize,render.anchorColor,render.anchorSize)}}));MatterEvents.on(world,"beforeAdd",function(event){_this.emit(Events.BEFORE_ADD,event)});MatterEvents.on(world,"afterAdd",function(event){_this.emit(Events.AFTER_ADD,event)});MatterEvents.on(world,"beforeRemove",function(event){_this.emit(Events.BEFORE_REMOVE,event)});MatterEvents.on(world,"afterRemove",function(event){_this.emit(Events.AFTER_REMOVE,
event)});MatterEvents.on(engine,"beforeUpdate",function(event){_this.emit(Events.BEFORE_UPDATE,event)});MatterEvents.on(engine,"afterUpdate",function(event){_this.emit(Events.AFTER_UPDATE,event)});MatterEvents.on(engine,"collisionStart",function(event){var pairs=event.pairs;if(0<pairs.length){var bodyA=pairs[0].bodyA;var bodyB=pairs[0].bodyB}_this.emit(Events.COLLISION_START,event,bodyA,bodyB)});MatterEvents.on(engine,"collisionActive",function(event){var pairs=event.pairs;if(0<pairs.length){var bodyA=
pairs[0].bodyA;var bodyB=pairs[0].bodyB}_this.emit(Events.COLLISION_ACTIVE,event,bodyA,bodyB)});MatterEvents.on(engine,"collisionEnd",function(event){var pairs=event.pairs;if(0<pairs.length){var bodyA=pairs[0].bodyA;var bodyB=pairs[0].bodyB}_this.emit(Events.COLLISION_END,event,bodyA,bodyB)})},setBounds:function(x,y,width,height,thickness,left,right,top,bottom){void 0===x&&(x=0);void 0===y&&(y=0);void 0===width&&(width=this.scene.sys.scale.width);void 0===height&&(height=this.scene.sys.scale.height);
void 0===thickness&&(thickness=64);void 0===left&&(left=!0);void 0===right&&(right=!0);void 0===top&&(top=!0);void 0===bottom&&(bottom=!0);this.updateWall(left,"left",x-thickness,y-thickness,thickness,height+2*thickness);this.updateWall(right,"right",x+width,y-thickness,thickness,height+2*thickness);this.updateWall(top,"top",x,y-thickness,width,thickness);this.updateWall(bottom,"bottom",x,y+height,width,thickness);return this},updateWall:function(add,position,x,y,width,height){var wall=this.walls[position];
add?(wall&&MatterWorld.remove(this.localWorld,wall),this.walls[position]=this.create(x+width/2,y+height/2,width,height,{isStatic:!0,friction:0,frictionStatic:0})):(wall&&MatterWorld.remove(this.localWorld,wall),this.walls[position]=null)},createDebugGraphic:function(){var graphic=this.scene.sys.add.graphics({x:0,y:0});graphic.setDepth(Number.MAX_VALUE);this.debugGraphic=graphic;this.drawDebug=!0;return graphic},disableGravity:function(){this.localWorld.gravity.x=0;this.localWorld.gravity.y=0;this.localWorld.gravity.scale=
0;return this},setGravity:function(x,y,scale){void 0===x&&(x=0);void 0===y&&(y=1);this.localWorld.gravity.x=x;this.localWorld.gravity.y=y;void 0!==scale&&(this.localWorld.gravity.scale=scale);return this},create:function(x,y,width,height,options){x=Bodies.rectangle(x,y,width,height,options);MatterWorld.add(this.localWorld,x);return x},add:function(object){MatterWorld.add(this.localWorld,object);return this},remove:function(object,deep){Array.isArray(object)||(object=[object]);for(var i=0;i<object.length;i++){var entity=
object[i];Composite.remove(this.localWorld,entity.body?entity.body:entity,deep)}return this},removeConstraint:function(constraint,deep){Composite.remove(this.localWorld,constraint,deep);return this},convertTilemapLayer:function(tilemapLayer,options){var layerData=tilemapLayer.layer;tilemapLayer=tilemapLayer.getTilesWithin(0,0,layerData.width,layerData.height,{isColliding:!0});this.convertTiles(tilemapLayer,options);return this},convertTiles:function(tiles,options){if(0===tiles.length)return this;
for(var i=0;i<tiles.length;i++)new MatterTileBody(this,tiles[i],options);return this},nextGroup:function(isNonColliding){return MatterBody.nextGroup(isNonColliding)},nextCategory:function(){return MatterBody.nextCategory()},pause:function(){this.enabled=!1;this.emit(Events.PAUSE);return this},resume:function(){this.enabled=!0;this.emit(Events.RESUME);return this},update:function(time,delta){if(this.enabled&&this.autoUpdate){var engine=this.engine,runner=this.runner,timing=engine.timing,correction=
this.correction;runner.isFixed?delta=this.getDelta(time,delta):(delta=time-runner.timePrev||runner.delta,runner.timePrev=time,runner.deltaHistory.push(delta),runner.deltaHistory=runner.deltaHistory.slice(-runner.deltaSampleSize),delta=Math.min.apply(null,runner.deltaHistory),delta=delta<runner.deltaMin?runner.deltaMin:delta,delta=delta>runner.deltaMax?runner.deltaMax:delta,correction=delta/runner.delta,runner.delta=delta);0!==runner.timeScalePrev&&(correction*=timing.timeScale/runner.timeScalePrev);
0===timing.timeScale&&(correction=0);runner.timeScalePrev=timing.timeScale;runner.correction=correction;runner.frameCounter+=1;1E3<=time-runner.counterTimestamp&&(runner.fps=(time-runner.counterTimestamp)/1E3*runner.frameCounter,runner.counterTimestamp=time,runner.frameCounter=0);Engine.update(engine,delta,correction)}},step:function(delta,correction){Engine.update(this.engine,delta,correction)},update60Hz:function(){return 1E3/60},update30Hz:function(){return 1E3/30},has:function(body){body=body.hasOwnProperty("body")?
body.body:body;return null!==Composite.get(this.localWorld,body.id,body.type)},getAllBodies:function(){return Composite.allBodies(this.localWorld)},getAllConstraints:function(){return Composite.allConstraints(this.localWorld)},getAllComposites:function(){return Composite.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var config=this.debugConfig,engine=this.engine,graphics=this.debugGraphic,bodies=Composite.allBodies(this.localWorld);this.debugGraphic.clear();config.showBroadphase&&
engine.broadphase.controller&&this.renderGrid(engine.broadphase,graphics,config.broadphaseColor,.5);config.showBounds&&this.renderBodyBounds(bodies,graphics,config.boundsColor,.5);(config.showBody||config.showStaticBody)&&this.renderBodies(bodies);config.showJoint&&this.renderJoints();(config.showAxes||config.showAngleIndicator)&&this.renderBodyAxes(bodies,graphics,config.showAxes,config.angleColor,.5);config.showVelocity&&this.renderBodyVelocity(bodies,graphics,config.velocityColor,1,2);config.showSeparations&&
this.renderSeparations(engine.pairs.list,graphics,config.separationColor);config.showCollisions&&this.renderCollisions(engine.pairs.list,graphics,config.collisionColor)}},renderGrid:function(grid,graphics,lineColor,lineOpacity){graphics.lineStyle(1,lineColor,lineOpacity);lineColor=Common.keys(grid.buckets);for(lineOpacity=0;lineOpacity<lineColor.length;lineOpacity++){var bucketId=lineColor[lineOpacity];2>grid.buckets[bucketId].length||(bucketId=bucketId.split(/C|R/),graphics.strokeRect(parseInt(bucketId[1],
10)*grid.bucketWidth,parseInt(bucketId[2],10)*grid.bucketHeight,grid.bucketWidth,grid.bucketHeight))}return this},renderSeparations:function(pairs,graphics,lineColor){graphics.lineStyle(1,lineColor,1);for(lineColor=0;lineColor<pairs.length;lineColor++){var pair=pairs[lineColor];if(pair.isActive){var collision=pair.collision;pair=collision.bodyA;var bodyB=collision.bodyB,posA=pair.position,posB=bodyB.position;collision=collision.penetration;var k=pair.isStatic||bodyB.isStatic?1:4;bodyB.isStatic&&(k=
0);graphics.lineBetween(posB.x,posB.y,posB.x-collision.x*k,posB.y-collision.y*k);k=pair.isStatic||bodyB.isStatic?1:4;pair.isStatic&&(k=0);graphics.lineBetween(posA.x,posA.y,posA.x-collision.x*k,posA.y-collision.y*k)}}return this},renderCollisions:function(pairs,graphics,lineColor){graphics.lineStyle(1,lineColor,.5);graphics.fillStyle(lineColor,1);for(lineColor=0;lineColor<pairs.length;lineColor++){var pair=pairs[lineColor];if(pair.isActive)for(var j=0;j<pair.activeContacts.length;j++){var vertex=
pair.activeContacts[j].vertex;graphics.fillRect(vertex.x-2,vertex.y-2,5,5)}}for(lineColor=0;lineColor<pairs.length;lineColor++)if(pair=pairs[lineColor],pair.isActive&&(j=pair.collision,pair=pair.activeContacts,0<pair.length)){vertex=pair[0].vertex.x;var normalPosY=pair[0].vertex.y;2===pair.length&&(vertex=(pair[0].vertex.x+pair[1].vertex.x)/2,normalPosY=(pair[0].vertex.y+pair[1].vertex.y)/2);j.bodyB===j.supports[0].body||j.bodyA.isStatic?graphics.lineBetween(vertex-8*j.normal.x,normalPosY-8*j.normal.y,
vertex,normalPosY):graphics.lineBetween(vertex+8*j.normal.x,normalPosY+8*j.normal.y,vertex,normalPosY)}return this},renderBodyBounds:function(bodies,graphics,lineColor,lineOpacity){graphics.lineStyle(1,lineColor,lineOpacity);for(lineColor=0;lineColor<bodies.length;lineColor++)if(lineOpacity=bodies[lineColor],lineOpacity.render.visible){var bounds=lineOpacity.bounds;if(bounds)graphics.strokeRect(bounds.min.x,bounds.min.y,bounds.max.x-bounds.min.x,bounds.max.y-bounds.min.y);else for(lineOpacity=lineOpacity.parts,
bounds=1<lineOpacity.length?1:0;bounds<lineOpacity.length;bounds++){var part=lineOpacity[bounds];graphics.strokeRect(part.bounds.min.x,part.bounds.min.y,part.bounds.max.x-part.bounds.min.x,part.bounds.max.y-part.bounds.min.y)}}return this},renderBodyAxes:function(bodies,graphics,showAxes,lineColor,lineOpacity){graphics.lineStyle(1,lineColor,lineOpacity);for(lineColor=0;lineColor<bodies.length;lineColor++){var body=bodies[lineColor];lineOpacity=body.parts;if(body.render.visible){var j,k;if(showAxes)for(j=
1<lineOpacity.length?1:0;j<lineOpacity.length;j++)for(body=lineOpacity[j],k=0;k<body.axes.length;k++){var axis=body.axes[k];graphics.lineBetween(body.position.x,body.position.y,body.position.x+20*axis.x,body.position.y+20*axis.y)}else for(j=1<lineOpacity.length?1:0;j<lineOpacity.length;j++)for(body=lineOpacity[j],k=0;k<body.axes.length;k++)graphics.lineBetween(body.position.x,body.position.y,(body.vertices[0].x+body.vertices[body.vertices.length-1].x)/2,(body.vertices[0].y+body.vertices[body.vertices.length-
1].y)/2)}}return this},renderBodyVelocity:function(bodies,graphics,lineColor,lineOpacity,lineThickness){graphics.lineStyle(lineThickness,lineColor,lineOpacity);for(lineColor=0;lineColor<bodies.length;lineColor++)lineOpacity=bodies[lineColor],lineOpacity.render.visible&&graphics.lineBetween(lineOpacity.position.x,lineOpacity.position.y,lineOpacity.position.x+2*(lineOpacity.position.x-lineOpacity.positionPrev.x),lineOpacity.position.y+2*(lineOpacity.position.y-lineOpacity.positionPrev.y));return this},
renderBodies:function(bodies){var graphics=this.debugGraphic,config=this.debugConfig,showBody=config.showBody,showStaticBody=config.showStaticBody,showSleeping=config.showSleeping,showInternalEdges=config.showInternalEdges,showConvexHulls=config.showConvexHulls,renderFill=config.renderFill,renderLine=config.renderLine,staticBodySleepOpacity=config.staticBodySleepOpacity,sleepFillColor=config.sleepFillColor,sleepLineColor=config.sleepLineColor;config=config.hullColor;for(var i=0;i<bodies.length;i++){var body=
bodies[i];if(body.render.visible&&(showStaticBody||!body.isStatic)&&(showBody||body.isStatic)){var lineColor=body.render.lineColor,lineOpacity=body.render.lineOpacity,lineThickness=body.render.lineThickness,fillColor=body.render.fillColor,fillOpacity=body.render.fillOpacity;showSleeping&&body.isSleeping&&(body.isStatic?(lineOpacity*=staticBodySleepOpacity,fillOpacity*=staticBodySleepOpacity):(lineColor=sleepLineColor,fillColor=sleepFillColor));renderFill||(fillColor=null);renderLine||(lineColor=null);
this.renderBody(body,graphics,showInternalEdges,lineColor,lineOpacity,lineThickness,fillColor,fillOpacity);lineColor=body.parts.length;showConvexHulls&&1<lineColor&&this.renderConvexHull(body,graphics,config,lineThickness)}}},renderBody:function(body,graphics,showInternalEdges,lineColor,lineOpacity,lineThickness,fillColor,fillOpacity){void 0===lineColor&&(lineColor=null);void 0===lineOpacity&&(lineOpacity=null);void 0===lineThickness&&(lineThickness=1);void 0===fillColor&&(fillColor=null);void 0===
fillOpacity&&(fillOpacity=null);for(var config=this.debugConfig,sensorFillColor=config.sensorFillColor,sensorLineColor=config.sensorLineColor,parts=body.parts,partsLength=parts.length,k=1<partsLength?1:0;k<partsLength;k++){var part=parts[k],render=part.render,opacity=render.opacity;if(render.visible&&0!==opacity&&(!part.isSensor||config.showSensors)){render=part.circleRadius;graphics.beginPath();part.isSensor?(null!==fillColor&&graphics.fillStyle(sensorFillColor,fillOpacity*opacity),null!==lineColor&&
graphics.lineStyle(lineThickness,sensorLineColor,lineOpacity*opacity)):(null!==fillColor&&graphics.fillStyle(fillColor,fillOpacity*opacity),null!==lineColor&&graphics.lineStyle(lineThickness,lineColor,lineOpacity*opacity));if(render)graphics.arc(part.position.x,part.position.y,render,0,2*Math.PI);else{part=part.vertices;opacity=part.length;graphics.moveTo(part[0].x,part[0].y);for(render=1;render<opacity;render++){var vert=part[render];!part[render-1].isInternal||showInternalEdges?graphics.lineTo(vert.x,
vert.y):graphics.moveTo(vert.x,vert.y);render<opacity&&vert.isInternal&&!showInternalEdges&&(vert=(render+1)%opacity,graphics.moveTo(part[vert].x,part[vert].y))}graphics.closePath()}null!==fillColor&&graphics.fillPath();null!==lineColor&&graphics.strokePath()}}config.showPositions&&!body.isStatic&&(showInternalEdges=body.position.x,body=body.position.y,lineColor=Math.ceil(config.positionSize/2),graphics.fillStyle(config.positionColor,1),graphics.fillRect(showInternalEdges-lineColor,body-lineColor,
config.positionSize,config.positionSize));return this},renderConvexHull:function(body,graphics,hullColor,lineThickness){void 0===lineThickness&&(lineThickness=1);if(1<body.parts.length){body=body.vertices;graphics.lineStyle(lineThickness,hullColor);graphics.beginPath();graphics.moveTo(body[0].x,body[0].y);for(hullColor=1;hullColor<body.length;hullColor++)graphics.lineTo(body[hullColor].x,body[hullColor].y);graphics.lineTo(body[0].x,body[0].y);graphics.strokePath()}return this},renderJoints:function(){for(var graphics=
this.debugGraphic,constraints=Composite.allConstraints(this.localWorld),i=0;i<constraints.length;i++){var config=constraints[i].render;this.renderConstraint(constraints[i],graphics,config.lineColor,config.lineOpacity,config.lineThickness,config.pinSize,config.anchorColor,config.anchorSize)}},renderConstraint:function(constraint,graphics,lineColor,lineOpacity,lineThickness,pinSize,anchorColor,anchorSize){var render=constraint.render;if(!render.visible||!constraint.pointA||!constraint.pointB)return this;
graphics.lineStyle(lineThickness,lineColor,lineOpacity);lineColor=constraint.bodyA;lineOpacity=constraint.bodyB;lineColor=lineColor?Vector.add(lineColor.position,constraint.pointA):constraint.pointA;if("pin"===render.type)graphics.strokeCircle(lineColor.x,lineColor.y,pinSize);else{var end=lineOpacity?Vector.add(lineOpacity.position,constraint.pointB):constraint.pointB;graphics.beginPath();graphics.moveTo(lineColor.x,lineColor.y);if("spring"===render.type){pinSize=Vector.sub(end,lineColor);lineOpacity=
Vector.perp(Vector.normalise(pinSize));constraint=Math.ceil(Common.clamp(constraint.length/5,12,20));for(var j=1;j<constraint;j+=1)lineThickness=0===j%2?1:-1,graphics.lineTo(lineColor.x+j/constraint*pinSize.x+lineOpacity.x*lineThickness*4,lineColor.y+j/constraint*pinSize.y+lineOpacity.y*lineThickness*4)}graphics.lineTo(end.x,end.y)}graphics.strokePath();render.anchors&&0<anchorSize&&(graphics.fillStyle(anchorColor),graphics.fillCircle(lineColor.x,lineColor.y,anchorSize),graphics.fillCircle(end.x,
end.y,anchorSize));return this},resetCollisionIDs:function(){Body._nextCollidingGroupId=1;Body._nextNonCollidingGroupId=-1;Body._nextCategory=1;return this},shutdown:function(){MatterEvents.off(this.engine);this.removeAllListeners();MatterWorld.clear(this.localWorld,!1);Engine.clear(this.engine);this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});module.exports=__webpack_require__},function(module,exports,__webpack_require__){exports=__webpack_require__(589);__webpack_require__(590);
var CONST=__webpack_require__(32),Extend=__webpack_require__(17),Phaser={Actions:__webpack_require__(269),Animations:__webpack_require__(699),BlendModes:__webpack_require__(34),Cache:__webpack_require__(711),Cameras:__webpack_require__(714),Core:__webpack_require__(803),Class:__webpack_require__(0),Create:__webpack_require__(884),Curves:__webpack_require__(890),Data:__webpack_require__(892),Display:__webpack_require__(894),DOM:__webpack_require__(913),Events:__webpack_require__(914),Game:__webpack_require__(916),
GameObjects:__webpack_require__(1007),Geom:__webpack_require__(477),Input:__webpack_require__(1302),Loader:__webpack_require__(1332),Math:__webpack_require__(190),Physics:__webpack_require__(1498),Plugins:__webpack_require__(1397),Renderer:__webpack_require__(1399),Scale:__webpack_require__(1406),ScaleModes:__webpack_require__(164),Scene:__webpack_require__(412),Scenes:__webpack_require__(1407),Structs:__webpack_require__(1409),Textures:__webpack_require__(1410),Tilemaps:__webpack_require__(1412),
Time:__webpack_require__(1454),Tweens:__webpack_require__(1456),Utils:__webpack_require__(1474)};Phaser.Sound=__webpack_require__(1485);Phaser=Extend(!1,Phaser,CONST);module.exports=Phaser;exports.Phaser=Phaser},function(module,exports,__webpack_require__){module.exports={Arcade:__webpack_require__(1360),Matter:__webpack_require__(1499)}},function(module,exports,__webpack_require__){module.exports={BodyBounds:__webpack_require__(1486),Components:__webpack_require__(534),Events:__webpack_require__(586),
Factory:__webpack_require__(1488),MatterGameObject:__webpack_require__(1489),Image:__webpack_require__(1490),Matter:__webpack_require__(1391),MatterPhysics:__webpack_require__(1529),PolyDecomp:__webpack_require__(1487),Sprite:__webpack_require__(1491),TileBody:__webpack_require__(1390),PhysicsEditorParser:__webpack_require__(1386),PhysicsJSONParser:__webpack_require__(1387),PointerConstraint:__webpack_require__(1492),World:__webpack_require__(1496)}},function(module,exports){module.exports={setBounce:function(value){this.body.restitution=
value;return this}}},function(module,exports){module.exports={setCollisionCategory:function(value){this.body.collisionFilter.category=value;return this},setCollisionGroup:function(value){this.body.collisionFilter.group=value;return this},setCollidesWith:function(categories){var flags=0;if(Array.isArray(categories))for(var i=0;i<categories.length;i++)flags|=categories[i];else flags=categories;this.body.collisionFilter.mask=flags;return this},setOnCollide:function(callback){this.body.onCollideCallback=
callback;return this},setOnCollideEnd:function(callback){this.body.onCollideEndCallback=callback;return this},setOnCollideActive:function(callback){this.body.onCollideActiveCallback=callback;return this},setOnCollideWith:function(body,callback){Array.isArray(body)||(body=[body]);for(var i=0;i<body.length;i++){var src=body[i].hasOwnProperty("body")?body[i].body:body[i];this.body.setOnCollideWith(src,callback)}return this}}},function(module,exports,__webpack_require__){var Body=__webpack_require__(71);
module.exports={applyForce:function(force){this._tempVec2.set(this.body.position.x,this.body.position.y);Body.applyForce(this.body,this._tempVec2,force);return this},applyForceFrom:function(position,force){Body.applyForce(this.body,position,force);return this},thrust:function(speed){var angle=this.body.angle;this._tempVec2.set(speed*Math.cos(angle),speed*Math.sin(angle));Body.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustLeft:function(speed){var angle=
this.body.angle-Math.PI/2;this._tempVec2.set(speed*Math.cos(angle),speed*Math.sin(angle));Body.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustRight:function(speed){var angle=this.body.angle+Math.PI/2;this._tempVec2.set(speed*Math.cos(angle),speed*Math.sin(angle));Body.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustBack:function(speed){var angle=this.body.angle-Math.PI;this._tempVec2.set(speed*
Math.cos(angle),speed*Math.sin(angle));Body.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this}}},function(module,exports){module.exports={setFriction:function(value,air,fstatic){this.body.friction=value;void 0!==air&&(this.body.frictionAir=air);void 0!==fstatic&&(this.body.frictionStatic=fstatic);return this},setFrictionAir:function(value){this.body.frictionAir=value;return this},setFrictionStatic:function(value){this.body.frictionStatic=value;return this}}},
function(module,exports){module.exports={setIgnoreGravity:function(value){this.body.ignoreGravity=value;return this}}},function(module,exports,__webpack_require__){var Body=__webpack_require__(71),Vector2=__webpack_require__(3);module.exports={setMass:function(value){Body.setMass(this.body,value);return this},setDensity:function(value){Body.setDensity(this.body,value);return this},centerOfMass:{get:function(){return new Vector2(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},function(module,
exports){module.exports={setSensor:function(value){this.body.isSensor=value;return this},isSensor:function(){return this.body.isSensor}}},function(module,exports,__webpack_require__){var Bodies=__webpack_require__(126),Body=__webpack_require__(71),FuzzyEquals=__webpack_require__(123),GetFastValue=__webpack_require__(2),PhysicsEditorParser=__webpack_require__(1386),PhysicsJSONParser=__webpack_require__(1387),Vertices=__webpack_require__(94);module.exports={setRectangle:function(width,height,options){return this.setBody({type:"rectangle",
width:width,height:height},options)},setCircle:function(radius,options){return this.setBody({type:"circle",radius:radius},options)},setPolygon:function(radius,sides,options){return this.setBody({type:"polygon",sides:sides,radius:radius},options)},setTrapezoid:function(width,height,slope,options){return this.setBody({type:"trapezoid",width:width,height:height,slope:slope},options)},setExistingBody:function(body,addToWorld){void 0===addToWorld&&(addToWorld=!0);this.body&&this.world.remove(this.body,
!0);this.body=body;for(var i=0;i<body.parts.length;i++)body.parts[i].gameObject=this;var _this=this;body.destroy=function(){_this.world.remove(_this.body,!0);_this.body.gameObject=null};addToWorld&&(this.world.has(body)&&this.world.remove(body,!0),this.world.add(body));if(this._originComponent){addToWorld=body.render.sprite.xOffset;i=body.render.sprite.yOffset;var comy=body.centerOfMass.y;FuzzyEquals(body.centerOfMass.x,.5)&&FuzzyEquals(comy,.5)?this.setOrigin(addToWorld+.5,i+.5):this.setOrigin(addToWorld+
body.centerOffset.x/this.displayWidth,i+body.centerOffset.y/this.displayHeight)}return this},setBody:function(config,options){if(!config)return this;"string"===typeof config&&(config={type:config});var shapeType=GetFastValue(config,"type","rectangle"),bodyX=GetFastValue(config,"x",this._tempVec2.x),bodyY=GetFastValue(config,"y",this._tempVec2.y),bodyWidth=GetFastValue(config,"width",this.width),bodyHeight=GetFastValue(config,"height",this.height);switch(shapeType){case "rectangle":var body=Bodies.rectangle(bodyX,
bodyY,bodyWidth,bodyHeight,options);break;case "circle":bodyWidth=GetFastValue(config,"radius",Math.max(bodyWidth,bodyHeight)/2);bodyHeight=GetFastValue(config,"maxSides",25);body=Bodies.circle(bodyX,bodyY,bodyWidth,options,bodyHeight);break;case "trapezoid":body=GetFastValue(config,"slope",.5);body=Bodies.trapezoid(bodyX,bodyY,bodyWidth,bodyHeight,body,options);break;case "polygon":body=GetFastValue(config,"sides",5);bodyWidth=GetFastValue(config,"radius",Math.max(bodyWidth,bodyHeight)/2);body=Bodies.polygon(bodyX,
bodyY,body,bodyWidth,options);break;case "fromVertices":case "fromVerts":if(bodyWidth=GetFastValue(config,"verts",null))"string"===typeof bodyWidth&&(bodyWidth=Vertices.fromPath(bodyWidth)),this.body&&!this.body.hasOwnProperty("temp")?(Body.setVertices(this.body,bodyWidth),body=this.body):(bodyHeight=GetFastValue(config,"flagInternal",!1),body=GetFastValue(config,"removeCollinear",.01),shapeType=GetFastValue(config,"minimumArea",10),body=Bodies.fromVertices(bodyX,bodyY,bodyWidth,options,bodyHeight,
body,shapeType));break;case "fromPhysicsEditor":body=PhysicsEditorParser.parseBody(bodyX,bodyY,config,options);break;case "fromPhysicsTracer":body=PhysicsJSONParser.parseBody(bodyX,bodyY,config,options)}body&&this.setExistingBody(body,config.addToWorld);return this}}},function(module,exports,__webpack_require__){var Events=__webpack_require__(586),Sleeping=__webpack_require__(267),MatterEvents=__webpack_require__(268);module.exports={setToSleep:function(){Sleeping.set(this.body,!0)},setAwake:function(){Sleeping.set(this.body,
!1)},setSleepThreshold:function(value){void 0===value&&(value=60);this.body.sleepThreshold=value;return this},setSleepEvents:function(start,end){this.setSleepStartEvent(start);this.setSleepEndEvent(end);return this},setSleepStartEvent:function(value){if(value){var world=this.world;MatterEvents.on(this.body,"sleepStart",function(event){world.emit(Events.SLEEP_START,event,this)})}else MatterEvents.off(this.body,"sleepStart");return this},setSleepEndEvent:function(value){if(value){var world=this.world;
MatterEvents.on(this.body,"sleepEnd",function(event){world.emit(Events.SLEEP_END,event,this)})}else MatterEvents.off(this.body,"sleepEnd");return this}}},function(module,exports){module.exports="afteradd"},function(module,exports){module.exports="afterremove"},function(module,exports){module.exports="afterupdate"},function(module,exports){module.exports="beforeadd"},function(module,exports){module.exports="beforeremove"},function(module,exports){module.exports="beforeupdate"},function(module,exports){module.exports=
"collisionactive"},function(module,exports){module.exports="collisionend"},function(module,exports){module.exports="collisionstart"},function(module,exports){module.exports="dragend"},function(module,exports){module.exports="drag"},function(module,exports){module.exports="dragstart"},function(module,exports){module.exports="pause"},function(module,exports){module.exports="resume"},function(module,exports){module.exports="sleepend"},function(module,exports){module.exports="sleepstart"},function(module,
exports,__webpack_require__){var Body=__webpack_require__(71);module.exports={setStatic:function(value){Body.setStatic(this.body,value);return this},isStatic:function(){return this.body.isStatic}}},function(module,exports,__webpack_require__){var Body=__webpack_require__(71),MATH_CONST=__webpack_require__(14),WrapAngle=__webpack_require__(265),WrapAngleDegrees=__webpack_require__(266);module.exports={x:{get:function(){return this.body.position.x},set:function(value){this._tempVec2.set(value,this.y);
Body.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(value){this._tempVec2.set(this.x,value);Body.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(value){var factorX=1/this._scaleX,factorY=1/this._scaleY;this._scaleX=value;this.renderFlags=0===this._scaleX?this.renderFlags&-5:this.renderFlags|4;Body.scale(this.body,factorX,factorY);Body.scale(this.body,value,this._scaleY)}},scaleY:{get:function(){return this._scaleY},
set:function(value){var factorX=1/this._scaleX,factorY=1/this._scaleY;this._scaleY=value;this.renderFlags=0===this._scaleY?this.renderFlags&-5:this.renderFlags|4;Body.scale(this.body,factorX,factorY);Body.scale(this.body,this._scaleX,value)}},angle:{get:function(){return WrapAngleDegrees(this.body.angle*MATH_CONST.RAD_TO_DEG)},set:function(value){this.rotation=WrapAngleDegrees(value)*MATH_CONST.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(value){this._rotation=WrapAngle(value);
Body.setAngle(this.body,this._rotation)}},setPosition:function(x,y){void 0===x&&(x=0);void 0===y&&(y=x);this._tempVec2.set(x,y);Body.setPosition(this.body,this._tempVec2);return this},setRotation:function(radians){void 0===radians&&(radians=0);this._rotation=WrapAngle(radians);Body.setAngle(this.body,radians);return this},setFixedRotation:function(){Body.setInertia(this.body,Infinity);return this},setAngle:function(degrees){void 0===degrees&&(degrees=0);this.angle=degrees;Body.setAngle(this.body,
this.rotation);return this},setScale:function(x,y,point){void 0===x&&(x=1);void 0===y&&(y=x);var factorX=1/this._scaleX,factorY=1/this._scaleY;this._scaleX=x;this._scaleY=y;Body.scale(this.body,factorX,factorY,point);Body.scale(this.body,x,y,point);return this}}},function(module,exports,__webpack_require__){var Body=__webpack_require__(71);module.exports={setAngularVelocity:function(value){Body.setAngularVelocity(this.body,value);return this},setVelocityX:function(x){this._tempVec2.set(x,this.body.velocity.y);
Body.setVelocity(this.body,this._tempVec2);return this},setVelocityY:function(y){this._tempVec2.set(this.body.velocity.x,y);Body.setVelocity(this.body,this._tempVec2);return this},setVelocity:function(x,y){this._tempVec2.set(x,y);Body.setVelocity(this.body,this._tempVec2);return this}}},function(module,exports,__webpack_require__){var Metrics={};module.exports=Metrics;var Composite=__webpack_require__(163),Common=__webpack_require__(50);(function(){Metrics.create=function(options){return Common.extend({extended:!1,
narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1E-4,midEff:1E-4,broadEff:1E-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,options)};Metrics.reset=function(metrics){metrics.extended&&(metrics.narrowDetections=0,metrics.narrowphaseTests=0,metrics.narrowReuse=0,metrics.narrowReuseCount=0,metrics.midphaseTests=0,metrics.broadphaseTests=0,metrics.narrowEff=0,metrics.midEff=0,metrics.broadEff=0,metrics.collisions=0,metrics.buckets=0,metrics.pairs=
0,metrics.bodies=0)};Metrics.update=function(metrics,engine){if(metrics.extended){var bodies=Composite.allBodies(engine.world);metrics.collisions=metrics.narrowDetections;metrics.pairs=engine.pairs.list.length;metrics.bodies=bodies.length;metrics.midEff=(metrics.narrowDetections/(metrics.midphaseTests||1)).toFixed(2);metrics.narrowEff=(metrics.narrowDetections/(metrics.narrowphaseTests||1)).toFixed(2);metrics.broadEff=(1-metrics.broadphaseTests/(bodies.length||1)).toFixed(2);metrics.narrowReuse=(metrics.narrowReuseCount/
(metrics.narrowphaseTests||1)).toFixed(2)}}})()},function(module,exports,__webpack_require__){var ALIGN_CONST=__webpack_require__(122),Axes=__webpack_require__(585),Bodies=__webpack_require__(126),Body=__webpack_require__(71),BodyBounds=__webpack_require__(1486),Bounds=__webpack_require__(117),Class=__webpack_require__(0),Composite=__webpack_require__(163),Composites=__webpack_require__(1388),Constraint=__webpack_require__(246),Detector=__webpack_require__(587),DistanceBetween=__webpack_require__(48),
Factory=__webpack_require__(1488),GetFastValue=__webpack_require__(2),GetValue=__webpack_require__(6),Grid=__webpack_require__(1394),MatterAttractors=__webpack_require__(1530),MatterCollisionEvents=__webpack_require__(1531),MatterLib=__webpack_require__(1493),MatterWrap=__webpack_require__(1532),Merge=__webpack_require__(143),Pair=__webpack_require__(535),Pairs=__webpack_require__(1395),Plugin=__webpack_require__(1392);exports=__webpack_require__(24);var Query=__webpack_require__(1494),Resolver=__webpack_require__(1396),
SAT=__webpack_require__(588),SceneEvents=__webpack_require__(21),Svg=__webpack_require__(1389),Vector=__webpack_require__(116),Vertices=__webpack_require__(94),World=__webpack_require__(1496);__webpack_require__=new Class({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.config=this.getConfig();this.body=Body;this.composite=Composite;this.detector=Detector;this.grid=Grid;this.pair=Pair;this.pairs=Pairs;this.query=Query;this.resolver=Resolver;this.sat=SAT;this.constraint=Constraint;
this.bodies=Bodies;this.composites=Composites;this.axes=Axes;this.bounds=Bounds;this.svg=Svg;this.vector=Vector;this.verts=this.vertices=Vertices;this._tempVec2=Vector.create();GetValue(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin();GetValue(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin();GetValue(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin();Resolver._restingThresh=GetValue(this.config,"restingThresh",4);Resolver._restingThreshTangent=GetValue(this.config,
"restingThreshTangent",6);Resolver._positionDampen=GetValue(this.config,"positionDampen",.9);Resolver._positionWarming=GetValue(this.config,"positionWarming",.8);Resolver._frictionNormalMultiplier=GetValue(this.config,"frictionNormalMultiplier",5);scene.sys.events.once(SceneEvents.BOOT,this.boot,this);scene.sys.events.on(SceneEvents.START,this.start,this)},boot:function(){this.world=new World(this.scene,this.config);this.add=new Factory(this.world);this.bodyBounds=new BodyBounds;this.systems.events.once(SceneEvents.DESTROY,
this.destroy,this)},start:function(){this.world||(this.world=new World(this.scene,this.config),this.add=new Factory(this.world));var eventEmitter=this.systems.events;eventEmitter.on(SceneEvents.UPDATE,this.world.update,this.world);eventEmitter.on(SceneEvents.POST_UPDATE,this.world.postUpdate,this.world);eventEmitter.once(SceneEvents.SHUTDOWN,this.shutdown,this)},getConfig:function(){var gameConfig=this.systems.game.config.physics;return Merge(GetFastValue(this.systems.settings.physics,"matter",{}),
GetFastValue(gameConfig,"matter",{}))},enableAttractorPlugin:function(){Plugin.register(MatterAttractors);Plugin.use(MatterLib,MatterAttractors);return this},enableWrapPlugin:function(){Plugin.register(MatterWrap);Plugin.use(MatterLib,MatterWrap);return this},enableCollisionEventsPlugin:function(){Plugin.register(MatterCollisionEvents);Plugin.use(MatterLib,MatterCollisionEvents);return this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){this.world.getDelta=
this.world.update60Hz;this.world.autoUpdate=!0;return this},set30Hz:function(){this.world.getDelta=this.world.update30Hz;this.world.autoUpdate=!0;return this},step:function(delta,correction){this.world.step(delta,correction)},containsPoint:function(body,x,y){body=this.getMatterBodies(body);x=Vector.create(x,y);return 0<Query.point(body,x).length?!0:!1},intersectPoint:function(x,y,bodies){bodies=this.getMatterBodies(bodies);x=Vector.create(x,y);var output=[];Query.point(bodies,x).forEach(function(body){-1===
output.indexOf(body)&&output.push(body)});return output},intersectRect:function(x,y,width,height,outside,bodies){void 0===outside&&(outside=!1);bodies=this.getMatterBodies(bodies);var output=[];Query.region(bodies,{min:{x:x,y:y},max:{x:x+width,y:y+height}},outside).forEach(function(body){-1===output.indexOf(body)&&output.push(body)});return output},intersectRay:function(x1,y1,x2,y2,rayWidth,bodies){void 0===rayWidth&&(rayWidth=1);bodies=this.getMatterBodies(bodies);var result=[];x1=Query.ray(bodies,
Vector.create(x1,y1),Vector.create(x2,y2),rayWidth);for(y1=0;y1<x1.length;y1++)result.push(x1[y1].body);return result},intersectBody:function(body,bodies){bodies=this.getMatterBodies(bodies);var result=[];bodies=Query.collides(body,bodies);for(var i=0;i<bodies.length;i++){var pair=bodies[i];pair.bodyA===body?result.push(pair.bodyB):result.push(pair.bodyA)}return result},overlap:function(target,bodies,overlapCallback,processCallback,callbackContext){void 0===overlapCallback&&(overlapCallback=null);
void 0===processCallback&&(processCallback=null);void 0===callbackContext&&(callbackContext=overlapCallback);Array.isArray(target)||(target=[target]);target=this.getMatterBodies(target);bodies=this.getMatterBodies(bodies);for(var match=!1,i=0;i<target.length;i++)for(var entry=target[i],collisions=Query.collides(entry,bodies),c=0;c<collisions.length;c++){var info=collisions[c],bodyB=info.bodyA.id===entry.id?info.bodyB:info.bodyA;if(!processCallback||processCallback.call(callbackContext,entry,bodyB,
info))if(match=!0,overlapCallback)overlapCallback.call(callbackContext,entry,bodyB,info);else if(!processCallback)return!0}return match},setCollisionCategory:function(bodies,value){bodies=this.getMatterBodies(bodies);bodies.forEach(function(body){body.collisionFilter.category=value});return this},setCollisionGroup:function(bodies,value){bodies=this.getMatterBodies(bodies);bodies.forEach(function(body){body.collisionFilter.group=value});return this},setCollidesWith:function(bodies,categories){bodies=
this.getMatterBodies(bodies);var flags=0;if(Array.isArray(categories))for(var i=0;i<categories.length;i++)flags|=categories[i];else flags=categories;bodies.forEach(function(body){body.collisionFilter.mask=flags});return this},getMatterBodies:function(bodies){if(!bodies)return this.world.getAllBodies();Array.isArray(bodies)||(bodies=[bodies]);for(var output=[],i=0;i<bodies.length;i++){var body=bodies[i].hasOwnProperty("body")?bodies[i].body:bodies[i];output.push(body)}return output},setVelocity:function(bodies,
x,y){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;vec2.x=x;vec2.y=y;bodies.forEach(function(body){Body.setVelocity(body,vec2)});return this},setVelocityX:function(bodies,x){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;vec2.x=x;bodies.forEach(function(body){vec2.y=body.velocity.y;Body.setVelocity(body,vec2)});return this},setVelocityY:function(bodies,y){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;vec2.y=y;bodies.forEach(function(body){vec2.x=body.velocity.x;
Body.setVelocity(body,vec2)});return this},setAngularVelocity:function(bodies,value){bodies=this.getMatterBodies(bodies);bodies.forEach(function(body){Body.setAngularVelocity(body,value)});return this},applyForce:function(bodies,force){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;bodies.forEach(function(body){vec2.x=body.position.x;vec2.y=body.position.y;Body.applyForce(body,vec2,force)});return this},applyForceFromPosition:function(bodies,position,speed,angle){bodies=this.getMatterBodies(bodies);
var vec2=this._tempVec2;bodies.forEach(function(body){void 0===angle&&(angle=body.angle);vec2.x=speed*Math.cos(angle);vec2.y=speed*Math.sin(angle);Body.applyForce(body,position,vec2)});return this},applyForceFromAngle:function(bodies,speed,angle){bodies=this.getMatterBodies(bodies);var vec2=this._tempVec2;bodies.forEach(function(body){void 0===angle&&(angle=body.angle);vec2.x=speed*Math.cos(angle);vec2.y=speed*Math.sin(angle);Body.applyForce(body,{x:body.position.x,y:body.position.y},vec2)});return this},
getConstraintLength:function(constraint){var aX=constraint.pointA.x,aY=constraint.pointA.y,bX=constraint.pointB.x,bY=constraint.pointB.y;constraint.bodyA&&(aX+=constraint.bodyA.position.x,aY+=constraint.bodyA.position.y);constraint.bodyB&&(bX+=constraint.bodyB.position.x,bY+=constraint.bodyB.position.y);return DistanceBetween(aX,aY,bX,bY)},alignBody:function(body,x,y,align){body=body.hasOwnProperty("body")?body.body:body;switch(align){case ALIGN_CONST.TOP_LEFT:case ALIGN_CONST.LEFT_TOP:var pos=this.bodyBounds.getTopLeft(body,
x,y);break;case ALIGN_CONST.TOP_CENTER:pos=this.bodyBounds.getTopCenter(body,x,y);break;case ALIGN_CONST.TOP_RIGHT:case ALIGN_CONST.RIGHT_TOP:pos=this.bodyBounds.getTopRight(body,x,y);break;case ALIGN_CONST.LEFT_CENTER:pos=this.bodyBounds.getLeftCenter(body,x,y);break;case ALIGN_CONST.CENTER:pos=this.bodyBounds.getCenter(body,x,y);break;case ALIGN_CONST.RIGHT_CENTER:pos=this.bodyBounds.getRightCenter(body,x,y);break;case ALIGN_CONST.LEFT_BOTTOM:case ALIGN_CONST.BOTTOM_LEFT:pos=this.bodyBounds.getBottomLeft(body,
x,y);break;case ALIGN_CONST.BOTTOM_CENTER:pos=this.bodyBounds.getBottomCenter(body,x,y);break;case ALIGN_CONST.BOTTOM_RIGHT:case ALIGN_CONST.RIGHT_BOTTOM:pos=this.bodyBounds.getBottomRight(body,x,y)}pos&&Body.setPosition(body,pos);return this},shutdown:function(){var eventEmitter=this.systems.events;this.world&&(eventEmitter.off(SceneEvents.UPDATE,this.world.update,this.world),eventEmitter.off(SceneEvents.POST_UPDATE,this.world.postUpdate,this.world));eventEmitter.off(SceneEvents.SHUTDOWN,this.shutdown,
this);this.add&&this.add.destroy();this.world&&this.world.destroy();this.world=this.add=null},destroy:function(){this.shutdown();this.scene.sys.events.off(SceneEvents.START,this.start,this);this.systems=this.scene=null}});exports.register("MatterPhysics",__webpack_require__,"matterPhysics");module.exports=__webpack_require__},function(module,exports,__webpack_require__){var Matter=__webpack_require__(1391),MatterAttractors={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,
install:function(base){base.after("Body.create",function(){MatterAttractors.Body.init(this)});base.before("Engine.update",function(engine){MatterAttractors.Engine.update(engine)})},Body:{init:function(body){body.plugin.attractors=body.plugin.attractors||[]}},Engine:{update:function(engine){engine=Matter.Composite.allBodies(engine.world);for(var i=0;i<engine.length;i++){var bodyA=engine[i],attractors=bodyA.plugin.attractors;if(attractors&&0<attractors.length)for(var j=0;j<engine.length;j++){var bodyB=
engine[j];if(i!==j)for(var k=0;k<attractors.length;k++){var attractor=attractors[k],forceVector=attractor;Matter.Common.isFunction(attractor)&&(forceVector=attractor(bodyA,bodyB));forceVector&&Matter.Body.applyForce(bodyB,bodyB.position,forceVector)}}}}},Attractors:{gravityConstant:.001,gravity:function(bodyA,bodyB){var bToA=Matter.Vector.sub(bodyB.position,bodyA.position),distanceSq=Matter.Vector.magnitudeSquared(bToA)||1E-4;bToA=Matter.Vector.normalise(bToA);distanceSq=Matter.Vector.mult(bToA,bodyA.mass*
bodyB.mass/distanceSq*-MatterAttractors.Attractors.gravityConstant);Matter.Body.applyForce(bodyA,bodyA.position,Matter.Vector.neg(distanceSq));Matter.Body.applyForce(bodyB,bodyB.position,distanceSq)}}};module.exports=MatterAttractors},function(module,exports){module.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(matter){matter.after("Engine.create",function(){matter.Events.on(this,"collisionStart",function(event){event.pairs.map(function(pair){var bodyA=
pair.bodyA,bodyB=pair.bodyB;bodyA.gameObject&&bodyA.gameObject.emit("collide",bodyA,bodyB,pair);bodyB.gameObject&&bodyB.gameObject.emit("collide",bodyB,bodyA,pair);matter.Events.trigger(bodyA,"onCollide",{pair:pair});matter.Events.trigger(bodyB,"onCollide",{pair:pair});if(bodyA.onCollideCallback)bodyA.onCollideCallback(pair);if(bodyB.onCollideCallback)bodyB.onCollideCallback(pair);if(bodyA.onCollideWith[bodyB.id])bodyA.onCollideWith[bodyB.id](bodyB,pair);if(bodyB.onCollideWith[bodyA.id])bodyB.onCollideWith[bodyA.id](bodyA,
pair)})});matter.Events.on(this,"collisionActive",function(event){event.pairs.map(function(pair){var bodyA=pair.bodyA,bodyB=pair.bodyB;bodyA.gameObject&&bodyA.gameObject.emit("collideActive",bodyA,bodyB,pair);bodyB.gameObject&&bodyB.gameObject.emit("collideActive",bodyB,bodyA,pair);matter.Events.trigger(bodyA,"onCollideActive",{pair:pair});matter.Events.trigger(bodyB,"onCollideActive",{pair:pair});if(bodyA.onCollideActiveCallback)bodyA.onCollideActiveCallback(pair);if(bodyB.onCollideActiveCallback)bodyB.onCollideActiveCallback(pair)})});
matter.Events.on(this,"collisionEnd",function(event){event.pairs.map(function(pair){var bodyA=pair.bodyA,bodyB=pair.bodyB;bodyA.gameObject&&bodyA.gameObject.emit("collideEnd",bodyA,bodyB,pair);bodyB.gameObject&&bodyB.gameObject.emit("collideEnd",bodyB,bodyA,pair);matter.Events.trigger(bodyA,"onCollideEnd",{pair:pair});matter.Events.trigger(bodyB,"onCollideEnd",{pair:pair});if(bodyA.onCollideEndCallback)bodyA.onCollideEndCallback(pair);if(bodyB.onCollideEndCallback)bodyB.onCollideEndCallback(pair)})})})}}},
function(module,exports,__webpack_require__){var Matter=__webpack_require__(1391),MatterWrap={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(base){base.after("Engine.update",function(){MatterWrap.Engine.update(this)})},Engine:{update:function(engine){var world=engine.world;engine=Matter.Composite.allBodies(world);world=Matter.Composite.allComposites(world);for(var i=0;i<engine.length;i+=1){var body=engine[i];body.plugin.wrap&&MatterWrap.Body.wrap(body,body.plugin.wrap)}for(i=
0;i<world.length;i+=1)engine=world[i],engine.plugin.wrap&&MatterWrap.Composite.wrap(engine,engine.plugin.wrap)}},Bounds:{wrap:function(objectBounds,bounds){var x=null,y=null;"undefined"!==typeof bounds.min.x&&"undefined"!==typeof bounds.max.x&&(objectBounds.min.x>bounds.max.x?x=bounds.min.x-objectBounds.max.x:objectBounds.max.x<bounds.min.x&&(x=bounds.max.x-objectBounds.min.x));"undefined"!==typeof bounds.min.y&&"undefined"!==typeof bounds.max.y&&(objectBounds.min.y>bounds.max.y?y=bounds.min.y-objectBounds.max.y:
objectBounds.max.y<bounds.min.y&&(y=bounds.max.y-objectBounds.min.y));if(null!==x||null!==y)return{x:x||0,y:y||0}}},Body:{wrap:function(body,bounds){(bounds=MatterWrap.Bounds.wrap(body.bounds,bounds))&&Matter.Body.translate(body,bounds);return bounds}},Composite:{bounds:function(composite){composite=Matter.Composite.allBodies(composite);for(var vertices=[],i=0;i<composite.length;i+=1){var body=composite[i];vertices.push(body.bounds.min,body.bounds.max)}return Matter.Bounds.create(vertices)},wrap:function(composite,
bounds){(bounds=MatterWrap.Bounds.wrap(MatterWrap.Composite.bounds(composite),bounds))&&Matter.Composite.translate(composite,bounds);return bounds}}};module.exports=MatterWrap}])})}
//# sourceMappingURL=module$node_modules$Phaser$dist$phaser.js.map
