shadow$provide.module$node_modules$Phaser$src$gameobjects$bitmaptext$static$BitmapTextCanvasRenderer=function(global,require,module,exports){var SetTransform=require("module$node_modules$Phaser$src$renderer$canvas$utils$SetTransform");module.exports=function(renderer,src,interpolationPercentage,camera,parentMatrix){interpolationPercentage=src._text;var textLength=interpolationPercentage.length,ctx=renderer.currentContext;if(0!==textLength&&SetTransform(renderer,ctx,src,camera,parentMatrix)){var textureFrame=
src.frame;renderer=src.fontData.chars;parentMatrix=src.fontData.lineHeight;var letterSpacing=src._letterSpacing,xAdvance=0,yAdvance=0,lastGlyph=null,lastCharCode=0,image=src.frame.source.image,textureX=textureFrame.cutX;textureFrame=textureFrame.cutY;var scale=src._fontSize/src.fontData.size,align=src._align,currentLine=0,lineOffsetX=0;src.getTextBounds(!1);var lineData=src._bounds.lines;1===align?lineOffsetX=(lineData.longest-lineData.lengths[0])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[0]);
ctx.translate(-src.displayOriginX,-src.displayOriginY);for(var roundPixels=camera.roundPixels,i=0;i<textLength;i++)if(src=interpolationPercentage.charCodeAt(i),10===src)currentLine++,1===align?lineOffsetX=(lineData.longest-lineData.lengths[currentLine])/2:2===align&&(lineOffsetX=lineData.longest-lineData.lengths[currentLine]),xAdvance=0,yAdvance+=parentMatrix,lastGlyph=null;else if(camera=renderer[src]){var glyphX=textureX+camera.x;var glyphY=textureFrame+camera.y;var glyphW=camera.width;var glyphH=
camera.height;var x=camera.xOffset+xAdvance;var y=camera.yOffset+yAdvance;null!==lastGlyph&&(lastGlyph=camera.kerning[lastCharCode],x+=void 0!==lastGlyph?lastGlyph:0);x*=scale;y*=scale;x+=lineOffsetX;xAdvance+=camera.xAdvance+letterSpacing;lastGlyph=camera;lastCharCode=src;0!==glyphW&&0!==glyphH&&32!==src&&(roundPixels&&(x|=0,y|=0),ctx.save(),ctx.translate(x,y),ctx.scale(scale,scale),ctx.drawImage(image,glyphX,glyphY,glyphW,glyphH,0,0,glyphW,glyphH),ctx.restore())}ctx.restore()}}}
//# sourceMappingURL=module$node_modules$Phaser$src$gameobjects$bitmaptext$static$BitmapTextCanvasRenderer.js.map
