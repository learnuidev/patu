shadow$provide.module$node_modules$Phaser$src$gameobjects$components$TransformMatrix=function(global,require,module,exports){global=require("module$node_modules$Phaser$src$utils$Class");var Vector2=require("module$node_modules$Phaser$src$math$Vector2");require=new global({initialize:function(a,b,c,d,tx,ty){void 0===a&&(a=1);void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=1);void 0===tx&&(tx=0);void 0===ty&&(ty=0);this.matrix=new Float32Array([a,b,c,d,tx,ty,0,0,1]);this.decomposedMatrix={translateX:0,
translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(value){this.matrix[0]=value}},b:{get:function(){return this.matrix[1]},set:function(value){this.matrix[1]=value}},c:{get:function(){return this.matrix[2]},set:function(value){this.matrix[2]=value}},d:{get:function(){return this.matrix[3]},set:function(value){this.matrix[3]=value}},e:{get:function(){return this.matrix[4]},set:function(value){this.matrix[4]=value}},f:{get:function(){return this.matrix[5]},
set:function(value){this.matrix[5]=value}},tx:{get:function(){return this.matrix[4]},set:function(value){this.matrix[4]=value}},ty:{get:function(){return this.matrix[5]},set:function(value){this.matrix[5]=value}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(0>Math.atan(-this.c/this.a)?-1:1)}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.c*this.c)}},scaleY:{get:function(){return Math.sqrt(this.b*this.b+this.d*this.d)}},loadIdentity:function(){var matrix=this.matrix;
matrix[0]=1;matrix[1]=0;matrix[2]=0;matrix[3]=1;matrix[4]=0;matrix[5]=0;return this},translate:function(x,y){var matrix=this.matrix;matrix[4]=matrix[0]*x+matrix[2]*y+matrix[4];matrix[5]=matrix[1]*x+matrix[3]*y+matrix[5];return this},scale:function(x,y){var matrix=this.matrix;matrix[0]*=x;matrix[1]*=x;matrix[2]*=y;matrix[3]*=y;return this},rotate:function(angle){var sin=Math.sin(angle);angle=Math.cos(angle);var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3];matrix[0]=a*angle+c*
sin;matrix[1]=b*angle+d*sin;matrix[2]=a*-sin+c*angle;matrix[3]=b*-sin+d*angle;return this},multiply:function(rhs,out){var matrix=this.matrix,source=rhs.matrix;rhs=matrix[0];var localB=matrix[1],localC=matrix[2],localD=matrix[3],localE=matrix[4];matrix=matrix[5];var sourceA=source[0],sourceB=source[1],sourceC=source[2],sourceD=source[3],sourceE=source[4];source=source[5];out=void 0===out?this:out;out.a=sourceA*rhs+sourceB*localC;out.b=sourceA*localB+sourceB*localD;out.c=sourceC*rhs+sourceD*localC;
out.d=sourceC*localB+sourceD*localD;out.e=sourceE*rhs+source*localC+localE;out.f=sourceE*localB+source*localD+matrix;return out},multiplyWithOffset:function(src,offsetX,offsetY){var matrix=this.matrix,otherMatrix=src.matrix;src=matrix[0];var b0=matrix[1],c0=matrix[2],d0=matrix[3],tx0=matrix[4],ty0=matrix[5],a1=otherMatrix[0],b1=otherMatrix[1],c1=otherMatrix[2],d1=otherMatrix[3],tx1=otherMatrix[4];otherMatrix=otherMatrix[5];matrix[0]=a1*src+b1*c0;matrix[1]=a1*b0+b1*d0;matrix[2]=c1*src+d1*c0;matrix[3]=
c1*b0+d1*d0;matrix[4]=tx1*src+otherMatrix*c0+(offsetX*src+offsetY*c0+tx0);matrix[5]=tx1*b0+otherMatrix*d0+(offsetX*b0+offsetY*d0+ty0);return this},transform:function(a,b,c,d,tx,ty){var matrix=this.matrix,a0=matrix[0],b0=matrix[1],c0=matrix[2],d0=matrix[3],tx0=matrix[4],ty0=matrix[5];matrix[0]=a*a0+b*c0;matrix[1]=a*b0+b*d0;matrix[2]=c*a0+d*c0;matrix[3]=c*b0+d*d0;matrix[4]=tx*a0+ty*c0+tx0;matrix[5]=tx*b0+ty*d0+ty0;return this},transformPoint:function(x,y,point){void 0===point&&(point={x:0,y:0});var matrix=
this.matrix,b=matrix[1],d=matrix[3],ty=matrix[5];point.x=x*matrix[0]+y*matrix[2]+matrix[4];point.y=x*b+y*d+ty;return point},invert:function(){var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4],ty=matrix[5],n=a*d-b*c;matrix[0]=d/n;matrix[1]=-b/n;matrix[2]=-c/n;matrix[3]=a/n;matrix[4]=(c*ty-d*tx)/n;matrix[5]=-(a*ty-b*tx)/n;return this},copyFrom:function(src){var matrix=this.matrix;matrix[0]=src.a;matrix[1]=src.b;matrix[2]=src.c;matrix[3]=src.d;matrix[4]=src.e;matrix[5]=
src.f;return this},copyFromArray:function(src){var matrix=this.matrix;matrix[0]=src[0];matrix[1]=src[1];matrix[2]=src[2];matrix[3]=src[3];matrix[4]=src[4];matrix[5]=src[5];return this},copyToContext:function(ctx){var matrix=this.matrix;ctx.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]);return ctx},setToContext:function(ctx){var matrix=this.matrix;ctx.setTransform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]);return ctx},copyToArray:function(out){var matrix=this.matrix;
void 0===out?out=[matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]]:(out[0]=matrix[0],out[1]=matrix[1],out[2]=matrix[2],out[3]=matrix[3],out[4]=matrix[4],out[5]=matrix[5]);return out},setTransform:function(a,b,c,d,tx,ty){var matrix=this.matrix;matrix[0]=a;matrix[1]=b;matrix[2]=c;matrix[3]=d;matrix[4]=tx;matrix[5]=ty;return this},decomposeMatrix:function(){var decomposedMatrix=this.decomposedMatrix,matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],sx=Math.sqrt(a*a+c*c);
b=Math.sqrt(b*b+d*d);decomposedMatrix.translateX=matrix[4];decomposedMatrix.translateY=matrix[5];decomposedMatrix.scaleX=sx;decomposedMatrix.scaleY=b;decomposedMatrix.rotation=Math.acos(a/sx)*(0>Math.atan(-c/a)?-1:1);return decomposedMatrix},applyITRS:function(x,y,rotation,scaleX,scaleY){var matrix=this.matrix,radianSin=Math.sin(rotation);rotation=Math.cos(rotation);matrix[4]=x;matrix[5]=y;matrix[0]=rotation*scaleX;matrix[1]=radianSin*scaleX;matrix[2]=-radianSin*scaleY;matrix[3]=rotation*scaleY;return this},
applyInverse:function(x,y,output){void 0===output&&(output=new Vector2);var matrix=this.matrix,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4];matrix=matrix[5];var id=1/(a*d+c*-b);output.x=d*id*x+-c*id*y+(matrix*c-tx*d)*id;output.y=a*id*y+-b*id*x+(-matrix*a+tx*b)*id;return output},getX:function(x,y){return x*this.a+y*this.c+this.e},getY:function(x,y){return x*this.b+y*this.d+this.f},getCSSMatrix:function(){var m=this.matrix;return"matrix("+m[0]+","+m[1]+","+m[2]+","+m[3]+","+m[4]+","+
m[5]+")"},destroy:function(){this.decomposedMatrix=this.matrix=null}});module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$gameobjects$components$TransformMatrix.js.map
