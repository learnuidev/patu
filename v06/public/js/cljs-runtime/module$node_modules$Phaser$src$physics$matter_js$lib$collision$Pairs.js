shadow$provide.module$node_modules$Phaser$src$physics$matter_js$lib$collision$Pairs=function(global,require,module,exports){var Pairs={};module.exports=Pairs;var Pair=require("module$node_modules$Phaser$src$physics$matter_js$lib$collision$Pair"),Common=require("module$node_modules$Phaser$src$physics$matter_js$lib$core$Common");(function(){Pairs._pairMaxIdleLife=1E3;Pairs.create=function(options){return Common.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},options)};
Pairs.update=function(pairs,collisions,timestamp){var pairsList=pairs.list,pairsTable=pairs.table,collisionStart=pairs.collisionStart,collisionEnd=pairs.collisionEnd;pairs=pairs.collisionActive;var pair,i;collisionStart.length=0;collisionEnd.length=0;for(i=pairs.length=0;i<pairsList.length;i++)pairsList[i].confirmedActive=!1;for(i=0;i<collisions.length;i++){var collision=collisions[i];if(collision.collided){var pairId=Pair.id(collision.bodyA,collision.bodyB);(pair=pairsTable[pairId])?(pair.isActive?
pairs.push(pair):collisionStart.push(pair),Pair.update(pair,collision,timestamp),pair.confirmedActive=!0):(pair=Pair.create(collision,timestamp),pairsTable[pairId]=pair,collisionStart.push(pair),pairsList.push(pair))}}for(i=0;i<pairsList.length;i++)pair=pairsList[i],pair.isActive&&!pair.confirmedActive&&(Pair.setActive(pair,!1,timestamp),collisionEnd.push(pair))};Pairs.removeOld=function(pairs,timestamp){var pairsList=pairs.list;pairs=pairs.table;var indexesToRemove=[],i;for(i=0;i<pairsList.length;i++){var pair=
pairsList[i];var collision=pair.collision;collision.bodyA.isSleeping||collision.bodyB.isSleeping?pair.timeUpdated=timestamp:timestamp-pair.timeUpdated>Pairs._pairMaxIdleLife&&indexesToRemove.push(i)}for(i=0;i<indexesToRemove.length;i++)timestamp=indexesToRemove[i]-i,pair=pairsList[timestamp],delete pairs[pair.id],pairsList.splice(timestamp,1)};Pairs.clear=function(pairs){pairs.table={};pairs.list.length=0;pairs.collisionStart.length=0;pairs.collisionActive.length=0;pairs.collisionEnd.length=0;return pairs}})()}
//# sourceMappingURL=module$node_modules$Phaser$src$physics$matter_js$lib$collision$Pairs.js.map
