shadow$provide.module$node_modules$matter_js$build$matter=function(global,require,module,exports){(function(root,factory){"object"===typeof exports&&"object"===typeof module?module.exports=factory():"function"===typeof define&&define.amd?define("Matter",[],factory):"object"===typeof exports?exports.Matter=factory():root.Matter=factory()})(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=
installedModules[moduleId]={i:moduleId,l:!1,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=!0;return module.exports}var installedModules={};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})};__webpack_require__.r=function(exports){"undefined"!==typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});Object.defineProperty(exports,"__esModule",{value:!0})};__webpack_require__.t=function(value,mode){mode&1&&(value=__webpack_require__(value));if(mode&8||mode&4&&"object"===typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:!0,value:value});if(mode&2&&"string"!=typeof value)for(var key$jscomp$0 in value)__webpack_require__.d(ns,key$jscomp$0,
function(key){return value[key]}.bind(null,key$jscomp$0));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=22)}([function(module,exports){var Common={};module.exports=
Common;(function(){Common._nextId=0;Common._seed=0;Common._nowStartTime=+new Date;Common._warnedOnce={};Common._decomp=null;Common.extend=function(obj,deep){if("boolean"===typeof deep){var argsStart=2;var deepClone=deep}else argsStart=1,deepClone=!0;for(;argsStart<arguments.length;argsStart++){var source=arguments[argsStart];if(source)for(var prop in source)deepClone&&source[prop]&&source[prop].constructor===Object?obj[prop]&&obj[prop].constructor!==Object?obj[prop]=source[prop]:(obj[prop]=obj[prop]||
{},Common.extend(obj[prop],deepClone,source[prop])):obj[prop]=source[prop]}return obj};Common.clone=function(obj,deep){return Common.extend({},deep,obj)};Common.keys=function(obj){if(Object.keys)return Object.keys(obj);var keys=[],key;for(key in obj)keys.push(key);return keys};Common.values=function(obj){var values=[];if(Object.keys){for(var keys=Object.keys(obj),i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values}for(keys in obj)values.push(obj[keys]);return values};Common.get=function(obj,
path,begin,end){path=path.split(".").slice(begin,end);for(begin=0;begin<path.length;begin+=1)obj=obj[path[begin]];return obj};Common.set=function(obj,path,val,begin,end){begin=path.split(".").slice(begin,end);return Common.get(obj,path,0,-1)[begin[begin.length-1]]=val};Common.shuffle=function(array){for(var i=array.length-1;0<i;i--){var j=Math.floor(Common.random()*(i+1)),temp=array[i];array[i]=array[j];array[j]=temp}return array};Common.choose=function(choices){return choices[Math.floor(Common.random()*
choices.length)]};Common.isElement=function(obj){return"undefined"!==typeof HTMLElement?obj instanceof HTMLElement:!!(obj&&obj.nodeType&&obj.nodeName)};Common.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)};Common.isFunction=function(obj){return"function"===typeof obj};Common.isPlainObject=function(obj){return"object"===typeof obj&&obj.constructor===Object};Common.isString=function(obj){return"[object String]"===toString.call(obj)};Common.clamp=function(value,min,
max){return value<min?min:value>max?max:value};Common.sign=function(value){return 0>value?-1:1};Common.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-Common._nowStartTime};Common.random=function(min,max){min="undefined"!==typeof min?min:0;Common._seed=(9301*Common._seed+49297)%233280;return min+Common._seed/233280*(("undefined"!==
typeof max?max:1)-min)};Common.colorToNumber=function(colorString){colorString=colorString.replace("#","");3==colorString.length&&(colorString=colorString.charAt(0)+colorString.charAt(0)+colorString.charAt(1)+colorString.charAt(1)+colorString.charAt(2)+colorString.charAt(2));return parseInt(colorString,16)};Common.logLevel=1;Common.log=function(){console&&0<Common.logLevel&&3>=Common.logLevel&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};Common.info=function(){console&&
0<Common.logLevel&&2>=Common.logLevel&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};Common.warn=function(){console&&0<Common.logLevel&&3>=Common.logLevel&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};Common.warnOnce=function(){var message=Array.prototype.slice.call(arguments).join(" ");Common._warnedOnce[message]||(Common.warn(message),Common._warnedOnce[message]=!0)};Common.deprecated=function(obj,prop,warning){obj[prop]=
Common.chain(function(){Common.warnOnce("\ud83d\udd05 deprecated \ud83d\udd05",warning)},obj[prop])};Common.nextId=function(){return Common._nextId++};Common.indexOf=function(haystack,needle){if(haystack.indexOf)return haystack.indexOf(needle);for(var i=0;i<haystack.length;i++)if(haystack[i]===needle)return i;return-1};Common.map=function(list,func){if(list.map)return list.map(func);for(var mapped=[],i=0;i<list.length;i+=1)mapped.push(func(list[i]));return mapped};Common.topologicalSort=function(graph){var result=
[],visited=[],temp=[],node;for(node in graph)visited[node]||temp[node]||Common._topologicalSort(node,visited,temp,graph,result);return result};Common._topologicalSort=function(node,visited,temp,graph,result){var neighbors=graph[node]||[];temp[node]=!0;for(var i=0;i<neighbors.length;i+=1){var neighbor=neighbors[i];temp[neighbor]||visited[neighbor]||Common._topologicalSort(neighbor,visited,temp,graph,result)}temp[node]=!1;visited[node]=!0;result.push(node)};Common.chain=function(){for(var funcs=[],
i$jscomp$0=0;i$jscomp$0<arguments.length;i$jscomp$0+=1){var func=arguments[i$jscomp$0];func._chained?funcs.push.apply(funcs,func._chained):funcs.push(func)}i$jscomp$0=function(){for(var lastResult,args=Array(arguments.length),i=0,l=arguments.length;i<l;i++)args[i]=arguments[i];for(i=0;i<funcs.length;i+=1)l=funcs[i].apply(lastResult,args),"undefined"!==typeof l&&(lastResult=l);return lastResult};i$jscomp$0._chained=funcs;return i$jscomp$0};Common.chainPathBefore=function(base,path,func){return Common.set(base,
path,Common.chain(func,Common.get(base,path)))};Common.chainPathAfter=function(base,path,func){return Common.set(base,path,Common.chain(Common.get(base,path),func))};Common.setDecomp=function(decomp){Common._decomp=decomp};Common.getDecomp=function(){var decomp=Common._decomp;try{decomp||"undefined"===typeof window||(decomp=window.decomp),decomp||"undefined"===typeof global||(decomp=global.decomp)}catch(e){decomp=null}return decomp}})()},function(module,exports){var Bounds={};module.exports=Bounds;
(function(){Bounds.create=function(vertices){var bounds={min:{x:0,y:0},max:{x:0,y:0}};vertices&&Bounds.update(bounds,vertices);return bounds};Bounds.update=function(bounds,vertices,velocity){bounds.min.x=Infinity;bounds.max.x=-Infinity;bounds.min.y=Infinity;bounds.max.y=-Infinity;for(var i=0;i<vertices.length;i++){var vertex=vertices[i];vertex.x>bounds.max.x&&(bounds.max.x=vertex.x);vertex.x<bounds.min.x&&(bounds.min.x=vertex.x);vertex.y>bounds.max.y&&(bounds.max.y=vertex.y);vertex.y<bounds.min.y&&
(bounds.min.y=vertex.y)}velocity&&(0<velocity.x?bounds.max.x+=velocity.x:bounds.min.x+=velocity.x,0<velocity.y?bounds.max.y+=velocity.y:bounds.min.y+=velocity.y)};Bounds.contains=function(bounds,point){return point.x>=bounds.min.x&&point.x<=bounds.max.x&&point.y>=bounds.min.y&&point.y<=bounds.max.y};Bounds.overlaps=function(boundsA,boundsB){return boundsA.min.x<=boundsB.max.x&&boundsA.max.x>=boundsB.min.x&&boundsA.max.y>=boundsB.min.y&&boundsA.min.y<=boundsB.max.y};Bounds.translate=function(bounds,
vector){bounds.min.x+=vector.x;bounds.max.x+=vector.x;bounds.min.y+=vector.y;bounds.max.y+=vector.y};Bounds.shift=function(bounds,position){var deltaX=bounds.max.x-bounds.min.x,deltaY=bounds.max.y-bounds.min.y;bounds.min.x=position.x;bounds.max.x=position.x+deltaX;bounds.min.y=position.y;bounds.max.y=position.y+deltaY}})()},function(module,exports){var Vector={};module.exports=Vector;(function(){Vector.create=function(x,y){return{x:x||0,y:y||0}};Vector.clone=function(vector){return{x:vector.x,y:vector.y}};
Vector.magnitude=function(vector){return Math.sqrt(vector.x*vector.x+vector.y*vector.y)};Vector.magnitudeSquared=function(vector){return vector.x*vector.x+vector.y*vector.y};Vector.rotate=function(vector,angle,output){var cos=Math.cos(angle);angle=Math.sin(angle);output||(output={});var x=vector.x*cos-vector.y*angle;output.y=vector.x*angle+vector.y*cos;output.x=x;return output};Vector.rotateAbout=function(vector,angle,point,output){var cos=Math.cos(angle);angle=Math.sin(angle);output||(output={});
var x=point.x+((vector.x-point.x)*cos-(vector.y-point.y)*angle);output.y=point.y+((vector.x-point.x)*angle+(vector.y-point.y)*cos);output.x=x;return output};Vector.normalise=function(vector){var magnitude=Vector.magnitude(vector);return 0===magnitude?{x:0,y:0}:{x:vector.x/magnitude,y:vector.y/magnitude}};Vector.dot=function(vectorA,vectorB){return vectorA.x*vectorB.x+vectorA.y*vectorB.y};Vector.cross=function(vectorA,vectorB){return vectorA.x*vectorB.y-vectorA.y*vectorB.x};Vector.cross3=function(vectorA,
vectorB,vectorC){return(vectorB.x-vectorA.x)*(vectorC.y-vectorA.y)-(vectorB.y-vectorA.y)*(vectorC.x-vectorA.x)};Vector.add=function(vectorA,vectorB,output){output||(output={});output.x=vectorA.x+vectorB.x;output.y=vectorA.y+vectorB.y;return output};Vector.sub=function(vectorA,vectorB,output){output||(output={});output.x=vectorA.x-vectorB.x;output.y=vectorA.y-vectorB.y;return output};Vector.mult=function(vector,scalar){return{x:vector.x*scalar,y:vector.y*scalar}};Vector.div=function(vector,scalar){return{x:vector.x/
scalar,y:vector.y/scalar}};Vector.perp=function(vector,negate){negate=!0===negate?-1:1;return{x:negate*-vector.y,y:negate*vector.x}};Vector.neg=function(vector){return{x:-vector.x,y:-vector.y}};Vector.angle=function(vectorA,vectorB){return Math.atan2(vectorB.y-vectorA.y,vectorB.x-vectorA.x)};Vector._temp=[Vector.create(),Vector.create(),Vector.create(),Vector.create(),Vector.create(),Vector.create()]})()},function(module,exports,__webpack_require__){var Vertices={};module.exports=Vertices;var Vector=
__webpack_require__(2),Common=__webpack_require__(0);(function(){Vertices.create=function(points,body){for(var vertices=[],i=0;i<points.length;i++){var point=points[i];vertices.push({x:point.x,y:point.y,index:i,body:body,isInternal:!1})}return vertices};Vertices.fromPath=function(path,body){var points=[];path.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,function(match,x,y){points.push({x:parseFloat(x),y:parseFloat(y)})});return Vertices.create(points,body)};Vertices.centre=function(vertices){for(var area=
Vertices.area(vertices,!0),centre={x:0,y:0},cross,j,i=0;i<vertices.length;i++)j=(i+1)%vertices.length,cross=Vector.cross(vertices[i],vertices[j]),cross=Vector.mult(Vector.add(vertices[i],vertices[j]),cross),centre=Vector.add(centre,cross);return Vector.div(centre,6*area)};Vertices.mean=function(vertices){for(var average={x:0,y:0},i=0;i<vertices.length;i++)average.x+=vertices[i].x,average.y+=vertices[i].y;return Vector.div(average,vertices.length)};Vertices.area=function(vertices,signed){for(var area=
0,j=vertices.length-1,i=0;i<vertices.length;i++)area+=(vertices[j].x-vertices[i].x)*(vertices[j].y+vertices[i].y),j=i;return signed?area/2:Math.abs(area)/2};Vertices.inertia=function(vertices,mass){for(var numerator=0,denominator=0,cross,j,n=0;n<vertices.length;n++)j=(n+1)%vertices.length,cross=Math.abs(Vector.cross(vertices[j],vertices[n])),numerator+=cross*(Vector.dot(vertices[j],vertices[j])+Vector.dot(vertices[j],vertices[n])+Vector.dot(vertices[n],vertices[n])),denominator+=cross;return mass/
6*(numerator/denominator)};Vertices.translate=function(vertices,vector,scalar){var i;if(scalar)for(i=0;i<vertices.length;i++)vertices[i].x+=vector.x*scalar,vertices[i].y+=vector.y*scalar;else for(i=0;i<vertices.length;i++)vertices[i].x+=vector.x,vertices[i].y+=vector.y;return vertices};Vertices.rotate=function(vertices,angle,point){if(0!==angle){var cos=Math.cos(angle);angle=Math.sin(angle);for(var i=0;i<vertices.length;i++){var vertice=vertices[i],dx=vertice.x-point.x,dy=vertice.y-point.y;vertice.x=
point.x+(dx*cos-dy*angle);vertice.y=point.y+(dx*angle+dy*cos)}return vertices}};Vertices.contains=function(vertices,point){for(var i=0;i<vertices.length;i++){var vertice=vertices[i],nextVertice=vertices[(i+1)%vertices.length];if(0<(point.x-vertice.x)*(nextVertice.y-vertice.y)+(point.y-vertice.y)*(vertice.x-nextVertice.x))return!1}return!0};Vertices.scale=function(vertices,scaleX,scaleY,point){if(1===scaleX&&1===scaleY)return vertices;point=point||Vertices.centre(vertices);for(var vertex,i=0;i<vertices.length;i++)vertex=
vertices[i],vertex=Vector.sub(vertex,point),vertices[i].x=point.x+vertex.x*scaleX,vertices[i].y=point.y+vertex.y*scaleY;return vertices};Vertices.chamfer=function(vertices,radius,quality,qualityMin,qualityMax){radius="number"===typeof radius?[radius]:radius||[8];quality="undefined"!==typeof quality?quality:-1;qualityMin=qualityMin||2;qualityMax=qualityMax||14;for(var newVertices=[],i=0;i<vertices.length;i++){var prevVertex=vertices[0<=i-1?i-1:vertices.length-1],vertex=vertices[i],nextVertex=vertices[(i+
1)%vertices.length],currentRadius=radius[i<radius.length?i:radius.length-1];if(0===currentRadius)newVertices.push(vertex);else{prevVertex=Vector.normalise({x:vertex.y-prevVertex.y,y:prevVertex.x-vertex.x});var nextNormal=Vector.normalise({x:nextVertex.y-vertex.y,y:vertex.x-nextVertex.x}),diagonalRadius=Math.sqrt(2*Math.pow(currentRadius,2));nextVertex=Vector.mult(Common.clone(prevVertex),currentRadius);var midNormal=Vector.normalise(Vector.mult(Vector.add(prevVertex,nextNormal),.5));vertex=Vector.sub(vertex,
Vector.mult(midNormal,diagonalRadius));diagonalRadius=quality;-1===quality&&(diagonalRadius=1.75*Math.pow(currentRadius,.32));diagonalRadius=Common.clamp(diagonalRadius,qualityMin,qualityMax);1===diagonalRadius%2&&(diagonalRadius+=1);currentRadius=Math.acos(Vector.dot(prevVertex,nextNormal))/diagonalRadius;for(prevVertex=0;prevVertex<diagonalRadius;prevVertex++)newVertices.push(Vector.add(Vector.rotate(nextVertex,currentRadius*prevVertex),vertex))}}return newVertices};Vertices.clockwiseSort=function(vertices){var centre=
Vertices.mean(vertices);vertices.sort(function(vertexA,vertexB){return Vector.angle(centre,vertexA)-Vector.angle(centre,vertexB)});return vertices};Vertices.isConvex=function(vertices){var flag=0,n=vertices.length,i;if(3>n)return null;for(i=0;i<n;i++){var j=(i+1)%n;var k=(i+2)%n;var z=(vertices[j].x-vertices[i].x)*(vertices[k].y-vertices[j].y);z-=(vertices[j].y-vertices[i].y)*(vertices[k].x-vertices[j].x);0>z?flag|=1:0<z&&(flag|=2);if(3===flag)return!1}return 0!==flag?!0:null};Vertices.hull=function(vertices){var upper=
[],lower=[],vertex,i;vertices=vertices.slice(0);vertices.sort(function(vertexA,vertexB){var dx=vertexA.x-vertexB.x;return 0!==dx?dx:vertexA.y-vertexB.y});for(i=0;i<vertices.length;i+=1){for(vertex=vertices[i];2<=lower.length&&0>=Vector.cross3(lower[lower.length-2],lower[lower.length-1],vertex);)lower.pop();lower.push(vertex)}for(i=vertices.length-1;0<=i;--i){for(vertex=vertices[i];2<=upper.length&&0>=Vector.cross3(upper[upper.length-2],upper[upper.length-1],vertex);)upper.pop();upper.push(vertex)}upper.pop();
lower.pop();return upper.concat(lower)}})()},function(module,exports,__webpack_require__){var Events={};module.exports=Events;var Common=__webpack_require__(0);(function(){Events.on=function(object,eventNames,callback){eventNames=eventNames.split(" ");for(var name,i=0;i<eventNames.length;i++)name=eventNames[i],object.events=object.events||{},object.events[name]=object.events[name]||[],object.events[name].push(callback);return callback};Events.off=function(object,eventNames,callback){if(eventNames){"function"===
typeof eventNames&&(callback=eventNames,eventNames=Common.keys(object.events).join(" "));eventNames=eventNames.split(" ");for(var i=0;i<eventNames.length;i++){var callbacks=object.events[eventNames[i]],newCallbacks=[];if(callback&&callbacks)for(var j=0;j<callbacks.length;j++)callbacks[j]!==callback&&newCallbacks.push(callbacks[j]);object.events[eventNames[i]]=newCallbacks}}else object.events={}};Events.trigger=function(object,eventNames,event){var callbacks,events=object.events;if(events&&0<Common.keys(events).length){event||
(event={});eventNames=eventNames.split(" ");for(var i=0;i<eventNames.length;i++){var name=eventNames[i];if(callbacks=events[name]){var eventClone=Common.clone(event,!1);eventClone.name=name;eventClone.source=object;for(name=0;name<callbacks.length;name++)callbacks[name].apply(object,[eventClone])}}}}})()},function(module,exports,__webpack_require__){var Composite={};module.exports=Composite;var Events=__webpack_require__(4),Common=__webpack_require__(0),Bounds=__webpack_require__(1),Body=__webpack_require__(6);
(function(){Composite.create=function(options){return Common.extend({id:Common.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},options)};Composite.setModified=function(composite,isModified,updateParents,updateChildren){composite.isModified=isModified;updateParents&&composite.parent&&Composite.setModified(composite.parent,isModified,updateParents,updateChildren);if(updateChildren)for(var i=0;i<composite.composites.length;i++)Composite.setModified(composite.composites[i],
isModified,updateParents,updateChildren)};Composite.add=function(composite,object){var objects=[].concat(object);Events.trigger(composite,"beforeAdd",{object:object});for(var i=0;i<objects.length;i++){var obj=objects[i];switch(obj.type){case "body":if(obj.parent!==obj){Common.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}Composite.addBody(composite,obj);break;case "constraint":Composite.addConstraint(composite,obj);break;case "composite":Composite.addComposite(composite,
obj);break;case "mouseConstraint":Composite.addConstraint(composite,obj.constraint)}}Events.trigger(composite,"afterAdd",{object:object});return composite};Composite.remove=function(composite,object,deep){var objects=[].concat(object);Events.trigger(composite,"beforeRemove",{object:object});for(var i=0;i<objects.length;i++){var obj=objects[i];switch(obj.type){case "body":Composite.removeBody(composite,obj,deep);break;case "constraint":Composite.removeConstraint(composite,obj,deep);break;case "composite":Composite.removeComposite(composite,
obj,deep);break;case "mouseConstraint":Composite.removeConstraint(composite,obj.constraint)}}Events.trigger(composite,"afterRemove",{object:object});return composite};Composite.addComposite=function(compositeA,compositeB){compositeA.composites.push(compositeB);compositeB.parent=compositeA;Composite.setModified(compositeA,!0,!0,!1);return compositeA};Composite.removeComposite=function(compositeA,compositeB,deep){var position=Common.indexOf(compositeA.composites,compositeB);-1!==position&&(Composite.removeCompositeAt(compositeA,
position),Composite.setModified(compositeA,!0,!0,!1));if(deep)for(deep=0;deep<compositeA.composites.length;deep++)Composite.removeComposite(compositeA.composites[deep],compositeB,!0);return compositeA};Composite.removeCompositeAt=function(composite,position){composite.composites.splice(position,1);Composite.setModified(composite,!0,!0,!1);return composite};Composite.addBody=function(composite,body){composite.bodies.push(body);Composite.setModified(composite,!0,!0,!1);return composite};Composite.removeBody=
function(composite,body,deep){var position=Common.indexOf(composite.bodies,body);-1!==position&&(Composite.removeBodyAt(composite,position),Composite.setModified(composite,!0,!0,!1));if(deep)for(deep=0;deep<composite.composites.length;deep++)Composite.removeBody(composite.composites[deep],body,!0);return composite};Composite.removeBodyAt=function(composite,position){composite.bodies.splice(position,1);Composite.setModified(composite,!0,!0,!1);return composite};Composite.addConstraint=function(composite,
constraint){composite.constraints.push(constraint);Composite.setModified(composite,!0,!0,!1);return composite};Composite.removeConstraint=function(composite,constraint,deep){var position=Common.indexOf(composite.constraints,constraint);-1!==position&&Composite.removeConstraintAt(composite,position);if(deep)for(deep=0;deep<composite.composites.length;deep++)Composite.removeConstraint(composite.composites[deep],constraint,!0);return composite};Composite.removeConstraintAt=function(composite,position){composite.constraints.splice(position,
1);Composite.setModified(composite,!0,!0,!1);return composite};Composite.clear=function(composite,keepStatic,deep){if(deep)for(deep=0;deep<composite.composites.length;deep++)Composite.clear(composite.composites[deep],keepStatic,!0);keepStatic?composite.bodies=composite.bodies.filter(function(body){return body.isStatic}):composite.bodies.length=0;composite.constraints.length=0;composite.composites.length=0;Composite.setModified(composite,!0,!0,!1);return composite};Composite.allBodies=function(composite){for(var bodies=
[].concat(composite.bodies),i=0;i<composite.composites.length;i++)bodies=bodies.concat(Composite.allBodies(composite.composites[i]));return bodies};Composite.allConstraints=function(composite){for(var constraints=[].concat(composite.constraints),i=0;i<composite.composites.length;i++)constraints=constraints.concat(Composite.allConstraints(composite.composites[i]));return constraints};Composite.allComposites=function(composite){for(var composites=[].concat(composite.composites),i=0;i<composite.composites.length;i++)composites=
composites.concat(Composite.allComposites(composite.composites[i]));return composites};Composite.get=function(composite,id,type){switch(type){case "body":var objects=Composite.allBodies(composite);break;case "constraint":objects=Composite.allConstraints(composite);break;case "composite":objects=Composite.allComposites(composite).concat(composite)}if(!objects)return null;composite=objects.filter(function(object){return object.id.toString()===id.toString()});return 0===composite.length?null:composite[0]};
Composite.move=function(compositeA,objects,compositeB){Composite.remove(compositeA,objects);Composite.add(compositeB,objects);return compositeA};Composite.rebase=function(composite){for(var objects=Composite.allBodies(composite).concat(Composite.allConstraints(composite)).concat(Composite.allComposites(composite)),i=0;i<objects.length;i++)objects[i].id=Common.nextId();Composite.setModified(composite,!0,!0,!1);return composite};Composite.translate=function(composite,translation,recursive){recursive=
recursive?Composite.allBodies(composite):composite.bodies;for(var i=0;i<recursive.length;i++)Body.translate(recursive[i],translation);Composite.setModified(composite,!0,!0,!1);return composite};Composite.rotate=function(composite,rotation,point,recursive){var cos=Math.cos(rotation),sin=Math.sin(rotation);recursive=recursive?Composite.allBodies(composite):composite.bodies;for(var i=0;i<recursive.length;i++){var body=recursive[i],dx=body.position.x-point.x,dy=body.position.y-point.y;Body.setPosition(body,
{x:point.x+(dx*cos-dy*sin),y:point.y+(dx*sin+dy*cos)});Body.rotate(body,rotation)}Composite.setModified(composite,!0,!0,!1);return composite};Composite.scale=function(composite,scaleX,scaleY,point,recursive){recursive=recursive?Composite.allBodies(composite):composite.bodies;for(var i=0;i<recursive.length;i++){var body=recursive[i];Body.setPosition(body,{x:point.x+(body.position.x-point.x)*scaleX,y:point.y+(body.position.y-point.y)*scaleY});Body.scale(body,scaleX,scaleY)}Composite.setModified(composite,
!0,!0,!1);return composite};Composite.bounds=function(composite){composite=Composite.allBodies(composite);for(var vertices=[],i=0;i<composite.length;i+=1){var body=composite[i];vertices.push(body.bounds.min,body.bounds.max)}return Bounds.create(vertices)}})()},function(module,exports,__webpack_require__){var Body={};module.exports=Body;var Vertices=__webpack_require__(3),Vector=__webpack_require__(2),Sleeping=__webpack_require__(7);__webpack_require__(16);var Common=__webpack_require__(0),Bounds=
__webpack_require__(1),Axes=__webpack_require__(10);(function(){Body._inertiaScale=4;Body._nextCollidingGroupId=1;Body._nextNonCollidingGroupId=-1;Body._nextCategory=1;Body.create=function(options){var defaults={id:Common.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:Vertices.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},
angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null};defaults=
Common.extend(defaults,options);options=options||{};Body.set(defaults,{bounds:defaults.bounds||Bounds.create(defaults.vertices),positionPrev:defaults.positionPrev||Vector.clone(defaults.position),anglePrev:defaults.anglePrev||defaults.angle,vertices:defaults.vertices,parts:defaults.parts||[defaults],isStatic:defaults.isStatic,isSleeping:defaults.isSleeping,parent:defaults.parent||defaults});Vertices.rotate(defaults.vertices,defaults.angle,defaults.position);Axes.rotate(defaults.axes,defaults.angle);
Bounds.update(defaults.bounds,defaults.vertices,defaults.velocity);Body.set(defaults,{axes:options.axes||defaults.axes,area:options.area||defaults.area,mass:options.mass||defaults.mass,inertia:options.inertia||defaults.inertia});options=defaults.isStatic?"#14151f":Common.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]);var defaultStrokeStyle=defaults.isStatic?"#555":"#ccc",defaultLineWidth=defaults.isStatic&&null===defaults.render.fillStyle?1:0;defaults.render.fillStyle=defaults.render.fillStyle||
options;defaults.render.strokeStyle=defaults.render.strokeStyle||defaultStrokeStyle;defaults.render.lineWidth=defaults.render.lineWidth||defaultLineWidth;defaults.render.sprite.xOffset+=-(defaults.bounds.min.x-defaults.position.x)/(defaults.bounds.max.x-defaults.bounds.min.x);defaults.render.sprite.yOffset+=-(defaults.bounds.min.y-defaults.position.y)/(defaults.bounds.max.y-defaults.bounds.min.y);return defaults};Body.nextGroup=function(isNonColliding){return isNonColliding?Body._nextNonCollidingGroupId--:
Body._nextCollidingGroupId++};Body.nextCategory=function(){Body._nextCategory<<=1;return Body._nextCategory};Body.set=function(body,settings,value){if("string"===typeof settings){var property=settings;settings={};settings[property]=value}for(property in settings)if(Object.prototype.hasOwnProperty.call(settings,property))switch(value=settings[property],property){case "isStatic":Body.setStatic(body,value);break;case "isSleeping":Sleeping.set(body,value);break;case "mass":Body.setMass(body,value);break;
case "density":Body.setDensity(body,value);break;case "inertia":Body.setInertia(body,value);break;case "vertices":Body.setVertices(body,value);break;case "position":Body.setPosition(body,value);break;case "angle":Body.setAngle(body,value);break;case "velocity":Body.setVelocity(body,value);break;case "angularVelocity":Body.setAngularVelocity(body,value);break;case "parts":Body.setParts(body,value);break;case "centre":Body.setCentre(body,value);break;default:body[property]=value}};Body.setStatic=function(body,
isStatic){for(var i=0;i<body.parts.length;i++){var part=body.parts[i];(part.isStatic=isStatic)?(part._original={restitution:part.restitution,friction:part.friction,mass:part.mass,inertia:part.inertia,density:part.density,inverseMass:part.inverseMass,inverseInertia:part.inverseInertia},part.restitution=0,part.friction=1,part.mass=part.inertia=part.density=Infinity,part.inverseMass=part.inverseInertia=0,part.positionPrev.x=part.position.x,part.positionPrev.y=part.position.y,part.anglePrev=part.angle,
part.angularVelocity=0,part.speed=0,part.angularSpeed=0,part.motion=0):part._original&&(part.restitution=part._original.restitution,part.friction=part._original.friction,part.mass=part._original.mass,part.inertia=part._original.inertia,part.density=part._original.density,part.inverseMass=part._original.inverseMass,part.inverseInertia=part._original.inverseInertia,part._original=null)}};Body.setMass=function(body,mass){body.inertia=body.inertia/(body.mass/6)*(mass/6);body.inverseInertia=1/body.inertia;
body.mass=mass;body.inverseMass=1/body.mass;body.density=body.mass/body.area};Body.setDensity=function(body,density){Body.setMass(body,density*body.area);body.density=density};Body.setInertia=function(body,inertia){body.inertia=inertia;body.inverseInertia=1/body.inertia};Body.setVertices=function(body,vertices){body.vertices=vertices[0].body===body?vertices:Vertices.create(vertices,body);body.axes=Axes.fromVertices(body.vertices);body.area=Vertices.area(body.vertices);Body.setMass(body,body.density*
body.area);vertices=Vertices.centre(body.vertices);Vertices.translate(body.vertices,vertices,-1);Body.setInertia(body,Body._inertiaScale*Vertices.inertia(body.vertices,body.mass));Vertices.translate(body.vertices,body.position);Bounds.update(body.bounds,body.vertices,body.velocity)};Body.setParts=function(body,parts,autoHull){var i;parts=parts.slice(0);body.parts.length=0;body.parts.push(body);body.parent=body;for(i=0;i<parts.length;i++){var part=parts[i];part!==body&&(part.parent=body,body.parts.push(part))}if(1!==
body.parts.length){if("undefined"!==typeof autoHull?autoHull:1){autoHull=[];for(i=0;i<parts.length;i++)autoHull=autoHull.concat(parts[i].vertices);Vertices.clockwiseSort(autoHull);parts=Vertices.hull(autoHull);i=Vertices.centre(parts);Body.setVertices(body,parts);Vertices.translate(body.vertices,i)}parts=Body._totalProperties(body);body.area=parts.area;body.parent=body;body.position.x=parts.centre.x;body.position.y=parts.centre.y;body.positionPrev.x=parts.centre.x;body.positionPrev.y=parts.centre.y;
Body.setMass(body,parts.mass);Body.setInertia(body,parts.inertia);Body.setPosition(body,parts.centre)}};Body.setCentre=function(body,centre,relative){relative?(body.positionPrev.x+=centre.x,body.positionPrev.y+=centre.y,body.position.x+=centre.x,body.position.y+=centre.y):(body.positionPrev.x=centre.x-(body.position.x-body.positionPrev.x),body.positionPrev.y=centre.y-(body.position.y-body.positionPrev.y),body.position.x=centre.x,body.position.y=centre.y)};Body.setPosition=function(body,position){position=
Vector.sub(position,body.position);body.positionPrev.x+=position.x;body.positionPrev.y+=position.y;for(var i=0;i<body.parts.length;i++){var part=body.parts[i];part.position.x+=position.x;part.position.y+=position.y;Vertices.translate(part.vertices,position);Bounds.update(part.bounds,part.vertices,body.velocity)}};Body.setAngle=function(body,angle){angle-=body.angle;body.anglePrev+=angle;for(var i=0;i<body.parts.length;i++){var part=body.parts[i];part.angle+=angle;Vertices.rotate(part.vertices,angle,
body.position);Axes.rotate(part.axes,angle);Bounds.update(part.bounds,part.vertices,body.velocity);0<i&&Vector.rotateAbout(part.position,angle,body.position,part.position)}};Body.setVelocity=function(body,velocity){body.positionPrev.x=body.position.x-velocity.x;body.positionPrev.y=body.position.y-velocity.y;body.velocity.x=velocity.x;body.velocity.y=velocity.y;body.speed=Vector.magnitude(body.velocity)};Body.setAngularVelocity=function(body,velocity){body.anglePrev=body.angle-velocity;body.angularVelocity=
velocity;body.angularSpeed=Math.abs(body.angularVelocity)};Body.translate=function(body,translation){Body.setPosition(body,Vector.add(body.position,translation))};Body.rotate=function(body,rotation,point){if(point){var cos=Math.cos(rotation),sin=Math.sin(rotation),dx=body.position.x-point.x,dy=body.position.y-point.y;Body.setPosition(body,{x:point.x+(dx*cos-dy*sin),y:point.y+(dx*sin+dy*cos)})}Body.setAngle(body,body.angle+rotation)};Body.scale=function(body,scaleX,scaleY,point){var totalArea=0,totalInertia=
0;point=point||body.position;for(var i=0;i<body.parts.length;i++){var part=body.parts[i];Vertices.scale(part.vertices,scaleX,scaleY,point);part.axes=Axes.fromVertices(part.vertices);part.area=Vertices.area(part.vertices);Body.setMass(part,body.density*part.area);Vertices.translate(part.vertices,{x:-part.position.x,y:-part.position.y});Body.setInertia(part,Body._inertiaScale*Vertices.inertia(part.vertices,part.mass));Vertices.translate(part.vertices,{x:part.position.x,y:part.position.y});0<i&&(totalArea+=
part.area,totalInertia+=part.inertia);part.position.x=point.x+(part.position.x-point.x)*scaleX;part.position.y=point.y+(part.position.y-point.y)*scaleY;Bounds.update(part.bounds,part.vertices,body.velocity)}1<body.parts.length&&(body.area=totalArea,body.isStatic||(Body.setMass(body,body.density*totalArea),Body.setInertia(body,totalInertia)));body.circleRadius&&(body.circleRadius=scaleX===scaleY?body.circleRadius*scaleX:null)};Body.update=function(body,deltaTime,timeScale,correction){deltaTime=Math.pow(deltaTime*
timeScale*body.timeScale,2);timeScale=1-body.frictionAir*timeScale*body.timeScale;var velocityPrevY=body.position.y-body.positionPrev.y;body.velocity.x=(body.position.x-body.positionPrev.x)*timeScale*correction+body.force.x/body.mass*deltaTime;body.velocity.y=velocityPrevY*timeScale*correction+body.force.y/body.mass*deltaTime;body.positionPrev.x=body.position.x;body.positionPrev.y=body.position.y;body.position.x+=body.velocity.x;body.position.y+=body.velocity.y;body.angularVelocity=(body.angle-body.anglePrev)*
timeScale*correction+body.torque/body.inertia*deltaTime;body.anglePrev=body.angle;body.angle+=body.angularVelocity;body.speed=Vector.magnitude(body.velocity);body.angularSpeed=Math.abs(body.angularVelocity);for(correction=0;correction<body.parts.length;correction++)deltaTime=body.parts[correction],Vertices.translate(deltaTime.vertices,body.velocity),0<correction&&(deltaTime.position.x+=body.velocity.x,deltaTime.position.y+=body.velocity.y),0!==body.angularVelocity&&(Vertices.rotate(deltaTime.vertices,
body.angularVelocity,body.position),Axes.rotate(deltaTime.axes,body.angularVelocity),0<correction&&Vector.rotateAbout(deltaTime.position,body.angularVelocity,body.position,deltaTime.position)),Bounds.update(deltaTime.bounds,deltaTime.vertices,body.velocity)};Body.applyForce=function(body,position,force){body.force.x+=force.x;body.force.y+=force.y;body.torque+=(position.x-body.position.x)*force.y-(position.y-body.position.y)*force.x};Body._totalProperties=function(body){for(var properties={mass:0,
area:0,inertia:0,centre:{x:0,y:0}},i=1===body.parts.length?0:1;i<body.parts.length;i++){var part=body.parts[i],mass=Infinity!==part.mass?part.mass:1;properties.mass+=mass;properties.area+=part.area;properties.inertia+=part.inertia;properties.centre=Vector.add(properties.centre,Vector.mult(part.position,mass))}properties.centre=Vector.div(properties.centre,properties.mass);return properties}})()},function(module,exports,__webpack_require__){var Sleeping={};module.exports=Sleeping;var Events=__webpack_require__(4);
(function(){Sleeping._motionWakeThreshold=.18;Sleeping._motionSleepThreshold=.08;Sleeping._minBias=.9;Sleeping.update=function(bodies,timeScale){timeScale*=timeScale*timeScale;for(var i=0;i<bodies.length;i++){var body=bodies[i],motion=body.speed*body.speed+body.angularSpeed*body.angularSpeed;0!==body.force.x||0!==body.force.y?Sleeping.set(body,!1):(body.motion=Sleeping._minBias*Math.min(body.motion,motion)+(1-Sleeping._minBias)*Math.max(body.motion,motion),0<body.sleepThreshold&&body.motion<Sleeping._motionSleepThreshold*
timeScale?(body.sleepCounter+=1,body.sleepCounter>=body.sleepThreshold&&Sleeping.set(body,!0)):0<body.sleepCounter&&--body.sleepCounter)}};Sleeping.afterCollisions=function(pairs,timeScale){timeScale*=timeScale*timeScale;for(var i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive){var collision=pair.collision;pair=collision.bodyA.parent;var bodyB=collision.bodyB.parent;pair.isSleeping&&bodyB.isSleeping||pair.isStatic||bodyB.isStatic||!pair.isSleeping&&!bodyB.isSleeping||(collision=pair.isSleeping&&
!pair.isStatic?pair:bodyB,pair=collision===pair?bodyB:pair,!collision.isStatic&&pair.motion>Sleeping._motionWakeThreshold*timeScale&&Sleeping.set(collision,!1))}}};Sleeping.set=function(body,isSleeping){var wasSleeping=body.isSleeping;isSleeping?(body.isSleeping=!0,body.sleepCounter=body.sleepThreshold,body.positionImpulse.x=0,body.positionImpulse.y=0,body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.anglePrev=body.angle,body.speed=0,body.angularSpeed=0,body.motion=0,wasSleeping||
Events.trigger(body,"sleepStart")):(body.isSleeping=!1,body.sleepCounter=0,wasSleeping&&Events.trigger(body,"sleepEnd"))}})()},function(module,exports,__webpack_require__){var Constraint={};module.exports=Constraint;var Vertices=__webpack_require__(3),Vector=__webpack_require__(2),Sleeping=__webpack_require__(7),Bounds=__webpack_require__(1),Axes=__webpack_require__(10),Common=__webpack_require__(0);(function(){Constraint._warming=.4;Constraint._torqueDampen=1;Constraint._minLength=1E-6;Constraint.create=
function(options){options.bodyA&&!options.pointA&&(options.pointA={x:0,y:0});options.bodyB&&!options.pointB&&(options.pointB={x:0,y:0});var initialPointA=options.bodyA?Vector.add(options.bodyA.position,options.pointA):options.pointA,initialPointB=options.bodyB?Vector.add(options.bodyB.position,options.pointB):options.pointB;initialPointA=Vector.magnitude(Vector.sub(initialPointA,initialPointB));options.length="undefined"!==typeof options.length?options.length:initialPointA;options.id=options.id||
Common.nextId();options.label=options.label||"Constraint";options.type="constraint";options.stiffness=options.stiffness||(0<options.length?1:.7);options.damping=options.damping||0;options.angularStiffness=options.angularStiffness||0;options.angleA=options.bodyA?options.bodyA.angle:options.angleA;options.angleB=options.bodyB?options.bodyB.angle:options.angleB;options.plugin={};initialPointA={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};0===options.length&&.1<options.stiffness?
(initialPointA.type="pin",initialPointA.anchors=!1):.9>options.stiffness&&(initialPointA.type="spring");options.render=Common.extend(initialPointA,options.render);return options};Constraint.preSolveAll=function(bodies){for(var i=0;i<bodies.length;i+=1){var body=bodies[i],impulse=body.constraintImpulse;body.isStatic||0===impulse.x&&0===impulse.y&&0===impulse.angle||(body.position.x+=impulse.x,body.position.y+=impulse.y,body.angle+=impulse.angle)}};Constraint.solveAll=function(constraints,timeScale){for(var i=
0;i<constraints.length;i+=1){var constraint=constraints[i],fixedA=!constraint.bodyA||constraint.bodyA&&constraint.bodyA.isStatic;constraint=!constraint.bodyB||constraint.bodyB&&constraint.bodyB.isStatic;(fixedA||constraint)&&Constraint.solve(constraints[i],timeScale)}for(i=0;i<constraints.length;i+=1)constraint=constraints[i],fixedA=!constraint.bodyA||constraint.bodyA&&constraint.bodyA.isStatic,constraint=!constraint.bodyB||constraint.bodyB&&constraint.bodyB.isStatic,fixedA||constraint||Constraint.solve(constraints[i],
timeScale)};Constraint.solve=function(constraint,timeScale){var bodyA=constraint.bodyA,bodyB=constraint.bodyB,pointA=constraint.pointA,pointB=constraint.pointB;if(bodyA||bodyB){bodyA&&!bodyA.isStatic&&(Vector.rotate(pointA,bodyA.angle-constraint.angleA,pointA),constraint.angleA=bodyA.angle);bodyB&&!bodyB.isStatic&&(Vector.rotate(pointB,bodyB.angle-constraint.angleB,pointB),constraint.angleB=bodyB.angle);var pointAWorld=pointA,pointBWorld=pointB;bodyA&&(pointAWorld=Vector.add(bodyA.position,pointA));
bodyB&&(pointBWorld=Vector.add(bodyB.position,pointB));if(pointAWorld&&pointBWorld){var delta=Vector.sub(pointAWorld,pointBWorld),currentLength=Vector.magnitude(delta);currentLength<Constraint._minLength&&(currentLength=Constraint._minLength);timeScale=Vector.mult(delta,(currentLength-constraint.length)/currentLength*(1>constraint.stiffness?constraint.stiffness*timeScale:constraint.stiffness));pointAWorld=(bodyA?bodyA.inverseMass:0)+(bodyB?bodyB.inverseMass:0);pointBWorld=pointAWorld+((bodyA?bodyA.inverseInertia:
0)+(bodyB?bodyB.inverseInertia:0));if(constraint.damping){var normalVelocity=Vector.create();var normal=Vector.div(delta,currentLength);normalVelocity=Vector.sub(bodyB&&Vector.sub(bodyB.position,bodyB.positionPrev)||normalVelocity,bodyA&&Vector.sub(bodyA.position,bodyA.positionPrev)||normalVelocity);normalVelocity=Vector.dot(normal,normalVelocity)}bodyA&&!bodyA.isStatic&&(delta=bodyA.inverseMass/pointAWorld,bodyA.constraintImpulse.x-=timeScale.x*delta,bodyA.constraintImpulse.y-=timeScale.y*delta,
bodyA.position.x-=timeScale.x*delta,bodyA.position.y-=timeScale.y*delta,constraint.damping&&(bodyA.positionPrev.x-=constraint.damping*normal.x*normalVelocity*delta,bodyA.positionPrev.y-=constraint.damping*normal.y*normalVelocity*delta),pointA=Vector.cross(pointA,timeScale)/pointBWorld*Constraint._torqueDampen*bodyA.inverseInertia*(1-constraint.angularStiffness),bodyA.constraintImpulse.angle-=pointA,bodyA.angle-=pointA);bodyB&&!bodyB.isStatic&&(delta=bodyB.inverseMass/pointAWorld,bodyB.constraintImpulse.x+=
timeScale.x*delta,bodyB.constraintImpulse.y+=timeScale.y*delta,bodyB.position.x+=timeScale.x*delta,bodyB.position.y+=timeScale.y*delta,constraint.damping&&(bodyB.positionPrev.x+=constraint.damping*normal.x*normalVelocity*delta,bodyB.positionPrev.y+=constraint.damping*normal.y*normalVelocity*delta),pointA=Vector.cross(pointB,timeScale)/pointBWorld*Constraint._torqueDampen*bodyB.inverseInertia*(1-constraint.angularStiffness),bodyB.constraintImpulse.angle+=pointA,bodyB.angle+=pointA)}}};Constraint.postSolveAll=
function(bodies){for(var i=0;i<bodies.length;i++){var body=bodies[i],impulse=body.constraintImpulse;if(!(body.isStatic||0===impulse.x&&0===impulse.y&&0===impulse.angle)){Sleeping.set(body,!1);for(var j=0;j<body.parts.length;j++){var part=body.parts[j];Vertices.translate(part.vertices,impulse);0<j&&(part.position.x+=impulse.x,part.position.y+=impulse.y);0!==impulse.angle&&(Vertices.rotate(part.vertices,impulse.angle,body.position),Axes.rotate(part.axes,impulse.angle),0<j&&Vector.rotateAbout(part.position,
impulse.angle,body.position,part.position));Bounds.update(part.bounds,part.vertices,body.velocity)}impulse.angle*=Constraint._warming;impulse.x*=Constraint._warming;impulse.y*=Constraint._warming}}};Constraint.pointAWorld=function(constraint){return{x:(constraint.bodyA?constraint.bodyA.position.x:0)+constraint.pointA.x,y:(constraint.bodyA?constraint.bodyA.position.y:0)+constraint.pointA.y}};Constraint.pointBWorld=function(constraint){return{x:(constraint.bodyB?constraint.bodyB.position.x:0)+constraint.pointB.x,
y:(constraint.bodyB?constraint.bodyB.position.y:0)+constraint.pointB.y}}})()},function(module,exports,__webpack_require__){var Pair={};module.exports=Pair;var Contact=__webpack_require__(17);(function(){Pair.create=function(collision,timestamp){var bodyA=collision.bodyA,bodyB=collision.bodyB,parentA=collision.parentA,parentB=collision.parentB;bodyA={id:Pair.id(bodyA,bodyB),bodyA:bodyA,bodyB:bodyB,contacts:{},activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:bodyA.isSensor||bodyB.isSensor,
timeCreated:timestamp,timeUpdated:timestamp,inverseMass:parentA.inverseMass+parentB.inverseMass,friction:Math.min(parentA.friction,parentB.friction),frictionStatic:Math.max(parentA.frictionStatic,parentB.frictionStatic),restitution:Math.max(parentA.restitution,parentB.restitution),slop:Math.max(parentA.slop,parentB.slop)};Pair.update(bodyA,collision,timestamp);return bodyA};Pair.update=function(pair,collision,timestamp){var contacts=pair.contacts,supports=collision.supports,activeContacts=pair.activeContacts,
parentA=collision.parentA,parentB=collision.parentB;pair.collision=collision;pair.inverseMass=parentA.inverseMass+parentB.inverseMass;pair.friction=Math.min(parentA.friction,parentB.friction);pair.frictionStatic=Math.max(parentA.frictionStatic,parentB.frictionStatic);pair.restitution=Math.max(parentA.restitution,parentB.restitution);pair.slop=Math.max(parentA.slop,parentB.slop);activeContacts.length=0;if(collision.collided){for(parentA=0;parentA<supports.length;parentA++){parentB=supports[parentA];
var contactId=Contact.id(parentB),contact=contacts[contactId];contact?activeContacts.push(contact):activeContacts.push(contacts[contactId]=Contact.create(parentB))}pair.separation=collision.depth;Pair.setActive(pair,!0,timestamp)}else!0===pair.isActive&&Pair.setActive(pair,!1,timestamp)};Pair.setActive=function(pair,isActive,timestamp){isActive?(pair.isActive=!0,pair.timeUpdated=timestamp):(pair.isActive=!1,pair.activeContacts.length=0)};Pair.id=function(bodyA,bodyB){return bodyA.id<bodyB.id?"A"+
bodyA.id+"B"+bodyB.id:"A"+bodyB.id+"B"+bodyA.id}})()},function(module,exports,__webpack_require__){var Axes={};module.exports=Axes;var Vector=__webpack_require__(2),Common=__webpack_require__(0);(function(){Axes.fromVertices=function(vertices){for(var axes={},i=0;i<vertices.length;i++){var j=(i+1)%vertices.length;j=Vector.normalise({x:vertices[j].y-vertices[i].y,y:vertices[i].x-vertices[j].x});var gradient=0===j.y?Infinity:j.x/j.y;gradient=gradient.toFixed(3).toString();axes[gradient]=j}return Common.values(axes)};
Axes.rotate=function(axes,angle){if(0!==angle){var cos=Math.cos(angle);angle=Math.sin(angle);for(var i=0;i<axes.length;i++){var axis=axes[i];var xx=axis.x*cos-axis.y*angle;axis.y=axis.x*angle+axis.y*cos;axis.x=xx}}}})()},function(module,exports,__webpack_require__){var Bodies={};module.exports=Bodies;var Vertices=__webpack_require__(3),Common=__webpack_require__(0),Body=__webpack_require__(6),Bounds=__webpack_require__(1),Vector=__webpack_require__(2);(function(){Bodies.rectangle=function(x,y,width,
height,options){options=options||{};x={label:"Rectangle Body",position:{x:x,y:y},vertices:Vertices.fromPath("L 0 0 L "+width+" 0 L "+width+" "+height+" L 0 "+height)};options.chamfer&&(y=options.chamfer,x.vertices=Vertices.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete options.chamfer);return Body.create(Common.extend({},x,options))};Bodies.trapezoid=function(x,y,width,height,slope,options){options=options||{};slope*=.5;var x1=width*slope;width=x1+(1-2*slope)*width;var x3=
width+x1;x={label:"Trapezoid Body",position:{x:x,y:y},vertices:Vertices.fromPath(.5>slope?"L 0 0 L "+x1+" "+-height+" L "+width+" "+-height+" L "+x3+" 0":"L 0 0 L "+width+" "+-height+" L "+x3+" 0")};options.chamfer&&(y=options.chamfer,x.vertices=Vertices.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete options.chamfer);return Body.create(Common.extend({},x,options))};Bodies.circle=function(x,y,radius,options,maxSides){options=options||{};var circle={label:"Circle Body",circleRadius:radius};
maxSides=Math.ceil(Math.max(10,Math.min(maxSides||25,radius)));1===maxSides%2&&(maxSides+=1);return Bodies.polygon(x,y,maxSides,radius,Common.extend({},circle,options))};Bodies.polygon=function(x,y,sides,radius,options){options=options||{};if(3>sides)return Bodies.circle(x,y,radius,options);for(var theta=2*Math.PI/sides,path="",offset=.5*theta,i=0;i<sides;i+=1){var angle=offset+i*theta,yy=Math.sin(angle)*radius;path+="L "+(Math.cos(angle)*radius).toFixed(3)+" "+yy.toFixed(3)+" "}x={label:"Polygon Body",
position:{x:x,y:y},vertices:Vertices.fromPath(path)};options.chamfer&&(y=options.chamfer,x.vertices=Vertices.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete options.chamfer);return Body.create(Common.extend({},x,options))};Bodies.fromVertices=function(x,y,vertexSets,options,flagInternal,removeCollinear,minimumArea,removeDuplicatePoints){var decomp=Common.getDecomp(),isConcave,v;var canDecomp=!(!decomp||!decomp.quickDecomp);options=options||{};var parts=[];flagInternal="undefined"!==
typeof flagInternal?flagInternal:!1;removeCollinear="undefined"!==typeof removeCollinear?removeCollinear:.01;minimumArea="undefined"!==typeof minimumArea?minimumArea:10;removeDuplicatePoints="undefined"!==typeof removeDuplicatePoints?removeDuplicatePoints:.01;Common.isArray(vertexSets[0])||(vertexSets=[vertexSets]);for(v=0;v<vertexSets.length;v+=1){var vertices$jscomp$0=vertexSets[v];var isConvex=Vertices.isConvex(vertices$jscomp$0);(isConcave=!isConvex)&&!canDecomp&&Common.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices.");
if(isConvex||!canDecomp)vertices$jscomp$0=isConvex?Vertices.clockwiseSort(vertices$jscomp$0):Vertices.hull(vertices$jscomp$0),parts.push({position:{x:x,y:y},vertices:vertices$jscomp$0});else for(isConvex=vertices$jscomp$0.map(function(vertex){return[vertex.x,vertex.y]}),decomp.makeCCW(isConvex),!1!==removeCollinear&&decomp.removeCollinearPoints(isConvex,removeCollinear),!1!==removeDuplicatePoints&&decomp.removeDuplicatePoints&&decomp.removeDuplicatePoints(isConvex,removeDuplicatePoints),isConcave=
decomp.quickDecomp(isConvex),isConvex=0;isConvex<isConcave.length;isConvex++)vertices$jscomp$0=isConcave[isConvex].map(function(vertices){return{x:vertices[0],y:vertices[1]}}),0<minimumArea&&Vertices.area(vertices$jscomp$0)<minimumArea||parts.push({position:Vertices.centre(vertices$jscomp$0),vertices:vertices$jscomp$0})}for(isConvex=0;isConvex<parts.length;isConvex++)parts[isConvex]=Body.create(Common.extend(parts[isConvex],options));if(flagInternal)for(isConvex=0;isConvex<parts.length;isConvex++)for(minimumArea=
parts[isConvex],vertexSets=isConvex+1;vertexSets<parts.length;vertexSets++)if(removeDuplicatePoints=parts[vertexSets],Bounds.overlaps(minimumArea.bounds,removeDuplicatePoints.bounds))for(decomp=minimumArea.vertices,canDecomp=removeDuplicatePoints.vertices,flagInternal=0;flagInternal<minimumArea.vertices.length;flagInternal++)for(removeCollinear=0;removeCollinear<removeDuplicatePoints.vertices.length;removeCollinear++)v=Vector.magnitudeSquared(Vector.sub(decomp[(flagInternal+1)%decomp.length],canDecomp[removeCollinear])),
isConcave=Vector.magnitudeSquared(Vector.sub(decomp[flagInternal],canDecomp[(removeCollinear+1)%canDecomp.length])),5>v&&5>isConcave&&(decomp[flagInternal].isInternal=!0,canDecomp[removeCollinear].isInternal=!0);return 1<parts.length?(options=Body.create(Common.extend({parts:parts.slice(0)},options)),Body.setPosition(options,{x:x,y:y}),options):parts[0]}})()},function(module,exports,__webpack_require__){var Mouse={};module.exports=Mouse;var Common=__webpack_require__(0);(function(){Mouse.create=function(element){var mouse=
{};element||Common.log("Mouse.create: element was undefined, defaulting to document.body","warn");mouse.element=element||document.body;mouse.absolute={x:0,y:0};mouse.position={x:0,y:0};mouse.mousedownPosition={x:0,y:0};mouse.mouseupPosition={x:0,y:0};mouse.offset={x:0,y:0};mouse.scale={x:1,y:1};mouse.wheelDelta=0;mouse.button=-1;mouse.pixelRatio=parseInt(mouse.element.getAttribute("data-pixel-ratio"),10)||1;mouse.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null};mouse.mousemove=
function(event){var position=Mouse._getRelativeMousePosition(event,mouse.element,mouse.pixelRatio);event.changedTouches&&(mouse.button=0,event.preventDefault());mouse.absolute.x=position.x;mouse.absolute.y=position.y;mouse.position.x=mouse.absolute.x*mouse.scale.x+mouse.offset.x;mouse.position.y=mouse.absolute.y*mouse.scale.y+mouse.offset.y;mouse.sourceEvents.mousemove=event};mouse.mousedown=function(event){var position=Mouse._getRelativeMousePosition(event,mouse.element,mouse.pixelRatio);event.changedTouches?
(mouse.button=0,event.preventDefault()):mouse.button=event.button;mouse.absolute.x=position.x;mouse.absolute.y=position.y;mouse.position.x=mouse.absolute.x*mouse.scale.x+mouse.offset.x;mouse.position.y=mouse.absolute.y*mouse.scale.y+mouse.offset.y;mouse.mousedownPosition.x=mouse.position.x;mouse.mousedownPosition.y=mouse.position.y;mouse.sourceEvents.mousedown=event};mouse.mouseup=function(event){var position=Mouse._getRelativeMousePosition(event,mouse.element,mouse.pixelRatio);event.changedTouches&&
event.preventDefault();mouse.button=-1;mouse.absolute.x=position.x;mouse.absolute.y=position.y;mouse.position.x=mouse.absolute.x*mouse.scale.x+mouse.offset.x;mouse.position.y=mouse.absolute.y*mouse.scale.y+mouse.offset.y;mouse.mouseupPosition.x=mouse.position.x;mouse.mouseupPosition.y=mouse.position.y;mouse.sourceEvents.mouseup=event};mouse.mousewheel=function(event){mouse.wheelDelta=Math.max(-1,Math.min(1,event.wheelDelta||-event.detail));event.preventDefault()};Mouse.setElement(mouse,mouse.element);
return mouse};Mouse.setElement=function(mouse,element){mouse.element=element;element.addEventListener("mousemove",mouse.mousemove);element.addEventListener("mousedown",mouse.mousedown);element.addEventListener("mouseup",mouse.mouseup);element.addEventListener("mousewheel",mouse.mousewheel);element.addEventListener("DOMMouseScroll",mouse.mousewheel);element.addEventListener("touchmove",mouse.mousemove);element.addEventListener("touchstart",mouse.mousedown);element.addEventListener("touchend",mouse.mouseup)};
Mouse.clearSourceEvents=function(mouse){mouse.sourceEvents.mousemove=null;mouse.sourceEvents.mousedown=null;mouse.sourceEvents.mouseup=null;mouse.sourceEvents.mousewheel=null;mouse.wheelDelta=0};Mouse.setOffset=function(mouse,offset){mouse.offset.x=offset.x;mouse.offset.y=offset.y;mouse.position.x=mouse.absolute.x*mouse.scale.x+mouse.offset.x;mouse.position.y=mouse.absolute.y*mouse.scale.y+mouse.offset.y};Mouse.setScale=function(mouse,scale){mouse.scale.x=scale.x;mouse.scale.y=scale.y;mouse.position.x=
mouse.absolute.x*mouse.scale.x+mouse.offset.x;mouse.position.y=mouse.absolute.y*mouse.scale.y+mouse.offset.y};Mouse._getRelativeMousePosition=function(event,element,pixelRatio){var elementBounds=element.getBoundingClientRect(),rootNode=document.documentElement||document.body.parentNode||document.body,scrollX=void 0!==window.pageXOffset?window.pageXOffset:rootNode.scrollLeft;rootNode=void 0!==window.pageYOffset?window.pageYOffset:rootNode.scrollTop;var touches=event.changedTouches;touches?(scrollX=
touches[0].pageX-elementBounds.left-scrollX,event=touches[0].pageY-elementBounds.top-rootNode):(scrollX=event.pageX-elementBounds.left-scrollX,event=event.pageY-elementBounds.top-rootNode);return{x:scrollX/(element.clientWidth/(element.width||element.clientWidth)*pixelRatio),y:event/(element.clientHeight/(element.height||element.clientHeight)*pixelRatio)}}})()},function(module,exports,__webpack_require__){var Detector={};module.exports=Detector;var SAT=__webpack_require__(14),Pair=__webpack_require__(9),
Bounds=__webpack_require__(1);(function(){Detector.collisions=function(broadphasePairs,engine){var collisions=[];engine=engine.pairs.table;for(var i=0;i<broadphasePairs.length;i++){var bodyA=broadphasePairs[i][0],bodyB=broadphasePairs[i][1];if((!bodyA.isStatic&&!bodyA.isSleeping||!bodyB.isStatic&&!bodyB.isSleeping)&&Detector.canCollide(bodyA.collisionFilter,bodyB.collisionFilter)&&Bounds.overlaps(bodyA.bounds,bodyB.bounds))for(var j=1<bodyA.parts.length?1:0;j<bodyA.parts.length;j++)for(var partA=
bodyA.parts[j],k=1<bodyB.parts.length?1:0;k<bodyB.parts.length;k++){var partB=bodyB.parts[k];if(partA===bodyA&&partB===bodyB||Bounds.overlaps(partA.bounds,partB.bounds)){var pairId=Pair.id(partA,partB);pairId=engine[pairId];partB=SAT.collides(partA,partB,pairId&&pairId.isActive?pairId.collision:null);partB.collided&&collisions.push(partB)}}}return collisions};Detector.canCollide=function(filterA,filterB){return filterA.group===filterB.group&&0!==filterA.group?0<filterA.group:0!==(filterA.mask&filterB.category)&&
0!==(filterB.mask&filterA.category)}})()},function(module,exports,__webpack_require__){var SAT={};module.exports=SAT;var Vertices=__webpack_require__(3),Vector=__webpack_require__(2);(function(){SAT.collides=function(bodyA,bodyB,previousCollision){var overlapBA=!1;if(previousCollision){var collision=bodyA.parent;overlapBA=bodyB.parent;collision=collision.speed*collision.speed+collision.angularSpeed*collision.angularSpeed+overlapBA.speed*overlapBA.speed+overlapBA.angularSpeed*overlapBA.angularSpeed;
overlapBA=previousCollision&&previousCollision.collided&&.2>collision;collision=previousCollision}else collision={collided:!1,bodyA:bodyA,bodyB:bodyB};if(previousCollision&&overlapBA){if(overlapBA=collision.axisBody,previousCollision=SAT._overlapAxes(overlapBA.vertices,(overlapBA===bodyA?bodyB:bodyA).vertices,[overlapBA.axes[previousCollision.axisNumber]]),collision.reused=!0,0>=previousCollision.overlap)return collision.collided=!1,collision}else{previousCollision=SAT._overlapAxes(bodyA.vertices,
bodyB.vertices,bodyA.axes);if(0>=previousCollision.overlap)return collision.collided=!1,collision;overlapBA=SAT._overlapAxes(bodyB.vertices,bodyA.vertices,bodyB.axes);if(0>=overlapBA.overlap)return collision.collided=!1,collision;previousCollision.overlap<overlapBA.overlap?collision.axisBody=bodyA:(previousCollision=overlapBA,collision.axisBody=bodyB);collision.axisNumber=previousCollision.axisNumber}collision.bodyA=bodyA.id<bodyB.id?bodyA:bodyB;collision.bodyB=bodyA.id<bodyB.id?bodyB:bodyA;collision.collided=
!0;collision.depth=previousCollision.overlap;collision.parentA=collision.bodyA.parent;collision.parentB=collision.bodyB.parent;bodyA=collision.bodyA;bodyB=collision.bodyB;0>Vector.dot(previousCollision.axis,Vector.sub(bodyB.position,bodyA.position))?collision.normal={x:previousCollision.axis.x,y:previousCollision.axis.y}:collision.normal={x:-previousCollision.axis.x,y:-previousCollision.axis.y};collision.tangent=Vector.perp(collision.normal);collision.penetration=collision.penetration||{};collision.penetration.x=
collision.normal.x*collision.depth;collision.penetration.y=collision.normal.y*collision.depth;previousCollision=SAT._findSupports(bodyA,bodyB,collision.normal);overlapBA=[];Vertices.contains(bodyA.vertices,previousCollision[0])&&overlapBA.push(previousCollision[0]);Vertices.contains(bodyA.vertices,previousCollision[1])&&overlapBA.push(previousCollision[1]);2>overlapBA.length&&(bodyA=SAT._findSupports(bodyB,bodyA,Vector.neg(collision.normal)),Vertices.contains(bodyB.vertices,bodyA[0])&&overlapBA.push(bodyA[0]),
2>overlapBA.length&&Vertices.contains(bodyB.vertices,bodyA[1])&&overlapBA.push(bodyA[1]));1>overlapBA.length&&(overlapBA=[previousCollision[0]]);collision.supports=overlapBA;return collision};SAT._overlapAxes=function(verticesA,verticesB,axes){for(var projectionA=Vector._temp[0],projectionB=Vector._temp[1],result={overlap:Number.MAX_VALUE},overlap,axis,i=0;i<axes.length;i++){axis=axes[i];SAT._projectToAxis(projectionA,verticesA,axis);SAT._projectToAxis(projectionB,verticesB,axis);overlap=Math.min(projectionA.max-
projectionB.min,projectionB.max-projectionA.min);if(0>=overlap){result.overlap=overlap;break}overlap<result.overlap&&(result.overlap=overlap,result.axis=axis,result.axisNumber=i)}return result};SAT._projectToAxis=function(projection,vertices,axis){for(var min=Vector.dot(vertices[0],axis),max=min,i=1;i<vertices.length;i+=1){var dot=Vector.dot(vertices[i],axis);dot>max?max=dot:dot<min&&(min=dot)}projection.min=min;projection.max=max};SAT._findSupports=function(bodyA,bodyB,normal){var nearestDistance=
Number.MAX_VALUE,vertexToBody=Vector._temp[0];bodyB=bodyB.vertices;bodyA=bodyA.position;var vertexB;for(vertexB=0;vertexB<bodyB.length;vertexB++){var vertex=bodyB[vertexB];vertexToBody.x=vertex.x-bodyA.x;vertexToBody.y=vertex.y-bodyA.y;var distance=-Vector.dot(normal,vertexToBody);if(distance<nearestDistance){nearestDistance=distance;var vertexA=vertex}}vertex=bodyB[0<=vertexA.index-1?vertexA.index-1:bodyB.length-1];vertexToBody.x=vertex.x-bodyA.x;vertexToBody.y=vertex.y-bodyA.y;nearestDistance=-Vector.dot(normal,
vertexToBody);vertexB=vertex;vertex=bodyB[(vertexA.index+1)%bodyB.length];vertexToBody.x=vertex.x-bodyA.x;vertexToBody.y=vertex.y-bodyA.y;distance=-Vector.dot(normal,vertexToBody);distance<nearestDistance&&(vertexB=vertex);return[vertexA,vertexB]}})()},function(module$jscomp$0,exports,__webpack_require__){var Plugin={};module$jscomp$0.exports=Plugin;var Common=__webpack_require__(0);(function(){Plugin._registry={};Plugin.register=function(plugin){Plugin.isPlugin(plugin)||Common.warn("Plugin.register:",
Plugin.toString(plugin),"does not implement all required fields.");if(plugin.name in Plugin._registry){var registered=Plugin._registry[plugin.name],pluginVersion=Plugin.versionParse(plugin.version).number,registeredVersion=Plugin.versionParse(registered.version).number;pluginVersion>registeredVersion?(Common.warn("Plugin.register:",Plugin.toString(registered),"was upgraded to",Plugin.toString(plugin)),Plugin._registry[plugin.name]=plugin):pluginVersion<registeredVersion?Common.warn("Plugin.register:",
Plugin.toString(registered),"can not be downgraded to",Plugin.toString(plugin)):plugin!==registered&&Common.warn("Plugin.register:",Plugin.toString(plugin),"is already registered to different plugin object")}else Plugin._registry[plugin.name]=plugin;return plugin};Plugin.resolve=function(dependency){return Plugin._registry[Plugin.dependencyParse(dependency).name]};Plugin.toString=function(plugin){return"string"===typeof plugin?plugin:(plugin.name||"anonymous")+"@"+(plugin.version||plugin.range||"0.0.0")};
Plugin.isPlugin=function(obj){return obj&&obj.name&&obj.version&&obj.install};Plugin.isUsed=function(module,name){return-1<module.used.indexOf(name)};Plugin.isFor=function(plugin,module){var parsed=plugin.for&&Plugin.dependencyParse(plugin.for);return!plugin.for||module.name===parsed.name&&Plugin.versionSatisfies(module.version,parsed.range)};Plugin.use=function(module,plugins){module.uses=(module.uses||[]).concat(plugins||[]);if(0===module.uses.length)Common.warn("Plugin.use:",Plugin.toString(module),
"does not specify any dependencies to install.");else{plugins=Plugin.dependencies(module);plugins=Common.topologicalSort(plugins);for(var status=[],i=0;i<plugins.length;i+=1)if(plugins[i]!==module.name){var plugin=Plugin.resolve(plugins[i]);plugin?Plugin.isUsed(module,plugin.name)||(Plugin.isFor(plugin,module)||(Common.warn("Plugin.use:",Plugin.toString(plugin),"is for",plugin.for,"but installed on",Plugin.toString(module)+"."),plugin._warned=!0),plugin.install?plugin.install(module):(Common.warn("Plugin.use:",
Plugin.toString(plugin),"does not specify an install function."),plugin._warned=!0),plugin._warned?(status.push("\ud83d\udd36 "+Plugin.toString(plugin)),delete plugin._warned):status.push(" "+Plugin.toString(plugin)),module.used.push(plugin.name)):status.push(" "+plugins[i])}0<status.length&&Common.info(status.join("  "))}};Plugin.dependencies=function(module,tracked){var parsedBase=Plugin.dependencyParse(module),name=parsedBase.name;tracked=tracked||{};if(!(name in tracked)){module=Plugin.resolve(module)||
module;tracked[name]=Common.map(module.uses||[],function(dependency){Plugin.isPlugin(dependency)&&Plugin.register(dependency);var parsed=Plugin.dependencyParse(dependency),resolved=Plugin.resolve(dependency);resolved&&!Plugin.versionSatisfies(resolved.version,parsed.range)?(Common.warn("Plugin.dependencies:",Plugin.toString(resolved),"does not satisfy",Plugin.toString(parsed),"used by",Plugin.toString(parsedBase)+"."),resolved._warned=!0,module._warned=!0):resolved||(Common.warn("Plugin.dependencies:",
Plugin.toString(dependency),"used by",Plugin.toString(parsedBase),"could not be resolved."),module._warned=!0);return parsed.name});for(var i=0;i<tracked[name].length;i+=1)Plugin.dependencies(tracked[name][i],tracked);return tracked}};Plugin.dependencyParse=function(dependency){return Common.isString(dependency)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(dependency)||Common.warn("Plugin.dependencyParse:",dependency,"is not a valid dependency string."),{name:dependency.split("@")[0],
range:dependency.split("@")[1]||"*"}):{name:dependency.name,range:dependency.range||dependency.version}};Plugin.versionParse=function(range){var pattern=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-]+)?$/;pattern.test(range)||Common.warn("Plugin.versionParse:",range,"is not a valid version or range.");pattern=pattern.exec(range);var major=Number(pattern[4]),minor=Number(pattern[5]),patch=Number(pattern[6]);return{isRange:!(!pattern[1]&&!pattern[2]),version:pattern[3],range:range,operator:pattern[1]||
pattern[2]||"",major:major,minor:minor,patch:patch,parts:[major,minor,patch],prerelease:pattern[7],number:1E8*major+1E4*minor+patch}};Plugin.versionSatisfies=function(version,range){range=range||"*";var r=Plugin.versionParse(range),v=Plugin.versionParse(version);if(r.isRange){if("*"===r.operator||"*"===version)return!0;if("\x3e"===r.operator)return v.number>r.number;if("\x3e\x3d"===r.operator)return v.number>=r.number;if("~"===r.operator)return v.major===r.major&&v.minor===r.minor&&v.patch>=r.patch;
if("^"===r.operator)return 0<r.major?v.major===r.major&&v.number>=r.number:0<r.minor?v.minor===r.minor&&v.patch>=r.patch:v.patch===r.patch}return version===range||"*"===version}})()},function(module,exports,__webpack_require__){var Render={};module.exports=Render;var Common=__webpack_require__(0),Composite=__webpack_require__(5),Bounds=__webpack_require__(1),Events=__webpack_require__(4),Vector=__webpack_require__(2),Mouse=__webpack_require__(12);(function(){if("undefined"!==typeof window){var _requestAnimationFrame=
window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(function(){callback(Common.now())},1E3/60)};var _cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame}Render._goodFps=30;Render._goodDelta=1E3/60;Render.create=function(options){var render=Common.extend({controller:Render,engine:null,element:null,
canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!options.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,
showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},options);render.canvas&&(render.canvas.width=render.options.width||render.canvas.width,render.canvas.height=render.options.height||render.canvas.height);render.mouse=options.mouse;render.engine=options.engine;render.canvas=render.canvas||_createCanvas(render.options.width,render.options.height);render.context=render.canvas.getContext("2d");
render.textures={};render.bounds=render.bounds||{min:{x:0,y:0},max:{x:render.canvas.width,y:render.canvas.height}};1!==render.options.pixelRatio&&Render.setPixelRatio(render,render.options.pixelRatio);Common.isElement(render.element)?render.element.appendChild(render.canvas):render.canvas.parentNode||Common.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn");return render};Render.run=function(render){(function loop(time){render.frameRequestId=_requestAnimationFrame(loop);
var engine=render.engine,timing=render.timing,historySize=timing.historySize,timestamp=engine.timing.timestamp;timing.delta=time-timing.lastTime||Render._goodDelta;timing.lastTime=time;timing.timestampElapsed=timestamp-timing.lastTimestamp||0;timing.lastTimestamp=timestamp;timing.deltaHistory.unshift(timing.delta);timing.deltaHistory.length=Math.min(timing.deltaHistory.length,historySize);timing.engineDeltaHistory.unshift(engine.timing.lastDelta);timing.engineDeltaHistory.length=Math.min(timing.engineDeltaHistory.length,
historySize);timing.timestampElapsedHistory.unshift(timing.timestampElapsed);timing.timestampElapsedHistory.length=Math.min(timing.timestampElapsedHistory.length,historySize);timing.engineElapsedHistory.unshift(engine.timing.lastElapsed);timing.engineElapsedHistory.length=Math.min(timing.engineElapsedHistory.length,historySize);timing.elapsedHistory.unshift(timing.lastElapsed);timing.elapsedHistory.length=Math.min(timing.elapsedHistory.length,historySize);Render.world(render,time);(render.options.showStats||
render.options.showDebug)&&Render.stats(render,render.context,time);(render.options.showPerformance||render.options.showDebug)&&Render.performance(render,render.context,time)})()};Render.stop=function(render){_cancelAnimationFrame(render.frameRequestId)};Render.setPixelRatio=function(render,pixelRatio){var options=render.options;render=render.canvas;"auto"===pixelRatio&&(pixelRatio=render.getContext("2d"),pixelRatio=(window.devicePixelRatio||1)/(pixelRatio.webkitBackingStorePixelRatio||pixelRatio.mozBackingStorePixelRatio||
pixelRatio.msBackingStorePixelRatio||pixelRatio.oBackingStorePixelRatio||pixelRatio.backingStorePixelRatio||1));options.pixelRatio=pixelRatio;render.setAttribute("data-pixel-ratio",pixelRatio);render.width=options.width*pixelRatio;render.height=options.height*pixelRatio;render.style.width=options.width+"px";render.style.height=options.height+"px"};Render.lookAt=function(render,objects,padding,center){center="undefined"!==typeof center?center:!0;objects=Common.isArray(objects)?objects:[objects];padding=
padding||{x:0,y:0};for(var JSCompiler_object_inline_x_34=Infinity,JSCompiler_object_inline_y_35=Infinity,JSCompiler_object_inline_x_36=-Infinity,JSCompiler_object_inline_y_37=-Infinity,i=0;i<objects.length;i+=1){var object=objects[i],min=object.bounds?object.bounds.min:object.min||object.position||object;object=object.bounds?object.bounds.max:object.max||object.position||object;min&&object&&(min.x<JSCompiler_object_inline_x_34&&(JSCompiler_object_inline_x_34=min.x),object.x>JSCompiler_object_inline_x_36&&
(JSCompiler_object_inline_x_36=object.x),min.y<JSCompiler_object_inline_y_35&&(JSCompiler_object_inline_y_35=min.y),object.y>JSCompiler_object_inline_y_37&&(JSCompiler_object_inline_y_37=object.y))}objects=JSCompiler_object_inline_x_36-JSCompiler_object_inline_x_34+2*padding.x;JSCompiler_object_inline_y_37=JSCompiler_object_inline_y_37-JSCompiler_object_inline_y_35+2*padding.y;JSCompiler_object_inline_x_36=render.canvas.width/render.canvas.height;i=objects/JSCompiler_object_inline_y_37;object=min=
1;i>JSCompiler_object_inline_x_36?object=i/JSCompiler_object_inline_x_36:min=JSCompiler_object_inline_x_36/i;render.options.hasBounds=!0;render.bounds.min.x=JSCompiler_object_inline_x_34;render.bounds.max.x=JSCompiler_object_inline_x_34+objects*min;render.bounds.min.y=JSCompiler_object_inline_y_35;render.bounds.max.y=JSCompiler_object_inline_y_35+JSCompiler_object_inline_y_37*object;center&&(render.bounds.min.x+=.5*objects-objects*min*.5,render.bounds.max.x+=.5*objects-objects*min*.5,render.bounds.min.y+=
.5*JSCompiler_object_inline_y_37-JSCompiler_object_inline_y_37*object*.5,render.bounds.max.y+=.5*JSCompiler_object_inline_y_37-JSCompiler_object_inline_y_37*object*.5);render.bounds.min.x-=padding.x;render.bounds.max.x-=padding.x;render.bounds.min.y-=padding.y;render.bounds.max.y-=padding.y;render.mouse&&(Mouse.setScale(render.mouse,{x:(render.bounds.max.x-render.bounds.min.x)/render.canvas.width,y:(render.bounds.max.y-render.bounds.min.y)/render.canvas.height}),Mouse.setOffset(render.mouse,render.bounds.min))};
Render.startViewTransform=function(render){render.context.setTransform(render.options.pixelRatio/((render.bounds.max.x-render.bounds.min.x)/render.options.width),0,0,render.options.pixelRatio/((render.bounds.max.y-render.bounds.min.y)/render.options.height),0,0);render.context.translate(-render.bounds.min.x,-render.bounds.min.y)};Render.endViewTransform=function(render){render.context.setTransform(render.options.pixelRatio,0,0,render.options.pixelRatio,0,0)};Render.world=function(render,time){time=
Common.now();var engine=render.engine,world=engine.world,canvas=render.canvas,context=render.context,options=render.options,timing=render.timing,allBodies=Composite.allBodies(world);world=Composite.allConstraints(world);var background=options.wireframes?options.wireframeBackground:options.background,bodies=[],constraints=[],event={timestamp:engine.timing.timestamp};Events.trigger(render,"beforeRender",event);if(render.currentBackground!==background){var cssBackground=background;/(jpg|gif|png)$/.test(background)&&
(cssBackground="url("+background+")");render.canvas.style.background=cssBackground;render.canvas.style.backgroundSize="contain";render.currentBackground=background}context.globalCompositeOperation="source-in";context.fillStyle="transparent";context.fillRect(0,0,canvas.width,canvas.height);context.globalCompositeOperation="source-over";if(options.hasBounds){for(canvas=0;canvas<allBodies.length;canvas++)background=allBodies[canvas],Bounds.overlaps(background.bounds,render.bounds)&&bodies.push(background);
for(canvas=0;canvas<world.length;canvas++){allBodies=world[canvas];background=allBodies.bodyA;cssBackground=allBodies.bodyB;var pointAWorld=allBodies.pointA,pointBWorld=allBodies.pointB;background&&(pointAWorld=Vector.add(background.position,allBodies.pointA));cssBackground&&(pointBWorld=Vector.add(cssBackground.position,allBodies.pointB));pointAWorld&&pointBWorld&&(Bounds.contains(render.bounds,pointAWorld)||Bounds.contains(render.bounds,pointBWorld))&&constraints.push(allBodies)}Render.startViewTransform(render);
render.mouse&&(Mouse.setScale(render.mouse,{x:(render.bounds.max.x-render.bounds.min.x)/render.options.width,y:(render.bounds.max.y-render.bounds.min.y)/render.options.height}),Mouse.setOffset(render.mouse,render.bounds.min))}else constraints=world,bodies=allBodies,1!==render.options.pixelRatio&&render.context.setTransform(render.options.pixelRatio,0,0,render.options.pixelRatio,0,0);!options.wireframes||engine.enableSleeping&&options.showSleeping?Render.bodies(render,bodies,context):(options.showConvexHulls&&
Render.bodyConvexHulls(render,bodies,context),Render.bodyWireframes(render,bodies,context));options.showBounds&&Render.bodyBounds(render,bodies,context);(options.showAxes||options.showAngleIndicator)&&Render.bodyAxes(render,bodies,context);options.showPositions&&Render.bodyPositions(render,bodies,context);options.showVelocity&&Render.bodyVelocity(render,bodies,context);options.showIds&&Render.bodyIds(render,bodies,context);options.showSeparations&&Render.separations(render,engine.pairs.list,context);
options.showCollisions&&Render.collisions(render,engine.pairs.list,context);options.showVertexNumbers&&Render.vertexNumbers(render,bodies,context);options.showMousePosition&&Render.mousePosition(render,render.mouse,context);Render.constraints(constraints,context);options.showBroadphase&&Render.grid(render,engine.grid,context);options.hasBounds&&Render.endViewTransform(render);Events.trigger(render,"afterRender",event);timing.lastElapsed=Common.now()-time};Render.stats=function(render,context,time){time=
render.engine;for(var world=time.world,bodies=Composite.allBodies(world),parts=0,i=render=0;i<bodies.length;i+=1)parts+=bodies[i].parts.length;time={Part:parts,Body:bodies.length,Cons:Composite.allConstraints(world).length,Comp:Composite.allComposites(world).length,Pair:time.pairs.list.length};context.fillStyle="#0e0f19";context.fillRect(render,0,302.5,44);context.font="12px Arial";context.textBaseline="top";context.textAlign="right";for(var key in time)world=time[key],context.fillStyle="#aaa",context.fillText(key,
render+55,8),context.fillStyle="#eee",context.fillText(world,render+55,26),render+=55};Render.performance=function(render,context){var timing=render.timing,deltaHistory=timing.deltaHistory,elapsedHistory=timing.elapsedHistory,timestampElapsedHistory=timing.timestampElapsedHistory,engineDeltaHistory=timing.engineDeltaHistory,engineElapsedHistory=timing.engineElapsedHistory;render=render.engine.timing.lastDelta;var deltaMean=_mean(deltaHistory),elapsedMean=_mean(elapsedHistory),engineDeltaMean=_mean(engineDeltaHistory),
engineElapsedMean=_mean(engineElapsedHistory),rateMean=_mean(timestampElapsedHistory)/deltaMean||0;timing=1E3/deltaMean||0;context.fillStyle="#0e0f19";context.fillRect(0,50,370,34);Render.status(context,10,69,60,4,deltaHistory.length,Math.round(timing)+" fps",timing/Render._goodFps,function(i){return deltaHistory[i]/deltaMean-1});Render.status(context,82,69,60,4,engineDeltaHistory.length,render.toFixed(2)+" dt",Render._goodDelta/render,function(i){return engineDeltaHistory[i]/engineDeltaMean-1});
Render.status(context,154,69,60,4,engineElapsedHistory.length,engineElapsedMean.toFixed(2)+" ut",1-engineElapsedMean/Render._goodFps,function(i){return engineElapsedHistory[i]/engineElapsedMean-1});Render.status(context,226,69,60,4,elapsedHistory.length,elapsedMean.toFixed(2)+" rt",1-elapsedMean/Render._goodFps,function(i){return elapsedHistory[i]/elapsedMean-1});Render.status(context,298,69,60,4,timestampElapsedHistory.length,rateMean.toFixed(2)+" x",rateMean*rateMean*rateMean,function(i){return(timestampElapsedHistory[i]/
deltaHistory[i]/rateMean||0)-1})};Render.status=function(context,x,y,width,height,count,label,indicator,plotY){context.strokeStyle="#888";context.fillStyle="#444";context.lineWidth=1;context.fillRect(x,y+7,width,1);context.beginPath();context.moveTo(x,y+7-height*Common.clamp(.4*plotY(0),-2,2));for(var i=0;i<width;i+=1)context.lineTo(x+i,y+7-(i<count?height*Common.clamp(.4*plotY(i),-2,2):0));context.stroke();context.fillStyle="hsl("+Common.clamp(25+95*indicator,0,120)+",100%,60%)";context.fillRect(x,
y-7,4,4);context.font="12px Arial";context.textBaseline="middle";context.textAlign="right";context.fillStyle="#eee";context.fillText(label,x+width,y-5)};Render.constraints=function(constraints,context){for(var i=0;i<constraints.length;i++){var constraint=constraints[i];if(constraint.render.visible&&constraint.pointA&&constraint.pointB){var bodyA=constraint.bodyA,bodyB=constraint.bodyB;bodyA=bodyA?Vector.add(bodyA.position,constraint.pointA):constraint.pointA;if("pin"===constraint.render.type)context.beginPath(),
context.arc(bodyA.x,bodyA.y,3,0,2*Math.PI),context.closePath();else{var end=bodyB?Vector.add(bodyB.position,constraint.pointB):constraint.pointB;context.beginPath();context.moveTo(bodyA.x,bodyA.y);if("spring"===constraint.render.type){bodyB=Vector.sub(end,bodyA);for(var normal=Vector.perp(Vector.normalise(bodyB)),coils=Math.ceil(Common.clamp(constraint.length/5,12,20)),offset,j=1;j<coils;j+=1)offset=0===j%2?1:-1,context.lineTo(bodyA.x+j/coils*bodyB.x+normal.x*offset*4,bodyA.y+j/coils*bodyB.y+normal.y*
offset*4)}context.lineTo(end.x,end.y)}constraint.render.lineWidth&&(context.lineWidth=constraint.render.lineWidth,context.strokeStyle=constraint.render.strokeStyle,context.stroke());constraint.render.anchors&&(context.fillStyle=constraint.render.strokeStyle,context.beginPath(),context.arc(bodyA.x,bodyA.y,3,0,2*Math.PI),context.arc(end.x,end.y,3,0,2*Math.PI),context.closePath(),context.fill())}}};Render.bodies=function(render,bodies,context){var options=render.options,showInternalEdges=options.showInternalEdges||
!options.wireframes,i,k;for(i=0;i<bodies.length;i++){var body=bodies[i];if(body.render.visible)for(k=1<body.parts.length?1:0;k<body.parts.length;k++){var part=body.parts[k];if(part.render.visible){options.showSleeping&&body.isSleeping?context.globalAlpha=.5*part.render.opacity:1!==part.render.opacity&&(context.globalAlpha=part.render.opacity);if(part.render.sprite&&part.render.sprite.texture&&!options.wireframes){var sprite=part.render.sprite;var texture=sprite.texture;var image=render.textures[texture];
image||(image=render.textures[texture]=new Image,image.src=texture);texture=image;context.translate(part.position.x,part.position.y);context.rotate(part.angle);context.drawImage(texture,texture.width*-sprite.xOffset*sprite.xScale,texture.height*-sprite.yOffset*sprite.yScale,texture.width*sprite.xScale,texture.height*sprite.yScale);context.rotate(-part.angle);context.translate(-part.position.x,-part.position.y)}else{if(part.circleRadius)context.beginPath(),context.arc(part.position.x,part.position.y,
part.circleRadius,0,2*Math.PI);else{context.beginPath();context.moveTo(part.vertices[0].x,part.vertices[0].y);for(sprite=1;sprite<part.vertices.length;sprite++)!part.vertices[sprite-1].isInternal||showInternalEdges?context.lineTo(part.vertices[sprite].x,part.vertices[sprite].y):context.moveTo(part.vertices[sprite].x,part.vertices[sprite].y),part.vertices[sprite].isInternal&&!showInternalEdges&&context.moveTo(part.vertices[(sprite+1)%part.vertices.length].x,part.vertices[(sprite+1)%part.vertices.length].y);
context.lineTo(part.vertices[0].x,part.vertices[0].y);context.closePath()}options.wireframes?(context.lineWidth=1,context.strokeStyle="#bbb",context.stroke()):(context.fillStyle=part.render.fillStyle,part.render.lineWidth&&(context.lineWidth=part.render.lineWidth,context.strokeStyle=part.render.strokeStyle,context.stroke()),context.fill())}context.globalAlpha=1}}}};Render.bodyWireframes=function(render,bodies,context){render=render.options.showInternalEdges;var i,j,k;context.beginPath();for(i=0;i<
bodies.length;i++){var body=bodies[i];if(body.render.visible)for(k=1<body.parts.length?1:0;k<body.parts.length;k++){var part=body.parts[k];context.moveTo(part.vertices[0].x,part.vertices[0].y);for(j=1;j<part.vertices.length;j++)!part.vertices[j-1].isInternal||render?context.lineTo(part.vertices[j].x,part.vertices[j].y):context.moveTo(part.vertices[j].x,part.vertices[j].y),part.vertices[j].isInternal&&!render&&context.moveTo(part.vertices[(j+1)%part.vertices.length].x,part.vertices[(j+1)%part.vertices.length].y);
context.lineTo(part.vertices[0].x,part.vertices[0].y)}}context.lineWidth=1;context.strokeStyle="#bbb";context.stroke()};Render.bodyConvexHulls=function(render,bodies,context){var i,j;context.beginPath();for(i=0;i<bodies.length;i++)if(render=bodies[i],render.render.visible&&1!==render.parts.length){context.moveTo(render.vertices[0].x,render.vertices[0].y);for(j=1;j<render.vertices.length;j++)context.lineTo(render.vertices[j].x,render.vertices[j].y);context.lineTo(render.vertices[0].x,render.vertices[0].y)}context.lineWidth=
1;context.strokeStyle="rgba(255,255,255,0.2)";context.stroke()};Render.vertexNumbers=function(render,bodies,context){var j,k;for(render=0;render<bodies.length;render++){var parts=bodies[render].parts;for(k=1<parts.length?1:0;k<parts.length;k++){var part=parts[k];for(j=0;j<part.vertices.length;j++)context.fillStyle="rgba(255,255,255,0.2)",context.fillText(render+"_"+j,part.position.x+.8*(part.vertices[j].x-part.position.x),part.position.y+.8*(part.vertices[j].y-part.position.y))}}};Render.mousePosition=
function(render,mouse,context){context.fillStyle="rgba(255,255,255,0.8)";context.fillText(mouse.position.x+"  "+mouse.position.y,mouse.position.x+5,mouse.position.y-5)};Render.bodyBounds=function(render,bodies,context){render=render.options;context.beginPath();for(var i=0;i<bodies.length;i++)if(bodies[i].render.visible)for(var parts=bodies[i].parts,j=1<parts.length?1:0;j<parts.length;j++){var part=parts[j];context.rect(part.bounds.min.x,part.bounds.min.y,part.bounds.max.x-part.bounds.min.x,part.bounds.max.y-
part.bounds.min.y)}context.strokeStyle=render.wireframes?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.1)";context.lineWidth=1;context.stroke()};Render.bodyAxes=function(render,bodies,context){render=render.options;var i,j,k;context.beginPath();for(i=0;i<bodies.length;i++){var part=bodies[i];var parts=part.parts;if(part.render.visible)if(render.showAxes)for(j=1<parts.length?1:0;j<parts.length;j++)for(part=parts[j],k=0;k<part.axes.length;k++){var axis=part.axes[k];context.moveTo(part.position.x,part.position.y);
context.lineTo(part.position.x+20*axis.x,part.position.y+20*axis.y)}else for(j=1<parts.length?1:0;j<parts.length;j++)for(part=parts[j],k=0;k<part.axes.length;k++)context.moveTo(part.position.x,part.position.y),context.lineTo((part.vertices[0].x+part.vertices[part.vertices.length-1].x)/2,(part.vertices[0].y+part.vertices[part.vertices.length-1].y)/2)}render.wireframes?(context.strokeStyle="indianred",context.lineWidth=1):(context.strokeStyle="rgba(255, 255, 255, 0.4)",context.globalCompositeOperation=
"overlay",context.lineWidth=2);context.stroke();context.globalCompositeOperation="source-over"};Render.bodyPositions=function(render,bodies,context){render=render.options;var i,k;context.beginPath();for(i=0;i<bodies.length;i++){var body=bodies[i];if(body.render.visible)for(k=0;k<body.parts.length;k++){var part=body.parts[k];context.arc(part.position.x,part.position.y,3,0,2*Math.PI,!1);context.closePath()}}context.fillStyle=render.wireframes?"indianred":"rgba(0,0,0,0.5)";context.fill();context.beginPath();
for(i=0;i<bodies.length;i++)body=bodies[i],body.render.visible&&(context.arc(body.positionPrev.x,body.positionPrev.y,2,0,2*Math.PI,!1),context.closePath());context.fillStyle="rgba(255,165,0,0.8)";context.fill()};Render.bodyVelocity=function(render,bodies,context){context.beginPath();for(render=0;render<bodies.length;render++){var body=bodies[render];body.render.visible&&(context.moveTo(body.position.x,body.position.y),context.lineTo(body.position.x+2*(body.position.x-body.positionPrev.x),body.position.y+
2*(body.position.y-body.positionPrev.y)))}context.lineWidth=3;context.strokeStyle="cornflowerblue";context.stroke()};Render.bodyIds=function(render,bodies,context){var j;for(render=0;render<bodies.length;render++)if(bodies[render].render.visible){var parts=bodies[render].parts;for(j=1<parts.length?1:0;j<parts.length;j++){var part=parts[j];context.font="12px Arial";context.fillStyle="rgba(255,255,255,0.5)";context.fillText(part.id,part.position.x+10,part.position.y-10)}}};Render.collisions=function(render,
pairs,context){render=render.options;var collision,i;context.beginPath();for(i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive)for(collision=0;collision<pair.activeContacts.length;collision++){var vertex=pair.activeContacts[collision].vertex;context.rect(vertex.x-1.5,vertex.y-1.5,3.5,3.5)}}context.fillStyle=render.wireframes?"rgba(255,255,255,0.7)":"orange";context.fill();context.beginPath();for(i=0;i<pairs.length;i++)if(pair=pairs[i],pair.isActive&&(collision=pair.collision,0<pair.activeContacts.length)){vertex=
pair.activeContacts[0].vertex.x;var normalPosY=pair.activeContacts[0].vertex.y;2===pair.activeContacts.length&&(vertex=(pair.activeContacts[0].vertex.x+pair.activeContacts[1].vertex.x)/2,normalPosY=(pair.activeContacts[0].vertex.y+pair.activeContacts[1].vertex.y)/2);collision.bodyB===collision.supports[0].body||!0===collision.bodyA.isStatic?context.moveTo(vertex-8*collision.normal.x,normalPosY-8*collision.normal.y):context.moveTo(vertex+8*collision.normal.x,normalPosY+8*collision.normal.y);context.lineTo(vertex,
normalPosY)}context.strokeStyle=render.wireframes?"rgba(255,165,0,0.7)":"orange";context.lineWidth=1;context.stroke()};Render.separations=function(render,pairs,context){render=render.options;var i;context.beginPath();for(i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive){pair=pair.collision;var bodyA=pair.bodyA;var bodyB=pair.bodyB;var k=1;bodyB.isStatic||bodyA.isStatic||(k=.5);bodyB.isStatic&&(k=0);context.moveTo(bodyB.position.x,bodyB.position.y);context.lineTo(bodyB.position.x-pair.penetration.x*
k,bodyB.position.y-pair.penetration.y*k);k=1;bodyB.isStatic||bodyA.isStatic||(k=.5);bodyA.isStatic&&(k=0);context.moveTo(bodyA.position.x,bodyA.position.y);context.lineTo(bodyA.position.x+pair.penetration.x*k,bodyA.position.y+pair.penetration.y*k)}}context.strokeStyle=render.wireframes?"rgba(255,165,0,0.5)":"orange";context.stroke()};Render.grid=function(render,grid,context){context.strokeStyle=render.options.wireframes?"rgba(255,180,0,0.1)":"rgba(255,180,0,0.5)";context.beginPath();render=Common.keys(grid.buckets);
for(var i=0;i<render.length;i++){var bucketId=render[i];2>grid.buckets[bucketId].length||(bucketId=bucketId.split(/C|R/),context.rect(.5+parseInt(bucketId[1],10)*grid.bucketWidth,.5+parseInt(bucketId[2],10)*grid.bucketHeight,grid.bucketWidth,grid.bucketHeight))}context.lineWidth=1;context.stroke()};Render.inspector=function(inspector,context){var selected=inspector.selected,render=inspector.render,options=render.options;options.hasBounds&&(context.scale(1/((render.bounds.max.x-render.bounds.min.x)/
render.options.width),1/((render.bounds.max.y-render.bounds.min.y)/render.options.height)),context.translate(-render.bounds.min.x,-render.bounds.min.y));for(render=0;render<selected.length;render++){var bounds=selected[render].data;context.translate(.5,.5);context.lineWidth=1;context.strokeStyle="rgba(255,165,0,0.9)";context.setLineDash([1,2]);switch(bounds.type){case "body":bounds=bounds.bounds;context.beginPath();context.rect(Math.floor(bounds.min.x-3),Math.floor(bounds.min.y-3),Math.floor(bounds.max.x-
bounds.min.x+6),Math.floor(bounds.max.y-bounds.min.y+6));context.closePath();context.stroke();break;case "constraint":var point=bounds.pointA;bounds.bodyA&&(point=bounds.pointB);context.beginPath();context.arc(point.x,point.y,10,0,2*Math.PI);context.closePath();context.stroke()}context.setLineDash([]);context.translate(-.5,-.5)}null!==inspector.selectStart&&(context.translate(.5,.5),context.lineWidth=1,context.strokeStyle="rgba(255,165,0,0.6)",context.fillStyle="rgba(255,165,0,0.1)",bounds=inspector.selectBounds,
context.beginPath(),context.rect(Math.floor(bounds.min.x),Math.floor(bounds.min.y),Math.floor(bounds.max.x-bounds.min.x),Math.floor(bounds.max.y-bounds.min.y)),context.closePath(),context.stroke(),context.fill(),context.translate(-.5,-.5));options.hasBounds&&context.setTransform(1,0,0,1,0,0)};var _mean=function(values){for(var result=0,i=0;i<values.length;i+=1)result+=values[i];return result/values.length||0},_createCanvas=function(width,height){var canvas=document.createElement("canvas");canvas.width=
width;canvas.height=height;canvas.oncontextmenu=function(){return!1};canvas.onselectstart=function(){return!1};return canvas}})()},function(module,exports){var Contact={};module.exports=Contact;(function(){Contact.create=function(vertex){return{id:Contact.id(vertex),vertex:vertex,normalImpulse:0,tangentImpulse:0}};Contact.id=function(vertex){return vertex.body.id+"_"+vertex.index}})()},function(module,exports,__webpack_require__){var Engine={};module.exports=Engine;var Sleeping=__webpack_require__(7),
Resolver=__webpack_require__(19),Detector=__webpack_require__(13),Pairs=__webpack_require__(20),Grid=__webpack_require__(21),Events=__webpack_require__(4),Composite=__webpack_require__(5),Constraint=__webpack_require__(8),Common=__webpack_require__(0),Body=__webpack_require__(6);(function(){Engine.create=function(options){options=options||{};var engine=Common.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},grid:null,gravity:{x:0,y:1,scale:.001},
timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},options);engine.world=options.world||Composite.create({label:"World"});engine.grid=Grid.create(options.grid||options.broadphase);engine.pairs=Pairs.create();engine.world.gravity=engine.gravity;engine.broadphase=engine.grid;engine.metrics={};return engine};Engine.update=function(engine,delta,correction){var startTime=Common.now();delta=delta||1E3/60;correction=correction||1;var world=engine.world,timing=engine.timing,grid=engine.grid;timing.timestamp+=
delta*timing.timeScale;timing.lastDelta=delta*timing.timeScale;var event={timestamp:timing.timestamp};Events.trigger(engine,"beforeUpdate",event);var allBodies=Composite.allBodies(world),allConstraints=Composite.allConstraints(world);engine.enableSleeping&&Sleeping.update(allBodies,timing.timeScale);Engine._bodiesApplyGravity(allBodies,engine.gravity);Engine._bodiesUpdate(allBodies,delta,timing.timeScale,correction,world.bounds);Constraint.preSolveAll(allBodies);for(delta=0;delta<engine.constraintIterations;delta++)Constraint.solveAll(allConstraints,
timing.timeScale);Constraint.postSolveAll(allBodies);world.isModified&&Grid.clear(grid);Grid.update(grid,allBodies,engine,world.isModified);grid=grid.pairsList;world.isModified&&Composite.setModified(world,!1,!1,!0);grid=Detector.collisions(grid,engine);world=engine.pairs;delta=timing.timestamp;Pairs.update(world,grid,delta);Pairs.removeOld(world,delta);engine.enableSleeping&&Sleeping.afterCollisions(world.list,timing.timeScale);0<world.collisionStart.length&&Events.trigger(engine,"collisionStart",
{pairs:world.collisionStart});Resolver.preSolvePosition(world.list);for(delta=0;delta<engine.positionIterations;delta++)Resolver.solvePosition(world.list,timing.timeScale);Resolver.postSolvePosition(allBodies);Constraint.preSolveAll(allBodies);for(delta=0;delta<engine.constraintIterations;delta++)Constraint.solveAll(allConstraints,timing.timeScale);Constraint.postSolveAll(allBodies);Resolver.preSolveVelocity(world.list);for(delta=0;delta<engine.velocityIterations;delta++)Resolver.solveVelocity(world.list,
timing.timeScale);0<world.collisionActive.length&&Events.trigger(engine,"collisionActive",{pairs:world.collisionActive});0<world.collisionEnd.length&&Events.trigger(engine,"collisionEnd",{pairs:world.collisionEnd});Engine._bodiesClearForces(allBodies);Events.trigger(engine,"afterUpdate",event);engine.timing.lastElapsed=Common.now()-startTime;return engine};Engine.merge=function(engineA,engineB){Common.extend(engineA,engineB);if(engineB.world)for(engineA.world=engineB.world,Engine.clear(engineA),engineA=
Composite.allBodies(engineA.world),engineB=0;engineB<engineA.length;engineB++){var body=engineA[engineB];Sleeping.set(body,!1);body.id=Common.nextId()}};Engine.clear=function(engine){var bodies=Composite.allBodies(engine.world);Pairs.clear(engine.pairs);Grid.clear(engine.grid);Grid.update(engine.grid,bodies,engine,!0)};Engine._bodiesClearForces=function(bodies){for(var i=0;i<bodies.length;i++){var body=bodies[i];body.force.x=0;body.force.y=0;body.torque=0}};Engine._bodiesApplyGravity=function(bodies,
gravity){var gravityScale="undefined"!==typeof gravity.scale?gravity.scale:.001;if((0!==gravity.x||0!==gravity.y)&&0!==gravityScale)for(var i=0;i<bodies.length;i++){var body=bodies[i];body.isStatic||body.isSleeping||(body.force.y+=body.mass*gravity.y*gravityScale,body.force.x+=body.mass*gravity.x*gravityScale)}};Engine._bodiesUpdate=function(bodies,deltaTime,timeScale,correction,worldBounds){for(worldBounds=0;worldBounds<bodies.length;worldBounds++){var body=bodies[worldBounds];body.isStatic||body.isSleeping||
Body.update(body,deltaTime,timeScale,correction)}}})()},function(module,exports,__webpack_require__){var Resolver={};module.exports=Resolver;var Vertices=__webpack_require__(3),Vector=__webpack_require__(2),Common=__webpack_require__(0),Bounds=__webpack_require__(1);(function(){Resolver._restingThresh=4;Resolver._restingThreshTangent=6;Resolver._positionDampen=.9;Resolver._positionWarming=.8;Resolver._frictionNormalMultiplier=5;Resolver.preSolvePosition=function(pairs){var i;for(i=0;i<pairs.length;i++){var pair=
pairs[i];if(pair.isActive){var activeCount=pair.activeContacts.length;pair.collision.parentA.totalContacts+=activeCount;pair.collision.parentB.totalContacts+=activeCount}}};Resolver.solvePosition=function(pairs,timeScale){var i;var positionImpulse=Vector._temp[0];var tempB=Vector._temp[1],tempC=Vector._temp[2],tempD=Vector._temp[3];for(i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive&&!pair.isSensor){var collision=pair.collision;var bodyA=collision.parentA;var bodyB=collision.parentB;var normal=
collision.normal;bodyA=Vector.sub(Vector.add(bodyB.positionImpulse,bodyB.position,positionImpulse),Vector.add(bodyA.positionImpulse,Vector.sub(bodyB.position,collision.penetration,tempB),tempC),tempD);pair.separation=Vector.dot(normal,bodyA)}}for(i=0;i<pairs.length;i++)if(pair=pairs[i],pair.isActive&&!pair.isSensor){collision=pair.collision;bodyA=collision.parentA;bodyB=collision.parentB;normal=collision.normal;positionImpulse=(pair.separation-pair.slop)*timeScale;if(bodyA.isStatic||bodyB.isStatic)positionImpulse*=
2;bodyA.isStatic||bodyA.isSleeping||(pair=Resolver._positionDampen/bodyA.totalContacts,bodyA.positionImpulse.x+=normal.x*positionImpulse*pair,bodyA.positionImpulse.y+=normal.y*positionImpulse*pair);bodyB.isStatic||bodyB.isSleeping||(pair=Resolver._positionDampen/bodyB.totalContacts,bodyB.positionImpulse.x-=normal.x*positionImpulse*pair,bodyB.positionImpulse.y-=normal.y*positionImpulse*pair)}};Resolver.postSolvePosition=function(bodies){for(var i=0;i<bodies.length;i++){var body=bodies[i];body.totalContacts=
0;if(0!==body.positionImpulse.x||0!==body.positionImpulse.y){for(var j=0;j<body.parts.length;j++){var part=body.parts[j];Vertices.translate(part.vertices,body.positionImpulse);Bounds.update(part.bounds,part.vertices,body.velocity);part.position.x+=body.positionImpulse.x;part.position.y+=body.positionImpulse.y}body.positionPrev.x+=body.positionImpulse.x;body.positionPrev.y+=body.positionImpulse.y;0>Vector.dot(body.positionImpulse,body.velocity)?(body.positionImpulse.x=0,body.positionImpulse.y=0):(body.positionImpulse.x*=
Resolver._positionWarming,body.positionImpulse.y*=Resolver._positionWarming)}}};Resolver.preSolveVelocity=function(pairs){var i,impulse=Vector._temp[0],tempA=Vector._temp[1];for(i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive&&!pair.isSensor){var contacts=pair.activeContacts;var j=pair.collision;pair=j.parentA;var bodyB=j.parentB;var normal=j.normal;var tangent=j.tangent;for(j=0;j<contacts.length;j++){var contact=contacts[j];var contactVertex=contact.vertex;var normalImpulse=contact.normalImpulse;
contact=contact.tangentImpulse;if(0!==normalImpulse||0!==contact)impulse.x=normal.x*normalImpulse+tangent.x*contact,impulse.y=normal.y*normalImpulse+tangent.y*contact,pair.isStatic||pair.isSleeping||(normalImpulse=Vector.sub(contactVertex,pair.position,tempA),pair.positionPrev.x+=impulse.x*pair.inverseMass,pair.positionPrev.y+=impulse.y*pair.inverseMass,pair.anglePrev+=Vector.cross(normalImpulse,impulse)*pair.inverseInertia),bodyB.isStatic||bodyB.isSleeping||(normalImpulse=Vector.sub(contactVertex,
bodyB.position,tempA),bodyB.positionPrev.x-=impulse.x*bodyB.inverseMass,bodyB.positionPrev.y-=impulse.y*bodyB.inverseMass,bodyB.anglePrev-=Vector.cross(normalImpulse,impulse)*bodyB.inverseInertia)}}}};Resolver.solveVelocity=function(pairs,timeScale){timeScale*=timeScale;for(var impulse=Vector._temp[0],tempA=Vector._temp[1],tempB=Vector._temp[2],tempC=Vector._temp[3],tempD=Vector._temp[4],tempE=Vector._temp[5],i=0;i<pairs.length;i++){var pair=pairs[i];if(pair.isActive&&!pair.isSensor){var collision=
pair.collision,bodyA=collision.parentA,bodyB=collision.parentB,normal=collision.normal;collision=collision.tangent;var contacts=pair.activeContacts,contactShare=1/contacts.length;bodyA.velocity.x=bodyA.position.x-bodyA.positionPrev.x;bodyA.velocity.y=bodyA.position.y-bodyA.positionPrev.y;bodyB.velocity.x=bodyB.position.x-bodyB.positionPrev.x;bodyB.velocity.y=bodyB.position.y-bodyB.positionPrev.y;bodyA.angularVelocity=bodyA.angle-bodyA.anglePrev;bodyB.angularVelocity=bodyB.angle-bodyB.anglePrev;for(var j=
0;j<contacts.length;j++){var contact=contacts[j],contactVertex=contact.vertex,offsetA=Vector.sub(contactVertex,bodyA.position,tempA);contactVertex=Vector.sub(contactVertex,bodyB.position,tempB);var velocityPointA=Vector.add(bodyA.velocity,Vector.mult(Vector.perp(offsetA),bodyA.angularVelocity),tempC),velocityPointB=Vector.add(bodyB.velocity,Vector.mult(Vector.perp(contactVertex),bodyB.angularVelocity),tempD);velocityPointA=Vector.sub(velocityPointA,velocityPointB,tempE);var normalVelocity=Vector.dot(normal,
velocityPointA),tangentVelocity=Vector.dot(collision,velocityPointA),tangentSpeed=Math.abs(tangentVelocity),tangentVelocityDirection=Common.sign(tangentVelocity);velocityPointA=(1+pair.restitution)*normalVelocity;var normalForce=Common.clamp(pair.separation+normalVelocity,0,1)*Resolver._frictionNormalMultiplier;velocityPointB=tangentVelocity;var maxFriction=Infinity;tangentSpeed>pair.friction*pair.frictionStatic*normalForce*timeScale&&(maxFriction=tangentSpeed,velocityPointB=Common.clamp(pair.friction*
tangentVelocityDirection*timeScale,-maxFriction,maxFriction));tangentSpeed=Vector.cross(offsetA,normal);tangentVelocityDirection=Vector.cross(contactVertex,normal);tangentSpeed=contactShare/(bodyA.inverseMass+bodyB.inverseMass+bodyA.inverseInertia*tangentSpeed*tangentSpeed+bodyB.inverseInertia*tangentVelocityDirection*tangentVelocityDirection);velocityPointA*=tangentSpeed;velocityPointB*=tangentSpeed;0>normalVelocity&&normalVelocity*normalVelocity>Resolver._restingThresh*timeScale?contact.normalImpulse=
0:(normalVelocity=contact.normalImpulse,contact.normalImpulse=Math.min(contact.normalImpulse+velocityPointA,0),velocityPointA=contact.normalImpulse-normalVelocity);tangentVelocity*tangentVelocity>Resolver._restingThreshTangent*timeScale?contact.tangentImpulse=0:(normalVelocity=contact.tangentImpulse,contact.tangentImpulse=Common.clamp(contact.tangentImpulse+velocityPointB,-maxFriction,maxFriction),velocityPointB=contact.tangentImpulse-normalVelocity);impulse.x=normal.x*velocityPointA+collision.x*
velocityPointB;impulse.y=normal.y*velocityPointA+collision.y*velocityPointB;bodyA.isStatic||bodyA.isSleeping||(bodyA.positionPrev.x+=impulse.x*bodyA.inverseMass,bodyA.positionPrev.y+=impulse.y*bodyA.inverseMass,bodyA.anglePrev+=Vector.cross(offsetA,impulse)*bodyA.inverseInertia);bodyB.isStatic||bodyB.isSleeping||(bodyB.positionPrev.x-=impulse.x*bodyB.inverseMass,bodyB.positionPrev.y-=impulse.y*bodyB.inverseMass,bodyB.anglePrev-=Vector.cross(contactVertex,impulse)*bodyB.inverseInertia)}}}}})()},function(module,
exports,__webpack_require__){var Pairs={};module.exports=Pairs;var Pair=__webpack_require__(9),Common=__webpack_require__(0);(function(){Pairs._pairMaxIdleLife=1E3;Pairs.create=function(options){return Common.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},options)};Pairs.update=function(pairs,collisions,timestamp){var pairsList=pairs.list,pairsTable=pairs.table,collisionStart=pairs.collisionStart,collisionEnd=pairs.collisionEnd;pairs=pairs.collisionActive;var pair,
i;collisionStart.length=0;collisionEnd.length=0;for(i=pairs.length=0;i<pairsList.length;i++)pairsList[i].confirmedActive=!1;for(i=0;i<collisions.length;i++){var collision=collisions[i];if(collision.collided){var pairId=Pair.id(collision.bodyA,collision.bodyB);(pair=pairsTable[pairId])?(pair.isActive?pairs.push(pair):collisionStart.push(pair),Pair.update(pair,collision,timestamp),pair.confirmedActive=!0):(pair=Pair.create(collision,timestamp),pairsTable[pairId]=pair,collisionStart.push(pair),pairsList.push(pair))}}for(i=
0;i<pairsList.length;i++)pair=pairsList[i],pair.isActive&&!pair.confirmedActive&&(Pair.setActive(pair,!1,timestamp),collisionEnd.push(pair))};Pairs.removeOld=function(pairs,timestamp){var pairsList=pairs.list;pairs=pairs.table;var indexesToRemove=[],i;for(i=0;i<pairsList.length;i++){var pair=pairsList[i];var collision=pair.collision;collision.bodyA.isSleeping||collision.bodyB.isSleeping?pair.timeUpdated=timestamp:timestamp-pair.timeUpdated>Pairs._pairMaxIdleLife&&indexesToRemove.push(i)}for(i=0;i<
indexesToRemove.length;i++)timestamp=indexesToRemove[i]-i,pair=pairsList[timestamp],delete pairs[pair.id],pairsList.splice(timestamp,1)};Pairs.clear=function(pairs){pairs.table={};pairs.list.length=0;pairs.collisionStart.length=0;pairs.collisionActive.length=0;pairs.collisionEnd.length=0;return pairs}})()},function(module,exports,__webpack_require__){var Grid={};module.exports=Grid;var Pair=__webpack_require__(9),Common=__webpack_require__(0);(function(){Grid.create=function(options){return Common.extend({buckets:{},
pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},options)};Grid.update=function(grid,bodies,engine,forceUpdate){var row,world=engine.world,buckets=grid.buckets;var col=!1;for(engine=0;engine<bodies.length;engine++){var body=bodies[engine];if(!body.isSleeping||forceUpdate)if(!world.bounds||!(body.bounds.max.x<world.bounds.min.x||body.bounds.min.x>world.bounds.max.x||body.bounds.max.y<world.bounds.min.y||body.bounds.min.y>world.bounds.max.y)){var newRegion=Grid._getRegion(grid,body);if(!body.region||
newRegion.id!==body.region.id||forceUpdate){if(!body.region||forceUpdate)body.region=newRegion;var union=Grid._regionUnion(newRegion,body.region);for(col=union.startCol;col<=union.endCol;col++)for(row=union.startRow;row<=union.endRow;row++){var bucketId=Grid._getBucketId(col,row);var bucket=buckets[bucketId];var isInsideNewRegion=col>=newRegion.startCol&&col<=newRegion.endCol&&row>=newRegion.startRow&&row<=newRegion.endRow,isInsideOldRegion=col>=body.region.startCol&&col<=body.region.endCol&&row>=
body.region.startRow&&row<=body.region.endRow;!isInsideNewRegion&&isInsideOldRegion&&isInsideOldRegion&&bucket&&Grid._bucketRemoveBody(grid,bucket,body);if(body.region===newRegion||isInsideNewRegion&&!isInsideOldRegion||forceUpdate)bucket||(bucket=Grid._createBucket(buckets,bucketId)),Grid._bucketAddBody(grid,bucket,body)}body.region=newRegion;col=!0}}}col&&(grid.pairsList=Grid._createActivePairsList(grid))};Grid.clear=function(grid){grid.buckets={};grid.pairs={};grid.pairsList=[]};Grid._regionUnion=
function(regionA,regionB){return Grid._createRegion(Math.min(regionA.startCol,regionB.startCol),Math.max(regionA.endCol,regionB.endCol),Math.min(regionA.startRow,regionB.startRow),Math.max(regionA.endRow,regionB.endRow))};Grid._getRegion=function(grid,body){body=body.bounds;return Grid._createRegion(Math.floor(body.min.x/grid.bucketWidth),Math.floor(body.max.x/grid.bucketWidth),Math.floor(body.min.y/grid.bucketHeight),Math.floor(body.max.y/grid.bucketHeight))};Grid._createRegion=function(startCol,
endCol,startRow,endRow){return{id:startCol+","+endCol+","+startRow+","+endRow,startCol:startCol,endCol:endCol,startRow:startRow,endRow:endRow}};Grid._getBucketId=function(column,row){return"C"+column+"R"+row};Grid._createBucket=function(buckets,bucketId){return buckets[bucketId]=[]};Grid._bucketAddBody=function(grid,bucket,body){for(var i=0;i<bucket.length;i++){var bodyB=bucket[i];if(!(body.id===bodyB.id||body.isStatic&&bodyB.isStatic)){var pairId=Pair.id(body,bodyB),pair=grid.pairs[pairId];pair?
pair[2]+=1:grid.pairs[pairId]=[body,bodyB,1]}}bucket.push(body)};Grid._bucketRemoveBody=function(grid,bucket,body){bucket.splice(Common.indexOf(bucket,body),1);for(var i=0;i<bucket.length;i++){var pairId=Pair.id(body,bucket[i]);(pairId=grid.pairs[pairId])&&--pairId[2]}};Grid._createActivePairsList=function(grid){var pairs=[];var pairKeys=Common.keys(grid.pairs);for(var k=0;k<pairKeys.length;k++){var pair=grid.pairs[pairKeys[k]];0<pair[2]?pairs.push(pair):delete grid.pairs[pairKeys[k]]}return pairs}})()},
function(module,exports,__webpack_require__){module=module.exports=__webpack_require__(23);module.Axes=__webpack_require__(10);module.Bodies=__webpack_require__(11);module.Body=__webpack_require__(6);module.Bounds=__webpack_require__(1);module.Common=__webpack_require__(0);module.Composite=__webpack_require__(5);module.Composites=__webpack_require__(24);module.Constraint=__webpack_require__(8);module.Contact=__webpack_require__(17);module.Detector=__webpack_require__(13);module.Engine=__webpack_require__(18);
module.Events=__webpack_require__(4);module.Grid=__webpack_require__(21);module.Mouse=__webpack_require__(12);module.MouseConstraint=__webpack_require__(25);module.Pair=__webpack_require__(9);module.Pairs=__webpack_require__(20);module.Plugin=__webpack_require__(15);module.Query=__webpack_require__(26);module.Render=__webpack_require__(16);module.Resolver=__webpack_require__(19);module.Runner=__webpack_require__(27);module.SAT=__webpack_require__(14);module.Sleeping=__webpack_require__(7);module.Svg=
__webpack_require__(28);module.Vector=__webpack_require__(2);module.Vertices=__webpack_require__(3);module.World=__webpack_require__(29);module.Engine.run=module.Runner.run;module.Common.deprecated(module.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(module,exports,__webpack_require__){var Matter={};module.exports=Matter;var Plugin=__webpack_require__(15),Common=__webpack_require__(0);(function(){Matter.name="matter-js";Matter.version="0.17.1";Matter.uses=[];Matter.used=
[];Matter.use=function(){Plugin.use(Matter,Array.prototype.slice.call(arguments))};Matter.before=function(path,func){path=path.replace(/^Matter./,"");return Common.chainPathBefore(Matter,path,func)};Matter.after=function(path,func){path=path.replace(/^Matter./,"");return Common.chainPathAfter(Matter,path,func)}})()},function(module,exports,__webpack_require__){var Composites={};module.exports=Composites;var Composite=__webpack_require__(5),Constraint=__webpack_require__(8),Common=__webpack_require__(0),
Body=__webpack_require__(6),Bodies=__webpack_require__(11),deprecated=Common.deprecated;(function(){Composites.stack=function(xx,yy,columns,rows,columnGap,rowGap,callback){for(var stack=Composite.create({label:"Stack"}),x=xx,lastBody,i=0,row=0;row<rows;row++){for(var maxHeight=0,column=0;column<columns;column++){var body=callback(x,yy,column,row,lastBody,i);body?(x=body.bounds.max.y-body.bounds.min.y,lastBody=body.bounds.max.x-body.bounds.min.x,x>maxHeight&&(maxHeight=x),Body.translate(body,{x:.5*
lastBody,y:.5*x}),x=body.bounds.max.x+columnGap,Composite.addBody(stack,body),lastBody=body,i+=1):x+=columnGap}yy+=maxHeight+rowGap;x=xx}return stack};Composites.chain=function(composite,xOffsetA,yOffsetA,xOffsetB,yOffsetB,options){for(var bodies=composite.bodies,i=1;i<bodies.length;i++){var bodyA=bodies[i-1],bodyB=bodies[i];bodyA=Common.extend({bodyA:bodyA,pointA:{x:(bodyA.bounds.max.x-bodyA.bounds.min.x)*xOffsetA,y:(bodyA.bounds.max.y-bodyA.bounds.min.y)*yOffsetA},bodyB:bodyB,pointB:{x:(bodyB.bounds.max.x-
bodyB.bounds.min.x)*xOffsetB,y:(bodyB.bounds.max.y-bodyB.bounds.min.y)*yOffsetB}},options);Composite.addConstraint(composite,Constraint.create(bodyA))}composite.label+=" Chain";return composite};Composites.mesh=function(composite,columns,rows,crossBrace,options){var bodies=composite.bodies,row,col;for(row=0;row<rows;row++){for(col=1;col<columns;col++){var bodyA=bodies[col-1+row*columns];var bodyB=bodies[col+row*columns];Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,
bodyB:bodyB},options)))}if(0<row)for(col=0;col<columns;col++)bodyA=bodies[col+(row-1)*columns],bodyB=bodies[col+row*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,bodyB:bodyB},options))),crossBrace&&0<col&&(bodyA=bodies[col-1+(row-1)*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,bodyB:bodyB},options)))),crossBrace&&col<columns-1&&(bodyA=bodies[col+1+(row-1)*columns],Composite.addConstraint(composite,Constraint.create(Common.extend({bodyA:bodyA,
bodyB:bodyB},options))))}composite.label+=" Mesh";return composite};Composites.pyramid=function(xx,yy,columns,rows,columnGap,rowGap,callback){return Composites.stack(xx,yy,columns,rows,columnGap,rowGap,function(x,y,column,row,lastBody,i){var actualRows=Math.min(rows,Math.ceil(columns/2));x=lastBody?lastBody.bounds.max.x-lastBody.bounds.min.x:0;if(!(row>actualRows||(row=actualRows-row,actualRows=columns-1-row,column<row||column>actualRows)))return 1===i&&Body.translate(lastBody,{x:(column+(1===columns%
2?1:-1))*x,y:0}),callback(xx+(lastBody?column*x:0)+column*columnGap,y,column,row,lastBody,i)})};Composites.newtonsCradle=function(xx,yy,number,size,length){for(var newtonsCradle=Composite.create({label:"Newtons Cradle"}),i=0;i<number;i++){var circle=Bodies.circle(xx+1.9*i*size,yy+length,size,{inertia:Infinity,restitution:1,friction:0,frictionAir:1E-4,slop:1}),constraint=Constraint.create({pointA:{x:xx+1.9*i*size,y:yy},bodyB:circle});Composite.addBody(newtonsCradle,circle);Composite.addConstraint(newtonsCradle,
constraint)}return newtonsCradle};deprecated(Composites,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example");Composites.car=function(xx,yy,width,height,wheelSize){var group=Body.nextGroup(!0),wheelAOffset=.5*-width+20,wheelBOffset=.5*width-20,car=Composite.create({label:"Car"});width=Bodies.rectangle(xx,yy,width,height,{collisionFilter:{group:group},chamfer:{radius:.5*height},density:2E-4});height=Bodies.circle(xx+wheelAOffset,yy+0,wheelSize,{collisionFilter:{group:group},
friction:.8});xx=Bodies.circle(xx+wheelBOffset,yy+0,wheelSize,{collisionFilter:{group:group},friction:.8});wheelAOffset=Constraint.create({bodyB:width,pointB:{x:wheelAOffset,y:0},bodyA:height,stiffness:1,length:0});wheelBOffset=Constraint.create({bodyB:width,pointB:{x:wheelBOffset,y:0},bodyA:xx,stiffness:1,length:0});Composite.addBody(car,width);Composite.addBody(car,height);Composite.addBody(car,xx);Composite.addConstraint(car,wheelAOffset);Composite.addConstraint(car,wheelBOffset);return car};deprecated(Composites,
"car","Composites.car  moved to car example");Composites.softBody=function(xx,yy,columns,rows,columnGap,rowGap,crossBrace,particleRadius,particleOptions,constraintOptions){particleOptions=Common.extend({inertia:Infinity},particleOptions);constraintOptions=Common.extend({stiffness:.2,render:{type:"line",anchors:!1}},constraintOptions);xx=Composites.stack(xx,yy,columns,rows,columnGap,rowGap,function(x,y){return Bodies.circle(x,y,particleRadius,particleOptions)});Composites.mesh(xx,columns,rows,crossBrace,
constraintOptions);xx.label="Soft Body";return xx};deprecated(Composites,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(module,exports,__webpack_require__){var MouseConstraint={};module.exports=MouseConstraint;var Vertices=__webpack_require__(3),Sleeping=__webpack_require__(7),Mouse=__webpack_require__(12),Events=__webpack_require__(4),Detector=__webpack_require__(13),Constraint=__webpack_require__(8),Composite=__webpack_require__(5),Common=__webpack_require__(0),
Bounds=__webpack_require__(1);(function(){MouseConstraint.create=function(engine,options){var mouse=(engine?engine.mouse:null)||(options?options.mouse:null);mouse||(engine&&engine.render&&engine.render.canvas?mouse=Mouse.create(engine.render.canvas):options&&options.element?mouse=Mouse.create(options.element):(mouse=Mouse.create(),Common.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var constraint=Constraint.create({label:"Mouse Constraint",
pointA:mouse.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),mouseConstraint=Common.extend({type:"mouseConstraint",mouse:mouse,element:null,body:null,constraint:constraint,collisionFilter:{category:1,mask:4294967295,group:0}},options);Events.on(engine,"beforeUpdate",function(){var allBodies=Composite.allBodies(engine.world);MouseConstraint.update(mouseConstraint,allBodies);MouseConstraint._triggerEvents(mouseConstraint)});return mouseConstraint};
MouseConstraint.update=function(mouseConstraint,bodies){var mouse=mouseConstraint.mouse,constraint=mouseConstraint.constraint,body=mouseConstraint.body;if(0===mouse.button)if(constraint.bodyB)Sleeping.set(constraint.bodyB,!1),constraint.pointA=mouse.position;else for(var i=0;i<bodies.length;i++){if(body=bodies[i],Bounds.contains(body.bounds,mouse.position)&&Detector.canCollide(body.collisionFilter,mouseConstraint.collisionFilter))for(var j=1<body.parts.length?1:0;j<body.parts.length;j++)if(Vertices.contains(body.parts[j].vertices,
mouse.position)){constraint.pointA=mouse.position;constraint.bodyB=mouseConstraint.body=body;constraint.pointB={x:mouse.position.x-body.position.x,y:mouse.position.y-body.position.y};constraint.angleB=body.angle;Sleeping.set(body,!1);Events.trigger(mouseConstraint,"startdrag",{mouse:mouse,body:body});break}}else constraint.bodyB=mouseConstraint.body=null,constraint.pointB=null,body&&Events.trigger(mouseConstraint,"enddrag",{mouse:mouse,body:body})};MouseConstraint._triggerEvents=function(mouseConstraint){var mouse=
mouseConstraint.mouse,mouseEvents=mouse.sourceEvents;mouseEvents.mousemove&&Events.trigger(mouseConstraint,"mousemove",{mouse:mouse});mouseEvents.mousedown&&Events.trigger(mouseConstraint,"mousedown",{mouse:mouse});mouseEvents.mouseup&&Events.trigger(mouseConstraint,"mouseup",{mouse:mouse});Mouse.clearSourceEvents(mouse)}})()},function(module,exports,__webpack_require__){var Query={};module.exports=Query;var Vector=__webpack_require__(2),SAT=__webpack_require__(14),Bounds=__webpack_require__(1),Bodies=
__webpack_require__(11),Vertices=__webpack_require__(3);(function(){Query.collides=function(body,bodies){for(var collisions=[],i=0;i<bodies.length;i++){var bodyA=bodies[i];if(Bounds.overlaps(bodyA.bounds,body.bounds))for(var j=1===bodyA.parts.length?0:1;j<bodyA.parts.length;j++){var part=bodyA.parts[j];if(Bounds.overlaps(part.bounds,body.bounds)&&(part=SAT.collides(part,body),part.collided)){collisions.push(part);break}}}return collisions};Query.ray=function(bodies,startPoint,endPoint,rayWidth){rayWidth=
rayWidth||1E-100;var rayAngle=Vector.angle(startPoint,endPoint),rayLength=Vector.magnitude(Vector.sub(startPoint,endPoint));startPoint=Bodies.rectangle(.5*(endPoint.x+startPoint.x),.5*(endPoint.y+startPoint.y),rayLength,rayWidth,{angle:rayAngle});bodies=Query.collides(startPoint,bodies);for(startPoint=0;startPoint<bodies.length;startPoint+=1)endPoint=bodies[startPoint],endPoint.body=endPoint.bodyB=endPoint.bodyA;return bodies};Query.region=function(bodies,bounds,outside){for(var result=[],i=0;i<bodies.length;i++){var body=
bodies[i],overlaps=Bounds.overlaps(body.bounds,bounds);(overlaps&&!outside||!overlaps&&outside)&&result.push(body)}return result};Query.point=function(bodies,point){for(var result=[],i=0;i<bodies.length;i++){var body=bodies[i];if(Bounds.contains(body.bounds,point))for(var j=1===body.parts.length?0:1;j<body.parts.length;j++){var part=body.parts[j];if(Bounds.contains(part.bounds,point)&&Vertices.contains(part.vertices,point)){result.push(body);break}}}return result}})()},function(module,exports,__webpack_require__){var Runner=
{};module.exports=Runner;var Events=__webpack_require__(4),Engine=__webpack_require__(18),Common=__webpack_require__(0);(function(){if("undefined"!==typeof window){var _requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;var _cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame}if(!_requestAnimationFrame){var _frameTimeout;
_requestAnimationFrame=function(callback){_frameTimeout=setTimeout(function(){callback(Common.now())},1E3/60)};_cancelAnimationFrame=function(){clearTimeout(_frameTimeout)}}Runner.create=function(options){options=Common.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},options);options.delta=options.delta||1E3/options.fps;options.deltaMin=options.deltaMin||1E3/options.fps;options.deltaMax=
options.deltaMax||1E3/(.5*options.fps);options.fps=1E3/options.delta;return options};Runner.run=function(runner,engine){"undefined"!==typeof runner.positionIterations&&(engine=runner,runner=Runner.create());(function render(time){runner.frameRequestId=_requestAnimationFrame(render);time&&runner.enabled&&Runner.tick(runner,engine,time)})();return runner};Runner.tick=function(runner,engine,time){var timing=engine.timing,correction=1,event={timestamp:timing.timestamp};Events.trigger(runner,"beforeTick",
event);if(runner.isFixed)var delta=runner.delta;else delta=time-runner.timePrev||runner.delta,runner.timePrev=time,runner.deltaHistory.push(delta),runner.deltaHistory=runner.deltaHistory.slice(-runner.deltaSampleSize),delta=Math.min.apply(null,runner.deltaHistory),delta=delta<runner.deltaMin?runner.deltaMin:delta,delta=delta>runner.deltaMax?runner.deltaMax:delta,correction=delta/runner.delta,runner.delta=delta;0!==runner.timeScalePrev&&(correction*=timing.timeScale/runner.timeScalePrev);0===timing.timeScale&&
(correction=0);runner.timeScalePrev=timing.timeScale;runner.correction=correction;runner.frameCounter+=1;1E3<=time-runner.counterTimestamp&&(runner.fps=(time-runner.counterTimestamp)/1E3*runner.frameCounter,runner.counterTimestamp=time,runner.frameCounter=0);Events.trigger(runner,"tick",event);Events.trigger(runner,"beforeUpdate",event);Engine.update(engine,delta,correction);Events.trigger(runner,"afterUpdate",event);Events.trigger(runner,"afterTick",event)};Runner.stop=function(runner){_cancelAnimationFrame(runner.frameRequestId)};
Runner.start=function(runner,engine){Runner.run(runner,engine)}})()},function(module,exports,__webpack_require__){var Svg={};module.exports=Svg;__webpack_require__(1);var Common=__webpack_require__(0);(function(){Svg.pathToVertices=function(path,sampleLength){"undefined"===typeof window||"SVGPathSeg"in window||Common.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,segmentsQueue,lastPoint,points=[],lx,ly,length=0,x=0,y=0;sampleLength=sampleLength||15;var addPoint=
function(px,py,pathSegType){pathSegType=1===pathSegType%2&&1<pathSegType;if(!lastPoint||px!=lastPoint.x||py!=lastPoint.y){lastPoint&&pathSegType?(lx=lastPoint.x,ly=lastPoint.y):ly=lx=0;var point={x:lx+px,y:ly+py};if(pathSegType||!lastPoint)lastPoint=point;points.push(point);x=lx+px;y=ly+py}},addSegmentPoint=function(segment){var segType=segment.pathSegTypeAsLetter.toUpperCase();if("Z"!==segType){switch(segType){case "M":case "L":case "T":case "C":case "S":case "Q":x=segment.x;y=segment.y;break;case "H":x=
segment.x;break;case "V":y=segment.y}addPoint(x,y,segment.pathSegType)}};Svg._svgPathToAbsolute(path);var total=path.getTotalLength();var segments=[];for(i=0;i<path.pathSegList.numberOfItems;i+=1)segments.push(path.pathSegList.getItem(i));for(segmentsQueue=segments.concat();length<total;){i=path.getPathSegAtLength(length);i=segments[i];if(i!=lastSegment){for(;segmentsQueue.length&&segmentsQueue[0]!=i;)addSegmentPoint(segmentsQueue.shift());var lastSegment=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case "C":case "T":case "S":case "Q":case "A":i=
path.getPointAtLength(length),addPoint(i.x,i.y,0)}length+=sampleLength}i=0;for(path=segmentsQueue.length;i<path;++i)addSegmentPoint(segmentsQueue[i]);return points};Svg._svgPathToAbsolute=function(path){for(var x0,y0,x1,y1,x2,y2,segs=path.pathSegList,x=0,y=0,len=segs.numberOfItems,i=0;i<len;++i){var seg=segs.getItem(i),segType=seg.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(segType))"x"in seg&&(x=seg.x),"y"in seg&&(y=seg.y);else switch("x1"in seg&&(x1=x+seg.x1),"x2"in seg&&(x2=x+seg.x2),"y1"in seg&&
(y1=y+seg.y1),"y2"in seg&&(y2=y+seg.y2),"x"in seg&&(x+=seg.x),"y"in seg&&(y+=seg.y),segType){case "m":segs.replaceItem(path.createSVGPathSegMovetoAbs(x,y),i);break;case "l":segs.replaceItem(path.createSVGPathSegLinetoAbs(x,y),i);break;case "h":segs.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(x),i);break;case "v":segs.replaceItem(path.createSVGPathSegLinetoVerticalAbs(y),i);break;case "c":segs.replaceItem(path.createSVGPathSegCurvetoCubicAbs(x,y,x1,y1,x2,y2),i);break;case "s":segs.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(x,
y,x2,y2),i);break;case "q":segs.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(x,y,x1,y1),i);break;case "t":segs.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(x,y),i);break;case "a":segs.replaceItem(path.createSVGPathSegArcAbs(x,y,seg.r1,seg.r2,seg.angle,seg.largeArcFlag,seg.sweepFlag),i);break;case "z":case "Z":x=x0,y=y0}if("M"==segType||"m"==segType)x0=x,y0=y}}})()},function(module,exports,__webpack_require__){exports={};module.exports=exports;module=__webpack_require__(5);__webpack_require__(0);
exports.create=module.create;exports.add=module.add;exports.remove=module.remove;exports.clear=module.clear;exports.addComposite=module.addComposite;exports.addBody=module.addBody;exports.addConstraint=module.addConstraint}])})}
//# sourceMappingURL=module$node_modules$matter_js$build$matter.js.map
