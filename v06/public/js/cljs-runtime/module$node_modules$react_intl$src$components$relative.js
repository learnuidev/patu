shadow$provide.module$node_modules$react_intl$src$components$relative=function(global,require,module,exports){function selectUnit(seconds){seconds=Math.abs(seconds);return 60>seconds?"second":3600>seconds?"minute":86400>seconds?"hour":"day"}function getDurationInSeconds(unit){switch(unit){case "second":return 1;case "minute":return 60;case "hour":return 3600;default:return 86400}}function valueToSeconds(value,unit){if(!value)return 0;switch(unit){case "second":return value;case "minute":return 60*
value;default:return 3600*value}}function canIncrement(unit){void 0===unit&&(unit="second");return INCREMENTABLE_UNITS.includes(unit)}Object.defineProperty(exports,"__esModule",{value:!0});exports.FormattedRelativeTime=void 0;var tslib_1=require("module$node_modules$tslib$tslib"),React=tslib_1.__importStar(require("module$node_modules$react$index")),injectIntl_1=require("module$node_modules$react_intl$src$components$injectIntl"),utils_1=require("module$node_modules$react_intl$src$utils"),ecma402_abstract_1=
require("module$node_modules$$formatjs$ecma402_abstract$index"),INCREMENTABLE_UNITS=["second","minute","hour"];global=function(_super){function FormattedRelativeTime(props){var _this=_super.call(this,props)||this;_this._updateTimer=null;_this.state={prevUnit:_this.props.unit,prevValue:_this.props.value,currentValueInSeconds:canIncrement(_this.props.unit)?valueToSeconds(_this.props.value,_this.props.unit):0};ecma402_abstract_1.invariant(!props.updateIntervalInSeconds||!(!props.updateIntervalInSeconds||
!canIncrement(props.unit)),"Cannot schedule update with unit longer than hour");return _this}tslib_1.__extends(FormattedRelativeTime,_super);FormattedRelativeTime.prototype.scheduleNextUpdate=function(_a,_b){var _this=this,updateIntervalInSeconds=_a.updateIntervalInSeconds;_a=_a.unit;_b=_b.currentValueInSeconds;clearTimeout(this._updateTimer);this._updateTimer=null;if(updateIntervalInSeconds&&canIncrement(_a)&&(updateIntervalInSeconds=_b-updateIntervalInSeconds,_a=selectUnit(updateIntervalInSeconds),
"day"!==_a)){_a=getDurationInSeconds(_a);updateIntervalInSeconds-=updateIntervalInSeconds%_a;var nextInterestingValueInSeconds=updateIntervalInSeconds>=_b?updateIntervalInSeconds-_a:updateIntervalInSeconds;this._updateTimer=setTimeout(function(){return _this.setState({currentValueInSeconds:nextInterestingValueInSeconds})},1E3*Math.abs(nextInterestingValueInSeconds-_b))}};FormattedRelativeTime.prototype.componentDidMount=function(){this.scheduleNextUpdate(this.props,this.state)};FormattedRelativeTime.prototype.componentDidUpdate=
function(){this.scheduleNextUpdate(this.props,this.state)};FormattedRelativeTime.prototype.componentWillUnmount=function(){clearTimeout(this._updateTimer);this._updateTimer=null};FormattedRelativeTime.getDerivedStateFromProps=function(props,state){return props.unit!==state.prevUnit||props.value!==state.prevValue?{prevValue:props.value,prevUnit:props.unit,currentValueInSeconds:canIncrement(props.unit)?valueToSeconds(props.value,props.unit):0}:null};FormattedRelativeTime.prototype.render=function(){var _this=
this;return React.createElement(injectIntl_1.Context.Consumer,null,function(intl){utils_1.invariantIntlContext(intl);var formatRelativeTime=intl.formatRelativeTime;intl=intl.textComponent;var _a=_this.props,children=_a.children,unit=_a.unit,updateIntervalInSeconds=_a.updateIntervalInSeconds,currentValueInSeconds=_this.state.currentValueInSeconds,currentValue=_a.value||0;_a=unit;canIncrement(unit)&&"number"===typeof currentValueInSeconds&&updateIntervalInSeconds&&(_a=selectUnit(currentValueInSeconds),
unit=getDurationInSeconds(_a),currentValue=Math.round(currentValueInSeconds/unit));formatRelativeTime=formatRelativeTime(currentValue,_a,tslib_1.__assign({},_this.props));return"function"===typeof children?children(formatRelativeTime):intl?React.createElement(intl,null,formatRelativeTime):formatRelativeTime})};FormattedRelativeTime.displayName="FormattedRelativeTime";FormattedRelativeTime.defaultProps={value:0,unit:"second"};return FormattedRelativeTime}(React.PureComponent);exports.FormattedRelativeTime=
global;exports.default=global}
//# sourceMappingURL=module$node_modules$react_intl$src$components$relative.js.map
