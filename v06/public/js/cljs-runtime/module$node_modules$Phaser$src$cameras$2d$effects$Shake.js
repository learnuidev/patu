shadow$provide.module$node_modules$Phaser$src$cameras$2d$effects$Shake=function(global,require,module,exports){var Clamp=require("module$node_modules$Phaser$src$math$Clamp");global=require("module$node_modules$Phaser$src$utils$Class");var Vector2=require("module$node_modules$Phaser$src$math$Vector2");require=new global({initialize:function(camera){this.camera=camera;this.isRunning=!1;this.duration=0;this.intensity=new Vector2;this._offsetY=this._offsetX=this._elapsed=this.progress=0},start:function(duration,
intensity,force,callback,context){void 0===duration&&(duration=100);void 0===intensity&&(intensity=.05);void 0===force&&(force=!1);void 0===callback&&(callback=null);void 0===context&&(context=this.camera.scene);if(!force&&this.isRunning)return this.camera;this.isRunning=!0;this.duration=duration;this.progress=0;"number"===typeof intensity?this.intensity.set(intensity):this.intensity.set(intensity.x,intensity.y);this._offsetY=this._offsetX=this._elapsed=0;this._onUpdate=callback;this._onUpdateScope=
context;this.camera.emit("camerashakestart",this.camera,this,duration,intensity);return this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(time,delta){if(this.isRunning)if(this._elapsed+=delta,this.progress=Clamp(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){time=this.intensity;delta=this.camera._cw;var height=this.camera._ch,
zoom=this.camera.zoom;this._offsetX=(Math.random()*time.x*delta*2-time.x*delta)*zoom;this._offsetY=(Math.random()*time.y*height*2-time.y*height)*zoom;this.camera.roundPixels&&(this._offsetX|=0,this._offsetY|=0)}else this.effectComplete()},effectComplete:function(){this._offsetY=this._offsetX=0;this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.camera.emit("camerashakecomplete",this.camera,this)},reset:function(){this.isRunning=!1;this._offsetY=this._offsetX=0;this._onUpdateScope=this._onUpdate=
null},destroy:function(){this.reset();this.intensity=this.camera=null}});module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$cameras$2d$effects$Shake.js.map
