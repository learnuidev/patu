{"version":3,"sources":["app/bugs.cljs"],"mappings":";;;;AAIA,AAAA,AAAAA,AAAMM;AAAN,AAAA,AAAAL,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAAuBM;AAAvB,AAAAF,AAAAJ,AAAA,AAAmCO;AAAnC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACW,AAACC,AACQF,AAEJC;;AAGhB,AAAA,AAAME,AAAYC;AAAlB,AACE,AAAA,AAAA,AAACC,AAGID;;AAGP,AAAA,AAAME,AAAiBF,AAAKG,AAAOC;AAAnC,AACE,AAAA,AAAA,AAAA,AAAA,AAACC,AAAYL,AAAcG,AAAsBC;;AAGnD,AAAA,AAAME,AAAUN,AAAKO;AAArB,AACE,AAAA,AAAA,AAACN,AAIID,AAAKO;;AAGZ,AAAA,AAAMC,AAAkBR;AAAxB,AACE,AAAA,AAAA,AAACC,AAIID","names":["p__54031","map__54032","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","app.bugs/new-bug","description","author","cljs.core/random-uuid","app.bugs/browse-ids","conn","posh.reagent/q","app.bugs/toggle-resolved","bug-id","value","posh.reagent/transact!","app.bugs/count-by","resolved","app.bugs/total-unresolved"],"sourcesContent":["(ns app.bugs\n  (:require [datascript.core :as d]\n            [posh.reagent :as p]))\n\n(defn new-bug [{:keys [description author]}]\n  {:bug/id (random-uuid)\n   :bug/description description\n   :bug/resolved? false\n   :bug/author  author})\n\n;; browse\n(defn browse-ids [conn]\n  (p/q '[:find [?bid ...]\n         :where\n         [?bid :bug/description]]\n       conn))\n\n;;\n(defn toggle-resolved [conn bug-id value]\n  (p/transact! conn [{:db/id bug-id :bug/resolved? value}]))\n\n;;\n(defn count-by [conn resolved]\n  (p/q '[:find (count ?bid) .\n         :in $ ?resolved\n         :where\n         [?bid :bug/resolved? ?resolved]]\n       conn resolved))\n\n;;\n(defn total-unresolved [conn]\n  (p/q '[:find (count ?bid) .\n         :where\n         [?bid :bug/description]\n         (not [?bid :bug/resolved? true])]\n       conn))\n"]}