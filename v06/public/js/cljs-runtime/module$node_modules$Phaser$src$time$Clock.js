shadow$provide.module$node_modules$Phaser$src$time$Clock=function(global,require,module,exports){exports=require("module$node_modules$Phaser$src$utils$Class");global=require("module$node_modules$Phaser$src$plugins$PluginCache");var TimerEvent=require("module$node_modules$Phaser$src$time$TimerEvent");require=new exports({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.now=Date.now();this.timeScale=1;this.paused=!1;this._active=[];this._pendingInsertion=[];this._pendingRemoval=
[];scene.sys.events.once("boot",this.boot,this);scene.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var eventEmitter=this.systems.events;eventEmitter.on("preupdate",this.preUpdate,this);eventEmitter.on("update",this.update,this);eventEmitter.once("shutdown",this.shutdown,this)},addEvent:function(config){config=new TimerEvent(config);this._pendingInsertion.push(config);return config},delayedCall:function(delay,callback,
args,callbackScope){return this.addEvent({delay:delay,callback:callback,args:args,callbackScope:callbackScope})},clearPendingEvents:function(){this._pendingInsertion=[];return this},removeAllEvents:function(){this._pendingRemoval=this._pendingRemoval.concat(this._active);return this},preUpdate:function(){var toRemove=this._pendingRemoval.length,toInsert=this._pendingInsertion.length;if(0!==toRemove||0!==toInsert){var i;for(i=0;i<toRemove;i++){var event=this._pendingRemoval[i];var index=this._active.indexOf(event);
-1<index&&this._active.splice(index,1);event.destroy()}for(i=0;i<toInsert;i++)event=this._pendingInsertion[i],this._active.push(event);this._pendingRemoval.length=0;this._pendingInsertion.length=0}},update:function(time,delta){this.now=time;if(!this.paused)for(delta*=this.timeScale,time=0;time<this._active.length;time++){var event=this._active[time];if(!event.paused&&(event.elapsed+=delta*event.timeScale,event.elapsed>=event.delay)){var remainder=event.elapsed-event.delay;event.elapsed=event.delay;
!event.hasDispatched&&event.callback&&(event.hasDispatched=!0,event.callback.apply(event.callbackScope,event.args));0<event.repeatCount?(event.repeatCount--,event.elapsed=remainder,event.hasDispatched=!1):this._pendingRemoval.push(event)}}},shutdown:function(){var i;for(i=0;i<this._pendingInsertion.length;i++)this._pendingInsertion[i].destroy();for(i=0;i<this._active.length;i++)this._active[i].destroy();for(i=0;i<this._pendingRemoval.length;i++)this._pendingRemoval[i].destroy();this._active.length=
0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;i=this.systems.events;i.off("preupdate",this.preUpdate,this);i.off("update",this.update,this);i.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown();this.scene.sys.events.off("start",this.start,this);this.systems=this.scene=null}});global.register("Clock",require,"time");module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$time$Clock.js.map
