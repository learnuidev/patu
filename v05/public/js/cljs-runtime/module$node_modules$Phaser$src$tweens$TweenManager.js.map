{
"version":3,
"file":"module$node_modules$Phaser$src$tweens$TweenManager.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/Phaser/src/tweens/TweenManager.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$Phaser$src$tweens$TweenManager\"] = function(global,require,module,exports) {\n/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2018 Photon Storm Ltd.\r\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\r\n */\r\n\r\nvar Class = require('../utils/Class');\r\nvar NumberTweenBuilder = require('./builders/NumberTweenBuilder');\r\nvar PluginCache = require('../plugins/PluginCache');\r\nvar TimelineBuilder = require('./builders/TimelineBuilder');\r\nvar TWEEN_CONST = require('./tween/const');\r\nvar TweenBuilder = require('./builders/TweenBuilder');\r\n\r\n/**\r\n * @classdesc\r\n * [description]\r\n *\r\n * @class TweenManager\r\n * @memberOf Phaser.Tweens\r\n * @constructor\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Scene} scene - [description]\r\n */\r\nvar TweenManager = new Class({\r\n\r\n    initialize:\r\n\r\n    function TweenManager (scene)\r\n    {\r\n        /**\r\n         * [description]\r\n         *\r\n         * @name Phaser.Tweens.TweenManager#scene\r\n         * @type {Phaser.Scene}\r\n         * @since 3.0.0\r\n         */\r\n        this.scene = scene;\r\n\r\n        /**\r\n         * [description]\r\n         *\r\n         * @name Phaser.Tweens.TweenManager#systems\r\n         * @type {Phaser.Scenes.Systems}\r\n         * @since 3.0.0\r\n         */\r\n        this.systems = scene.sys;\r\n\r\n        /**\r\n         * [description]\r\n         *\r\n         * @name Phaser.Tweens.TweenManager#timeScale\r\n         * @type {number}\r\n         * @default 1\r\n         * @since 3.0.0\r\n         */\r\n        this.timeScale = 1;\r\n\r\n        /**\r\n         * [description]\r\n         *\r\n         * @name Phaser.Tweens.TweenManager#_add\r\n         * @type {array}\r\n         * @private\r\n         * @since 3.0.0\r\n         */\r\n        this._add = [];\r\n\r\n        /**\r\n         * [description]\r\n         *\r\n         * @name Phaser.Tweens.TweenManager#_pending\r\n         * @type {array}\r\n         * @private\r\n         * @since 3.0.0\r\n         */\r\n        this._pending = [];\r\n\r\n        /**\r\n         * [description]\r\n         *\r\n         * @name Phaser.Tweens.TweenManager#_active\r\n         * @type {array}\r\n         * @private\r\n         * @since 3.0.0\r\n         */\r\n        this._active = [];\r\n\r\n        /**\r\n         * [description]\r\n         *\r\n         * @name Phaser.Tweens.TweenManager#_destroy\r\n         * @type {array}\r\n         * @private\r\n         * @since 3.0.0\r\n         */\r\n        this._destroy = [];\r\n\r\n        /**\r\n         * [description]\r\n         *\r\n         * @name Phaser.Tweens.TweenManager#_toProcess\r\n         * @type {integer}\r\n         * @private\r\n         * @default 0\r\n         * @since 3.0.0\r\n         */\r\n        this._toProcess = 0;\r\n\r\n        scene.sys.events.once('boot', this.boot, this);\r\n        scene.sys.events.on('start', this.start, this);\r\n    },\r\n\r\n    /**\r\n     * This method is called automatically, only once, when the Scene is first created.\r\n     * Do not invoke it directly.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#boot\r\n     * @private\r\n     * @since 3.5.1\r\n     */\r\n    boot: function ()\r\n    {\r\n        this.systems.events.once('destroy', this.destroy, this);\r\n    },\r\n\r\n    /**\r\n     * This method is called automatically by the Scene when it is starting up.\r\n     * It is responsible for creating local systems, properties and listening for Scene events.\r\n     * Do not invoke it directly.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#start\r\n     * @private\r\n     * @since 3.5.0\r\n     */\r\n    start: function ()\r\n    {\r\n        var eventEmitter = this.systems.events;\r\n\r\n        eventEmitter.on('preupdate', this.preUpdate, this);\r\n        eventEmitter.on('update', this.update, this);\r\n        eventEmitter.once('shutdown', this.shutdown, this);\r\n\r\n        this.timeScale = 1;\r\n    },\r\n\r\n    /**\r\n     * Create a Tween Timeline and return it, but do NOT add it to the active or pending Tween lists.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#createTimeline\r\n     * @since 3.0.0\r\n     *\r\n     * @param {object} config - [description]\r\n     *\r\n     * @return {Phaser.Tweens.Timeline} [description]\r\n     */\r\n    createTimeline: function (config)\r\n    {\r\n        return TimelineBuilder(this, config);\r\n    },\r\n\r\n    /**\r\n     * Create a Tween Timeline and add it to the active Tween list/\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#timeline\r\n     * @since 3.0.0\r\n     *\r\n     * @param {object} config - [description]\r\n     *\r\n     * @return {Phaser.Tweens.Timeline} [description]\r\n     */\r\n    timeline: function (config)\r\n    {\r\n        var timeline = TimelineBuilder(this, config);\r\n\r\n        if (!timeline.paused)\r\n        {\r\n            this._add.push(timeline);\r\n\r\n            this._toProcess++;\r\n        }\r\n\r\n        return timeline;\r\n    },\r\n\r\n    /**\r\n     * Create a Tween and return it, but do NOT add it to the active or pending Tween lists.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#create\r\n     * @since 3.0.0\r\n     *\r\n     * @param {object} config - [description]\r\n     *\r\n     * @return {Phaser.Tweens.Tween} [description]\r\n     */\r\n    create: function (config)\r\n    {\r\n        return TweenBuilder(this, config);\r\n    },\r\n\r\n    /**\r\n     * Create a Tween and add it to the active Tween list.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#add\r\n     * @since 3.0.0\r\n     *\r\n     * @param {object} config - [description]\r\n     *\r\n     * @return {Phaser.Tweens.Tween} [description]\r\n     */\r\n    add: function (config)\r\n    {\r\n        var tween = TweenBuilder(this, config);\r\n\r\n        this._add.push(tween);\r\n\r\n        this._toProcess++;\r\n\r\n        return tween;\r\n    },\r\n\r\n    /**\r\n     * Add an existing tween into the active Tween list.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#existing\r\n     * @since 3.0.0\r\n     *\r\n     * @param {Phaser.Tweens.Tween} tween - [description]\r\n     *\r\n     * @return {Phaser.Tweens.TweenManager} This Tween Manager object.\r\n     */\r\n    existing: function (tween)\r\n    {\r\n        this._add.push(tween);\r\n\r\n        this._toProcess++;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Create a Tween and add it to the active Tween list.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#addCounter\r\n     * @since 3.0.0\r\n     *\r\n     * @param {object} config - [description]\r\n     *\r\n     * @return {Phaser.Tweens.Tween} [description]\r\n     */\r\n    addCounter: function (config)\r\n    {\r\n        var tween = NumberTweenBuilder(this, config);\r\n\r\n        this._add.push(tween);\r\n\r\n        this._toProcess++;\r\n\r\n        return tween;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#preUpdate\r\n     * @since 3.0.0\r\n     */\r\n    preUpdate: function ()\r\n    {\r\n        if (this._toProcess === 0)\r\n        {\r\n            //  Quick bail\r\n            return;\r\n        }\r\n\r\n        var list = this._destroy;\r\n        var active = this._active;\r\n        var pending = this._pending;\r\n        var i;\r\n        var tween;\r\n\r\n        //  Clear the 'destroy' list\r\n        for (i = 0; i < list.length; i++)\r\n        {\r\n            tween = list[i];\r\n\r\n            //  Remove from the 'active' array\r\n            var idx = active.indexOf(tween);\r\n\r\n            if (idx === -1)\r\n            {\r\n                //  Not in the active array, is it in pending instead?\r\n                idx = pending.indexOf(tween);\r\n\r\n                if (idx > -1)\r\n                {\r\n                    tween.state = TWEEN_CONST.REMOVED;\r\n                    pending.splice(idx, 1);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                tween.state = TWEEN_CONST.REMOVED;\r\n                active.splice(idx, 1);\r\n            }\r\n        }\r\n\r\n        list.length = 0;\r\n\r\n        //  Process the addition list\r\n        //  This stops callbacks and out of sync events from populating the active array mid-way during the update\r\n\r\n        list = this._add;\r\n\r\n        for (i = 0; i < list.length; i++)\r\n        {\r\n            tween = list[i];\r\n\r\n            if (tween.state === TWEEN_CONST.PENDING_ADD)\r\n            {\r\n                //  Return true if the Tween should be started right away, otherwise false\r\n                if (tween.init())\r\n                {\r\n                    tween.play();\r\n\r\n                    this._active.push(tween);\r\n                }\r\n                else\r\n                {\r\n                    this._pending.push(tween);\r\n                }\r\n            }\r\n        }\r\n\r\n        list.length = 0;\r\n\r\n        this._toProcess = 0;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#update\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} timestamp - [description]\r\n     * @param {number} delta - The delta time in ms since the last frame. This is a smoothed and capped value based on the FPS rate.\r\n     */\r\n    update: function (timestamp, delta)\r\n    {\r\n        //  Process active tweens\r\n        var list = this._active;\r\n        var tween;\r\n\r\n        //  Scale the delta\r\n        delta *= this.timeScale;\r\n\r\n        for (var i = 0; i < list.length; i++)\r\n        {\r\n            tween = list[i];\r\n\r\n            //  If Tween.update returns 'true' then it means it has completed,\r\n            //  so move it to the destroy list\r\n            if (tween.update(timestamp, delta))\r\n            {\r\n                this._destroy.push(tween);\r\n                this._toProcess++;\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#makeActive\r\n     * @since 3.0.0\r\n     *\r\n     * @param {Phaser.Tweens.Tween} tween - [description]\r\n     *\r\n     * @return {Phaser.Tweens.TweenManager} This Tween Manager object.\r\n     */\r\n    makeActive: function (tween)\r\n    {\r\n        if (this._add.indexOf(tween) !== -1 || this._active.indexOf(tween) !== -1)\r\n        {\r\n            return;\r\n        }\r\n\r\n        var idx = this._pending.indexOf(tween);\r\n\r\n        if (idx !== -1)\r\n        {\r\n            this._pending.splice(idx, 1);\r\n        }\r\n\r\n        this._add.push(tween);\r\n\r\n        tween.state = TWEEN_CONST.PENDING_ADD;\r\n\r\n        this._toProcess++;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Passes all Tweens to the given callback.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#each\r\n     * @since 3.0.0\r\n     *\r\n     * @param {function} callback - [description]\r\n     * @param {object} [scope] - [description]\r\n     * @param {...*} [args] - [description]\r\n     */\r\n    each: function (callback, scope)\r\n    {\r\n        var args = [ null ];\r\n\r\n        for (var i = 1; i < arguments.length; i++)\r\n        {\r\n            args.push(arguments[i]);\r\n        }\r\n\r\n        for (var texture in this.list)\r\n        {\r\n            args[0] = this.list[texture];\r\n\r\n            callback.apply(scope, args);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#getAllTweens\r\n     * @since 3.0.0\r\n     *\r\n     * @return {Phaser.Tweens.Tween[]} [description]\r\n     */\r\n    getAllTweens: function ()\r\n    {\r\n        var list = this._active;\r\n        var output = [];\r\n\r\n        for (var i = 0; i < list.length; i++)\r\n        {\r\n            output.push(list[i]);\r\n        }\r\n\r\n        return output;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#getGlobalTimeScale\r\n     * @since 3.0.0\r\n     *\r\n     * @return {number} [description]\r\n     */\r\n    getGlobalTimeScale: function ()\r\n    {\r\n        return this.timeScale;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#getTweensOf\r\n     * @since 3.0.0\r\n     *\r\n     * @param {(object|array)} target - [description]\r\n     *\r\n     * @return {Phaser.Tweens.Tween[]} [description]\r\n     */\r\n    getTweensOf: function (target)\r\n    {\r\n        var list = this._active;\r\n        var tween;\r\n        var output = [];\r\n        var i;\r\n\r\n        if (Array.isArray(target))\r\n        {\r\n            for (i = 0; i < list.length; i++)\r\n            {\r\n                tween = list[i];\r\n\r\n                for (var t = 0; t < target.length; t++)\r\n                {\r\n                    if (tween.hasTarget(target[t]))\r\n                    {\r\n                        output.push(tween);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for (i = 0; i < list.length; i++)\r\n            {\r\n                tween = list[i];\r\n\r\n                if (tween.hasTarget(target))\r\n                {\r\n                    output.push(tween);\r\n                }\r\n            }\r\n        }\r\n\r\n        return output;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#isTweening\r\n     * @since 3.0.0\r\n     *\r\n     * @param {object} target - [description]\r\n     *\r\n     * @return {boolean} [description]\r\n     */\r\n    isTweening: function (target)\r\n    {\r\n        var list = this._active;\r\n        var tween;\r\n\r\n        for (var i = 0; i < list.length; i++)\r\n        {\r\n            tween = list[i];\r\n\r\n            if (tween.hasTarget(target) && tween.isPlaying())\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#killAll\r\n     * @since 3.0.0\r\n     *\r\n     * @return {Phaser.Tweens.TweenManager} [description]\r\n     */\r\n    killAll: function ()\r\n    {\r\n        var tweens = this.getAllTweens();\r\n\r\n        for (var i = 0; i < tweens.length; i++)\r\n        {\r\n            tweens[i].stop();\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#killTweensOf\r\n     * @since 3.0.0\r\n     *\r\n     * @param {(object|array)} target - [description]\r\n     *\r\n     * @return {Phaser.Tweens.TweenManager} [description]\r\n     */\r\n    killTweensOf: function (target)\r\n    {\r\n        var tweens = this.getTweensOf(target);\r\n\r\n        for (var i = 0; i < tweens.length; i++)\r\n        {\r\n            tweens[i].stop();\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#pauseAll\r\n     * @since 3.0.0\r\n     *\r\n     * @return {Phaser.Tweens.TweenManager} [description]\r\n     */\r\n    pauseAll: function ()\r\n    {\r\n        var list = this._active;\r\n\r\n        for (var i = 0; i < list.length; i++)\r\n        {\r\n            list[i].pause();\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#resumeAll\r\n     * @since 3.0.0\r\n     *\r\n     * @return {Phaser.Tweens.TweenManager} [description]\r\n     */\r\n    resumeAll: function ()\r\n    {\r\n        var list = this._active;\r\n\r\n        for (var i = 0; i < list.length; i++)\r\n        {\r\n            list[i].resume();\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * [description]\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#setGlobalTimeScale\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} value - [description]\r\n     *\r\n     * @return {Phaser.Tweens.TweenManager} [description]\r\n     */\r\n    setGlobalTimeScale: function (value)\r\n    {\r\n        this.timeScale = value;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * The Scene that owns this plugin is shutting down.\r\n     * We need to kill and reset all internal properties as well as stop listening to Scene events.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#shutdown\r\n     * @since 3.0.0\r\n     */\r\n    shutdown: function ()\r\n    {\r\n        this.killAll();\r\n\r\n        this._add = [];\r\n        this._pending = [];\r\n        this._active = [];\r\n        this._destroy = [];\r\n\r\n        this._toProcess = 0;\r\n\r\n        var eventEmitter = this.systems.events;\r\n\r\n        eventEmitter.off('preupdate', this.preUpdate, this);\r\n        eventEmitter.off('update', this.update, this);\r\n        eventEmitter.off('shutdown', this.shutdown, this);\r\n    },\r\n\r\n    /**\r\n     * The Scene that owns this plugin is being destroyed.\r\n     * We need to shutdown and then kill off all external references.\r\n     *\r\n     * @method Phaser.Tweens.TweenManager#destroy\r\n     * @since 3.0.0\r\n     */\r\n    destroy: function ()\r\n    {\r\n        this.shutdown();\r\n\r\n        this.scene.sys.events.off('start', this.start, this);\r\n\r\n        this.scene = null;\r\n        this.systems = null;\r\n    }\r\n\r\n});\r\n\r\nPluginCache.register('TweenManager', TweenManager, 'tweens');\r\n\r\nmodule.exports = TweenManager;\r\n\n};"],
"names":["shadow$provide","global","require","module","exports","Class","NumberTweenBuilder","PluginCache","TimelineBuilder","TWEEN_CONST","TweenBuilder","TweenManager","initialize","scene","systems","sys","timeScale","_add","_pending","_active","_destroy","_toProcess","events","once","boot","on","start","destroy","eventEmitter","preUpdate","update","shutdown","createTimeline","config","timeline","paused","push","create","add","tween","existing","addCounter","list","active","pending","i","length","idx","indexOf","state","REMOVED","splice","PENDING_ADD","init","play","timestamp","delta","makeActive","each","callback","scope","args","arguments","texture","apply","getAllTweens","output","getGlobalTimeScale","getTweensOf","target","Array","isArray","t","hasTarget","isTweening","isPlaying","killAll","tweens","stop","killTweensOf","pauseAll","pause","resumeAll","resume","setGlobalTimeScale","value","off","register"]
}
