shadow$provide.module$node_modules$Phaser$src$textures$TextureSource=function(global,require,module,exports){var CanvasPool=require("module$node_modules$Phaser$src$display$canvas$CanvasPool");global=require("module$node_modules$Phaser$src$utils$Class");var IsSizePowerOfTwo=require("module$node_modules$Phaser$src$math$pow2$IsSizePowerOfTwo"),ScaleModes=require("module$node_modules$Phaser$src$renderer$ScaleModes");require=new global({initialize:function(texture,source,width,height){var game=texture.manager.game;
this.renderer=game.renderer;this.texture=texture;this.image=this.source=source;this.compressionAlgorithm=null;this.resolution=1;this.width=width||source.naturalWidth||source.width||0;this.height=height||source.naturalHeight||source.height||0;this.scaleMode=ScaleModes.DEFAULT;this.isCanvas=source instanceof HTMLCanvasElement;this.isRenderTexture="RenderTexture"===source.type;this.isPowerOf2=IsSizePowerOfTwo(this.width,this.height);this.glTexture=null;this.init(game)},init:function(game){this.renderer&&
(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.canvasToTexture(this.image):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas));game.config.antialias||this.setFilter(1)},setFilter:function(filterMode){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,
filterMode)},update:function(){if(this.renderer.gl&&this.isCanvas){this.glTexture=this.renderer.canvasToTexture(this.image,this.glTexture);var index=this.texture.getTextureSourceIndex(this);index=this.texture.getFramesFromTextureSource(index,!0);for(var i=0;i<index.length;i++)index[i].glTexture=this.glTexture}},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture);this.isCanvas&&CanvasPool.remove(this.image);this.glTexture=this.image=this.source=this.texture=this.renderer=
null}});module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$textures$TextureSource.js.map
