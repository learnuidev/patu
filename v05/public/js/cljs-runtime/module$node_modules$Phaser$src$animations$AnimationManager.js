shadow$provide.module$node_modules$Phaser$src$animations$AnimationManager=function(global,require,module,exports){var Animation=require("module$node_modules$Phaser$src$animations$Animation");global=require("module$node_modules$Phaser$src$utils$Class");var CustomMap=require("module$node_modules$Phaser$src$structs$Map"),EventEmitter=require("module$node_modules$eventemitter3$index"),GetValue=require("module$node_modules$Phaser$src$utils$object$GetValue"),Pad=require("module$node_modules$Phaser$src$utils$string$Pad");
require=new global({Extends:EventEmitter,initialize:function(game){EventEmitter.call(this);this.game=game;this.textureManager=null;this.globalTimeScale=1;this.anims=new CustomMap;this.paused=!1;this.name="AnimationManager";game.events.once("boot",this.boot,this)},boot:function(){this.textureManager=this.game.textures;this.game.events.once("destroy",this.destroy,this)},add:function(key,animation){if(this.anims.has(key))console.warn("Animation with key",key,"already exists");else return animation.key=
key,this.anims.set(key,animation),this.emit("add",key,animation),this},create:function(config){var key=config.key;if(!key||this.anims.has(key))console.warn("Invalid Animation Key, or Key already in use: "+key);else return config=new Animation(this,key,config),this.anims.set(key,config),this.emit("add",key,config),config},fromJSON:function(data,clearCurrentAnimations){void 0===clearCurrentAnimations&&(clearCurrentAnimations=!1);clearCurrentAnimations&&this.anims.clear();"string"===typeof data&&(data=
JSON.parse(data));clearCurrentAnimations=[];if(data.hasOwnProperty("anims")&&Array.isArray(data.anims)){for(var i=0;i<data.anims.length;i++)clearCurrentAnimations.push(this.create(data.anims[i]));data.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=data.globalTimeScale)}else data.hasOwnProperty("key")&&"frame"===data.type&&clearCurrentAnimations.push(this.create(data));return clearCurrentAnimations},generateFrameNames:function(key,config){var prefix=GetValue(config,"prefix",""),start=GetValue(config,
"start",0),end=GetValue(config,"end",0),suffix=GetValue(config,"suffix",""),zeroPad=GetValue(config,"zeroPad",0),out=GetValue(config,"outputArray",[]),frames=GetValue(config,"frames",!1),texture=this.textureManager.get(key);if(!texture)return out;var diff=start<end?1:-1;end+=diff;if(config)if(Array.isArray(frames))for(config=0;config<frames.length;config++)start=prefix+Pad(frames[config],zeroPad,"0",1)+suffix,texture.has(start)&&out.push({key:key,frame:start});else for(config=start;config!==end;config+=
diff)start=prefix+Pad(config,zeroPad,"0",1)+suffix,texture.has(start)&&out.push({key:key,frame:start});else for(frames=texture.getFrameNames(),config=0;config<frames.length;config++)out.push({key:key,frame:frames[config]});return out},generateFrameNumbers:function(key,config){var startFrame=GetValue(config,"start",0),endFrame=GetValue(config,"end",-1),firstFrame=GetValue(config,"first",!1),out=GetValue(config,"outputArray",[]);config=GetValue(config,"frames",!1);var texture=this.textureManager.get(key);
if(!texture)return out;firstFrame&&texture.has(firstFrame)&&out.push({key:key,frame:firstFrame});if(Array.isArray(config))for(startFrame=0;startFrame<config.length;startFrame++)texture.has(config[startFrame])&&out.push({key:key,frame:config[startFrame]});else for(-1===endFrame&&(endFrame=texture.frameTotal);startFrame<=endFrame;startFrame++)texture.has(startFrame)&&out.push({key:key,frame:startFrame});return out},get:function(key){return this.anims.get(key)},load:function(child,key,startFrame){(key=
this.get(key))&&key.load(child,startFrame);return child},pauseAll:function(){this.paused||(this.paused=!0,this.emit("pauseall"));return this},play:function(key,child){Array.isArray(child)||(child=[child]);if(this.get(key)){for(var i=0;i<child.length;i++)child[i].anims.play(key);return this}},remove:function(key){var anim=this.get(key);anim&&(this.emit("remove",key,anim),this.anims.delete(key));return anim},resumeAll:function(){this.paused&&(this.paused=!1,this.emit("resumeall"));return this},staggerPlay:function(key,
children,stagger){void 0===stagger&&(stagger=0);Array.isArray(children)||(children=[children]);if(this.get(key)){for(var i=0;i<children.length;i++)children[i].anims.delayedPlay(stagger*i,key);return this}},toJSON:function(key){if(void 0!==key&&""!==key)return this.anims.get(key).toJSON();var output={anims:[],globalTimeScale:this.globalTimeScale};this.anims.each(function(animationKey,animation){output.anims.push(animation.toJSON())});return output},destroy:function(){this.anims.clear();this.game=this.textureManager=
null}});module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$animations$AnimationManager.js.map
