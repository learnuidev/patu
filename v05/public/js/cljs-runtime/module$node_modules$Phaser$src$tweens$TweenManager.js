shadow$provide.module$node_modules$Phaser$src$tweens$TweenManager=function(global,require,module,exports){exports=require("module$node_modules$Phaser$src$utils$Class");var NumberTweenBuilder=require("module$node_modules$Phaser$src$tweens$builders$NumberTweenBuilder");global=require("module$node_modules$Phaser$src$plugins$PluginCache");var TimelineBuilder=require("module$node_modules$Phaser$src$tweens$builders$TimelineBuilder"),TWEEN_CONST=require("module$node_modules$Phaser$src$tweens$tween$const"),
TweenBuilder=require("module$node_modules$Phaser$src$tweens$builders$TweenBuilder");require=new exports({initialize:function(scene){this.scene=scene;this.systems=scene.sys;this.timeScale=1;this._add=[];this._pending=[];this._active=[];this._destroy=[];this._toProcess=0;scene.sys.events.once("boot",this.boot,this);scene.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var eventEmitter=this.systems.events;eventEmitter.on("preupdate",
this.preUpdate,this);eventEmitter.on("update",this.update,this);eventEmitter.once("shutdown",this.shutdown,this);this.timeScale=1},createTimeline:function(config){return TimelineBuilder(this,config)},timeline:function(config){config=TimelineBuilder(this,config);config.paused||(this._add.push(config),this._toProcess++);return config},create:function(config){return TweenBuilder(this,config)},add:function(config){config=TweenBuilder(this,config);this._add.push(config);this._toProcess++;return config},
existing:function(tween){this._add.push(tween);this._toProcess++;return this},addCounter:function(config){config=NumberTweenBuilder(this,config);this._add.push(config);this._toProcess++;return config},preUpdate:function(){if(0!==this._toProcess){var list=this._destroy,active=this._active,pending=this._pending,i;for(i=0;i<list.length;i++){var tween=list[i];var idx=active.indexOf(tween);-1===idx?(idx=pending.indexOf(tween),-1<idx&&(tween.state=TWEEN_CONST.REMOVED,pending.splice(idx,1))):(tween.state=
TWEEN_CONST.REMOVED,active.splice(idx,1))}list.length=0;list=this._add;for(i=0;i<list.length;i++)tween=list[i],tween.state===TWEEN_CONST.PENDING_ADD&&(tween.init()?(tween.play(),this._active.push(tween)):this._pending.push(tween));this._toProcess=list.length=0}},update:function(timestamp,delta){var list=this._active;delta*=this.timeScale;for(var i=0;i<list.length;i++){var tween=list[i];tween.update(timestamp,delta)&&(this._destroy.push(tween),this._toProcess++)}},makeActive:function(tween){if(-1===
this._add.indexOf(tween)&&-1===this._active.indexOf(tween)){var idx=this._pending.indexOf(tween);-1!==idx&&this._pending.splice(idx,1);this._add.push(tween);tween.state=TWEEN_CONST.PENDING_ADD;this._toProcess++;return this}},each:function(callback,scope){for(var args=[null],i=1;i<arguments.length;i++)args.push(arguments[i]);for(var texture in this.list)args[0]=this.list[texture],callback.apply(scope,args)},getAllTweens:function(){for(var list=this._active,output=[],i=0;i<list.length;i++)output.push(list[i]);
return output},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(target){var list=this._active,output=[],i;if(Array.isArray(target))for(i=0;i<list.length;i++){var tween=list[i];for(var t=0;t<target.length;t++)tween.hasTarget(target[t])&&output.push(tween)}else for(i=0;i<list.length;i++)tween=list[i],tween.hasTarget(target)&&output.push(tween);return output},isTweening:function(target){for(var list=this._active,tween,i=0;i<list.length;i++)if(tween=list[i],tween.hasTarget(target)&&
tween.isPlaying())return!0;return!1},killAll:function(){for(var tweens=this.getAllTweens(),i=0;i<tweens.length;i++)tweens[i].stop();return this},killTweensOf:function(target){target=this.getTweensOf(target);for(var i=0;i<target.length;i++)target[i].stop();return this},pauseAll:function(){for(var list=this._active,i=0;i<list.length;i++)list[i].pause();return this},resumeAll:function(){for(var list=this._active,i=0;i<list.length;i++)list[i].resume();return this},setGlobalTimeScale:function(value){this.timeScale=
value;return this},shutdown:function(){this.killAll();this._add=[];this._pending=[];this._active=[];this._destroy=[];this._toProcess=0;var eventEmitter=this.systems.events;eventEmitter.off("preupdate",this.preUpdate,this);eventEmitter.off("update",this.update,this);eventEmitter.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown();this.scene.sys.events.off("start",this.start,this);this.systems=this.scene=null}});global.register("TweenManager",require,"tweens");module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$tweens$TweenManager.js.map
