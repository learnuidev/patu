shadow$provide.module$node_modules$Phaser$src$textures$Frame=function(global,require,module,exports){global=require("module$node_modules$Phaser$src$utils$Class");var Clamp=require("module$node_modules$Phaser$src$math$Clamp"),Extend=require("module$node_modules$Phaser$src$utils$object$Extend"),Frame=new global({initialize:function(texture,name,sourceIndex,x,y,width,height){this.texture=texture;this.name=name;this.source=texture.source[sourceIndex];this.sourceIndex=sourceIndex;this.glTexture=this.source.glTexture;
this.pivotY=this.pivotX=this.y=this.x=0;this.rotated=this.customPivot=!1;this.autoRound=-1;this.customData={};this.v1=this.u1=this.v0=this.u0=0;this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}};this.setSize(width,height,x,y)},setSize:function(width,height,x,y){void 0===x&&(x=0);void 0===y&&(y=0);this.cutX=x;this.cutY=y;this.cutWidth=width;this.cutHeight=height;this.width=width;this.height=
height;this.halfWidth=Math.floor(.5*width);this.halfHeight=Math.floor(.5*height);this.centerX=Math.floor(width/2);this.centerY=Math.floor(height/2);var data=this.data,cut=data.cut;cut.x=x;cut.y=y;cut.w=width;cut.h=height;cut.r=x+width;cut.b=y+height;data.sourceSize.w=width;data.sourceSize.h=height;data.spriteSourceSize.w=width;data.spriteSourceSize.h=height;data.radius=.5*Math.sqrt(width*width+height*height);data=data.drawImage;data.x=x;data.y=y;data.width=width;data.height=height;return this.updateUVs()},
setTrim:function(actualWidth,actualHeight,destX,destY,destWidth,destHeight){var data=this.data,ss=data.spriteSourceSize;data.trim=!0;data.sourceSize.w=actualWidth;data.sourceSize.h=actualHeight;ss.x=destX;ss.y=destY;ss.w=destWidth;ss.h=destHeight;ss.r=destX+destWidth;ss.b=destY+destHeight;this.x=destX;this.y=destY;this.width=destWidth;this.height=destHeight;this.halfWidth=.5*destWidth;this.halfHeight=.5*destHeight;this.centerX=Math.floor(destWidth/2);this.centerY=Math.floor(destHeight/2);return this.updateUVs()},
setCropUVs:function(crop,x,y,width,height,flipX,flipY){var cx=this.cutX,cy=this.cutY,cw=this.cutWidth,ch=this.cutHeight,rw=this.realWidth,rh=this.realHeight;x=Clamp(x,0,rw);y=Clamp(y,0,rh);width=Clamp(width,0,rw-x);height=Clamp(height,0,rh-y);rw=cx+x;var oy=cy+y;rh=width;var oh=height,data=this.data;data.trim?(oy=data.spriteSourceSize,width=Clamp(width,0,cw-x),height=Clamp(height,0,ch-y),rh=x+width,rw=y+height,oy.r<x||oy.b<y||oy.x>rh||oy.y>rw?oh=rh=oy=rw=0:(x=Math.max(oy.x,x),y=Math.max(oy.y,y),width=
Math.min(oy.r,rh)-x,height=Math.min(oy.b,rw)-y,rh=width,oh=height,rw=flipX?cx+(cw-(x-oy.x)-width):cx+(x-oy.x),oy=flipY?cy+(ch-(y-oy.y)-height):cy+(y-oy.y))):(flipX&&(rw=cx+(cw-x-width)),flipY&&(oy=cy+(ch-y-height)));cx=this.source.width;cy=this.source.height;crop.u0=Math.max(0,rw/cx);crop.v0=Math.max(0,oy/cy);crop.u1=Math.min(1,(rw+rh)/cx);crop.v1=Math.min(1,(oy+oh)/cy);crop.x=x;crop.y=y;crop.cx=rw;crop.cy=oy;crop.cw=rh;crop.ch=oh;crop.width=width;crop.height=height;crop.flipX=flipX;crop.flipY=flipY;
return crop},updateCropUVs:function(crop,flipX,flipY){return this.setCropUVs(crop,crop.x,crop.y,crop.width,crop.height,flipX,flipY)},updateUVs:function(){var cx=this.cutX,cy=this.cutY,cw=this.cutWidth,ch=this.cutHeight,cd=this.data.drawImage;cd.width=cw;cd.height=ch;cd=this.source.width;var th=this.source.height;this.u0=cx/cd;this.v0=cy/th;this.u1=(cx+cw)/cd;this.v1=(cy+ch)/th;return this},updateUVsInverted:function(){var tw=this.source.width,th=this.source.height;this.u0=(this.cutX+this.cutHeight)/
tw;this.v0=this.cutY/th;this.u1=this.cutX/tw;this.v1=(this.cutY+this.cutWidth)/th;return this},clone:function(){var clone=new Frame(this.texture,this.name,this.sourceIndex);clone.cutX=this.cutX;clone.cutY=this.cutY;clone.cutWidth=this.cutWidth;clone.cutHeight=this.cutHeight;clone.x=this.x;clone.y=this.y;clone.width=this.width;clone.height=this.height;clone.halfWidth=this.halfWidth;clone.halfHeight=this.halfHeight;clone.centerX=this.centerX;clone.centerY=this.centerY;clone.rotated=this.rotated;clone.data=
Extend(!0,clone.data,this.data);clone.updateUVs();return clone},destroy:function(){this.source=this.texture=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});module.exports=Frame}
//# sourceMappingURL=module$node_modules$Phaser$src$textures$Frame.js.map
