{"version":3,"sources":["app/kaboom/core.cljs"],"mappings":"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","names":["app.kaboom.core/ILifeCycle","app$kaboom$core$IKaboom$text$dyn","x__4428__auto__","m__4429__auto__","app.kaboom.core/text","goog/typeOf","m__4426__auto__","cljs.core/missing-protocol","app$kaboom$core$IKaboom$add$dyn","app.kaboom.core/add","app$kaboom$core$IKaboom$pos$dyn","app.kaboom.core/pos","app$kaboom$core$IKaboom$scene$dyn","app.kaboom.core/scene","app$kaboom$core$IKaboom$start$dyn","app.kaboom.core/start","app$kaboom$core$IKaboom$load_sprite$dyn","app.kaboom.core/load-sprite","app$kaboom$core$IKaboom$scale$dyn","app.kaboom.core/scale","app$kaboom$core$IKaboom$add_level$dyn","app.kaboom.core/add-level","var_args","G__28853","js/Error","app.kaboom.core/IKaboom","this","value","font-size","x","y","type","func","sprite-id","asset-path","options","cljs.core/PROTOCOL_SENTINEL","this__4369__auto__","writer__4370__auto__","opt__4371__auto__","cljs.core/-write","app.kaboom.core/Kaboom","app.kaboom.core/->Kaboom","g","_","cljs.core/clj->js","scene-id","cljs.core/name","app.kaboom.core/div?","element","cljs.core._EQ_","js/HTMLDivElement","cljs.spec.alpha/def-impl","cljs.core/boolean?","cljs.core/number?","cljs.core/vector?","cljs.spec.alpha/map-spec-impl","G__28854","cljs.core/map?","G__28856","app.kaboom.core/kaboom!","app.kaboom.core.kaboom_BANG_","cljs.spec.alpha.valid_QMARK_","js/kaboom","js/console.error","app.kaboom.core/init!","opts","js/console.log","app.kaboom.core/game","app.kaboom.core/reg-scene","id","handler-fn","level","config","app.kaboom.core/app"],"sourcesContent":["(ns app.kaboom.core\n  (:require [clojure.repl :refer [doc]]\n            [clojure.spec.alpha :as s]))\n\n(defprotocol ILifeCycle)\n\n;; == Protocol\n(defprotocol IKaboom\n  \"IKaboom protocol abstraction\"\n  (text [this value font-size])\n  (add [this value] \"Add a game object to scene\")\n  (pos [this x y])\n  (scene [this type func])\n  (start [this value])\n  (load-sprite [this sprite-id asset-path]\n    \"Description:\n      - Loads a sprite\n      - Accepts three arguments\n         - 1. game       - kaboom instance. object\n         - 2. sprit-id   - id of the sprite. keyword\n         - 3. asset-path - public path of the asset. string\n    Example usage:\n      - (load-sprite game :player 'assets/player.png')\")\n  (scale [this value])\n  (add-level [this value] [this value options] \"Add a new level\"))\n\n(comment\n  (doc load-sprite)\n  (doc add)\n  (doc scale)\n  (name \"hello\"))\n\n(deftype Kaboom [^js/kaboom g]\n  IKaboom\n  (text [this value font-size]\n    (.text g value font-size))\n  (pos [this x y]\n    (.pos g x y))\n  (add [_ value]\n    (.add g (clj->js value)))\n  (scene [_ scene-id func]\n    (.scene g (name scene-id) func))\n  (start [_ scene-id]\n    (.start g (name scene-id)))\n  (load-sprite [_ sprite-id asset-path]\n    (.loadSprite g (name sprite-id) asset-path))\n  (scale [_ value]\n    (.scale g value))\n  (add-level [_ value]\n    (.addLevel g (clj->js value)))\n  (add-level [_ value options]\n    (.addLevel g (clj->js value) (clj->js options))))\n\n;; === Spec Kaboom ===\n; (defn canvas? [element]\n;   (= (.-prototype js/HTMLCanvasElement)\n;      (.-__proto__ element)))\n(defn div? [element]\n  (= (.-prototype js/HTMLDivElement)\n     (.-__proto__ element)))\n;;\n(s/def :kaboom/global boolean?)\n(s/def :kaboom/width number?)\n(s/def :kaboom/height number?)\n(s/def :kaboom/canvas div?)\n(s/def :kaboom/scale number?)\n(s/def :kaboom/clearColor vector?)\n(s/def :kaboom/fullScreen vector?)\n(s/def ::kaboom (s/keys\n                 :opt [:kaboom/canvas\n                       :kaboom/global\n                       :kaboom/width\n                       :kaboom/height\n                       :kaboom/clearColor\n                       :kaboom/fullScreen]))\n\n(comment\n  (s/valid? ::kaboom {:kaboom/canvas (js/document.getElementById \"app\")})\n  (s/valid? ::kaboom {}))\n\n(defn kaboom!\n  ([] (kaboom! {}))\n  ([options]\n   (if (s/valid? ::kaboom options)\n     (->Kaboom (js/kaboom (clj->js options)))\n     (js/console.error {:invalid \"Error\"}))))\n\n(defn init! [opts]\n  (js/console.log opts))\n\n(def game (kaboom! {:debug true}))\n\n;; 1. Load Resources\n; (load-sprite game :scrooge \"assets/ducktales/scrooge.png\")\n\n(comment\n  (set! js/window -game game))\n\n(defn reg-scene [id handler-fn]\n  (scene game id handler-fn))\n\n(reg-scene\n :main\n (fn []\n   (let [level [\"   +++   \"\n                \"         \"\n                \"         \"\n                \"xxxxxxxxx\"]\n         config {:width 40\n                 :height 40}]\n     (add-level game level config)\n     (add game [(text game \"KaboomCLJS\" 32)\n                (scale game 1)\n                (pos game 100 100)]))))\n\n(comment\n  (object? #js {}))\n\n(defn app []\n  (start game :main))\n\n(comment\n  (js/console.log (clj->js  {:well/helloWorld true}))\n  (js/console.log {}))\n\n(comment\n  (doc load-sprite))\n"]}