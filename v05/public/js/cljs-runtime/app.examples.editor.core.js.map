{"version":3,"sources":["app/examples/editor/core.cljs"],"mappings":"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","names":["app.patu.core.init","js/document.getElementById","app.examples.editor.core/intro-init","app.patu.core.go","app.examples.editor.core/intro-action","vec__32557","cljs.core.nth","x","y","app.patu.core/center","app.patu.core/reg-scene","app.examples.editor.core/editor-init","js/console.log","app.examples.editor.core/tile-width","app.examples.editor.core/tile-height","app.examples.editor.core/spawn-tile","app.patu.core/add-component!","app.examples.editor.core/spawn-tiles","total-tiles","cljs.core.range","app.patu.core/width","seq__32560","cljs.core/seq","chunk__32561","count__32562","i__32563","temp__5735__auto__","cljs.core/chunked-seq?","c__4556__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","tile","app.examples.editor.core/editor-action","vec__32564","seq__32567","chunk__32568","count__32569","i__32570","r","app.examples.editor.core/app","app.patu.core/start"],"sourcesContent":["(ns app.examples.editor.core\n  (:require [app.patu.core :as p]))\n\n(p/init {:clearColor [0.5 0.3 0.4 1]\n         :fullscreen true\n         :canvas (js/document.getElementById \"app\")})\n\n;;\n(defn intro-init []\n  [[:evt/key-press :space  #(p/go :scene/editor)]])\n\n(defn intro-action []\n  (let [[x y] (p/center)]\n    [[:comp/reg-n\n      [:ui/score-board [[:text \"patu editor\" 42]\n                        [:pos x y]\n                        [:origin :center]]]\n      [:ui/score-board [[:text \"space to continue..\" 16]\n                        [:pos x (+ y 50)]\n                        [:origin :center]]]]]))\n\n(p/reg-scene :scene/intro\n             {:init intro-init\n              :evt intro-action})\n\n(defn editor-init []\n  [[:evt/key-press :space #(js/console.log \"TODO\")]])\n\n(comment\n  (p/width)\n  (p/height))\n\n(def tile-width 1)\n(def tile-height 1)\n\n(defn spawn-tile [x y]\n  (p/add-component! [[:rect 2 2]\n                     [:pos x y]\n                     [:color [0.4 0.4 0.4]]]))\n\n(defn spawn-tiles [x]\n  (let [total-tiles (range (/ (p/width) 10))]\n    (doseq [tile total-tiles]\n      (spawn-tile (* 10 (inc tile)) x))))\n\n(defn editor-action []\n  (let [[x y] (p/center)]\n    (doseq [r (range 50)]\n      (spawn-tiles (* 10 (inc r))))\n    [[:comp/reg-n\n      [:ui/score-board [[:text \"MAKE GAMES\" 42]\n                        [:pos x y]\n                        [:origin :center]]]\n      [:ui/score-board [[:text \"Add ui\" 16]\n                        [:pos x (+ y 50)]\n                        [:origin :center]]]\n      [:ui/pixel-grid [[:rect 1 1]\n                       [:pos 10 10]\n                       [:color [0.4 0.4 0.4]]]]\n      [:ui/pixel-grid [[:rect 1 1]\n                       [:pos 10 20]\n                       [:color [0.4 0.4 0.4]]]]\n      [:ui/pixel-grid [[:rect 1 1]\n                       [:pos 10 30]\n                       [:color [0.4 0.4 0.4]]]]\n      [:ui/pixel-grid [[:rect 1 1]\n                       [:pos 10 40]\n                       [:color [0.4 0.4 0.4]]]]]]))\n\n(p/reg-scene :scene/editor\n             {:init editor-init\n              :evt editor-action})\n\n(defn app []\n  (p/start :scene/intro))\n"]}