shadow$provide.module$node_modules$Phaser$src$math$Quaternion=function(global,require,module,exports){global=require("module$node_modules$Phaser$src$utils$Class");exports=require("module$node_modules$Phaser$src$math$Vector3");require=require("module$node_modules$Phaser$src$math$Matrix3");var siNext=new Int8Array([1,2,0]),tmp=new Float32Array([0,0,0]),xUnitVec3=new exports(1,0,0),yUnitVec3=new exports(0,1,0),tmpvec=new exports,tmpMat3=new require;require=new global({initialize:function(x,y,z,w){"object"===
typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0,this.w=x.w||0):(this.x=x||0,this.y=y||0,this.z=z||0,this.w=w||0)},copy:function(src){this.x=src.x;this.y=src.y;this.z=src.z;this.w=src.w;return this},set:function(x,y,z,w){"object"===typeof x?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0,this.w=x.w||0):(this.x=x||0,this.y=y||0,this.z=z||0,this.w=w||0);return this},add:function(v){this.x+=v.x;this.y+=v.y;this.z+=v.z;this.w+=v.w;return this},subtract:function(v){this.x-=v.x;this.y-=v.y;this.z-=v.z;this.w-=
v.w;return this},scale:function(scale){this.x*=scale;this.y*=scale;this.z*=scale;this.w*=scale;return this},length:function(){var x=this.x,y=this.y,z=this.z,w=this.w;return Math.sqrt(x*x+y*y+z*z+w*w)},lengthSq:function(){var x=this.x,y=this.y,z=this.z,w=this.w;return x*x+y*y+z*z+w*w},normalize:function(){var x=this.x,y=this.y,z=this.z,w=this.w,len=x*x+y*y+z*z+w*w;0<len&&(len=1/Math.sqrt(len),this.x=x*len,this.y=y*len,this.z=z*len,this.w=w*len);return this},dot:function(v){return this.x*v.x+this.y*
v.y+this.z*v.z+this.w*v.w},lerp:function(v,t){void 0===t&&(t=0);var ax=this.x,ay=this.y,az=this.z,aw=this.w;this.x=ax+t*(v.x-ax);this.y=ay+t*(v.y-ay);this.z=az+t*(v.z-az);this.w=aw+t*(v.w-aw);return this},rotationTo:function(a,b){var dot=a.x*b.x+a.y*b.y+a.z*b.z;if(-.999999>dot)return 1E-6>tmpvec.copy(xUnitVec3).cross(a).length()&&tmpvec.copy(yUnitVec3).cross(a),tmpvec.normalize(),this.setAxisAngle(tmpvec,Math.PI);if(.999999<dot)return this.z=this.y=this.x=0,this.w=1,this;tmpvec.copy(a).cross(b);this.x=
tmpvec.x;this.y=tmpvec.y;this.z=tmpvec.z;this.w=1+dot;return this.normalize()},setAxes:function(view,right,up){var m=tmpMat3.val;m[0]=right.x;m[3]=right.y;m[6]=right.z;m[1]=up.x;m[4]=up.y;m[7]=up.z;m[2]=-view.x;m[5]=-view.y;m[8]=-view.z;return this.fromMat3(tmpMat3).normalize()},identity:function(){this.z=this.y=this.x=0;this.w=1;return this},setAxisAngle:function(axis,rad){rad*=.5;var s=Math.sin(rad);this.x=s*axis.x;this.y=s*axis.y;this.z=s*axis.z;this.w=Math.cos(rad);return this},multiply:function(b){var ax=
this.x,ay=this.y,az=this.z,aw=this.w,bx=b.x,by=b.y,bz=b.z;b=b.w;this.x=ax*b+aw*bx+ay*bz-az*by;this.y=ay*b+aw*by+az*bx-ax*bz;this.z=az*b+aw*bz+ax*by-ay*bx;this.w=aw*b-ax*bx-ay*by-az*bz;return this},slerp:function(b,t){var ax=this.x,ay=this.y,az=this.z,aw=this.w,bx=b.x,by=b.y,bz=b.z;b=b.w;var cosom=ax*bx+ay*by+az*bz+aw*b;0>cosom&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,b=-b);var scale0=1-t,scale1=t;1E-6<1-cosom&&(cosom=Math.acos(cosom),scale1=Math.sin(cosom),scale0=Math.sin((1-t)*cosom)/scale1,scale1=Math.sin(t*
cosom)/scale1);this.x=scale0*ax+scale1*bx;this.y=scale0*ay+scale1*by;this.z=scale0*az+scale1*bz;this.w=scale0*aw+scale1*b;return this},invert:function(){var a0=this.x,a1=this.y,a2=this.z,a3=this.w,dot=a0*a0+a1*a1+a2*a2+a3*a3;dot=dot?1/dot:0;this.x=-a0*dot;this.y=-a1*dot;this.z=-a2*dot;this.w=a3*dot;return this},conjugate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},rotateX:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,bx=Math.sin(rad);rad=Math.cos(rad);
this.x=ax*rad+aw*bx;this.y=ay*rad+az*bx;this.z=az*rad-ay*bx;this.w=aw*rad-ax*bx;return this},rotateY:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,by=Math.sin(rad);rad=Math.cos(rad);this.x=ax*rad-az*by;this.y=ay*rad+aw*by;this.z=az*rad+ax*by;this.w=aw*rad-ay*by;return this},rotateZ:function(rad){rad*=.5;var ax=this.x,ay=this.y,az=this.z,aw=this.w,bz=Math.sin(rad);rad=Math.cos(rad);this.x=ax*rad+ay*bz;this.y=ay*rad-ax*bz;this.z=az*rad+aw*bz;this.w=aw*rad-az*bz;return this},calculateW:function(){var x=
this.x,y=this.y,z=this.z;this.w=-Math.sqrt(1-x*x-y*y-z*z);return this},fromMat3:function(mat){mat=mat.val;var fTrace=mat[0]+mat[4]+mat[8];if(0<fTrace)fTrace=Math.sqrt(fTrace+1),this.w=.5*fTrace,fTrace=.5/fTrace,this.x=(mat[7]-mat[5])*fTrace,this.y=(mat[2]-mat[6])*fTrace,this.z=(mat[3]-mat[1])*fTrace;else{var i=0;mat[4]>mat[0]&&(i=1);mat[8]>mat[3*i+i]&&(i=2);var j=siNext[i],k=siNext[j];fTrace=Math.sqrt(mat[3*i+i]-mat[3*j+j]-mat[3*k+k]+1);tmp[i]=.5*fTrace;fTrace=.5/fTrace;tmp[j]=(mat[3*j+i]+mat[3*i+
j])*fTrace;tmp[k]=(mat[3*k+i]+mat[3*i+k])*fTrace;this.x=tmp[0];this.y=tmp[1];this.z=tmp[2];this.w=(mat[3*k+j]-mat[3*j+k])*fTrace}return this}});module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$math$Quaternion.js.map
