{
"version":3,
"file":"module$node_modules$Phaser$src$device$CanvasFeatures.js",
"lineCount":4,
"mappings":"AAAAA,cAAA,qDAAA,CAAyE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CA4BjHC,QAASA,eAAe,EACxB,CAII,IAAIC,QAAU,IAAIC,KAElBD,QAAAE,OAAA,CAAiBC,QAAS,EAC1B,CACI,IAAIC,OAAS,IAAIH,KAEjBG,OAAAF,OAAA,CAAgBG,QAAS,EACzB,CAEI,IAAIC,QADSC,UAAAC,OAAAC,CAAkBL,MAAlBK,CAA0B,CAA1BA,CAA6B,CAA7BA,CACCC,WAAA,CAAkB,IAAlB,CAEdJ,QAAAK,yBAAA,CAAmC,UAEnCL,QAAAM,UAAA,CAAkBZ,OAAlB,CAA2B,CAA3B,CAA8B,CAA9B,CACAM,QAAAM,UAAA,CAAkBR,MAAlB,CAA0B,CAA1B,CAA6B,CAA7B,CAEA,IAAI,CAACE,OAAAO,aAAA,CAAqB,CAArB,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,CAA9B,CAAL,CAEI,MAAO,CAAA,CAGPC,QAAAA,CAAOR,OAAAO,aAAA,CAAqB,CAArB,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,CAA9B,CAAAC,KAEXP,WAAAQ,OAAA,CAAkBX,MAAlB,CAEAY;cAAAC,qBAAA,CAAmD,GAAnD,GAAuCH,OAAA,CAAK,CAAL,CAAvC,EAAsE,CAAtE,GAA0DA,OAAA,CAAK,CAAL,CAA1D,EAAuF,CAAvF,GAA2EA,OAAA,CAAK,CAAL,CAlB/E,CAqBAV,OAAAc,IAAA,CAAa,8IAzBjB,CA4BAlB,QAAAkB,IAAA,CAAc,8IAEd,OAAO,CAAA,CArCX,CAwCAC,QAASA,kBAAkB,EAC3B,CAEI,IAAIb,QADSC,UAAAC,OAAAC,CAAkB,IAAlBA,CAAwB,CAAxBA,CAA2B,CAA3BA,CACCC,WAAA,CAAkB,IAAlB,CAEdJ,QAAAc,UAAA;AAAoB,uBAGpBd,QAAAe,SAAA,CAAiB,CAAjB,CAAoB,CAApB,CAAuB,CAAvB,CAA0B,CAA1B,CAGA,KAAIC,GAAKhB,OAAAO,aAAA,CAAqB,CAArB,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,CAA9B,CAET,IAAW,IAAX,GAAIS,EAAJ,CAEI,MAAO,CAAA,CAIXhB,QAAAiB,aAAA,CAAqBD,EAArB,CAAyB,CAAzB,CAA4B,CAA5B,CAGIE,QAAAA,CAAKlB,OAAAO,aAAA,CAAqB,CAArB,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,CAA9B,CAGT,OAAQW,QAAAV,KAAA,CAAQ,CAAR,CAAR,GAAuBQ,EAAAR,KAAA,CAAQ,CAAR,CAAvB,EAAqCU,OAAAV,KAAA,CAAQ,CAAR,CAArC,GAAoDQ,EAAAR,KAAA,CAAQ,CAAR,CAApD,EAAkEU,OAAAV,KAAA,CAAQ,CAAR,CAAlE,GAAiFQ,EAAAR,KAAA,CAAQ,CAAR,CAAjF,EAA+FU,OAAAV,KAAA,CAAQ,CAAR,CAA/F,GAA8GQ,EAAAR,KAAA,CAAQ,CAAR,CAxBlH,CA/DA,IAAIP,WAAaX,OAAA,CAAQ,0DAAR,CAAjB,CAcIoB,eAAiB,CAEjBS,oBAAqB,CAAA,CAFJ,CAGjBR,qBAAsB,CAAA,CAHL,CA8EAS,KAAAA,EAAjB,GAAIC,QAAJ,GAEIX,cAAAC,qBACA;AADsClB,cAAA,EACtC,CAAAiB,cAAAS,oBAAA,CAAqCN,iBAAA,EAHzC,CASJtB,OAAAC,QAAA,CAHWkB,cAzGsG;",
"sources":["node_modules/Phaser/src/device/CanvasFeatures.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$Phaser$src$device$CanvasFeatures\"] = function(global,require,module,exports) {\n/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2018 Photon Storm Ltd.\r\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\r\n */\r\n\r\nvar CanvasPool = require('../display/canvas/CanvasPool');\r\n\r\n/**\r\n * Determines the canvas features of the browser running this Phaser Game instance.\r\n * These values are read-only and populated during the boot sequence of the game.\r\n * They are then referenced by internal game systems and are available for you to access\r\n * via `this.sys.game.device.canvasFeatures` from within any Scene.\r\n * \r\n * @typedef {object} Phaser.Device.CanvasFeatures\r\n * @since 3.0.0\r\n * \r\n * @property {boolean} supportInverseAlpha - Set to true if the browser supports inversed alpha.\r\n * @property {boolean} supportNewBlendModes - Set to true if the browser supports new canvas blend modes.\r\n */\r\nvar CanvasFeatures = {\r\n\r\n    supportInverseAlpha: false,\r\n    supportNewBlendModes: false\r\n\r\n};\r\n\r\nfunction checkBlendMode ()\r\n{\r\n    var pngHead = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/';\r\n    var pngEnd = 'AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==';\r\n\r\n    var magenta = new Image();\r\n\r\n    magenta.onload = function ()\r\n    {\r\n        var yellow = new Image();\r\n\r\n        yellow.onload = function ()\r\n        {\r\n            var canvas = CanvasPool.create(yellow, 6, 1);\r\n            var context = canvas.getContext('2d');\r\n\r\n            context.globalCompositeOperation = 'multiply';\r\n\r\n            context.drawImage(magenta, 0, 0);\r\n            context.drawImage(yellow, 2, 0);\r\n\r\n            if (!context.getImageData(2, 0, 1, 1))\r\n            {\r\n                return false;\r\n            }\r\n\r\n            var data = context.getImageData(2, 0, 1, 1).data;\r\n\r\n            CanvasPool.remove(yellow);\r\n\r\n            CanvasFeatures.supportNewBlendModes = (data[0] === 255 && data[1] === 0 && data[2] === 0);\r\n        };\r\n\r\n        yellow.src = pngHead + '/wCKxvRF' + pngEnd;\r\n    };\r\n\r\n    magenta.src = pngHead + 'AP804Oa6' + pngEnd;\r\n\r\n    return false;\r\n}\r\n\r\nfunction checkInverseAlpha ()\r\n{\r\n    var canvas = CanvasPool.create(this, 2, 1);\r\n    var context = canvas.getContext('2d');\r\n\r\n    context.fillStyle = 'rgba(10, 20, 30, 0.5)';\r\n\r\n    //  Draw a single pixel\r\n    context.fillRect(0, 0, 1, 1);\r\n\r\n    //  Get the color values\r\n    var s1 = context.getImageData(0, 0, 1, 1);\r\n\r\n    if (s1 === null)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    //  Plot them to x2\r\n    context.putImageData(s1, 1, 0);\r\n\r\n    //  Get those values\r\n    var s2 = context.getImageData(1, 0, 1, 1);\r\n\r\n    //  Compare and return\r\n    return (s2.data[0] === s1.data[0] && s2.data[1] === s1.data[1] && s2.data[2] === s1.data[2] && s2.data[3] === s1.data[3]);\r\n}\r\n\r\nfunction init ()\r\n{\r\n    if (document !== undefined)\r\n    {\r\n        CanvasFeatures.supportNewBlendModes = checkBlendMode();\r\n        CanvasFeatures.supportInverseAlpha = checkInverseAlpha();\r\n    }\r\n\r\n    return CanvasFeatures;\r\n}\r\n\r\nmodule.exports = init();\r\n\n};"],
"names":["shadow$provide","global","require","module","exports","checkBlendMode","magenta","Image","onload","magenta.onload","yellow","yellow.onload","context","CanvasPool","create","canvas","getContext","globalCompositeOperation","drawImage","getImageData","data","remove","CanvasFeatures","supportNewBlendModes","src","checkInverseAlpha","fillStyle","fillRect","s1","putImageData","s2","supportInverseAlpha","undefined","document"]
}
