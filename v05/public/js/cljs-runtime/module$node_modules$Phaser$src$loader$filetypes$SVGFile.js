shadow$provide.module$node_modules$Phaser$src$loader$filetypes$SVGFile=function(global,require,module,exports){global=require("module$node_modules$Phaser$src$utils$Class");var CONST=require("module$node_modules$Phaser$src$loader$const"),File=require("module$node_modules$Phaser$src$loader$File");exports=require("module$node_modules$Phaser$src$loader$FileTypesManager");var GetFastValue=require("module$node_modules$Phaser$src$utils$object$GetFastValue"),IsPlainObject=require("module$node_modules$Phaser$src$utils$object$IsPlainObject"),
SVGFile=new global({Extends:File,initialize:function(loader,key,url,svgConfig,xhrSettings){var extension="svg";if(IsPlainObject(key)){var config=key;key=GetFastValue(config,"key");url=GetFastValue(config,"url");svgConfig=GetFastValue(config,"svgConfig",{});xhrSettings=GetFastValue(config,"xhrSettings");extension=GetFastValue(config,"extension",extension)}key={type:"svg",cache:loader.textureManager,extension:extension,responseType:"text",key:key,url:url,xhrSettings:xhrSettings,config:{width:GetFastValue(svgConfig,
"width"),height:GetFastValue(svgConfig,"height"),scale:GetFastValue(svgConfig,"scale")}};File.call(this,loader,key)},onProcess:function(){this.state=CONST.FILE_PROCESSING;var text=this.xhrLoader.responseText,svg=[text],width=this.config.width,height=this.config.height,scale=this.config.scale;a:if(width&&height||scale){var xml=null;xml=(new DOMParser).parseFromString(text,"text/xml");text=xml.getElementsByTagName("svg")[0];var hasViewBox=text.hasAttribute("viewBox");xml=parseFloat(text.getAttribute("width"));
var svgHeight=parseFloat(text.getAttribute("height"));!hasViewBox&&xml&&svgHeight?text.setAttribute("viewBox","0  0 "+xml+" "+svgHeight):!hasViewBox||xml||svgHeight||(hasViewBox=text.getAttribute("viewBox").split(/\s+|,/),xml=hasViewBox[2],svgHeight=hasViewBox[3]);if(scale)if(xml&&svgHeight)width=xml*scale,height=svgHeight*scale;else break a;text.setAttribute("width",width.toString()+"px");text.setAttribute("height",height.toString()+"px");svg=[(new XMLSerializer).serializeToString(text)]}try{var blob=
new window.Blob(svg,{type:"image/svg+xml;charset\x3dutf-8"})}catch(e){this.onProcessError();return}this.data=new Image;this.data.crossOrigin=this.crossOrigin;var _this=this,retry=!1;this.data.onload=function(){retry||File.revokeObjectURL(_this.data);_this.onProcessComplete()};this.data.onerror=function(){if(retry)_this.onProcessError();else retry=!0,File.revokeObjectURL(_this.data),_this.data.src="data:image/svg+xml,"+encodeURIComponent(svg.join(""))};File.createObjectURL(this.data,blob,"image/svg+xml")},
addToCache:function(){var texture=this.cache.addImage(this.key,this.data);this.pendingDestroy(texture)}});exports.register("svg",function(key,url,svgConfig,xhrSettings){if(Array.isArray(key))for(url=0;url<key.length;url++)this.addFile(new SVGFile(this,key[url]));else this.addFile(new SVGFile(this,key,url,svgConfig,xhrSettings));return this});module.exports=SVGFile}
//# sourceMappingURL=module$node_modules$Phaser$src$loader$filetypes$SVGFile.js.map
