shadow$provide.module$node_modules$Phaser$src$gameobjects$container$Container=function(global,require,module,exports){var ArrayUtils=require("module$node_modules$Phaser$src$utils$array$index"),BlendModes=require("module$node_modules$Phaser$src$renderer$BlendModes");global=require("module$node_modules$Phaser$src$utils$Class");var Components=require("module$node_modules$Phaser$src$gameobjects$components$index"),GameObject=require("module$node_modules$Phaser$src$gameobjects$GameObject"),Rectangle=require("module$node_modules$Phaser$src$geom$rectangle$Rectangle");
exports=require("module$node_modules$Phaser$src$gameobjects$container$ContainerRender");var Union=require("module$node_modules$Phaser$src$geom$rectangle$Union"),Vector2=require("module$node_modules$Phaser$src$math$Vector2");require=new global({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.ComputedSize,Components.Depth,Components.Mask,Components.ScrollFactor,Components.Transform,Components.Visible,exports],initialize:function(scene,x,y,children){GameObject.call(this,scene,
"Container");this.list=[];this.exclusive=!0;this.maxSize=-1;this.position=0;this.localTransform=new Components.TransformMatrix;this.tempTransformMatrix=new Components.TransformMatrix;this._displayList=scene.sys.displayList;this._sortKey="";this._sysEvents=scene.sys.events;this.setPosition(x,y);this.clearAlpha();this.setBlendMode(BlendModes.SKIP_CHECK);children&&this.add(children)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},
displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(value){void 0===value&&(value=!0);this.exclusive=value;return this},getBounds:function(output){void 0===output&&(output=new Rectangle);output.setTo(this.x,this.y,0,0);if(0<this.list.length)for(var children=this.list,tempRect=new Rectangle,i=0;i<children.length;i++){var entry=children[i];entry.getBounds&&(entry.getBounds(tempRect),Union(tempRect,output,output))}return output},addHandler:function(gameObject){gameObject.once("destroy",
this.remove,this);this.exclusive&&(this._displayList.remove(gameObject),gameObject.parentContainer&&gameObject.parentContainer.remove(gameObject),gameObject.parentContainer=this)},removeHandler:function(gameObject){gameObject.off("destroy",this.remove);this.exclusive&&(gameObject.parentContainer=null)},pointToContainer:function(source,output){void 0===output&&(output=new Vector2);if(this.parentContainer)return this.parentContainer.pointToContainer(source,output);var tempMatrix=this.tempTransformMatrix;
tempMatrix.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY);tempMatrix.invert();tempMatrix.transformPoint(source.x,source.y,output);return output},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(child){ArrayUtils.Add(this.list,child,this.maxSize,this.addHandler,this);return this},addAt:function(child,index){ArrayUtils.AddAt(this.list,child,index,this.maxSize,this.addHandler,this);return this},getAt:function(index){return this.list[index]},
getIndex:function(child){return this.list.indexOf(child)},sort:function(property){property&&(this._sortKey=property,ArrayUtils.StableSort.inplace(this.list,this.sortHandler));return this},sortHandler:function(childA,childB){return childA[this._sortKey]-childB[this._sortKey]},getByName:function(name){return ArrayUtils.GetFirst(this.list,"name",name)},getRandom:function(startIndex,length){return ArrayUtils.GetRandom(this.list,startIndex,length)},getFirst:function(property,value,startIndex,endIndex){return ArrayUtils.GetFirstElement(this.list,
property,value,startIndex,endIndex)},getAll:function(property,value,startIndex,endIndex){return ArrayUtils.GetAll(this.list,property,value,startIndex,endIndex)},count:function(property,value,startIndex,endIndex){return ArrayUtils.CountAllMatching(this.list,property,value,startIndex,endIndex)},swap:function(child1,child2){ArrayUtils.Swap(this.list,child1,child2);return this},moveTo:function(child,index){ArrayUtils.MoveTo(this.list,child,index);return this},remove:function(child,destroyChild){child=
ArrayUtils.Remove(this.list,child,this.removeHandler,this);if(destroyChild&&child)for(Array.isArray(child)||(child=[child]),destroyChild=0;destroyChild<child.length;destroyChild++)child[destroyChild].destroy();return this},removeAt:function(index,destroyChild){index=ArrayUtils.RemoveAt(this.list,index,this.removeHandler,this);destroyChild&&index&&index.destroy();return this},removeBetween:function(startIndex,endIndex,destroyChild){startIndex=ArrayUtils.RemoveBetween(this.list,startIndex,endIndex,
this.removeHandler,this);if(destroyChild)for(destroyChild=0;destroyChild<startIndex.length;destroyChild++)startIndex[destroyChild].destroy();return this},removeAll:function(destroyChild){var removed=ArrayUtils.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(destroyChild)for(destroyChild=0;destroyChild<removed.length;destroyChild++)removed[destroyChild].destroy();return this},bringToTop:function(child){ArrayUtils.BringToTop(this.list,child);return this},sendToBack:function(child){ArrayUtils.SendToBack(this.list,
child);return this},moveUp:function(child){ArrayUtils.MoveUp(this.list,child);return this},moveDown:function(child){ArrayUtils.MoveDown(this.list,child);return this},reverse:function(){this.list.reverse();return this},shuffle:function(){ArrayUtils.Shuffle(this.list);return this},replace:function(oldChild,newChild,destroyChild){ArrayUtils.Replace(this.list,oldChild,newChild)&&(this.addHandler(newChild),this.removeHandler(oldChild),destroyChild&&oldChild.destroy());return this},exists:function(child){return-1<
this.list.indexOf(child)},setAll:function(property,value,startIndex,endIndex){ArrayUtils.SetAll(this.list,property,value,startIndex,endIndex);return this},each:function(callback,context){var args=[null],i,temp=this.list.slice(),len=temp.length;for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<len;i++)args[0]=temp[i],callback.apply(context,args);return this},iterate:function(callback,context){var args=[null],i;for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<this.list.length;i++)args[0]=
this.list[i],callback.apply(context,args);return this},length:{get:function(){return this.list.length}},first:{get:function(){this.position=0;return 0<this.list.length?this.list[0]:null}},last:{get:function(){return 0<this.list.length?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return 0<this.position?(this.position--,this.list[this.position]):
null}},preDestroy:function(){this.removeAll(!!this.exclusive);this.localTransform.destroy();this.tempTransformMatrix.destroy();this.list=[];this._displayList=null}});module.exports=require}
//# sourceMappingURL=module$node_modules$Phaser$src$gameobjects$container$Container.js.map
