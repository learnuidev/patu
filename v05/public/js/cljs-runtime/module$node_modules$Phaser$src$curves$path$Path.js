shadow$provide.module$node_modules$Phaser$src$curves$path$Path=function(global,require,module,exports){global=require("module$node_modules$Phaser$src$utils$Class");var CubicBezierCurve=require("module$node_modules$Phaser$src$curves$CubicBezierCurve"),EllipseCurve=require("module$node_modules$Phaser$src$curves$EllipseCurve");exports=require("module$node_modules$Phaser$src$gameobjects$GameObjectFactory");var LineCurve=require("module$node_modules$Phaser$src$curves$LineCurve"),MovePathTo=require("module$node_modules$Phaser$src$curves$path$MoveTo"),
QuadraticBezierCurve=require("module$node_modules$Phaser$src$curves$QuadraticBezierCurve"),Rectangle=require("module$node_modules$Phaser$src$geom$rectangle$Rectangle"),SplineCurve=require("module$node_modules$Phaser$src$curves$SplineCurve"),Vector2=require("module$node_modules$Phaser$src$math$Vector2"),Path=new global({initialize:function(x,y){void 0===x&&(x=0);void 0===y&&(y=0);this.name="";this.curves=[];this.cacheLengths=[];this.autoClose=!1;this.startPoint=new Vector2;this._tmpVec2A=new Vector2;
this._tmpVec2B=new Vector2;"object"===typeof x?this.fromJSON(x):this.startPoint.set(x,y)},add:function(curve){this.curves.push(curve);return this},circleTo:function(radius,clockwise,rotation){void 0===clockwise&&(clockwise=!1);return this.ellipseTo(radius,radius,0,360,clockwise,rotation)},closePath:function(){var startPoint=this.curves[0].getPoint(0),endPoint=this.curves[this.curves.length-1].getPoint(1);startPoint.equals(endPoint)||this.curves.push(new LineCurve(endPoint,startPoint));return this},
cubicBezierTo:function(x,y,control1X,control1Y,control2X,control2Y){var p0=this.getEndPoint();x instanceof Vector2?(control1Y=x,control2X=y,x=control1X):(control1Y=new Vector2(control1X,control1Y),control2X=new Vector2(control2X,control2Y),x=new Vector2(x,y));return this.add(new CubicBezierCurve(p0,control1Y,control2X,x))},quadraticBezierTo:function(x,y,controlX,controlY){var p0=this.getEndPoint();x instanceof Vector2?(controlX=x,x=y):(controlX=new Vector2(controlX,controlY),x=new Vector2(x,y));return this.add(new QuadraticBezierCurve(p0,
controlX,x))},draw:function(graphics,pointsTotal){for(var i=0;i<this.curves.length;i++){var curve=this.curves[i];curve.active&&curve.draw(graphics,pointsTotal)}return graphics},ellipseTo:function(xRadius,yRadius,startAngle,endAngle,clockwise,rotation){xRadius=new EllipseCurve(0,0,xRadius,yRadius,startAngle,endAngle,clockwise,rotation);yRadius=this.getEndPoint(this._tmpVec2A);startAngle=xRadius.getStartPoint(this._tmpVec2B);yRadius.subtract(startAngle);xRadius.x=yRadius.x;xRadius.y=yRadius.y;return this.add(xRadius)},
fromJSON:function(data){this.curves=[];this.cacheLengths=[];this.startPoint.set(data.x,data.y);this.autoClose=data.autoClose;for(var i=0;i<data.curves.length;i++){var curve=data.curves[i];switch(curve.type){case "LineCurve":this.add(LineCurve.fromJSON(curve));break;case "EllipseCurve":this.add(EllipseCurve.fromJSON(curve));break;case "SplineCurve":this.add(SplineCurve.fromJSON(curve));break;case "CubicBezierCurve":this.add(CubicBezierCurve.fromJSON(curve));break;case "QuadraticBezierCurve":this.add(QuadraticBezierCurve.fromJSON(curve))}}return this},
getBounds:function(out,accuracy){void 0===out&&(out=new Rectangle);void 0===accuracy&&(accuracy=16);out.x=Number.MAX_VALUE;out.y=Number.MAX_VALUE;for(var bounds=new Rectangle,maxRight=Number.MIN_SAFE_INTEGER,maxBottom=Number.MIN_SAFE_INTEGER,i=0;i<this.curves.length;i++){var curve=this.curves[i];curve.active&&(curve.getBounds(bounds,accuracy),out.x=Math.min(out.x,bounds.x),out.y=Math.min(out.y,bounds.y),maxRight=Math.max(maxRight,bounds.right),maxBottom=Math.max(maxBottom,bounds.bottom))}out.right=
maxRight;out.bottom=maxBottom;return out},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var lengths=[],sums=0,i=0;i<this.curves.length;i++)sums+=this.curves[i].getLength(),lengths.push(sums);return this.cacheLengths=lengths},getEndPoint:function(out){void 0===out&&(out=new Vector2);0<this.curves.length?this.curves[this.curves.length-1].getPoint(1,out):out.copy(this.startPoint);return out},getLength:function(){var lens=this.getCurveLengths();
return lens[lens.length-1]},getPoint:function(t,out){void 0===out&&(out=new Vector2);var d=t*this.getLength(),curveLengths=this.getCurveLengths();for(t=0;t<curveLengths.length;){if(curveLengths[t]>=d)return d=curveLengths[t]-d,t=this.curves[t],curveLengths=t.getLength(),t.getPointAt(0===curveLengths?0:1-d/curveLengths,out);t++}return null},getPoints:function(divisions){void 0===divisions&&(divisions=12);for(var points=[],last,i=0;i<this.curves.length;i++){var curve=this.curves[i];if(curve.active){var resolution=
curve.getResolution(divisions);curve=curve.getPoints(resolution);for(resolution=0;resolution<curve.length;resolution++){var point=curve[resolution];last&&last.equals(point)||(points.push(point),last=point)}}}this.autoClose&&1<points.length&&!points[points.length-1].equals(points[0])&&points.push(points[0]);return points},getRandomPoint:function(out){void 0===out&&(out=new Vector2);return this.getPoint(Math.random(),out)},getSpacedPoints:function(divisions){void 0===divisions&&(divisions=40);for(var points=
[],i=0;i<=divisions;i++)points.push(this.getPoint(i/divisions));this.autoClose&&points.push(points[0]);return points},getStartPoint:function(out){void 0===out&&(out=new Vector2);return out.copy(this.startPoint)},lineTo:function(x,y){x instanceof Vector2?this._tmpVec2B.copy(x):this._tmpVec2B.set(x,y);x=this.getEndPoint(this._tmpVec2A);return this.add(new LineCurve([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(points){points.unshift(this.getEndPoint());return this.add(new SplineCurve(points))},
moveTo:function(x,y){return this.add(new MovePathTo(x,y))},toJSON:function(){for(var out=[],i=0;i<this.curves.length;i++)out.push(this.curves[i].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:out}},updateArcLengths:function(){this.cacheLengths=[];this.getCurveLengths()},destroy:function(){this.curves.length=0;this.cacheLengths.length=0;this.startPoint=void 0}});exports.register("path",function(x,y){return new Path(x,y)});module.exports=Path}
//# sourceMappingURL=module$node_modules$Phaser$src$curves$path$Path.js.map
